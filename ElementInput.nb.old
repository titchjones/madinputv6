(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 11.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       158,          7]
NotebookDataLength[    664772,      14575]
NotebookOptionsPosition[    611821,      13686]
NotebookOutlinePosition[    612201,      13702]
CellTagsIndexPosition[    612158,      13699]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{

Cell[CellGroupData[{
Cell[BoxData[
 RowBox[{"BeginPackage", "[", 
  RowBox[{"\"\<ElementInput`\>\"", ",", 
   RowBox[{"{", 
    RowBox[{"\"\<sddsBinaryInterpret`\>\"", ",", "\"\<numberRight`\>\""}], 
    "}"}]}], "]"}]], "Input",
 CellChangeTimes->{{3.705815920235565*^9, 3.705815952475565*^9}}],

Cell[BoxData["\<\"ElementInput`\"\>"], "Output",
 CellChangeTimes->{3.705815958841565*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<sddsBinaryInterpret`\>\"", "]"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7058167503585653`*^9, 3.705816755544565*^9}}],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<numberRight`\>\"", "]"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.705816757238565*^9, 3.7058167620165653`*^9}}],

Cell[CellGroupData[{

Cell["Usage Definitions", "Section",
 CellChangeTimes->{{3.705816521726565*^9, 
  3.705816524726565*^9}},ExpressionUUID->"4da2b699-3112-4298-a94b-\
2402ff7239e1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"elementDefinition", "::", "usage"}], "=", "\"\<\>\""}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.705816624228565*^9, 
  3.705816646520565*^9}},ExpressionUUID->"2eba8b17-6b2a-4346-b9ec-\
00c80d15c5cf"],

Cell[BoxData[
 RowBox[{
  RowBox[{"elementLine", "::", "usage"}], "=", "\"\<\>\""}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.705816633970565*^9, 3.705816643823565*^9}, 
   3.705818178750565*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"commandDefinition", "::", "usage"}], "=", "\"\<\>\""}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.7058166471675653`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"elementInterpretLTE", "::", "usage"}], "=", "\"\<\>\""}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.705816544794565*^9, 3.7058165663725653`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElegantTwiss", "::", "usage"}], "=", "\"\<\>\""}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.705816583515565*^9, 3.705816585395565*^9}, 
   3.7068564169492464`*^9},ExpressionUUID->"fc393ad7-4af5-4876-8392-\
7003e70c74cb"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementDraw", "::", "usage"}], "=", "\"\<\>\""}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.728714428093246*^9, 
  3.7287144343452463`*^9}},ExpressionUUID->"1f7c85a6-df0b-4980-b81b-\
330023f0467d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementPositions", "::", "usage"}], "=", "\"\<\>\""}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.728714428093246*^9, 
  3.728714446432246*^9}},ExpressionUUID->"9431015a-ed3a-4069-968c-\
4e54f3e07dcd"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementFootPrint", "::", "usage"}], "=", "\"\<\>\""}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.728714428093246*^9, 
  3.7287144536832457`*^9}},ExpressionUUID->"c96fcb5e-c06a-4c91-b001-\
8c09fa9df922"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Private", "Section",
 CellChangeTimes->{{3.7058165172225647`*^9, 3.705816518022565*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}]], "Input",
 CellChangeTimes->{{3.705815976665565*^9, 3.705815985362565*^9}}],

Cell[BoxData["\<\"ElementInput`Private`\"\>"], "Output",
 CellChangeTimes->{3.705815985687565*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["elementDefinition", "Subsection",
 CellChangeTimes->{3.6254668762345448`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"allElements", "=", 
   RowBox[{"{", "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019898525519*^9, 3.5701989860871897`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"replaceRuleNames", ",", 
    RowBox[{"{", 
     RowBox[{"HoldAll", ",", "Listable"}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"replaceRuleNames", "[", 
   RowBox[{"Rule", "[", 
    RowBox[{"x_", ",", "y_"}], "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Rule", "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "x", "]"}], "]"}], "]"}], ",", "y"}], 
     "]"}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5703483144476075`*^9, 3.570348389092165*^9}, {
  3.570348433708165*^9, 3.5703484359857655`*^9}, {3.570348519040165*^9, 
  3.570348620050165*^9}, {3.5703486853209925`*^9, 3.5703486874426203`*^9}, {
  3.5703492812382135`*^9, 3.5703493174914513`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"element", "[", "list__Rule", "]"}], "/;", 
   RowBox[{"MemberQ", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"{", "list", "}"}], "\[LeftDoubleBracket]", 
      RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], ",", 
     "\"\<NAME\>\""}], "]"}]}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "name", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"name", "=", 
      RowBox[{"\"\<NAME\>\"", "/.", 
       RowBox[{"{", "list", "}"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"allElements", "=", 
      RowBox[{"Union", "[", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"allElements", ",", "name"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Clear", "[", 
      RowBox[{"Evaluate", "[", "name", "]"}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Evaluate", "[", 
       RowBox[{"Symbol", "@", "name"}], "]"}], "=", 
      RowBox[{"elementDefinition", "[", "list", "]"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57018730058844*^9, 3.57018736330844*^9}, {
   3.57018741812844*^9, 3.5701874275784397`*^9}, {3.5701874643684397`*^9, 
   3.5701874686884403`*^9}, {3.57018751410844*^9, 3.5701875801184397`*^9}, {
   3.57018879582119*^9, 3.57018882244119*^9}, {3.57018896454119*^9, 
   3.57018896497119*^9}, {3.57019143773319*^9, 3.5701914504141903`*^9}, {
   3.57019896303419*^9, 3.5701990141981897`*^9}, {3.570345737501156*^9, 
   3.5703457478145394`*^9}, {3.570347290218301*^9, 3.570347293029667*^9}, 
   3.5703481081611423`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"element", "[", 
   RowBox[{"magnet_", ",", "var__Symbol"}], "]"}], ":=", 
  RowBox[{"var", "/.", 
   RowBox[{"Evaluate", "[", "magnet", "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57018730058844*^9, 3.57018736330844*^9}, {
  3.57018741812844*^9, 3.5701874275784397`*^9}, {3.5701874643684397`*^9, 
  3.57018749933844*^9}, {3.57018760023844*^9, 3.57018760235844*^9}, {
  3.57018763375844*^9, 3.57018764496844*^9}, {3.5701914301831903`*^9, 
  3.57019143117319*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Set/Get Properties", "Subsection",
 CellChangeTimes->{{3.6254668008705444`*^9, 3.6254668047585444`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "GetProperty", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"GetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list__", "]"}], ",", "var_"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ToUpperCase", "[", "var", "]"}], "/.", 
     RowBox[{"{", "list", "}"}]}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701900913221903`*^9, 3.57019022190219*^9}, 
   3.5701915012641897`*^9, {3.625416884361206*^9, 3.625416887587206*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Unprotect", "[", "SetProperty", "]"}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57018993620219*^9, 3.57018994281219*^9}, {
  3.625398944787206*^9, 3.625398970219206*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "x__", "]"}], ",", " ", 
    RowBox[{"{", "y_Rule", "}"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "x", "]"}], ",", " ", 
    RowBox[{"Rule", "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", 
       RowBox[{"ToString", "[", 
        RowBox[{"y", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "]"}], "]"}], ",", " ", 
      RowBox[{"y", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}], "]"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57018991731219*^9, 3.57018992845219*^9}, {
   3.57019146056419*^9, 3.5701914621641903`*^9}, {3.5703466458017488`*^9, 
   3.5703466692680593`*^9}, 3.5703473712474422`*^9, {3.570347401993429*^9, 
   3.57034740645706*^9}, {3.5703474995534115`*^9, 3.5703475091517773`*^9}, {
   3.6253987403622065`*^9, 3.625398745153206*^9}, 3.625398944788206*^9, {
   3.625398996944206*^9, 3.625398996946206*^9}, 3.625399233354206*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "x__", "]"}], ",", " ", "rules_List"}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"Fold", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"SetProperty", "[", 
      RowBox[{"#1", ",", " ", 
       RowBox[{"{", "#2", "}"}]}], "]"}], " ", "&"}], ",", " ", 
    RowBox[{"elementDefinition", "[", "x", "]"}], ",", " ", "rules"}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57018991731219*^9, 3.57018992845219*^9}, {
   3.57019146056419*^9, 3.5701914621641903`*^9}, {3.5703466458017488`*^9, 
   3.5703466692680593`*^9}, 3.5703473712474422`*^9, {3.570347401993429*^9, 
   3.57034740645706*^9}, {3.5703474995534115`*^9, 3.5703475091517773`*^9}, {
   3.570347897780514*^9, 3.570347947676746*^9}, {3.5703480534696455`*^9, 
   3.5703480592414236`*^9}, {3.625398604594206*^9, 3.6253986340322065`*^9}, {
   3.6253986646472063`*^9, 3.6253986656312065`*^9}, 3.6253989447892065`*^9, {
   3.6253989969472065`*^9, 3.625399015313206*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"SetProperty", "::", "\"\<wrongtype\>\""}], " ", "=", " ", 
   "\"\<There are no elements of type \\\"`1`\\\" to modify.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019972573619*^9, 3.5701997704691896`*^9}, 
   3.6253989447892065`*^9, {3.625398996951206*^9, 3.625398996952206*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetProperty", "[", 
   RowBox[{"type_String", ",", " ", 
    RowBox[{"{", "y__Rule", "}"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "list", "}"}], ",", "\n", "  ", 
    RowBox[{
     RowBox[{"list", " ", "=", " ", 
      RowBox[{"Select", "[", 
       RowBox[{
        RowBox[{"ToExpression", "[", "allElements", "]"}], ",", " ", 
        RowBox[{
         RowBox[{"MemberQ", "[", 
          RowBox[{
           RowBox[{"Map", "[", 
            RowBox[{"ToUpperCase", ",", "#", ",", 
             RowBox[{"{", "2", "}"}]}], "]"}], ",", " ", 
           RowBox[{"Rule", "[", 
            RowBox[{"\"\<TYPE\>\"", ",", 
             RowBox[{"ToUpperCase", "[", "type", "]"}]}], "]"}], ",", " ", 
           "2"}], "]"}], " ", "&"}]}], "]"}]}], ";", "\n", "  ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Length", "[", "list", "]"}], " ", ">", " ", "0"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"SetProperty", "[", 
          RowBox[{"#", ",", " ", "y"}], "]"}], " ", "&"}], " ", "/@", " ", 
        "list"}], ",", "\[IndentingNewLine]", 
       RowBox[{"Message", "[", 
        RowBox[{
         RowBox[{"SetProperty", "::", "\"\<wrongtype\>\""}], ",", " ", 
         "type"}], "]"}]}], "\[IndentingNewLine]", "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57018991731219*^9, 3.57018992845219*^9}, {
   3.57019146056419*^9, 3.5701914621641903`*^9}, {3.57019949187919*^9, 
   3.57019952226119*^9}, 3.5701995703221903`*^9, {3.5701996326861897`*^9, 
   3.57019971898619*^9}, {3.570346613535572*^9, 3.5703466155171022`*^9}, 
   3.6253989447912064`*^9, {3.6253989969542065`*^9, 3.6253989969562063`*^9}, {
   3.625504035826016*^9, 3.6255040403934727`*^9}, {3.6255040718126144`*^9, 
   3.6255040738078136`*^9}, 3.625504261340565*^9, {3.6881121833526936`*^9, 
   3.6881122046012936`*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["UpValues", "Subsection",
 CellChangeTimes->{{3.6254668324365444`*^9, 3.6254668337885447`*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "x__", "]"}], ",", "y__Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "name", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"name", "=", 
      RowBox[{"\"\<NAME\>\"", "/.", 
       RowBox[{"Join", "[", 
        RowBox[{
         RowBox[{"{", "y", "}"}], ",", 
         RowBox[{"{", "x", "}"}]}], "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"element", "[", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Rule", "[", 
           RowBox[{"#", ",", 
            RowBox[{"#", "/.", 
             RowBox[{"Join", "[", 
              RowBox[{
               RowBox[{"{", "y", "}"}], ",", 
               RowBox[{"{", "x", "}"}]}], "]"}]}]}], "]"}], "&"}], ",", 
         RowBox[{"Union", "[", 
          RowBox[{
           RowBox[{"Join", "[", 
            RowBox[{
             RowBox[{"{", "y", "}"}], ",", 
             RowBox[{"{", "x", "}"}]}], "]"}], "\[LeftDoubleBracket]", 
           RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], "]"}]}], 
        "]"}]}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701876744784403`*^9, 3.57018767792844*^9}, {
   3.57018778477844*^9, 3.57018784830844*^9}, {3.57018856790119*^9, 
   3.57018858846119*^9}, {3.57018862145119*^9, 3.57018863644119*^9}, {
   3.57018873522119*^9, 3.57018876258119*^9}, {3.57018898426119*^9, 
   3.57018898599119*^9}, {3.5701890254811897`*^9, 3.57018918848219*^9}, {
   3.57018969451219*^9, 3.5701897858621902`*^9}, {3.57018982499219*^9, 
   3.57018982731219*^9}, {3.57018986840219*^9, 3.57018986977219*^9}, {
   3.57019027603319*^9, 3.57019027931319*^9}, 3.5701914583041897`*^9, {
   3.57019153483419*^9, 3.57019154693419*^9}, {3.5703470099624825`*^9, 
   3.5703470108048882`*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "x__", "]"}], ",", 
    RowBox[{"Rule", "[", 
     RowBox[{"y_", ",", "Null"}], "]"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "name", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"name", "=", 
      RowBox[{"\"\<NAME\>\"", "/.", 
       RowBox[{"Join", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"Rule", "[", 
           RowBox[{"y", ",", "Null"}], "]"}], "}"}], ",", 
         RowBox[{"{", "x", "}"}]}], "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"element", "[", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Rule", "[", 
           RowBox[{"#", ",", 
            RowBox[{"#", "/.", 
             RowBox[{"{", "x", "}"}]}]}], "]"}], "&"}], ",", 
         RowBox[{"Complement", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"{", "x", "}"}], "\[LeftDoubleBracket]", 
            RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], ",", 
           RowBox[{"{", "y", "}"}]}], "]"}]}], "]"}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701876744784403`*^9, 3.57018767792844*^9}, {
   3.57018778477844*^9, 3.57018784830844*^9}, {3.57018856790119*^9, 
   3.57018858846119*^9}, {3.57018862145119*^9, 3.57018863644119*^9}, {
   3.57018873522119*^9, 3.57018876258119*^9}, {3.57018898426119*^9, 
   3.57018898599119*^9}, {3.5701890254811897`*^9, 3.57018918848219*^9}, {
   3.57018969451219*^9, 3.5701897858621902`*^9}, {3.57018982499219*^9, 
   3.57018982731219*^9}, {3.57018986840219*^9, 3.57018986977219*^9}, {
   3.57019027603319*^9, 3.57019027931319*^9}, 3.5701914583041897`*^9, {
   3.57019153483419*^9, 3.57019154693419*^9}, {3.5703470099624825`*^9, 
   3.5703470108048882`*^9}, {3.625398854347206*^9, 3.625398861363206*^9}, {
   3.625398899304206*^9, 3.6253989102232065`*^9}, {3.625399052127206*^9, 
   3.625399226139206*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"Rule", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"elementDefinition", "[", "list__", "]"}], "[", "var_String", 
     "]"}], ",", "val_"}], "]"}], ":=", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list", "]"}], ",", " ", 
    RowBox[{"Rule", "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", "var", "]"}], ",", "val"}], "]"}]}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, 3.6254105678742065`*^9}],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{
   RowBox[{"elementDefinition", "[", "list__", "]"}], "[", 
   RowBox[{"Rule", "[", 
    RowBox[{"var_String", ",", "val_"}], "]"}], "]"}], ":=", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list", "]"}], ",", " ", 
    RowBox[{"Rule", "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", "var", "]"}], ",", "val"}], "]"}]}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, {3.625409340096206*^9, 3.625409359294206*^9}, {
   3.625410562842206*^9, 3.625410564273206*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{
   RowBox[{"elementDefinition", "[", "list__", "]"}], "[", "rules__Rule", 
   "]"}], ":=", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list", "]"}], ",", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Rule", "[", 
        RowBox[{
         RowBox[{"ToUpperCase", "[", 
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", 
         RowBox[{"#", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "&"}], ",", 
      RowBox[{"{", "rules", "}"}]}], "]"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, {3.625409340096206*^9, 3.625409359294206*^9}, {
   3.6254094016522064`*^9, 3.6254094041412063`*^9}, {3.625409435057206*^9, 
   3.625409442577206*^9}, {3.625409508469206*^9, 3.6254095477462063`*^9}, {
   3.625410580547206*^9, 3.625410586721206*^9}, {3.6254164640062065`*^9, 
   3.6254165073252063`*^9}, {3.625416543385206*^9, 3.6254165494102063`*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"Rule", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"elementDefinition", "[", "list__", "]"}], "[", "var_String", 
     "]"}], ",", "val_"}], "]"}], ":=", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list", "]"}], ",", " ", 
    RowBox[{"Rule", "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", "var", "]"}], ",", "val"}], "]"}]}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625416829576206*^9, 3.6254168656262064`*^9}, {
  3.6254169254732065`*^9, 3.625416940321206*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", " ", "/:", " ", 
  RowBox[{"Part", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list__", "]"}], ",", " ", "var_"}], 
   "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"#", "===", 
       RowBox[{"ToUpperCase", "[", "var", "]"}]}], ",", "0", ",", "#"}], 
     "]"}], "&"}], "[", 
   RowBox[{
    RowBox[{"ToUpperCase", "[", "var", "]"}], " ", "/.", " ", 
    RowBox[{"{", "list", "}"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, 
   3.625407732894206*^9, {3.625407811913206*^9, 3.6254078119142065`*^9}, 
   3.625408527467206*^9, {3.6254092990412064`*^9, 3.625409299043206*^9}, {
   3.625497286418143*^9, 
   3.6254973252200227`*^9}},ExpressionUUID->"4d60e424-f1f5-463e-9065-\
d6ff746e5b29"],

Cell[BoxData[
 RowBox[{"elementDefinition", " ", "/:", " ", 
  RowBox[{
   RowBox[{"elementDefinition", "[", "list__", "]"}], "[", " ", "var_String", 
   "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"#", "===", 
       RowBox[{"ToUpperCase", "[", "var", "]"}]}], ",", "0", ",", "#"}], 
     "]"}], "&"}], "[", 
   RowBox[{
    RowBox[{"ToUpperCase", "[", "var", "]"}], " ", "/.", " ", 
    RowBox[{"{", "list", "}"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, 
   3.625407732894206*^9, {3.625407811913206*^9, 3.6254078119142065`*^9}, 
   3.625408527467206*^9, {3.6254092990412064`*^9, 3.625409299043206*^9}, {
   3.625497286418143*^9, 3.6254973252200227`*^9}, {3.679851701675555*^9, 
   3.679851718509921*^9}, {3.6798518619651065`*^9, 3.6798518854327993`*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", " ", "/:", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"elementDefinition", "[", "list__", "]"}], "[", " ", "var_String",
     "]"}], "/;", 
   RowBox[{
    RowBox[{"ToUpperCase", "[", "var", "]"}], "\[Equal]", 
    "\"\<LENGTH\>\""}]}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "val", "}"}], ",", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"val", "=", 
         RowBox[{"\"\<LENGTH\>\"", " ", "/.", " ", 
          RowBox[{"{", "list", "}"}]}]}], ")"}], "===", "\"\<LENGTH\>\""}], 
      ",", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"val", "=", 
           RowBox[{"\"\<L\>\"", " ", "/.", " ", 
            RowBox[{"{", "list", "}"}]}]}], ")"}], "===", "\"\<L\>\""}], ",", 
        "0", ",", "val"}], "]"}], ",", "val"}], "]"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, 
   3.625407732894206*^9, {3.625407811913206*^9, 3.6254078119142065`*^9}, 
   3.625408527467206*^9, {3.6254092990412064`*^9, 3.625409299043206*^9}, {
   3.625497286418143*^9, 3.6254973252200227`*^9}, {3.679851701675555*^9, 
   3.679851718509921*^9}, {3.6798518619651065`*^9, 3.6798518854327993`*^9}, {
   3.699614738828368*^9, 3.699614880338665*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"ReplaceAll", "[", 
   RowBox[{
    RowBox[{"var_String", "|", "var_Symbol"}], ",", 
    RowBox[{"elementDefinition", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{"ToUpperCase", "[", 
    RowBox[{"ToString", "[", "var", "]"}], "]"}], "/.", 
   RowBox[{"{", "list", "}"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}}],

Cell[BoxData[
 RowBox[{"commandDefinition", "/:", 
  RowBox[{"ReplaceAll", "[", 
   RowBox[{
    RowBox[{"var_String", "|", "var_Symbol"}], ",", 
    RowBox[{"commandDefinition", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{"ToUpperCase", "[", 
    RowBox[{"ToString", "[", "var", "]"}], "]"}], "/.", 
   RowBox[{"{", "list", "}"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}, {3.6253114732997613`*^9, 
   3.625311477500181*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"ReplaceAll", "[", 
   RowBox[{"var_List", ",", 
    RowBox[{"elementDefinition", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ToUpperCase", "[", 
      RowBox[{"ToString", "[", "#", "]"}], "]"}], "/.", 
     RowBox[{"{", "list", "}"}]}], "&"}], "/@", "var"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.570346776504729*^9}}],

Cell[BoxData[
 RowBox[{"commandDefinition", "/:", 
  RowBox[{"ReplaceAll", "[", 
   RowBox[{"var_List", ",", 
    RowBox[{"commandDefinition", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ToUpperCase", "[", 
      RowBox[{"ToString", "[", "#", "]"}], "]"}], "/.", 
     RowBox[{"{", "list", "}"}]}], "&"}], "/@", "var"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.570346776504729*^9}, {3.6253114828677177`*^9, 
   3.6253114837718086`*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"capitalRuleNames", "[", 
   RowBox[{"elementDefinition", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Map", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Rule", "[", 
      RowBox[{
       RowBox[{"ToUpperCase", "[", 
        RowBox[{"#", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", 
       RowBox[{"#", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "&"}], ",", 
    RowBox[{"{", "list", "}"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}, {3.6253119588293095`*^9, 
   3.625311994917918*^9}},ExpressionUUID->"06b1b128-57b8-4afc-9ba7-\
2635f0f62dd3"],

Cell[BoxData[
 RowBox[{"commandDefinition", "/:", 
  RowBox[{"capitalRuleNames", "[", 
   RowBox[{"commandDefinition", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Map", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Rule", "[", 
      RowBox[{
       RowBox[{"StringReplace", "[", 
        RowBox[{
         RowBox[{"ToLowerCase", "[", 
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", 
         RowBox[{"\"\<sdds\>\"", "\[Rule]", "\"\<SDDS\>\""}]}], "]"}], ",", 
       RowBox[{"#", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "&"}], ",", 
    RowBox[{"{", "list", "}"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}, {3.6253119588293095`*^9, 
   3.6253120166950955`*^9}, {3.625312915038921*^9, 3.6253129160350204`*^9}, {
   3.625397239698206*^9, 3.6253972500012064`*^9}}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"ReplaceAll", "[", 
    RowBox[{"var_", ",", 
     RowBox[{"elementLine", "[", "list_", "]"}]}], "]"}], "/;", 
   RowBox[{
    RowBox[{"Length", "[", 
     RowBox[{"{", "list", "}"}], "]"}], ">", "1"}]}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ToUpperCase", "[", 
      RowBox[{"ToString", "[", "var", "]"}], "]"}], "/.", 
     RowBox[{"{", "#", "}"}]}], "&"}], "/@", "list"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
  3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
  3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
  3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
  3.5703457055832825`*^9}}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"ReplaceAll", "[", 
    RowBox[{"var_", ",", 
     RowBox[{"elementLine", "[", "list_", "]"}]}], "]"}], "/;", 
   RowBox[{
    RowBox[{"Length", "[", 
     RowBox[{"{", "list", "}"}], "]"}], "==", "1"}]}], ":=", 
  RowBox[{
   RowBox[{"ToUpperCase", "[", 
    RowBox[{"ToString", "[", "var", "]"}], "]"}], "/.", "list"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701994171321898`*^9}, 3.5703457078541193`*^9}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"-", 
   RowBox[{"elementLine", "[", "list__", "]"}]}], ":=", 
  RowBox[{"elementLine", "[", 
   RowBox[{
    RowBox[{"Sequence", "@@", 
     RowBox[{"Cases", "[", 
      RowBox[{
       RowBox[{"{", "list", "}"}], ",", 
       RowBox[{"Except", "[", 
        RowBox[{"Rule", "[", 
         RowBox[{"\"\<REVERSED\>\"", ",", "_Boolean"}], "]"}], "]"}]}], 
      "]"}]}], ",", 
    RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "True"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.625323611830493*^9, 3.6253236875600653`*^9}, {
   3.6253237814594545`*^9, 3.625323816380946*^9}, {3.625323850574365*^9, 
   3.625323906167924*^9}, {3.625324494380739*^9, 3.625324525501851*^9}, {
   3.6253245692512255`*^9, 3.625324627394039*^9}, {3.6253249549577923`*^9, 
   3.6253249654458413`*^9}, {3.6253886635704117`*^9, 3.625388664011456*^9}, {
   3.688976795013027*^9, 3.688976796666627*^9}, {3.688976898187027*^9, 
   3.688976898389827*^9}, {3.6890593492015*^9, 3.6890593504349*^9}}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"-", 
   RowBox[{"elementLine", "[", "list__", "]"}]}], ":=", 
  RowBox[{"elementLine", "[", 
   RowBox[{
    RowBox[{"Sequence", "@@", 
     RowBox[{"Reverse", "[", 
      RowBox[{"Cases", "[", 
       RowBox[{
        RowBox[{"{", "list", "}"}], ",", 
        RowBox[{"Except", "[", 
         RowBox[{"Rule", "[", 
          RowBox[{"\"\<REVERSED\>\"", ",", "_Boolean"}], "]"}], "]"}]}], 
       "]"}], "]"}]}], ",", 
    RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "True"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.625323611830493*^9, 3.6253236875600653`*^9}, {
   3.6253237814594545`*^9, 3.625323816380946*^9}, {3.625323850574365*^9, 
   3.625323906167924*^9}, {3.625324494380739*^9, 3.625324525501851*^9}, {
   3.6253245692512255`*^9, 3.625324627394039*^9}, {3.6253249549577923`*^9, 
   3.6253249654458413`*^9}, {3.6253886635704117`*^9, 3.625388664011456*^9}, {
   3.688976795013027*^9, 3.688976796666627*^9}, {3.688976898187027*^9, 
   3.688976898389827*^9}, {3.688976949668827*^9, 3.688976956051227*^9}, 
   3.688977030193227*^9, {3.6890593469384995`*^9, 3.6890593482811*^9}}],

Cell[BoxData[{
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"Times", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list__", "]"}], ",", "multiplier_"}], 
   "]"}], ":=", 
  RowBox[{"Sequence", "@@", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"elementDefinition", "[", "list", "]"}], ",", "multiplier"}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"Times", "[", 
   RowBox[{"multiplier_", ",", 
    RowBox[{"elementDefinition", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{"Sequence", "@@", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"elementDefinition", "[", "list", "]"}], ",", "multiplier"}], 
    "]"}]}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, {3.625409340096206*^9, 3.625409359294206*^9}, {
   3.6254094016522064`*^9, 3.6254094041412063`*^9}, {3.625409435057206*^9, 
   3.625409442577206*^9}, {3.625409508469206*^9, 3.6254095477462063`*^9}, {
   3.625410580547206*^9, 3.625410586721206*^9}, {3.6254164640062065`*^9, 
   3.6254165073252063`*^9}, {3.625416543385206*^9, 3.6254165494102063`*^9}, {
   3.6978706662769213`*^9, 3.697870724692602*^9}, {3.69787076358738*^9, 
   3.697870767828228*^9}}],

Cell[BoxData[{
 RowBox[{"elementLine", "/:", 
  RowBox[{"Times", "[", 
   RowBox[{
    RowBox[{"elementLine", "[", "list__", "]"}], ",", "multiplier_"}], "]"}], 
  ":=", 
  RowBox[{"Sequence", "@@", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"elementLine", "[", "list", "]"}], ",", "multiplier"}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"elementLine", "/:", 
  RowBox[{"Times", "[", 
   RowBox[{"multiplier_", ",", 
    RowBox[{"elementLine", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{"Sequence", "@@", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"elementLine", "[", "list", "]"}], ",", "multiplier"}], 
    "]"}]}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, {3.625409340096206*^9, 3.625409359294206*^9}, {
   3.6254094016522064`*^9, 3.6254094041412063`*^9}, {3.625409435057206*^9, 
   3.625409442577206*^9}, {3.625409508469206*^9, 3.6254095477462063`*^9}, {
   3.625410580547206*^9, 3.625410586721206*^9}, {3.6254164640062065`*^9, 
   3.6254165073252063`*^9}, {3.625416543385206*^9, 3.6254165494102063`*^9}, {
   3.6978706662769213`*^9, 3.697870724692602*^9}, {3.69787076358738*^9, 
   3.697870809510563*^9}}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Names", "[", 
   RowBox[{
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", 
    RowBox[{"ignoreReverse_:", "False"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "reversed", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"reversed", "=", 
      RowBox[{
       RowBox[{"\"\<REVERSED\>\"", "/.", "a"}], "/.", 
       RowBox[{"{", 
        RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"ignoreReverse", "&&", "reversed"}], ",", 
         RowBox[{"Reverse", "[", "#", "]"}], ",", "#"}], "]"}], "&"}], "@", 
      "\[IndentingNewLine]", 
      RowBox[{"Flatten", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], " ", 
             RowBox[{"Boole", "[", 
              RowBox[{
               RowBox[{"\"\<REVERSED\>\"", "/.", "#"}], "/.", 
               RowBox[{"{", 
                RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}], 
              "]"}]}], "+", "1"}], ")"}], " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"\"\<NAME\>\"", "/.", "#"}], "/.", 
            RowBox[{"{", 
             RowBox[{"\"\<NAME\>\"", "\[Rule]", 
              RowBox[{"{", "}"}]}], "}"}]}], ")"}]}], "&"}], "/@", 
        RowBox[{"Select", "[", 
         RowBox[{
          RowBox[{"{", "list", "}"}], ",", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"Head", "[", "#", "]"}], "===", "elementDefinition"}], "||", 
             RowBox[{
              RowBox[{"Head", "[", "#", "]"}], "===", "elementLine"}]}], 
            "&"}], ")"}]}], "]"}]}], "]"}]}]}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798526453772573`*^9, 3.6798526575096836`*^9}, {3.688728374543023*^9, 
   3.6887283858847494`*^9}, {3.6889772134572268`*^9, 3.688977268358027*^9}, {
   3.688977299307227*^9, 3.688977334406427*^9}, {3.6890002805364313`*^9, 
   3.6890003095568314`*^9}, {3.6890003800140314`*^9, 3.689000397998232*^9}, {
   3.6890005914948316`*^9, 3.6890006317712317`*^9}, {3.6890587562448997`*^9, 
   3.6890587619741*^9}, {3.6890588460185*^9, 3.6890588468296995`*^9}, {
   3.6890589539981*^9, 3.6890590147803*^9}, {3.6890590830113*^9, 
   3.6890591147444997`*^9}, {3.6890591866453*^9, 3.6890592482871*^9}, 
   3.6890592879467*^9, 3.6890593648175*^9, {3.6890643200276995`*^9, 
   3.6890643202460995`*^9}, {3.6890643511625*^9, 3.6890643527046995`*^9}, {
   3.6890646898237*^9, 3.6890647116039*^9}, {3.6893387357513056`*^9, 
   3.6893387574147053`*^9}, {3.6893388932955055`*^9, 
   3.6893388934203053`*^9}, {3.6893390208221054`*^9, 3.6893390218537054`*^9}, 
   3.689339152809106*^9, {3.6893392114663057`*^9, 3.6893392172889056`*^9}, 
   3.6893392544155054`*^9, {3.6893394461705055`*^9, 3.689339455144106*^9}, {
   3.6978701880297914`*^9, 3.697870211567998*^9}, {3.6978702501467123`*^9, 
   3.6978702585223875`*^9}, 3.697870950311717*^9, {3.704799737471345*^9, 
   3.704799900743745*^9}, 3.705818192315565*^9}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Names", "[", 
   RowBox[{
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", 
    RowBox[{"n_Integer:", "1"}]}], "]"}], ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], " ", 
         RowBox[{"Boole", "[", 
          RowBox[{
           RowBox[{"\"\<REVERSED\>\"", "/.", "#"}], "/.", 
           RowBox[{"{", 
            RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}], 
          "]"}]}], "+", "1"}], ")"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"\"\<NAME\>\"", "/.", "#"}], "/.", 
        RowBox[{"{", 
         RowBox[{"\"\<NAME\>\"", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}], ")"}]}], "&"}], "/@", 
    RowBox[{"Cases", "[", 
     RowBox[{"a", ",", 
      RowBox[{"_elementDefinition", "|", "_elementLine"}], ",", "n"}], 
     "]"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798526453772573`*^9, 3.6798526575096836`*^9}, {3.688728374543023*^9, 
   3.6887283858847494`*^9}, {3.6889772134572268`*^9, 3.688977268358027*^9}, {
   3.688977299307227*^9, 3.688977334406427*^9}, {3.6890002805364313`*^9, 
   3.6890003095568314`*^9}, {3.6890003800140314`*^9, 3.689000397998232*^9}, {
   3.6890005914948316`*^9, 3.6890006317712317`*^9}, {3.6890587562448997`*^9, 
   3.6890587619741*^9}, {3.6890588460185*^9, 3.6890588468296995`*^9}, {
   3.6890589539981*^9, 3.6890590147803*^9}, {3.6890590830113*^9, 
   3.6890591147444997`*^9}, {3.6890591866453*^9, 3.6890592482871*^9}, 
   3.6890592879467*^9, 3.6890593648175*^9, {3.6890643250234995`*^9, 
   3.6890643251951*^9}, 3.6893371049753056`*^9, {3.6893389340167055`*^9, 
   3.6893389414251056`*^9}, 3.6893390253345056`*^9, 3.6893391559447055`*^9, {
   3.6995956455419216`*^9, 3.6995956495409217`*^9}, {3.7058186136675653`*^9, 
   3.705818644199565*^9}}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Names", "[", 
   RowBox[{
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", "\[Infinity]"}], 
   "]"}], ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], " ", 
         RowBox[{"Boole", "[", 
          RowBox[{
           RowBox[{"\"\<REVERSED\>\"", "/.", "#"}], "/.", 
           RowBox[{"{", 
            RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}], 
          "]"}]}], "+", "1"}], ")"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"\"\<NAME\>\"", "/.", "#"}], "/.", 
        RowBox[{"{", 
         RowBox[{"\"\<NAME\>\"", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}], ")"}]}], "&"}], "/@", 
    RowBox[{"Join", "[", 
     RowBox[{"Cases", "[", 
      RowBox[{"a", ",", 
       RowBox[{"elementDefinition", "[", "__", "]"}], ",", "\[Infinity]"}], 
      "]"}], "]"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798526453772573`*^9, 3.6798526575096836`*^9}, {3.688728374543023*^9, 
   3.6887283858847494`*^9}, {3.6889772134572268`*^9, 3.688977268358027*^9}, {
   3.688977299307227*^9, 3.688977334406427*^9}, {3.6890002805364313`*^9, 
   3.6890003095568314`*^9}, {3.6890003800140314`*^9, 3.689000397998232*^9}, {
   3.6890005914948316`*^9, 3.6890006317712317`*^9}, {3.6890587562448997`*^9, 
   3.6890587619741*^9}, {3.6890588460185*^9, 3.6890588468296995`*^9}, {
   3.6890589539981*^9, 3.6890590147803*^9}, {3.6890590830113*^9, 
   3.6890591147444997`*^9}, {3.6890591866453*^9, 3.6890592482871*^9}, 
   3.6890592879467*^9, 3.6890593648175*^9, {3.6890643250234995`*^9, 
   3.6890643251951*^9}, {3.6890643791168995`*^9, 3.6890643843111*^9}, {
   3.6893389350659056`*^9, 3.689338944332906*^9}, 3.6893390263173056`*^9, 
   3.6893391576919055`*^9, {3.699595655900922*^9, 3.6995956615399218`*^9}}],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"Length", "[", 
   RowBox[{"elementDefinition", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", 
    RowBox[{
     RowBox[{"elementDefinition", "[", "list", "]"}], "[", "\"\<LENGTH\>\"", 
     "]"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798519963244734`*^9, 3.6798520253167706`*^9}, {3.6890588475317*^9, 
   3.6890588482815*^9}, {3.6890589554644995`*^9, 3.6890589561363*^9}, {
   3.6890593431321*^9, 3.6890593441461*^9}, {3.697871110427734*^9, 
   3.697871111010851*^9}, {3.6978739481476645`*^9, 3.697874005616156*^9}, {
   3.714125162521031*^9, 3.714125194164031*^9}, {3.714125250568031*^9, 
   3.714125255271031*^9}},ExpressionUUID->"d6388176-177b-418e-9316-\
5571981afe02"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Length", "[", 
   RowBox[{"elementLine", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", 
    RowBox[{"Total", "@", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], 
            RowBox[{"Boole", "[", 
             RowBox[{
              RowBox[{"\"\<REVERSED\>\"", "/.", "#"}], "/.", 
              RowBox[{"{", 
               RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}], 
             "]"}]}], "+", "1"}], ")"}], 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"\"\<LENGTH\>\"", "/.", "#"}], "/.", 
           RowBox[{"{", 
            RowBox[{"\"\<LENGTH\>\"", "\[Rule]", 
             RowBox[{"{", "}"}]}], "}"}]}], ")"}]}], "&"}], "/@", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Cases", "[", 
           RowBox[{"#", ",", "_Rule", ",", "\[Infinity]"}], "]"}], "&"}], ",", 
         RowBox[{"Flatten", "[", 
          RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}], 
      "]"}]}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798519963244734`*^9, 3.6798520253167706`*^9}, {3.6890588475317*^9, 
   3.6890588482815*^9}, {3.6890589554644995`*^9, 3.6890589561363*^9}, {
   3.6890593431321*^9, 3.6890593441461*^9}, {3.697871110427734*^9, 
   3.697871111010851*^9}, {3.6978739481476645`*^9, 
   3.697874005616156*^9}},ExpressionUUID->"d7560a42-0b15-47a5-8f7f-\
44aae38d9202"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Lengths", "[", 
   RowBox[{"elementLine", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", 
    RowBox[{"Flatten", "[", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], 
           RowBox[{"Boole", "[", 
            RowBox[{
             RowBox[{"\"\<REVERSED\>\"", "/.", "#"}], "/.", 
             RowBox[{"{", 
              RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}], 
            "]"}]}], "+", "1"}], ")"}], 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"\"\<LENGTH\>\"", "/.", "#"}], "/.", 
          RowBox[{"{", 
           RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "0"}], "}"}]}], ")"}]}], 
       "&"}], "/@", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Cases", "[", 
          RowBox[{"#", ",", "_Rule", ",", "\[Infinity]"}], "]"}], "&"}], ",", 
        RowBox[{"Flatten", "[", 
         RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}], "]"}]}],
    "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798519963244734`*^9, 3.6798520253167706`*^9}, {3.6890588475317*^9, 
   3.6890588482815*^9}, {3.6890589554644995`*^9, 3.6890589561363*^9}, {
   3.6890593431321*^9, 3.6890593441461*^9}, {3.697871110427734*^9, 
   3.697871111010851*^9}, {3.6978739481476645`*^9, 3.697874005616156*^9}, {
   3.6978783847102833`*^9, 3.697878402897729*^9}, {3.6978784342227397`*^9, 
   3.6978784353011537`*^9}, 3.697897631242633*^9}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Length", "[", "list__elementLine", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", 
    RowBox[{"Total", "@", 
     RowBox[{"Map", "[", 
      RowBox[{"Length", ",", 
       RowBox[{"Flatten", "[", 
        RowBox[{"{", "list", "}"}], "]"}]}], "]"}]}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798519963244734`*^9, 3.6798520253167706`*^9}, {3.6890588475317*^9, 
   3.6890588482815*^9}, {3.6890589554644995`*^9, 3.6890589561363*^9}, {
   3.6890593431321*^9, 3.6890593441461*^9}, {3.697871110427734*^9, 
   3.697871111010851*^9}, {3.6978711502772026`*^9, 3.697871188791404*^9}, {
   3.697871341561452*^9, 3.697871370443227*^9}, {3.6978714196870737`*^9, 
   3.697871424686573*^9}, {3.6978738471249638`*^9, 3.6978738499575305`*^9}, {
   3.697873962013937*^9, 3.6978739658206987`*^9}, 
   3.697878367575059*^9},ExpressionUUID->"166ce3cd-2ac8-4483-a94f-\
53026e082922"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"CumulativeLength", "[", "list__elementLine", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", 
    RowBox[{"Accumulate", "[", 
     RowBox[{"Length", "/@", 
      RowBox[{"Flatten", "[", 
       RowBox[{"{", "list", "}"}], "]"}]}], "]"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798519963244734`*^9, 3.6798520253167706`*^9}, {3.6890588475317*^9, 
   3.6890588482815*^9}, {3.6890589554644995`*^9, 3.6890589561363*^9}, {
   3.6890593431321*^9, 3.6890593441461*^9}, {3.697871110427734*^9, 
   3.697871111010851*^9}, {3.6978711502772026`*^9, 3.697871188791404*^9}, {
   3.697871341561452*^9, 3.697871370443227*^9}, {3.6978714196870737`*^9, 
   3.697871424686573*^9}, {3.6978738471249638`*^9, 3.6978738499575305`*^9}, {
   3.697873962013937*^9, 3.6978739658206987`*^9}, 3.697878367575059*^9, {
   3.7141248790310307`*^9, 3.7141249125070305`*^9}, {3.7141249780300307`*^9, 
   3.7141251009580307`*^9}, {3.7141252746250305`*^9, 
   3.7141252774720306`*^9}},ExpressionUUID->"83cc4480-4dbe-44d8-b2cf-\
63768f58ef81"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"ReplaceAll", "[", 
   RowBox[{
    RowBox[{"var_String", "|", "var_Symbol"}], ",", 
    RowBox[{"elementLine", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{"ToUpperCase", "[", 
    RowBox[{"ToString", "[", "var", "]"}], "]"}], "/.", 
   RowBox[{"Cases", "[", 
    RowBox[{
     RowBox[{"{", "list", "}"}], ",", "_Rule"}], "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}, {3.689000821548832*^9, 
   3.6890008239698315`*^9}, {3.6890587059111*^9, 3.6890587124339*^9}, 
   3.6890588165905*^9, {3.6890588981070995`*^9, 3.6890588993103*^9}, {
   3.6890592770460997`*^9, 3.6890592772021*^9}}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Flatten", "[", 
   RowBox[{"a", ":", 
    RowBox[{"elementLine", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"Names", "[", 
    RowBox[{"a", ",", "\[Infinity]"}], "]"}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", "n_Integer"}], "]"}],
   ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"Names", "[", 
    RowBox[{"a", ",", "Integer"}], "]"}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6893388829085054`*^9, 3.6893388903109055`*^9}}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Flatten", "[", "a__elementLine", "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"Names", "[", 
    RowBox[{
     RowBox[{"elementLine", "[", "a", "]"}], ",", "\[Infinity]"}], "]"}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6893388829085054`*^9, 3.6893388903109055`*^9}, {3.6894016753259015`*^9, 
  3.6894016854271016`*^9}, {3.6894017355745015`*^9, 3.6894017367757015`*^9}}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Part", "[", 
   RowBox[{
    RowBox[{"elementLine", "[", "a__", "]"}], ",", "pos_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"Flatten", "[", 
    RowBox[{"elementLine", "[", "a", "]"}], "]"}], "[", 
   RowBox[{"[", "pos", "]"}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6978770824392915`*^9, 3.6978771400536575`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Unprotect", "[", "Flatten", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Flatten", "[", 
   RowBox[{"{", "a__elementLine", "}"}], "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"Names", "[", 
    RowBox[{
     RowBox[{"elementLine", "[", "a", "]"}], ",", "\[Infinity]"}], "]"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Protect", "[", "Flatten", "]"}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
   3.6893388829085054`*^9, 3.6893388903109055`*^9}, {3.6894014402561016`*^9, 
   3.6894014928863015`*^9}, 3.6894015582903013`*^9, {3.6894016074285016`*^9, 
   3.6894016190197015`*^9}},ExpressionUUID->"b2195060-a2df-4082-abfe-\
391746402c52"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ")"}], "[", "var_", "]"}],
   ":=", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"#", "===", 
         RowBox[{"ToUpperCase", "[", "var", "]"}]}], ",", "0", ",", "#"}], 
       "]"}], "&"}], "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", "var", "]"}], " ", "/.", " ", "#"}], "]"}], 
    "&"}], "/@", 
   RowBox[{"Flatten", "[", "a", "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
  3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
  3.6890728741088*^9, 
  3.6890729315778*^9}},ExpressionUUID->"7a95e755-6ed2-4f7f-866f-e39a91efd59c"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ")"}], "[", 
   "\"\<NAME\>\"", "]"}], ":=", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"\"\<NAME\>\"", "/.", "a"}], "/.", 
    RowBox[{"{", 
     RowBox[{"\"\<NAME\>\"", "\[Rule]", 
      RowBox[{"{", "}"}]}], "}"}]}], ")"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
  3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
  3.6890728741088*^9, 3.6890729315778*^9}, {3.6995991505564213`*^9, 
  3.6995991875984216`*^9}}],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Join", "[", "a__elementLine", "]"}], ":=", 
  RowBox[{"elementLine", "[", "a", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
  3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
  3.6890728741088*^9, 3.6890729315778*^9}, {3.689339471205106*^9, 
  3.6893394854693055`*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["elementLine", "Subsection",
 CellChangeTimes->{{3.6254668387155447`*^9, 
  3.6254668447815447`*^9}},ExpressionUUID->"df84052c-f804-4253-b1fc-\
3f46c4a1a30e"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "line", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAttributes", "[", 
   RowBox[{"line", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"line", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"line", "[", 
   RowBox[{"name_", ",", 
    RowBox[{"{", "list__", "}"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "nameS", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Clear", "[", 
      RowBox[{"Evaluate", "[", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"ToString", "[", 
           RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "===", 
          "\"\<SPERIOD1VMX\>\""}], ",", 
         RowBox[{"Print", "[", 
          RowBox[{"Names", "[", 
           RowBox[{"elementLine", "[", "list", "]"}], "]"}], "]"}]}], "]"}], 
       ";"}], "*)"}], "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Evaluate", "[", 
       RowBox[{"ToExpression", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}], "]"}], ":=", 
      RowBox[{"elementLine", "[", 
       RowBox[{
        RowBox[{"\"\<NAME\>\"", "\[Rule]", 
         RowBox[{"ToString", "[", 
          RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
        RowBox[{"Sequence", "@@", "\[IndentingNewLine]", 
         RowBox[{"Map", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"Which", "[", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{
               RowBox[{"Head", "[", "#", "]"}], "===", "Times"}], ",", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "*", 
               RowBox[{"ToExpression", "[", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "2", "]"}], "]"}], "]"}]}], ",", 
              "\[IndentingNewLine]", "True", ",", 
              RowBox[{"ToExpression", "[", "#", "]"}]}], 
             "\[IndentingNewLine]", "]"}], "&"}], ",", "\[IndentingNewLine]", 
           RowBox[{"Names", "[", 
            RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", "name"}]}], "\[IndentingNewLine]",
    "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57018730058844*^9, 3.57018736330844*^9}, {
   3.57018741812844*^9, 3.5701874275784397`*^9}, {3.5701874643684397`*^9, 
   3.5701874686884403`*^9}, {3.57018751410844*^9, 3.5701875801184397`*^9}, {
   3.57018879582119*^9, 3.57018882244119*^9}, {3.57018896454119*^9, 
   3.57018896497119*^9}, {3.57019091452319*^9, 3.57019096789319*^9}, {
   3.57019100196319*^9, 3.57019103412319*^9}, {3.57019108444319*^9, 
   3.57019112344319*^9}, {3.57019148629419*^9, 3.57019149082419*^9}, 
   3.570351408646497*^9, {3.57035151545397*^9, 3.5703515187819695`*^9}, {
   3.5703515723459697`*^9, 3.5703515808409696`*^9}, {3.5703516394139695`*^9, 
   3.57035169496297*^9}, {3.570431388887487*^9, 3.5704313898635845`*^9}, {
   3.5704317036029553`*^9, 3.5704317669812927`*^9}, {3.5704317994145355`*^9, 
   3.570431823254919*^9}, 3.5704319039149847`*^9, {3.57043194417201*^9, 
   3.5704319444440374`*^9}, {3.6253203183041735`*^9, 
   3.6253203196263056`*^9}, {3.625320373345677*^9, 3.625320383091652*^9}, {
   3.6253204154038825`*^9, 3.625320422726615*^9}, {3.62532070851019*^9, 
   3.6253207611204505`*^9}, {3.6253207967050085`*^9, 
   3.6253208619395313`*^9}, {3.625320927822119*^9, 3.62532101693703*^9}, {
   3.62532105144248*^9, 3.6253210605783935`*^9}, {3.625396466668206*^9, 
   3.625396536281206*^9}, {3.6253966217722063`*^9, 3.6253966230982065`*^9}, {
   3.625410934323206*^9, 3.6254109944942064`*^9}, {3.625411041212206*^9, 
   3.625411048875206*^9}, {3.625411263669206*^9, 3.6254112667652063`*^9}, {
   3.625416338433206*^9, 3.6254163387912064`*^9}, {3.6878713352634306`*^9, 
   3.6878713709284306`*^9}, {3.6890004701890316`*^9, 
   3.6890004750904317`*^9}, {3.6890005449120317`*^9, 
   3.6890005476304317`*^9}, {3.6890641233343*^9, 3.6890641496654997`*^9}, 
   3.6890642264258995`*^9, {3.6890648345049*^9, 3.6890649484037*^9}, {
   3.6890650970099*^9, 3.6890651318547*^9}, {3.6890652081923*^9, 
   3.6890652107205*^9}, {3.6890653250273*^9, 3.6890653286621*^9}, {
   3.6890720427662*^9, 3.6890720960761995`*^9}, {3.6890721371625996`*^9, 
   3.6890721681127996`*^9}, {3.6890722123216*^9, 3.6890722169432*^9}, {
   3.6890722626474*^9, 3.6890722630218*^9}, {3.689336942711506*^9, 
   3.6893369464995055`*^9}, {3.689337001398306*^9, 3.6893371110743055`*^9}, 
   3.6893371851109056`*^9, {3.6893373634231057`*^9, 3.6893373908499055`*^9}, 
   3.689338168176306*^9, {3.689338198923506*^9, 3.6893382195951056`*^9}, {
   3.6893383405803056`*^9, 3.6893383408299055`*^9}, {3.6893383782563057`*^9, 
   3.6893383961517057`*^9}, {3.6978699885058947`*^9, 
   3.6978700043620653`*^9}, {3.6979739644113946`*^9, 
   3.6979740485413947`*^9}, {3.6979740951163945`*^9, 
   3.6979741654143944`*^9}, {3.6979742000843945`*^9, 
   3.6979742993343945`*^9}, {3.6979746819003944`*^9, 
   3.6979748607913947`*^9}, {3.697975090915395*^9, 3.6979750911073947`*^9}, {
   3.6995953104439216`*^9, 3.6995953119549217`*^9}, {3.699595366060422*^9, 
   3.699595367754922*^9}, {3.699595469661422*^9, 3.6995954698854218`*^9}, {
   3.6996027814074216`*^9, 3.6996028219284215`*^9}, 3.699602906765422*^9, 
   3.699602948815922*^9, {3.6996029896739216`*^9, 3.699602990185422*^9}, {
   3.699603045194422*^9, 3.699603045631922*^9}, 3.699603078735922*^9, {
   3.6996031265684214`*^9, 3.6996031674089217`*^9}, {3.7047147349708023`*^9, 
   3.704714735113802*^9}, {3.7058183974315653`*^9, 3.705818413959565*^9}, {
   3.705818451284565*^9, 3.705818454283565*^9}, 
   3.705818698058565*^9},ExpressionUUID->"25e06201-c96a-435e-91f7-\
91f5cfd05457"]
}, Open  ]],

Cell[CellGroupData[{

Cell["element Helper Functions", "Subsection",
 CellChangeTimes->{{3.625466852539544*^9, 3.6254668567065444`*^9}}],

Cell[BoxData[
 RowBox[{"allowedElegantCharacters", ":=", 
  RowBox[{"(", 
   RowBox[{
   "WordCharacter", "|", "DigitCharacter", "|", "\"\<~\>\"", "|", "\"\<@\>\"",
     "|", "\"\<$\>\"", "|", "\"\<%\>\"", "|", "\"\<^\>\"", "|", "\"\<&\>\"", 
    "|", "\"\<-\>\"", "|", "\"\<_\>\"", "|", "\"\<+\>\"", "|", "\"\<=\>\"", 
    "|", "\"\<{\>\"", "|", "\"\<}\>\"", "|", "\"\<[\>\"", "|", "\"\<]\>\"", 
    "|", "\"\<|\>\"", "|", "\"\<\\\\\>\"", "|", "\"\</\>\"", "|", "\"\<?\>\"",
     "|", "\"\<<\>\"", "|", "\"\<>\>\"", "|", "\"\<.\>\"", "|", 
    "\"\<\\\"\>\""}], ")"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697960720309874*^9, 3.697960840679262*^9}, {
   3.697960909675143*^9, 3.697960938257839*^9}, {3.697961034579894*^9, 
   3.6979610366877055`*^9}, 3.6979610786611576`*^9, {3.704716781704364*^9, 
   3.7047167839515886`*^9}, {3.706530438084829*^9, 
   3.706530438662029*^9}},ExpressionUUID->"9284e648-c37f-4084-88ce-\
d623c173e82a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"convertNames", "[", "string_String", "]"}], ":=", 
  RowBox[{"StringReplace", "[", 
   RowBox[{"string", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"a", ":", "allowedElegantCharacters"}], "~~", 
        RowBox[{"(", 
         RowBox[{"\"\<_\>\"", "|", "\"\<-\>\"", "|", "\"\<.\>\""}], ")"}]}], 
       "\[RuleDelayed]", 
       RowBox[{"(", 
        RowBox[{"a", "~~", "\"\<$\>\""}], ")"}]}], ",", 
      RowBox[{"\"\<\\\"\>\"", "\[Rule]", "\"\<\>\""}]}], "}"}]}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6979731743883944`*^9, 3.6979732178193946`*^9}, {
   3.7047168035125446`*^9, 3.7047168067998734`*^9}, 3.704786492331702*^9, 
   3.704786559325302*^9, {3.7065304728090286`*^9, 3.7065305326844287`*^9}, {
   3.7065959164977617`*^9, 3.706595926292699*^9}, {3.7065959571099415`*^9, 
   3.7065959648452616`*^9}, {3.706596279713548*^9, 3.706596283754259*^9}, {
   3.706596421735673*^9, 3.7065964499452386`*^9}, {3.7065964932871504`*^9, 
   3.7065965233219204`*^9}, {3.706941646786521*^9, 
   3.706941666585321*^9}},ExpressionUUID->"32e810b7-526e-419f-b1ea-\
9543ba51b3d2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Unprotect", "[", 
  RowBox[{"quad", ",", "sext", ",", "sbend", ",", "rbend", ",", "drift"}], 
  "]"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697869305936945*^9, 3.697869315275445*^9}, {
  3.6978696144649453`*^9, 3.697869615243945*^9}}],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 InitializationCell->True,
 CellChangeTimes->{{3.6978693160699453`*^9, 3.697869319538945*^9}, {
   3.6978696051914454`*^9, 3.6978696182289453`*^9}, 3.697870536772026*^9, 
   3.697870916198896*^9, 3.6978728902746325`*^9, 3.6978734519794507`*^9, 
   3.6978734999335394`*^9, 3.697876801517174*^9, 3.697878155662506*^9, 
   3.6978784988294587`*^9, 3.6978795789125695`*^9, 3.6978947976327524`*^9, 
   3.697895286011333*^9, {3.697895339727333*^9, 3.697895348718933*^9}, 
   3.697895410212533*^9, 3.6978964892506332`*^9, 3.697896636359633*^9, 
   3.697896686341833*^9, 3.697897274613633*^9, 3.6979756641923943`*^9, 
   3.6995946805544214`*^9, 3.699594725589922*^9, 3.7009956630571356`*^9, 
   3.700995700151845*^9, 3.704695781110106*^9, 3.704786737448502*^9, 
   3.705759271010208*^9, 3.705815237100565*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Clear", "[", 
  RowBox[{
  "quad", ",", "sext", ",", "sbend", ",", "csbend", ",", "quadrupole", ",", 
   "kquadrupole", ",", "sextupole", ",", "ksextupole", ",", "sectorbend", ",",
    "rbend", ",", "crbend", ",", "csrcsbend", ",", "drift", ",", "marker", 
   ",", "monitor", ",", "bpm", ",", "hkick", ",", "vkick", ",", "kick", ",", 
   "lcav", ",", "rfca", ",", "profile", ",", "watch"}], "]"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697869453219945*^9, 3.697869492305445*^9}, {
  3.6978695636949453`*^9, 3.6978696018269453`*^9}, {3.69787951472747*^9, 
  3.6978795155698376`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"watch", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"watch", "[", 
   RowBox[{"name_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Watch\>\""}], ",", 
      RowBox[{"\"\<FILENAME\>\"", "\[Rule]", "\"\<\\\"%s-%03ld.w1\\\"\>\""}], 
      ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"label", "==", "\"\<\>\""}], ",", "Null", ",", "label"}], 
        "]"}]}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"watch", "[", 
   RowBox[{"name_", ",", 
    RowBox[{"filename_String:", "\"\<\\\"%s-%03ld.w1\\\"\>\""}], ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Watch\>\""}], ",", 
      RowBox[{"\"\<FILENAME\>\"", "\[Rule]", "filename"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"label", "==", "\"\<\>\""}], ",", "Null", ",", "label"}], 
        "]"}]}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887079305444`*^9, 
   3.6254887106095448`*^9}, {3.625496808483354*^9, 3.625496811962702*^9}, {
   3.6978694242349453`*^9, 3.6978694504709454`*^9}, 3.6978781215942154`*^9, {
   3.6978795218797965`*^9, 3.697879573883563*^9}, 3.697894795603752*^9, {
   3.697895334071933*^9, 3.697895346499733*^9}, 3.697896478450433*^9, {
   3.697896608088833*^9, 3.6978966097980328`*^9}, {3.6978967277640333`*^9, 
   3.697896753752833*^9}, {3.6978971439852333`*^9, 3.697897156044633*^9}, {
   3.697897193469833*^9, 3.697897196201833*^9}, {3.6978972576952333`*^9, 
   3.697897259664233*^9}, {3.706941457104321*^9, 3.706941460148321*^9}, 
   3.706941734858121*^9},ExpressionUUID->"e871e3fa-210c-421c-ac45-\
fac3715a3773"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"quad", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"quad", "[", "in__", "]"}], ":=", 
  RowBox[{"kquadrupole", "[", "in", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887079305444`*^9, 
   3.6254887106095448`*^9}, {3.625496808483354*^9, 3.625496811962702*^9}, {
   3.6254968503805437`*^9, 3.6254968612126265`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"quadrupole", ",", "HoldAll"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"quadrupole", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Quadrupole\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K1\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887079305444`*^9, 
   3.6254887106095448`*^9}, {3.625496808483354*^9, 3.625496811962702*^9}, {
   3.6978694242349453`*^9, 3.6978694504709454`*^9}, 3.6978781215942154`*^9, 
   3.697894793434352*^9, 3.6978953571975327`*^9, 3.697895400566333*^9, 
   3.706941735669321*^9},ExpressionUUID->"97c23bb7-ab62-45cd-814a-\
9705837337f7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"kquadrupole", ",", "HoldAll"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kquadrupole", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<KQuad\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K1\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887131305447`*^9, 
   3.6254887178325443`*^9}, {3.625496815091015*^9, 3.625496839524458*^9}, {
   3.6978781171709003`*^9, 3.69787811756091*^9}, 3.6978947921531525`*^9, {
   3.697895372012333*^9, 3.697895401096733*^9}, 
   3.706941736605321*^9},ExpressionUUID->"5bbba786-87b0-4f1c-be3a-\
ff4cbf034086"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"sextupole", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sextupole", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Sextupole\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K2\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887079305444`*^9, 
   3.6254887106095448`*^9}, {3.625489342289544*^9, 3.6254893516085443`*^9}, {
   3.6254894200285444`*^9, 3.6254894320035443`*^9}, {3.625496818395345*^9, 
   3.625496823882894*^9}, 3.6978781237022696`*^9, 3.697894791024952*^9, {
   3.697895375338133*^9, 3.697895401268333*^9}, 
   3.706941737340521*^9},ExpressionUUID->"bb4a3fd9-7152-4156-8efa-\
5aca99780b93"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "sext", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"sext", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sext", "[", "in__", "]"}], ":=", 
  RowBox[{"ksextupole", "[", "in", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625500595290997*^9, 3.62550060792126*^9}, {
   3.6255006741958866`*^9, 3.625500679108378*^9}, 3.697879712096084*^9}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ksextupole", ",", "HoldAll"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ksextupole", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<KSext\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K2\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887079305444`*^9, 
   3.6254887106095448`*^9}, {3.625489342289544*^9, 3.6254893516085443`*^9}, {
   3.625496826971203*^9, 3.625496827536259*^9}, 3.6255005116476336`*^9, 
   3.697878125433914*^9, 3.697894788631752*^9, {3.6978953757769327`*^9, 
   3.697895401439933*^9}, 
   3.706941738338921*^9},ExpressionUUID->"1c59b50f-57fd-4de8-9612-\
bcd46d346f2b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"sectorbend", ",", "HoldAll"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sectorbend", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", "angle_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<SectorBend\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K1\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "angle"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254967633288393`*^9, 
   3.625496766689175*^9}, 3.697878126943955*^9, 3.697894787288152*^9, {
   3.6978953761357327`*^9, 3.697895401595933*^9}, 
   3.706941739275921*^9},ExpressionUUID->"240ec738-a5e0-486d-95cf-\
8279415bc8e4"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"sbend", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sbend", "[", "in__", "]"}], ":=", 
  RowBox[{"csbend", "[", "in", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254887225295444`*^9, 
   3.6254887529745445`*^9}, {3.6254967734408503`*^9, 3.625496788016308*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"rbend", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbend", "[", "in__", "]"}], ":=", 
  RowBox[{"crbend", "[", "in", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254887225295444`*^9, 
   3.6254887529745445`*^9}, {3.6254967734408503`*^9, 3.625496788016308*^9}, {
   3.6254969823437386`*^9, 3.625496984206925*^9}, {3.6254970535778613`*^9, 
   3.625497064009904*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"csbend", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"csbend", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", "angle_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<CSBend\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K1\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "angle"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254887225295444`*^9, 
   3.6254887529745445`*^9}, 3.6978781294576197`*^9, 3.6978947850105524`*^9, {
   3.697895376369733*^9, 3.6978954017207327`*^9}, 
   3.706941740713121*^9},ExpressionUUID->"cba9dff3-f9af-4288-aaa0-\
6e590ff23603"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"crbend", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"crbend", "[", "in__", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "elem", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"elem", "=", 
      RowBox[{"csbend", "[", "in", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"SetProperty", "[", 
      RowBox[{"elem", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<E1\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"elem", "[", 
            RowBox[{"[", "\"\<E1\>\"", "]"}], "]"}], "+", 
           FractionBox[
            RowBox[{"elem", "[", 
             RowBox[{"[", "\"\<BENDANGLE\>\"", "]"}], "]"}], "2"]}]}], ",", 
         RowBox[{"\"\<E2\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"elem", "[", 
            RowBox[{"[", "\"\<E2\>\"", "]"}], "]"}], "+", 
           FractionBox[
            RowBox[{"elem", "[", 
             RowBox[{"[", "\"\<BENDANGLE\>\"", "]"}], "]"}], "2"]}]}]}], 
        "}"}]}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254887225295444`*^9, 
   3.6254887529745445`*^9}, 3.6254970696204653`*^9, {3.6254971871842203`*^9, 
   3.6254972260611076`*^9}, {3.625497342408741*^9, 3.6254973437608767`*^9}, {
   3.625497382921792*^9, 3.6254974197804775`*^9}, {3.6254977917126675`*^9, 
   3.6254977945689526`*^9}, {3.6894049982483015`*^9, 3.6894050005777016`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"csrcsbend", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"csrcsbend", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", "angle_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<CSRCSBend\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K1\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "angle"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254887225295444`*^9, 
   3.6254887498235445`*^9}, 3.6978781318176813`*^9, 3.697894783729352*^9, {
   3.6978953765725327`*^9, 3.697895401861133*^9}, 
   3.706941742101521*^9},ExpressionUUID->"32ef359f-dd7c-4f57-a4b8-\
2cf1b4f2a9fa"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"drift", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"drift", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<EDrift\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, 
   3.6978781354701757`*^9, 3.6978947802485523`*^9, {3.6978953767909327`*^9, 
   3.697895402032733*^9}, {3.706941475582121*^9, 
   3.706941478920521*^9}},ExpressionUUID->"389af3aa-f3ad-4df9-8254-\
16d4b5e49aa3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"marker", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"marker", "[", 
   RowBox[{"name_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Mark\>\""}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, 3.697878138061842*^9, 
   3.6978947815297523`*^9, {3.697895376993733*^9, 3.697895402173133*^9}, 
   3.697896620181233*^9, {3.6978972665880327`*^9, 3.697897266759633*^9}, 
   3.706941747941921*^9},ExpressionUUID->"20781571-64e9-4213-beb9-\
72d9f03b8d29"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"bpm", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"bpm", "[", "in__", "]"}], ":=", 
  RowBox[{"monitor", "[", "in", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.625496173610873*^9, 3.625496183019814*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"vbpm", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vbpm", "[", "in__", "]"}], ":=", 
  RowBox[{"vmonitor", "[", "in", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.625496173610873*^9, 3.625496183019814*^9}, {
   3.6978794334767337`*^9, 3.6978794344635334`*^9}, 3.6978794887989335`*^9}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"hbpm", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"hbpm", "[", "in__", "]"}], ":=", 
  RowBox[{"hmonitor", "[", "in", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.625496173610873*^9, 3.625496183019814*^9}, {
   3.6978794564429336`*^9, 3.6978794572535334`*^9}, 3.6978794902575336`*^9}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"vmonitor", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vmonitor", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<VMon\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, 
   3.697878139465878*^9, {3.697879410031934*^9, 3.6978794467283335`*^9}, {
   3.697894767349552*^9, 3.6978947678799524`*^9}, {3.697895377196533*^9, 
   3.697895402344733*^9}, 
   3.706941748989121*^9},ExpressionUUID->"f68a4d24-59ee-4d14-9af0-\
4fe9cc3e5eb1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"hmonitor", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"hmonitor", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<HMon\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, 
   3.697878139465878*^9, {3.697879410031934*^9, 3.6978794648045335`*^9}, 
   3.697894770653952*^9, {3.697895377414933*^9, 3.697895402500733*^9}, 
   3.706941749831521*^9},ExpressionUUID->"9d188442-8898-4c8e-bd03-\
587d2806abf8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"monitor", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"monitor", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Monitor\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<CO_FITPOINT\>\"", "\[Rule]", "0"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, 
   3.697878139465878*^9, 3.6978947721203523`*^9, {3.697895377851733*^9, 
   3.6978954026411333`*^9}, 
   3.7069417507695208`*^9},ExpressionUUID->"abe9dfab-55c5-4070-9e40-\
8d6b597bce90"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"hkick", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"hkick", "[", 
   RowBox[{"name_", ",", "length_", ",", "kick_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<HKicker\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<KICK\>\"", "\[Rule]", "kick"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549633269878*^9}, {3.6254964305645657`*^9, 
   3.6254964322607355`*^9}, {3.625496511071616*^9, 3.625496511231632*^9}, {
   3.6255085122366123`*^9, 3.6255085126216507`*^9}, {3.6255747883150167`*^9, 
   3.625574788898634*^9}, {3.6255753233600044`*^9, 3.6255753302868896`*^9}, 
   3.697878141704137*^9, 3.6978947734951525`*^9, {3.697895378272933*^9, 
   3.697895402797133*^9}, 
   3.706941751736721*^9},ExpressionUUID->"f20e0913-f0bf-4394-bc30-\
acd22ab0c944"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"vkick", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vkick", "[", 
   RowBox[{"name_", ",", "length_", ",", "kick_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<VKicker\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<KICK\>\"", "\[Rule]", "kick"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549635180169*^9}, {3.625496429285438*^9, 
   3.6254964294614553`*^9}, {3.6254965089114*^9, 3.625496509055414*^9}, 
   3.625508515031892*^9, {3.6255747855849714`*^9, 3.6255747861765895`*^9}, {
   3.625575324751783*^9, 3.625575333558544*^9}, 3.6978781436229863`*^9, 
   3.6978947748553524`*^9, {3.697895378678533*^9, 3.697895402968733*^9}, 
   3.7069417528755207`*^9},ExpressionUUID->"aebcf3c2-37b1-4f05-a215-\
289e0b0a9b77"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"kick", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kick", "[", 
   RowBox[{"name_", ",", "length_", ",", "hkick_", ",", "vkick_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Kicker\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<KICK\>\"", "\[Rule]", "hkick"}], ",", 
      RowBox[{"\"\<VKICK\>\"", "\[Rule]", "vkick"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549635180169*^9}, {3.6254964069802074`*^9, 
   3.6254964659401035`*^9}, {3.6255085169180803`*^9, 
   3.6255085234297314`*^9}, {3.625575093995141*^9, 3.6255750943427105`*^9}, 
   3.697878145719644*^9, 3.697894776884352*^9, {3.697895379507333*^9, 
   3.697895403109133*^9}, 
   3.706941753920721*^9},ExpressionUUID->"7438b58c-1e07-43b7-8fd3-\
07f89a47c7eb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"lcav", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"lcav", "[", "in__", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "elem", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"elem", "=", 
      RowBox[{"rfca", "[", "in", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"SetProperty", "[", 
      RowBox[{"elem", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<PHASE\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{
            RowBox[{"elem", "[", 
             RowBox[{"[", "\"\<CAVITYPHASE\>\"", "]"}], "]"}], "*", "360"}], 
           "+", "90"}]}], ",", 
         RowBox[{"\"\<VOLT\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"elem", "[", 
            RowBox[{"[", "\"\<VOLTAGEGAIN\>\"", "]"}], "]"}], "*", 
           SuperscriptBox["10", "6"]}]}], ",", 
         RowBox[{"\"\<FREQ\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"elem", "[", 
            RowBox[{"[", "\"\<FREQUENCY\>\"", "]"}], "]"}], "*", 
           SuperscriptBox["10", "6"]}]}], ",", 
         RowBox[{"\"\<CAVITYPHASE\>\"", "\[Rule]", "Null"}], ",", 
         RowBox[{"\"\<VOLTAGEGAIN\>\"", "\[Rule]", "Null"}], ",", 
         RowBox[{"\"\<FREQUENCY\>\"", "\[Rule]", "Null"}]}], "}"}]}], 
      "]"}]}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549635180169*^9}, {3.6254964069802074`*^9, 
   3.6254964659401035`*^9}, {3.6254976069361916`*^9, 3.625497639647462*^9}, {
   3.625497801781674*^9, 3.625497816030099*^9}, {3.6254978675432496`*^9, 
   3.6254980132478185`*^9}, {3.625498075690062*^9, 3.6254980980763006`*^9}}],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"rfca", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rfca", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<RFCA\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"convertNames", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"label", "\[Equal]", "\"\<\>\""}], ",", "Null", ",", 
         "label"}], "]"}]}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549635180169*^9}, {3.6254964069802074`*^9, 
   3.6254964659401035`*^9}, {3.6254976069361916`*^9, 3.6254976218796854`*^9}, 
   3.6978781483913126`*^9, {3.6978953813429327`*^9, 3.697895403280733*^9}, 
   3.706941757140321*^9},ExpressionUUID->"33415a9f-8d33-46b1-9d0a-\
51508aaab073"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"profile", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"profile", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"monitor", "[", 
   RowBox[{"name", ",", "length", ",", "label", ",", "extra"}], 
   "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549635180169*^9}, {3.6254964069802074`*^9, 
   3.6254964659401035`*^9}, {3.6254976069361916`*^9, 
   3.6254976218796854`*^9}, {3.679851341338002*^9, 3.6798513899437213`*^9}, 
   3.697878150177765*^9, {3.697895382419333*^9, 3.6978954041231327`*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["String Commands", "Subsection",
 CellChangeTimes->{{3.697975827434395*^9, 3.6979758311863947`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"wrapString", "[", "inputstring_String", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"splitstring", "=", 
       RowBox[{"StringSplit", "[", 
        RowBox[{"inputstring", ",", "\"\<\\n\>\""}], "]"}]}], ",", 
      "stringpos", ",", "wrappedstrings"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"wrappedstrings", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"Block", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"string", "=", "#"}], ",", 
            RowBox[{"string2", "=", "\"\<\>\""}]}], "}"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"StringLength", "[", "string", "]"}], ">", "80"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"stringpos", ":=", 
               RowBox[{"Last", "[", 
                RowBox[{"Select", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"StringPosition", "[", 
                    RowBox[{"string", ",", "\"\<,\>\""}], "]"}], 
                   "\[LeftDoubleBracket]", 
                   RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], ",", 
                  RowBox[{
                   RowBox[{"#", "<", "80"}], "&"}]}], "]"}], "]"}]}], ";", 
              "\[IndentingNewLine]", 
              RowBox[{"While", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"StringLength", "[", "string", "]"}], ">", "80"}], 
                ",", 
                RowBox[{
                 RowBox[{"string2", "=", 
                  RowBox[{"StringJoin", "[", 
                   RowBox[{"string2", ",", 
                    RowBox[{
                    RowBox[{"StringTake", "[", 
                    RowBox[{"string", ",", "stringpos"}], "]"}], "<>", 
                    "\"\<&\\n\>\""}]}], "]"}]}], ";", 
                 RowBox[{"string", "=", 
                  RowBox[{"StringDrop", "[", 
                   RowBox[{"string", ",", "stringpos"}], "]"}]}]}]}], "]"}], 
              ";", "\[IndentingNewLine]", 
              RowBox[{"string2", "=", 
               RowBox[{"StringJoin", "[", 
                RowBox[{"string2", ",", "string"}], "]"}]}]}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"string2", "=", "string"}], ";", "\[IndentingNewLine]", 
              "string2"}]}], "]"}], ";", "\[IndentingNewLine]", 
           RowBox[{"string2", "<>", "\"\<\\n\>\""}]}]}], 
         "\[IndentingNewLine]", "]"}], "&"}], "/@", "splitstring"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"StringJoin", "@@", "wrappedstrings"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.4050713651704445`*^9, 3.405071372779917*^9}, {
   3.4698897007760286`*^9, 3.4698897039947786`*^9}, 3.4698900880260286`*^9, {
   3.6979759057513943`*^9, 3.697975928005395*^9}, 3.6979762988643947`*^9, {
   3.6979766425365944`*^9, 3.6979767331889944`*^9}, {3.7047926328671017`*^9, 
   3.704792649185102*^9}, {3.704792693727502*^9, 3.704792846531702*^9}, {
   3.704792882286902*^9, 3.704792897470502*^9}, {3.7047929837147017`*^9, 
   3.704792985245502*^9}, {3.7047930209027023`*^9, 3.704793025196702*^9}, {
   3.704793107393302*^9, 3.704793137865302*^9}, {3.7047931888397017`*^9, 
   3.704793205833502*^9}, {3.704793242903302*^9, 3.704793279215502*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["MADRules", "Subsection",
 CellChangeTimes->{{3.625466793671544*^9, 3.6254667951665444`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<SectorBend\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<sbend\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
    ",", 
    RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<angle\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<Type\>\""}], ",", "\"\<E1\>\"", 
    ",", "\"\<E2\>\""}], "}"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
  3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
  3.57019748677619*^9}, {3.57019805418019*^9, 3.5701980585471897`*^9}, {
  3.5703455954792376`*^9, 3.5703456402494154`*^9}, {3.570346920979512*^9, 
  3.570346921338315*^9}, {3.5703597243650403`*^9, 3.570359724781082*^9}, {
  3.570359930404642*^9, 3.570359935573159*^9}, {3.5704312894265423`*^9, 
  3.5704312903706365`*^9}, {3.5704320768462763`*^9, 3.5704320925428457`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<Quadrupole\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
    ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345047519*^9}, {3.57019348319319*^9, 
   3.57019348383319*^9}, 3.5701974895281897`*^9, {3.570345600746317*^9, 
   3.5703456148128896`*^9}, {3.570346919325902*^9, 3.5703469315719805`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<Drift\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["ElegantRules", "Subsection",
 CellChangeTimes->{{3.6254667735525446`*^9, 3.6254667763205442`*^9}, 
   3.688718254361676*^9}],

Cell[CellGroupData[{

Cell["From AutoScraper", "Subsubsection",
 CellChangeTimes->{{3.687876065772558*^9, 3.6878760772952023`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ALPH\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<XMAX\>\"", ",", " ", "\"\<XS1\>\"", ",", " ", "\"\<XS2\>\"", ",", 
     " ", "\"\<DP1\>\"", ",", " ", "\"\<DP2\>\"", ",", " ", "\"\<XPUCK\>\"", 
     ",", " ", "\"\<WIDTHPUCK\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<TILT\>\"", ",", 
     " ", "\"\<PART\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717320393176*^9, 3.688718254483676*^9, 
  3.6890755837458*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BGGEXP\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LFIELD\>\"", ",", " ", "\"\<FILENAME\>\"", ",", " ", 
     "\"\<STRENGTH\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", 
     ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<MAXIMUM_M\>\"", ",", " ", "\"\<MAXIMUM_2N\>\"", ",", " ", 
     "\"\<Z_INTERVAL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173212591763`*^9, 3.688718254493676*^9, 
  3.6890755842237997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BMAPXY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<STRENGTH\>\"", ",", " ", "\"\<ACCURACY\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<FILENAME\>\"", ",", " ", "\"\<FX\>\"", 
     ",", " ", "\"\<FY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173221931763`*^9, 3.688718254503676*^9, 
  3.6890755846238*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BMXYZ\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LFIELD\>\"", ",", " ", "\"\<STRENGTH\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<FILENAME\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717322942176*^9, 3.6887182545136757`*^9, 
  3.6890755848938*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BRAT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<ACCURACY\>\"", 
     ",", " ", "\"\<METHOD\>\"", ",", " ", "\"\<FILENAME\>\"", ",", " ", 
     "\"\<XVERTEX\>\"", ",", " ", "\"\<ZVERTEX\>\"", ",", " ", 
     "\"\<XENTRY\>\"", ",", " ", "\"\<ZENTRY\>\"", ",", " ", "\"\<XEXIT\>\"", 
     ",", " ", "\"\<ZEXIT\>\"", ",", " ", "\"\<DXMAP\>\"", ",", " ", 
     "\"\<DZMAP\>\"", ",", " ", "\"\<YAWMAP\>\"", ",", " ", "\"\<FACTOR\>\"", 
     ",", " ", "\"\<USE_FTABLE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717323746176*^9, 3.688718254523676*^9, 
  3.6890755850937996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BUMPER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", 
     " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<TIME_OFFSET\>\"", ",", " ", "\"\<PERIODIC\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<FIRE_ON_PASS\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<WAVEFORM\>\"", ",", " ", 
     "\"\<DEFLECTION_MAP\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717324610176*^9, 3.688718254533676*^9, 
  3.6890755852637997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CENTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X\>\"", ",", " ", "\"\<XP\>\"", ",", " ", "\"\<Y\>\"", ",", " ", 
     "\"\<YP\>\"", ",", " ", "\"\<S\>\"", ",", " ", "\"\<DELTA\>\"", ",", 
     " ", "\"\<T\>\"", ",", " ", "\"\<ONCE_ONLY\>\"", ",", " ", 
     "\"\<ON_PASS\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717325334176*^9, 3.688718254543676*^9, 
  3.6890755854337997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CEPL\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RAMP_TIME\>\"", ",", " ", "\"\<TIME_OFFSET\>\"", ",", " ", 
     "\"\<VOLTAGE\>\"", ",", " ", "\"\<GAP\>\"", ",", " ", 
     "\"\<STATIC_VOLTAGE\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"",
      ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<N_STEPS\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717326192176*^9, 3.6887182545536757`*^9, 
  3.6890755856138*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CHARGE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<TOTAL\>\"", ",", " ", "\"\<PER_PARTICLE\>\"", ",", " ", 
     "\"\<ALLOW_TOTAL_CHANGE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717326966176*^9, 3.688718254563676*^9, 
  3.6890755857637997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CLEAN\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<MODE\>\"", ",", " ", "\"\<XLIMIT\>\"", ",", " ", "\"\<XPLIMIT\>\"", 
     ",", " ", "\"\<YLIMIT\>\"", ",", " ", "\"\<YPLIMIT\>\"", ",", " ", 
     "\"\<TLIMIT\>\"", ",", " ", "\"\<DELTALIMIT\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717327685176*^9, 3.688718254573676*^9, 
  3.6890755859337997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CORGPIPE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RADIUS\>\"", ",", " ", "\"\<PERIOD\>\"", ",", " ", "\"\<GAP\>\"", 
     ",", " ", "\"\<DEPTH\>\"", ",", " ", "\"\<DT\>\"", ",", " ", 
     "\"\<TMAX\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<SMOOTHING\>\"", ",", " ", 
     "\"\<SG_HALFWIDTH\>\"", ",", " ", "\"\<SG_ORDER\>\"", ",", " ", 
     "\"\<CHANGE_P0\>\"", ",", " ", "\"\<ALLOW_LONG_BEAM\>\"", ",", " ", 
     "\"\<RAMP_PASSES\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717328737176*^9, 3.6887182545836763`*^9, 
  3.6890755861038*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<K1\>\"", ",", " ", "\"\<K2\>\"", ",", 
     " ", "\"\<K3\>\"", ",", " ", "\"\<K4\>\"", ",", " ", "\"\<K5\>\"", ",", 
     " ", "\"\<K6\>\"", ",", " ", "\"\<K7\>\"", ",", " ", "\"\<K8\>\"", ",", 
     " ", "\"\<E1\>\"", ",", " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",",
      " ", "\"\<H1\>\"", ",", " ", "\"\<H2\>\"", ",", " ", "\"\<HGAP\>\"", 
     ",", " ", "\"\<FINT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"",
      ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<ETILT\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<NONLINEAR\>\"", ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", 
     "\"\<EDGE1_EFFECTS\>\"", ",", " ", "\"\<EDGE2_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE_ORDER\>\"", ",", " ", "\"\<FRINGE\>\"", ",", " ", 
     "\"\<INTEGRATION_ORDER\>\"", ",", " ", "\"\<EDGE1_KICK_LIMIT\>\"", ",", 
     " ", "\"\<EDGE2_KICK_LIMIT\>\"", ",", " ", "\"\<KICK_LIMIT_SCALING\>\"", 
     ",", " ", "\"\<USE_BN\>\"", ",", " ", "\"\<EXPANSION_ORDER\>\"", ",", 
     " ", "\"\<B1\>\"", ",", " ", "\"\<B2\>\"", ",", " ", "\"\<B3\>\"", ",", 
     " ", "\"\<B4\>\"", ",", " ", "\"\<B5\>\"", ",", " ", "\"\<B6\>\"", ",", 
     " ", "\"\<B7\>\"", ",", " ", "\"\<B8\>\"", ",", " ", 
     "\"\<XREFERENCE\>\"", ",", " ", "\"\<F1\>\"", ",", " ", "\"\<F2\>\"", 
     ",", " ", "\"\<F3\>\"", ",", " ", "\"\<F4\>\"", ",", " ", "\"\<F5\>\"", 
     ",", " ", "\"\<F6\>\"", ",", " ", "\"\<F7\>\"", ",", " ", "\"\<F8\>\"", 
     ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", 
     "\"\<SQRT_ORDER\>\"", ",", " ", "\"\<USE_RAD_DIST\>\"", ",", " ", 
     "\"\<ADD_OPENING_ANGLE\>\"", ",", " ", "\"\<PHOTON_OUTPUT_FILE\>\"", ",",
      " ", "\"\<PHOTON_LOW_ENERGY_CUTOFF\>\"", ",", " ", 
     "\"\<REFERENCE_CORRECTION\>\"", ",", " ", "\"\<TRACKING_MATRIX\>\"", ",",
      " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717330269176*^9, 3.688718254584676*^9, 
  3.6890755862637997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSRCSBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<K1\>\"", ",", " ", "\"\<K2\>\"", ",", 
     " ", "\"\<K3\>\"", ",", " ", "\"\<K4\>\"", ",", " ", "\"\<K5\>\"", ",", 
     " ", "\"\<K6\>\"", ",", " ", "\"\<K7\>\"", ",", " ", "\"\<K8\>\"", ",", 
     " ", "\"\<E1\>\"", ",", " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",",
      " ", "\"\<H1\>\"", ",", " ", "\"\<H2\>\"", ",", " ", "\"\<HGAP\>\"", 
     ",", " ", "\"\<FINT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"",
      ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<ETILT\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<NONLINEAR\>\"", ",", " ", "\"\<LINEARIZE\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<EDGE1_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE2_EFFECTS\>\"", ",", " ", "\"\<EDGE_ORDER\>\"", ",", " ", 
     "\"\<INTEGRATION_ORDER\>\"", ",", " ", "\"\<BINS\>\"", ",", " ", 
     "\"\<BIN_ONCE\>\"", ",", " ", "\"\<BIN_RANGE_FACTOR\>\"", ",", " ", 
     "\"\<SG_HALFWIDTH\>\"", ",", " ", "\"\<SG_ORDER\>\"", ",", " ", 
     "\"\<SGDERIV_HALFWIDTH\>\"", ",", " ", "\"\<SGDERIV_ORDER\>\"", ",", 
     " ", "\"\<TRAPAZOID_INTEGRATION\>\"", ",", " ", "\"\<OUTPUT_FILE\>\"", 
     ",", " ", "\"\<OUTPUT_INTERVAL\>\"", ",", " ", 
     "\"\<OUTPUT_LAST_WAKE_ONLY\>\"", ",", " ", "\"\<STEADY_STATE\>\"", ",", 
     " ", "\"\<IGF\>\"", ",", " ", "\"\<USE_BN\>\"", ",", " ", 
     "\"\<EXPANSION_ORDER\>\"", ",", " ", "\"\<B1\>\"", ",", " ", 
     "\"\<B2\>\"", ",", " ", "\"\<B3\>\"", ",", " ", "\"\<B4\>\"", ",", " ", 
     "\"\<B5\>\"", ",", " ", "\"\<B6\>\"", ",", " ", "\"\<B7\>\"", ",", " ", 
     "\"\<B8\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",",
      " ", "\"\<CSR\>\"", ",", " ", "\"\<BLOCK_CSR\>\"", ",", " ", 
     "\"\<DERBENEV_CRITERION_MODE\>\"", ",", " ", 
     "\"\<PARTICLE_OUTPUT_FILE\>\"", ",", " ", 
     "\"\<PARTICLE_OUTPUT_INTERVAL\>\"", ",", " ", 
     "\"\<SLICE_ANALYSIS_INTERVAL\>\"", ",", " ", 
     "\"\<LOW_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<LOW_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", "\"\<CLIP_NEGATIVE_BINS\>\"",
      ",", " ", "\"\<WAKE_FILTER_FILE\>\"", ",", " ", 
     "\"\<WFF_FREQ_COLUMN\>\"", ",", " ", "\"\<WFF_REAL_COLUMN\>\"", ",", 
     " ", "\"\<WFF_IMAG_COLUMN\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717331692176*^9, 3.688718254615676*^9, 
  3.6890755864337997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSRDRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ATTENUATION_LENGTH\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<SPREAD\>\"", ",", " ", 
     "\"\<USE_OVERTAKING_LENGTH\>\"", ",", " ", "\"\<OL_MULTIPLIER\>\"", ",", 
     " ", "\"\<USE_SALDIN54\>\"", ",", " ", "\"\<SALDIN54POINTS\>\"", ",", 
     " ", "\"\<CSR\>\"", ",", " ", "\"\<SALDIN54NORM_MODE\>\"", ",", " ", 
     "\"\<SPREAD_MODE\>\"", ",", " ", "\"\<WAVELENGTH_MODE\>\"", ",", " ", 
     "\"\<BUNCHLENGTH_MODE\>\"", ",", " ", "\"\<SALDIN54_OUTPUT\>\"", ",", 
     " ", "\"\<USE_STUPAKOV\>\"", ",", " ", "\"\<STUPAKOV_OUTPUT\>\"", ",", 
     " ", "\"\<STUPAKOV_OUTPUT_INTERVAL\>\"", ",", " ", 
     "\"\<SLICE_ANALYSIS_INTERVAL\>\"", ",", " ", "\"\<LINEARIZE\>\"", ",", 
     " ", "\"\<LSC_BINS\>\"", ",", " ", "\"\<LSC_INTERPOLATE\>\"", ",", " ", 
     "\"\<LSC_LOW_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<LSC_LOW_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<LSC_HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<LSC_HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<LSC_RADIUS_FACTOR\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.688717332920176*^9, {3.688717526905176*^9, 3.688717527265176*^9}, 
   3.688718254625676*^9, 3.6890755865937996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CWIGGLER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<B_MAX\>\"", ",", " ", "\"\<BX_MAX\>\"", ",", " ", "\"\<BY_MAX\>\"", 
     ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", 
     ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<PERIODS\>\"", ",", " ", 
     "\"\<STEPS_PER_PERIOD\>\"", ",", " ", "\"\<INTEGRATION_ORDER\>\"", ",", 
     " ", "\"\<BY_FILE\>\"", ",", " ", "\"\<BX_FILE\>\"", ",", " ", 
     "\"\<BY_SPLIT_POLE\>\"", ",", " ", "\"\<BX_SPLIT_POLE\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", 
     "\"\<ISR1PART\>\"", ",", " ", "\"\<SINUSOIDAL\>\"", ",", " ", 
     "\"\<VERTICAL\>\"", ",", " ", "\"\<HELICAL\>\"", ",", " ", 
     "\"\<FORCE_MATCHED\>\"", ",", " ", "\"\<FIELD_OUTPUT\>\"", ",", " ", 
     "\"\<VERBOSITY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173339581757`*^9, 3.688718254635676*^9, 
  3.6890755867437997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<DRIF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<ORDER\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717334698176*^9, 3.6887182546456757`*^9, 
  3.6890755869038*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<DSCATTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<PLANE\>\"", ",", " ", "\"\<FILENAME\>\"", ",", " ", 
     "\"\<VALUENAME\>\"", ",", " ", "\"\<CDFNAME\>\"", ",", " ", 
     "\"\<PDFNAME\>\"", ",", " ", "\"\<ONCEPERPARTICLE\>\"", ",", " ", 
     "\"\<FACTOR\>\"", ",", " ", "\"\<PROBABILITY\>\"", ",", " ", 
     "\"\<GROUPID\>\"", ",", " ", "\"\<RANDOMSIGN\>\"", ",", " ", 
     "\"\<LIMITPERPASS\>\"", ",", " ", "\"\<LIMITTOTAL\>\"", ",", " ", 
     "\"\<STARTONPASS\>\"", ",", " ", "\"\<ENDONPASS\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173356611757`*^9, 3.688718254655676*^9, 
  3.6890755870638*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ECOL\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"", ",", " ", "\"\<DX\>\"", ",", 
     " ", "\"\<DY\>\"", ",", " ", "\"\<OPEN_SIDE\>\"", ",", " ", 
     "\"\<EXPONENT\>\"", ",", " ", "\"\<YEXPONENT\>\"", ",", " ", 
     "\"\<INVERT\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173366541758`*^9, 3.688718254665676*^9, 
  3.6890755872237997`*^9},ExpressionUUID->"0dc3f6e2-6791-484c-99c7-\
c34fdda16843"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElegantRules", "[", "\"\<ECOLLIMATOR\>\"", "]"}], ":=", 
  RowBox[{"ElegantRules", "[", "\"\<ECOL\>\"", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.6887173366541758`*^9, 3.688718254665676*^9, 3.6890755872237997`*^9, {
   3.7076497312945395`*^9, 
   3.7076497360615396`*^9}},ExpressionUUID->"04a023a0-a38e-4518-a38f-\
d74b852a71e7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EDRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717337619176*^9, 3.688718254665676*^9, 
  3.6890755873738*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EHKICK\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KICK\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<CALIBRATION\>\"",
      ",", " ", "\"\<STEERING\>\"", ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717338374176*^9, 3.6887182546756763`*^9, 
  3.6890755875338*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EKICKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<HKICK\>\"", ",", " ", "\"\<VKICK\>\"", ",", " ", "\"\<TILT\>\"", ",",
      " ", "\"\<HCALIBRATION\>\"", ",", " ", "\"\<VCALIBRATION\>\"", ",", 
     " ", "\"\<STEERING\>\"", ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717339222176*^9, 3.688718254685676*^9, 
  3.6890755876938*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ELSE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173400761757`*^9, 3.688718254695676*^9, 
  3.6890755878538*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EMATRIX\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<DZ\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<YAW\>\"", 
     ",", " ", "\"\<PITCH\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<C1\>\"", ",", " ", "\"\<C2\>\"", ",", " ", "\"\<C3\>\"", ",", " ", 
     "\"\<C4\>\"", ",", " ", "\"\<C5\>\"", ",", " ", "\"\<C6\>\"", ",", " ", 
     "\"\<DELTAP\>\"", ",", " ", "\"\<R11\>\"", ",", " ", "\"\<R12\>\"", ",", 
     " ", "\"\<R13\>\"", ",", " ", "\"\<R14\>\"", ",", " ", "\"\<R15\>\"", 
     ",", " ", "\"\<R16\>\"", ",", " ", "\"\<R21\>\"", ",", " ", 
     "\"\<R22\>\"", ",", " ", "\"\<R23\>\"", ",", " ", "\"\<R24\>\"", ",", 
     " ", "\"\<R25\>\"", ",", " ", "\"\<R26\>\"", ",", " ", "\"\<R31\>\"", 
     ",", " ", "\"\<R32\>\"", ",", " ", "\"\<R33\>\"", ",", " ", 
     "\"\<R34\>\"", ",", " ", "\"\<R35\>\"", ",", " ", "\"\<R36\>\"", ",", 
     " ", "\"\<R41\>\"", ",", " ", "\"\<R42\>\"", ",", " ", "\"\<R43\>\"", 
     ",", " ", "\"\<R44\>\"", ",", " ", "\"\<R45\>\"", ",", " ", 
     "\"\<R46\>\"", ",", " ", "\"\<R51\>\"", ",", " ", "\"\<R52\>\"", ",", 
     " ", "\"\<R53\>\"", ",", " ", "\"\<R54\>\"", ",", " ", "\"\<R55\>\"", 
     ",", " ", "\"\<R56\>\"", ",", " ", "\"\<R61\>\"", ",", " ", 
     "\"\<R62\>\"", ",", " ", "\"\<R63\>\"", ",", " ", "\"\<R64\>\"", ",", 
     " ", "\"\<R65\>\"", ",", " ", "\"\<R66\>\"", ",", " ", "\"\<T111\>\"", 
     ",", " ", "\"\<T121\>\"", ",", " ", "\"\<T122\>\"", ",", " ", 
     "\"\<T131\>\"", ",", " ", "\"\<T132\>\"", ",", " ", "\"\<T133\>\"", ",", 
     " ", "\"\<T141\>\"", ",", " ", "\"\<T142\>\"", ",", " ", "\"\<T143\>\"", 
     ",", " ", "\"\<T144\>\"", ",", " ", "\"\<T151\>\"", ",", " ", 
     "\"\<T152\>\"", ",", " ", "\"\<T153\>\"", ",", " ", "\"\<T154\>\"", ",", 
     " ", "\"\<T155\>\"", ",", " ", "\"\<T161\>\"", ",", " ", "\"\<T162\>\"", 
     ",", " ", "\"\<T163\>\"", ",", " ", "\"\<T164\>\"", ",", " ", 
     "\"\<T165\>\"", ",", " ", "\"\<T166\>\"", ",", " ", "\"\<T211\>\"", ",", 
     " ", "\"\<T221\>\"", ",", " ", "\"\<T222\>\"", ",", " ", "\"\<T231\>\"", 
     ",", " ", "\"\<T232\>\"", ",", " ", "\"\<T233\>\"", ",", " ", 
     "\"\<T241\>\"", ",", " ", "\"\<T242\>\"", ",", " ", "\"\<T243\>\"", ",", 
     " ", "\"\<T244\>\"", ",", " ", "\"\<T251\>\"", ",", " ", "\"\<T252\>\"", 
     ",", " ", "\"\<T253\>\"", ",", " ", "\"\<T254\>\"", ",", " ", 
     "\"\<T255\>\"", ",", " ", "\"\<T261\>\"", ",", " ", "\"\<T262\>\"", ",", 
     " ", "\"\<T263\>\"", ",", " ", "\"\<T264\>\"", ",", " ", "\"\<T265\>\"", 
     ",", " ", "\"\<T266\>\"", ",", " ", "\"\<T311\>\"", ",", " ", 
     "\"\<T321\>\"", ",", " ", "\"\<T322\>\"", ",", " ", "\"\<T331\>\"", ",", 
     " ", "\"\<T332\>\"", ",", " ", "\"\<T333\>\"", ",", " ", "\"\<T341\>\"", 
     ",", " ", "\"\<T342\>\"", ",", " ", "\"\<T343\>\"", ",", " ", 
     "\"\<T344\>\"", ",", " ", "\"\<T351\>\"", ",", " ", "\"\<T352\>\"", ",", 
     " ", "\"\<T353\>\"", ",", " ", "\"\<T354\>\"", ",", " ", "\"\<T355\>\"", 
     ",", " ", "\"\<T361\>\"", ",", " ", "\"\<T362\>\"", ",", " ", 
     "\"\<T363\>\"", ",", " ", "\"\<T364\>\"", ",", " ", "\"\<T365\>\"", ",", 
     " ", "\"\<T366\>\"", ",", " ", "\"\<T411\>\"", ",", " ", "\"\<T421\>\"", 
     ",", " ", "\"\<T422\>\"", ",", " ", "\"\<T431\>\"", ",", " ", 
     "\"\<T432\>\"", ",", " ", "\"\<T433\>\"", ",", " ", "\"\<T441\>\"", ",", 
     " ", "\"\<T442\>\"", ",", " ", "\"\<T443\>\"", ",", " ", "\"\<T444\>\"", 
     ",", " ", "\"\<T451\>\"", ",", " ", "\"\<T452\>\"", ",", " ", 
     "\"\<T453\>\"", ",", " ", "\"\<T454\>\"", ",", " ", "\"\<T455\>\"", ",", 
     " ", "\"\<T461\>\"", ",", " ", "\"\<T462\>\"", ",", " ", "\"\<T463\>\"", 
     ",", " ", "\"\<T464\>\"", ",", " ", "\"\<T465\>\"", ",", " ", 
     "\"\<T466\>\"", ",", " ", "\"\<T511\>\"", ",", " ", "\"\<T521\>\"", ",", 
     " ", "\"\<T522\>\"", ",", " ", "\"\<T531\>\"", ",", " ", "\"\<T532\>\"", 
     ",", " ", "\"\<T533\>\"", ",", " ", "\"\<T541\>\"", ",", " ", 
     "\"\<T542\>\"", ",", " ", "\"\<T543\>\"", ",", " ", "\"\<T544\>\"", ",", 
     " ", "\"\<T551\>\"", ",", " ", "\"\<T552\>\"", ",", " ", "\"\<T553\>\"", 
     ",", " ", "\"\<T554\>\"", ",", " ", "\"\<T555\>\"", ",", " ", 
     "\"\<T561\>\"", ",", " ", "\"\<T562\>\"", ",", " ", "\"\<T563\>\"", ",", 
     " ", "\"\<T564\>\"", ",", " ", "\"\<T565\>\"", ",", " ", "\"\<T566\>\"", 
     ",", " ", "\"\<T611\>\"", ",", " ", "\"\<T621\>\"", ",", " ", 
     "\"\<T622\>\"", ",", " ", "\"\<T631\>\"", ",", " ", "\"\<T632\>\"", ",", 
     " ", "\"\<T633\>\"", ",", " ", "\"\<T641\>\"", ",", " ", "\"\<T642\>\"", 
     ",", " ", "\"\<T643\>\"", ",", " ", "\"\<T644\>\"", ",", " ", 
     "\"\<T651\>\"", ",", " ", "\"\<T652\>\"", ",", " ", "\"\<T653\>\"", ",", 
     " ", "\"\<T654\>\"", ",", " ", "\"\<T655\>\"", ",", " ", "\"\<T661\>\"", 
     ",", " ", "\"\<T662\>\"", ",", " ", "\"\<T663\>\"", ",", " ", 
     "\"\<T664\>\"", ",", " ", "\"\<T665\>\"", ",", " ", "\"\<T666\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717341931176*^9, 3.6887182547156763`*^9, 
  3.6890755880137997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EMITTANCE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<EMITX\>\"", ",", " ", "\"\<EMITY\>\"", ",", " ", "\"\<EMITNX\>\"", 
     ",", " ", "\"\<EMITNY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717342678176*^9, 3.688718254725676*^9, 
  3.6890755881737995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ENERGY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CENTRAL_ENERGY\>\"", ",", " ", "\"\<CENTRAL_MOMENTUM\>\"", ",", " ", 
     "\"\<MATCH_BEAMLINE\>\"", ",", " ", "\"\<MATCH_PARTICLES\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717343492176*^9, 3.688718254735676*^9, 
  3.6890755883437996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EVKICK\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KICK\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<CALIBRATION\>\"",
      ",", " ", "\"\<STEERING\>\"", ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717344574176*^9, 3.688718254745676*^9, 
  3.6890755885038*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<FLOOR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X\>\"", ",", " ", "\"\<Y\>\"", ",", " ", "\"\<Z\>\"", ",", " ", 
     "\"\<THETA\>\"", ",", " ", "\"\<PHI\>\"", ",", " ", "\"\<PSI\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173452711763`*^9, 3.6887182547556763`*^9, 
  3.6890755886737995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<FMULT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", 
     "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", 
     " ", "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<FILENAME\>\"", ",", " ", 
     "\"\<SQRT_ORDER\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717346216176*^9, 3.688718254765676*^9, 
  3.6890755888338*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<FRFMODE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FILENAME\>\"", ",", " ", "\"\<BIN_SIZE\>\"", ",", " ", 
     "\"\<N_BINS\>\"", ",", " ", "\"\<RIGID_UNTIL_PASS\>\"", ",", " ", 
     "\"\<USE_SYMM_DATA\>\"", ",", " ", "\"\<FACTOR\>\"", ",", " ", 
     "\"\<CUTOFF\>\"", ",", " ", "\"\<OUTPUT_FILE\>\"", ",", " ", 
     "\"\<FLUSH_INTERVAL\>\"", ",", " ", "\"\<RAMP_PASSES\>\"", ",", " ", 
     "\"\<RESET_FOR_EACH_STEP\>\"", ",", " ", "\"\<LONG_RANGE_ONLY\>\"", ",", 
     " ", "\"\<N_CAVITIES\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717347140176*^9, 3.688718254775676*^9, 
  3.6890755889937997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<FTABLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<L1\>\"", ",", " ", "\"\<L2\>\"", ",", 
     " ", "\"\<E1\>\"", ",", " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",",
      " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", 
     " ", "\"\<FACTOR\>\"", ",", " ", "\"\<THRESHOLD\>\"", ",", " ", 
     "\"\<INPUT_FILE\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<VERBOSE\>\"", ",", " ", "\"\<SIMPLE_INPUT\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173480831757`*^9, 3.688718254785676*^9, 
  3.6890755891737995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<FTRFMODE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FILENAME\>\"", ",", " ", "\"\<BIN_SIZE\>\"", ",", " ", 
     "\"\<N_BINS\>\"", ",", " ", "\"\<RIGID_UNTIL_PASS\>\"", ",", " ", 
     "\"\<USE_SYMM_DATA\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", 
     ",", " ", "\"\<XFACTOR\>\"", ",", " ", "\"\<YFACTOR\>\"", ",", " ", 
     "\"\<CUTOFF\>\"", ",", " ", "\"\<OUTPUT_FILE\>\"", ",", " ", 
     "\"\<FLUSH_INTERVAL\>\"", ",", " ", "\"\<RAMP_PASSES\>\"", ",", " ", 
     "\"\<RESET_FOR_EACH_STEP\>\"", ",", " ", "\"\<LONG_RANGE_ONLY\>\"", ",", 
     " ", "\"\<N_CAVITIES\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717349057176*^9, 3.688718254795676*^9, 
  3.6890755893238*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<GFWIGGLER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<B_MAX\>\"", ",", " ", "\"\<SHIM_SCALE\>\"", ",", " ", "\"\<DX\>\"", 
     ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<TILT\>\"",
      ",", " ", "\"\<PERIODS\>\"", ",", " ", "\"\<STEP\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<END_POLE\>\"", ",", " ", 
     "\"\<SHIM_ON\>\"", ",", " ", "\"\<INPUT_FILE\>\"", ",", " ", 
     "\"\<SHIM_INPUT\>\"", ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", "\"\<X0\>\"", ",",
      " ", "\"\<GAP0\>\"", ",", " ", "\"\<D_GAP\>\"", ",", " ", 
     "\"\<PHASE_1\>\"", ",", " ", "\"\<PHASE_2\>\"", ",", " ", 
     "\"\<PHASE_3\>\"", ",", " ", "\"\<PHASE_4\>\"", ",", " ", 
     "\"\<VERBOSITY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173502381763`*^9, 3.688718254795676*^9, 
  3.6890755894838*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<HISTOGRAM\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<INTERVAL\>\"", ",", " ", "\"\<START_PASS\>\"", ",", " ", 
     "\"\<BINS\>\"", ",", " ", "\"\<FIXED_BIN_SIZE\>\"", ",", " ", 
     "\"\<X_DATA\>\"", ",", " ", "\"\<Y_DATA\>\"", ",", " ", 
     "\"\<LONGIT_DATA\>\"", ",", " ", "\"\<BIN_SIZE_FACTOR\>\"", ",", " ", 
     "\"\<NORMALIZE\>\"", ",", " ", "\"\<DISABLE\>\"", ",", " ", 
     "\"\<SPARSE\>\"", ",", " ", "\"\<START_PID\>\"", ",", " ", 
     "\"\<END_PID\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717351358176*^9, 3.688718254805676*^9, 
  3.6890755896538*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<HKICK\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KICK\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<CALIBRATION\>\"", ",", " ", "\"\<EDGE_EFFECTS\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<STEERING\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717352231176*^9, 3.6887182548156757`*^9, 
  3.6890755898138*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<HMON\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<WEIGHT\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<CALIBRATION\>\"", ",", " ", 
     "\"\<SETPOINT\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<READOUT\>\"", ",", " ", "\"\<CO_FITPOINT\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717353402176*^9, 3.688718254825676*^9, 
  3.6890755899838*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<IBSCATTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FACTOR\>\"", ",", " ", "\"\<DO_X\>\"", ",", " ", "\"\<DO_Y\>\"", ",",
      " ", "\"\<DO_Z\>\"", ",", " ", "\"\<NSLICE\>\"", ",", " ", 
     "\"\<SMOOTH\>\"", ",", " ", "\"\<FORCE_MATCHED_TWISS\>\"", ",", " ", 
     "\"\<ISRING\>\"", ",", " ", "\"\<INTERVAL\>\"", ",", " ", 
     "\"\<FILENAME\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", 
     "\"\<VERBOSE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717354222176*^9, 3.688718254835676*^9, 
  3.6890755901438*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ILMATRIX\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<NUX\>\"", ",", " ", "\"\<NUY\>\"", ",", " ", "\"\<NUX1M\>\"", ",", 
     " ", "\"\<NUY1M\>\"", ",", " ", "\"\<NUX2M\>\"", ",", " ", 
     "\"\<NUY2M\>\"", ",", " ", "\"\<NUX3M\>\"", ",", " ", "\"\<NUY3M\>\"", 
     ",", " ", "\"\<NUX1AX\>\"", ",", " ", "\"\<NUY1AX\>\"", ",", " ", 
     "\"\<NUX1AY\>\"", ",", " ", "\"\<NUY1AY\>\"", ",", " ", "\"\<NUX2AX\>\"",
      ",", " ", "\"\<NUY2AX\>\"", ",", " ", "\"\<NUX2AY\>\"", ",", " ", 
     "\"\<NUY2AY\>\"", ",", " ", "\"\<NUX1AX1AY\>\"", ",", " ", 
     "\"\<NUY1AX1AY\>\"", ",", " ", "\"\<BETAX\>\"", ",", " ", 
     "\"\<BETAY\>\"", ",", " ", "\"\<BETAX1M\>\"", ",", " ", 
     "\"\<BETAY1M\>\"", ",", " ", "\"\<ALPHAX\>\"", ",", " ", 
     "\"\<ALPHAY\>\"", ",", " ", "\"\<ALPHAX1M\>\"", ",", " ", 
     "\"\<ALPHAY1M\>\"", ",", " ", "\"\<ETAX\>\"", ",", " ", "\"\<ETAPX\>\"", 
     ",", " ", "\"\<ETAY\>\"", ",", " ", "\"\<ETAPY\>\"", ",", " ", 
     "\"\<ETAX1\>\"", ",", " ", "\"\<ETAPX1\>\"", ",", " ", "\"\<ETAY1\>\"", 
     ",", " ", "\"\<ETAPY1\>\"", ",", " ", "\"\<ALPHAC\>\"", ",", " ", 
     "\"\<ALPHAC2\>\"", ",", " ", "\"\<ALPHAC3\>\"", ",", " ", 
     "\"\<DS1AX\>\"", ",", " ", "\"\<DS1AY\>\"", ",", " ", "\"\<DS2AX\>\"", 
     ",", " ", "\"\<DS2AY\>\"", ",", " ", "\"\<DS1AX1AY\>\"", ",", " ", 
     "\"\<TILT\>\"", ",", " ", "\"\<CROSS_RESONANCE\>\"", ",", " ", 
     "\"\<VERBOSITY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717355433176*^9, 3.688718254845676*^9, 
  3.6890755903437996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KICKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<HKICK\>\"", ",", " ", "\"\<VKICK\>\"", ",", " ", "\"\<TILT\>\"", ",",
      " ", "\"\<B2\>\"", ",", " ", "\"\<HCALIBRATION\>\"", ",", " ", 
     "\"\<VCALIBRATION\>\"", ",", " ", "\"\<EDGE_EFFECTS\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<STEERING\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717356216176*^9, 3.6887182548556757`*^9, 
  3.6890755904838*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KOCT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K3\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<BORE\>\"", ",", 
     " ", "\"\<B\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<N_KICKS\>\"", 
     ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<SYSTEMATIC_MULTIPOLES\>\"",
      ",", " ", "\"\<RANDOM_MULTIPOLES\>\"", ",", " ", 
     "\"\<INTEGRATION_ORDER\>\"", ",", " ", "\"\<SQRT_ORDER\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", "\"\<GROUP\>\"", 
     ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717357053176*^9, 3.688718254865676*^9, 
  3.6890755906547995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KPOLY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<COEFFICIENT\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", 
     ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<FACTOR\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", "\"\<PLANE\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717357869176*^9, 3.688718254875676*^9, 
  3.6890755907948*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KQUAD\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K1\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<BORE\>\"", ",", 
     " ", "\"\<B\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<HKICK\>\"", 
     ",", " ", "\"\<VKICK\>\"", ",", " ", "\"\<HCALIBRATION\>\"", ",", " ", 
     "\"\<VCALIBRATION\>\"", ",", " ", "\"\<HSTEERING\>\"", ",", " ", 
     "\"\<VSTEERING\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<SYSTEMATIC_MULTIPOLES\>\"", ",", 
     " ", "\"\<EDGE_MULTIPOLES\>\"", ",", " ", "\"\<RANDOM_MULTIPOLES\>\"", 
     ",", " ", "\"\<STEERING_MULTIPOLES\>\"", ",", " ", 
     "\"\<INTEGRATION_ORDER\>\"", ",", " ", "\"\<SQRT_ORDER\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", 
     "\"\<EDGE1_EFFECTS\>\"", ",", " ", "\"\<EDGE2_EFFECTS\>\"", ",", " ", 
     "\"\<LEFFECTIVE\>\"", ",", " ", "\"\<I0P\>\"", ",", " ", "\"\<I1P\>\"", 
     ",", " ", "\"\<I2P\>\"", ",", " ", "\"\<I3P\>\"", ",", " ", 
     "\"\<LAMBDA2P\>\"", ",", " ", "\"\<I0M\>\"", ",", " ", "\"\<I1M\>\"", 
     ",", " ", "\"\<I2M\>\"", ",", " ", "\"\<I3M\>\"", ",", " ", 
     "\"\<LAMBDA2M\>\"", ",", " ", "\"\<EDGE1_LINEAR\>\"", ",", " ", 
     "\"\<EDGE2_LINEAR\>\"", ",", " ", "\"\<EDGE1_NONLINEAR_FACTOR\>\"", ",", 
     " ", "\"\<EDGE2_NONLINEAR_FACTOR\>\"", ",", " ", "\"\<RADIAL\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173591161757`*^9, 3.688718254885676*^9, 
  3.6890755909648*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KQUSE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K1\>\"", ",", " ", "\"\<K2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", 
     "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<FSE1\>\"", ",", " ", "\"\<FSE2\>\"", ",", " ", "\"\<N_KICKS\>\"", 
     ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<INTEGRATION_ORDER\>\"", 
     ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", 
     "\"\<MATRIX_TRACKING\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717359994176*^9, 3.688718254886676*^9, 
  3.6890755911247997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KSBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<K1\>\"", ",", " ", "\"\<K2\>\"", ",", 
     " ", "\"\<K3\>\"", ",", " ", "\"\<K4\>\"", ",", " ", "\"\<E1\>\"", ",", 
     " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<H1\>\"", ",",
      " ", "\"\<H2\>\"", ",", " ", "\"\<HGAP\>\"", ",", " ", "\"\<FINT\>\"", 
     ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", 
     ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<ETILT\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<NONLINEAR\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<EDGE1_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE2_EFFECTS\>\"", ",", " ", "\"\<EDGE_ORDER\>\"", ",", " ", 
     "\"\<PARAXIAL\>\"", ",", " ", "\"\<TRANSPORT\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717360941176*^9, 3.688718254893676*^9, 
  3.6890755912948*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KSEXT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<BORE\>\"", ",", 
     " ", "\"\<B\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<HKICK\>\"", 
     ",", " ", "\"\<VKICK\>\"", ",", " ", "\"\<HCALIBRATION\>\"", ",", " ", 
     "\"\<VCALIBRATION\>\"", ",", " ", "\"\<HSTEERING\>\"", ",", " ", 
     "\"\<VSTEERING\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<SYSTEMATIC_MULTIPOLES\>\"", ",", 
     " ", "\"\<EDGE_MULTIPOLES\>\"", ",", " ", "\"\<RANDOM_MULTIPOLES\>\"", 
     ",", " ", "\"\<STEERING_MULTIPOLES\>\"", ",", " ", 
     "\"\<INTEGRATION_ORDER\>\"", ",", " ", "\"\<SQRT_ORDER\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", "\"\<GROUP\>\"", 
     ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717361982176*^9, 3.688718254903676*^9, 
  3.6890755917148*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<LMIRROR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RX\>\"", ",", " ", "\"\<RY\>\"", ",", " ", "\"\<THETA\>\"", ",", 
     " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<YAW\>\"", ",", " ", "\"\<PITCH\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717362986176*^9, 3.688718254912676*^9, 
  3.6890755919047995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<LRWAKE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<INPUTFILE\>\"", ",", " ", "\"\<TCOLUMN\>\"", ",", " ", 
     "\"\<WXCOLUMN\>\"", ",", " ", "\"\<WYCOLUMN\>\"", ",", " ", 
     "\"\<WZCOLUMN\>\"", ",", " ", "\"\<QXCOLUMN\>\"", ",", " ", 
     "\"\<QYCOLUMN\>\"", ",", " ", "\"\<FACTOR\>\"", ",", " ", 
     "\"\<XFACTOR\>\"", ",", " ", "\"\<YFACTOR\>\"", ",", " ", 
     "\"\<ZFACTOR\>\"", ",", " ", "\"\<QXFACTOR\>\"", ",", " ", 
     "\"\<QYFACTOR\>\"", ",", " ", "\"\<TURNS_TO_KEEP\>\"", ",", " ", 
     "\"\<RAMP_PASSES\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.688717363989176*^9, {3.688717511840176*^9, 3.6887175125501757`*^9}, 
   3.688718254922676*^9, 3.6890755920648*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<LSCDRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LEFFECTIVE\>\"", ",", " ", "\"\<BINS\>\"", ",", " ", 
     "\"\<SMOOTHING\>\"", ",", " ", "\"\<SG_HALFWIDTH\>\"", ",", " ", 
     "\"\<SG_ORDER\>\"", ",", " ", "\"\<INTERPOLATE\>\"", ",", " ", 
     "\"\<LOW_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<LOW_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", "\"\<RADIUS_FACTOR\>\"", ",",
      " ", "\"\<LSC\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173648841763`*^9, 3.6887182549406757`*^9, 
  3.6890755922548*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<LSRMDLTR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<BU\>\"", ",", " ", "\"\<PERIODS\>\"", ",", " ", "\"\<METHOD\>\"", 
     ",", " ", "\"\<FIELD_EXPANSION\>\"", ",", " ", "\"\<ACCURACY\>\"", ",", 
     " ", "\"\<N_STEPS\>\"", ",", " ", "\"\<POLE_FACTOR1\>\"", ",", " ", 
     "\"\<POLE_FACTOR2\>\"", ",", " ", "\"\<POLE_FACTOR3\>\"", ",", " ", 
     "\"\<LASER_WAVELENGTH\>\"", ",", " ", "\"\<LASER_PEAK_POWER\>\"", ",", 
     " ", "\"\<LASER_W0\>\"", ",", " ", "\"\<LASER_PHASE\>\"", ",", " ", 
     "\"\<LASER_X0\>\"", ",", " ", "\"\<LASER_Y0\>\"", ",", " ", 
     "\"\<LASER_Z0\>\"", ",", " ", "\"\<LASER_TILT\>\"", ",", " ", 
     "\"\<LASER_M\>\"", ",", " ", "\"\<LASER_N\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", 
     "\"\<TIME_PROFILE\>\"", ",", " ", "\"\<TIME_OFFSET\>\"", ",", " ", 
     "\"\<HELICAL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173663001757`*^9, 3.688718254950676*^9, 
  3.6890755927447996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<LTHINLENS\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FX\>\"", ",", " ", "\"\<FY\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<TILT\>\"", ",", 
     " ", "\"\<YAW\>\"", ",", " ", "\"\<PITCH\>\"", ",", " ", "\"\<GROUP\>\"",
      ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173670241756`*^9, 3.688718254960676*^9, 
  3.6890755929648*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MAGNIFY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<MX\>\"", ",", " ", "\"\<MXP\>\"", ",", " ", "\"\<MY\>\"", ",", " ", 
     "\"\<MYP\>\"", ",", " ", "\"\<MS\>\"", ",", " ", "\"\<MDP\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717367998176*^9, 3.688718254970676*^9, 
  3.6890755931547995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MALIGN\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DXP\>\"", ",", " ", "\"\<DYP\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<DT\>\"", ",", " ", 
     "\"\<DP\>\"", ",", " ", "\"\<DE\>\"", ",", " ", "\"\<ON_PASS\>\"", ",", 
     " ", "\"\<FORCE_MODIFY_MATRIX\>\"", ",", " ", "\"\<START_PID\>\"", ",", 
     " ", "\"\<END_PID\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717368784176*^9, 3.6887182549806757`*^9, 
  3.6890755934607997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MAPSOLENOID\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<ETILT\>\"", ",", 
     " ", "\"\<EYAW\>\"", ",", " ", "\"\<EPITCH\>\"", ",", " ", 
     "\"\<N_STEPS\>\"", ",", " ", "\"\<INPUTFILE\>\"", ",", " ", 
     "\"\<RCOLUMN\>\"", ",", " ", "\"\<ZCOLUMN\>\"", ",", " ", 
     "\"\<BRCOLUMN\>\"", ",", " ", "\"\<BZCOLUMN\>\"", ",", " ", 
     "\"\<FACTOR\>\"", ",", " ", "\"\<BXUNIFORM\>\"", ",", " ", 
     "\"\<BYUNIFORM\>\"", ",", " ", "\"\<LUNIFORM\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717369644176*^9, 3.688718254990676*^9, 
  3.6890755936807995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MARK\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<FITPOINT\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717370506176*^9, 3.688718255000676*^9, 
  3.6890755939807997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MATR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<ORDER\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717371170176*^9, 3.688718255010676*^9, 
  3.6890755942538*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MATTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LEFFECTIVE\>\"", ",", " ", "\"\<XO\>\"", ",", " ", 
     "\"\<ENERGY_DECAY\>\"", ",", " ", "\"\<ENERGY_STRAGGLE\>\"", ",", " ", 
     "\"\<NUCLEAR_BREMSSTRAHLUNG\>\"", ",", " ", "\"\<ELECTRON_RECOIL\>\"", 
     ",", " ", "\"\<Z\>\"", ",", " ", "\"\<A\>\"", ",", " ", "\"\<RHO\>\"", 
     ",", " ", "\"\<PLIMIT\>\"", ",", " ", "\"\<WIDTH\>\"", ",", " ", 
     "\"\<SPACING\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<CENTER\>\"", 
     ",", " ", "\"\<N_SLOTS\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717372115176*^9, 3.6887182550206757`*^9, 
  3.6890755944637995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MAXAMP\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"", ",", " ", 
     "\"\<ELLIPTICAL\>\"", ",", " ", "\"\<EXPONENT\>\"", ",", " ", 
     "\"\<YEXPONENT\>\"", ",", " ", "\"\<OPEN_SIDE\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173728841763`*^9, 3.688718255030676*^9, 
  3.6890755949337997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MBUMPER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<STRENGTH\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",",
      " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<TIME_OFFSET\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<PERIODIC\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<FIRE_ON_PASS\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<WAVEFORM\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717373864176*^9, 3.688718255030676*^9, 
  3.6890755951337996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MHISTOGRAM\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FILE1D\>\"", ",", " ", "\"\<FILE2DH\>\"", ",", " ", 
     "\"\<FILE2DV\>\"", ",", " ", "\"\<FILE2DL\>\"", ",", " ", 
     "\"\<FILE4D\>\"", ",", " ", "\"\<FILE6D\>\"", ",", " ", 
     "\"\<INPUT_BINS\>\"", ",", " ", "\"\<INTERVAL\>\"", ",", " ", 
     "\"\<START_PASS\>\"", ",", " ", "\"\<NORMALIZE\>\"", ",", " ", 
     "\"\<DISABLE\>\"", ",", " ", "\"\<LUMPED\>\"", ",", " ", "\"\<GROUP\>\"",
      ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717374813176*^9, 3.688718255040676*^9, 
  3.6890755953138*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MODRF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<VOLT\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", "\"\<FREQ\>\"", ",", 
     " ", "\"\<Q\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<AMMAG\>\"", ",", " ", "\"\<AMPHASE\>\"", ",", " ", "\"\<AMFREQ\>\"",
      ",", " ", "\"\<AMDECAY\>\"", ",", " ", "\"\<PMMAG\>\"", ",", " ", 
     "\"\<PMPHASE\>\"", ",", " ", "\"\<PMFREQ\>\"", ",", " ", 
     "\"\<PMDECAY\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717375637176*^9, 3.6887182550506763`*^9, 
  3.6890755955338*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MONI\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<WEIGHT\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<XCALIBRATION\>\"", ",", " ", 
     "\"\<YCALIBRATION\>\"", ",", " ", "\"\<XSETPOINT\>\"", ",", " ", 
     "\"\<YSETPOINT\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<XREADOUT\>\"", ",", " ", "\"\<YREADOUT\>\"", ",", " ", 
     "\"\<CO_FITPOINT\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173764291763`*^9, 3.688718255060676*^9, 
  3.6890755957257996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MRFDF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FACTOR\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<A1\>\"", ",", 
     " ", "\"\<A2\>\"", ",", " ", "\"\<A3\>\"", ",", " ", "\"\<A4\>\"", ",", 
     " ", "\"\<A5\>\"", ",", " ", "\"\<B1\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<B3\>\"", ",", " ", "\"\<B4\>\"", ",", " ", "\"\<B5\>\"", ",", 
     " ", "\"\<FREQUENCY1\>\"", ",", " ", "\"\<FREQUENCY2\>\"", ",", " ", 
     "\"\<FREQUENCY3\>\"", ",", " ", "\"\<FREQUENCY4\>\"", ",", " ", 
     "\"\<FREQUENCY5\>\"", ",", " ", "\"\<PHASE1\>\"", ",", " ", 
     "\"\<PHASE2\>\"", ",", " ", "\"\<PHASE3\>\"", ",", " ", "\"\<PHASE4\>\"",
      ",", " ", "\"\<PHASE5\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173772791758`*^9, 3.688718255070676*^9, 
  3.6890755958957996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MULT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KNL\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<BORE\>\"", ",", 
     " ", "\"\<BTIPL\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", 
     ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FACTOR\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173781861763`*^9, 3.688718255080676*^9, 
  3.6890755964178*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<NIBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<E1\>\"", ",", " ", "\"\<E2\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",",
      " ", "\"\<DZ\>\"", ",", " ", "\"\<FINT\>\"", ",", " ", "\"\<HGAP\>\"", 
     ",", " ", "\"\<FP1\>\"", ",", " ", "\"\<FP2\>\"", ",", " ", 
     "\"\<FP3\>\"", ",", " ", "\"\<FP4\>\"", ",", " ", "\"\<FSE\>\"", ",", 
     " ", "\"\<ETILT\>\"", ",", " ", "\"\<ACCURACY\>\"", ",", " ", 
     "\"\<MODEL\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ADJUST_BOUNDARY\>\"", ",", " ", 
     "\"\<ADJUST_FIELD\>\"", ",", " ", "\"\<FUDGE_PATH_LENGTH\>\"", ",", " ", 
     "\"\<FRINGE_POSITION\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.6887173791681757`*^9, {3.6887175047921762`*^9, 3.688717505790176*^9}, 
   3.688718255081676*^9, 3.6890755966177998`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<NISEPT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<E1\>\"", ",", " ", "\"\<B1\>\"", ",", 
     " ", "\"\<Q1REF\>\"", ",", " ", "\"\<FLEN\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<MODEL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173800241756`*^9, 3.688718255084676*^9, 
  3.6890755967878*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<OCTU\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K3\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717380733176*^9, 3.688718255108676*^9, 
  3.6890755972478*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<PEPPOT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RADII\>\"", ",", " ", "\"\<TRANSMISSION\>\"", ",", " ", 
     "\"\<TILT\>\"", ",", " ", "\"\<THETA_RMS\>\"", ",", " ", 
     "\"\<N_HOLES\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717381397176*^9, 3.688718255118676*^9, 
  3.6890755974477997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<PFILTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DELTALIMIT\>\"", ",", " ", "\"\<LOWERFRACTION\>\"", ",", " ", 
     "\"\<UPPERFRACTION\>\"", ",", " ", "\"\<FIXPLIMITS\>\"", ",", " ", 
     "\"\<BEAMCENTERED\>\"", ",", " ", "\"\<BINS\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717382173176*^9, 3.688718255128676*^9, 
  3.6890755976077995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<QUAD\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K1\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<HKICK\>\"", ",", " ", "\"\<VKICK\>\"", ",", " ", 
     "\"\<HCALIBRATION\>\"", ",", " ", "\"\<VCALIBRATION\>\"", ",", " ", 
     "\"\<HSTEERING\>\"", ",", " ", "\"\<VSTEERING\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<EDGE1_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE2_EFFECTS\>\"", ",", " ", "\"\<FRINGE_TYPE\>\"", ",", " ", 
     "\"\<FFRINGE\>\"", ",", " ", "\"\<LEFFECTIVE\>\"", ",", " ", 
     "\"\<I0P\>\"", ",", " ", "\"\<I1P\>\"", ",", " ", "\"\<I2P\>\"", ",", 
     " ", "\"\<I3P\>\"", ",", " ", "\"\<LAMBDA2P\>\"", ",", " ", 
     "\"\<I0M\>\"", ",", " ", "\"\<I1M\>\"", ",", " ", "\"\<I2M\>\"", ",", 
     " ", "\"\<I3M\>\"", ",", " ", "\"\<LAMBDA2M\>\"", ",", " ", 
     "\"\<RADIAL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173841091757`*^9, 3.6887182551386757`*^9, 
  3.6890755980478*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<QUFRINGE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K1\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<DIRECTION\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717384857176*^9, 3.688718255158676*^9, 
  3.6890755982517996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RAMPP\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<WAVEFORM\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717385606176*^9, 3.6887182551786757`*^9, 
  3.6890755986818*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RAMPRF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<VOLT\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", "\"\<FREQ\>\"", ",", 
     " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<VOLT_WAVEFORM\>\"", ",", 
     " ", "\"\<PHASE_WAVEFORM\>\"", ",", " ", "\"\<FREQ_WAVEFORM\>\"", ",", 
     " ", "\"\<FIDUCIAL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717386673176*^9, 3.688718255188676*^9, 
  3.6890755988918*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RBEN\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<K1\>\"", ",", " ", "\"\<E1\>\"", ",", 
     " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<K2\>\"", ",",
      " ", "\"\<H1\>\"", ",", " ", "\"\<H2\>\"", ",", " ", "\"\<HGAP\>\"", 
     ",", " ", "\"\<FINT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"",
      ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<ETILT\>\"", ",", " ", "\"\<EDGE1_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE2_EFFECTS\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<EDGE_ORDER\>\"", ",", " ", "\"\<TRANSPORT\>\"", ",", " ", 
     "\"\<USE_BN\>\"", ",", " ", "\"\<B1\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717387789176*^9, 3.688718255198676*^9, 
  3.6890755992637997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RCOL\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"", ",", " ", "\"\<DX\>\"", ",", 
     " ", "\"\<DY\>\"", ",", " ", "\"\<OPEN_SIDE\>\"", ",", " ", 
     "\"\<INVERT\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717388638176*^9, 3.6887182552086763`*^9, 
  3.6890755994637995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RECIRC\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717389329176*^9, 3.688718255218676*^9, 
  3.6890755996337996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<REFLECT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717390309176*^9, 3.688718255228676*^9, 
  3.6890755997827997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<REMCOR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X\>\"", ",", " ", "\"\<XP\>\"", ",", " ", "\"\<Y\>\"", ",", " ", 
     "\"\<YP\>\"", ",", " ", "\"\<WITH\>\"", ",", " ", "\"\<ONCE_ONLY\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717390974176*^9, 3.688718255228676*^9, 
  3.6890755999537997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFCA\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<VOLT\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", "\"\<FREQ\>\"", ",", 
     " ", "\"\<Q\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<CHANGE_P0\>\"", ",", " ", "\"\<CHANGE_T\>\"", ",", " ", 
     "\"\<FIDUCIAL\>\"", ",", " ", "\"\<END1_FOCUS\>\"", ",", " ", 
     "\"\<END2_FOCUS\>\"", ",", " ", "\"\<BODY_FOCUS_MODEL\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<T_REFERENCE\>\"", ",", " ", "\"\<LINEARIZE\>\"", ",", " ", 
     "\"\<LOCK_PHASE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717391860176*^9, 3.6887182552486763`*^9, 
  3.6890756003238*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFCW\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CELL_LENGTH\>\"", ",", " ", "\"\<VOLT\>\"", ",", " ", 
     "\"\<PHASE\>\"", ",", " ", "\"\<FREQ\>\"", ",", " ", "\"\<Q\>\"", ",", 
     " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<CHANGE_P0\>\"", ",", " ", 
     "\"\<CHANGE_T\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<END1_FOCUS\>\"", ",", " ", "\"\<END2_FOCUS\>\"", ",", " ", 
     "\"\<BODY_FOCUS_MODEL\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<ZWAKE\>\"", ",", " ", "\"\<TRWAKE\>\"", ",", " ", 
     "\"\<WAKEFILE\>\"", ",", " ", "\"\<ZWAKEFILE\>\"", ",", " ", 
     "\"\<TRWAKEFILE\>\"", ",", " ", "\"\<TCOLUMN\>\"", ",", " ", 
     "\"\<WXCOLUMN\>\"", ",", " ", "\"\<WYCOLUMN\>\"", ",", " ", 
     "\"\<WZCOLUMN\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<SMOOTHING\>\"", ",", " ", 
     "\"\<SG_HALFWIDTH\>\"", ",", " ", "\"\<SG_ORDER\>\"", ",", " ", 
     "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<LINEARIZE\>\"", ",",
      " ", "\"\<LSC\>\"", ",", " ", "\"\<LSC_BINS\>\"", ",", " ", 
     "\"\<LSC_INTERPOLATE\>\"", ",", " ", "\"\<LSC_LOW_FREQUENCY_CUTOFF0\>\"",
      ",", " ", "\"\<LSC_LOW_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<LSC_HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<LSC_HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<LSC_RADIUS_FACTOR\>\"", ",", " ", "\"\<WAKES_AT_END\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173935431757`*^9, 3.688718255258676*^9, 
  3.6890756004937997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFDF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<PHASE\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<FREQUENCY\>\"", 
     ",", " ", "\"\<VOLTAGE\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<B2\>\"", ",", " ", "\"\<TIME_OFFSET\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<STANDING_WAVE\>\"", ",", " ", "\"\<VOLTAGE_WAVEFORM\>\"", ",", " ", 
     "\"\<VOLTAGE_PERIODIC\>\"", ",", " ", "\"\<ALIGN_WAVEFORMS\>\"", ",", 
     " ", "\"\<VOLTAGE_NOISE\>\"", ",", " ", "\"\<PHASE_NOISE\>\"", ",", " ", 
     "\"\<GROUP_VOLTAGE_NOISE\>\"", ",", " ", "\"\<GROUP_PHASE_NOISE\>\"", 
     ",", " ", "\"\<VOLTAGE_NOISE_GROUP\>\"", ",", " ", 
     "\"\<PHASE_NOISE_GROUP\>\"", ",", " ", "\"\<START_PASS\>\"", ",", " ", 
     "\"\<END_PASS\>\"", ",", " ", "\"\<DRIFT_MATRIX\>\"", ",", " ", 
     "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<MAGNETIC_DEFLECTION\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717394802176*^9, 3.688718255268676*^9, 
  3.6890756009737997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFMODE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RA\>\"", ",", " ", "\"\<RS\>\"", ",", " ", "\"\<Q\>\"", ",", " ", 
     "\"\<FREQ\>\"", ",", " ", "\"\<CHARGE\>\"", ",", " ", 
     "\"\<INITIAL_V\>\"", ",", " ", "\"\<INITIAL_PHASE\>\"", ",", " ", 
     "\"\<INITIAL_T\>\"", ",", " ", "\"\<BETA\>\"", ",", " ", 
     "\"\<BIN_SIZE\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<PRELOAD\>\"", ",", " ", 
     "\"\<PRELOAD_CHARGE\>\"", ",", " ", "\"\<PRELOAD_FACTOR\>\"", ",", " ", 
     "\"\<PRELOAD_HARMONIC\>\"", ",", " ", "\"\<RIGID_UNTIL_PASS\>\"", ",", 
     " ", "\"\<DETUNED_UNTIL_PASS\>\"", ",", " ", "\"\<SAMPLE_INTERVAL\>\"", 
     ",", " ", "\"\<FLUSH_INTERVAL\>\"", ",", " ", "\"\<RECORD\>\"", ",", 
     " ", "\"\<SINGLE_PASS\>\"", ",", " ", "\"\<PASS_INTERVAL\>\"", ",", " ", 
     "\"\<FREQ_WAVEFORM\>\"", ",", " ", "\"\<Q_WAVEFORM\>\"", ",", " ", 
     "\"\<RAMP_PASSES\>\"", ",", " ", "\"\<BINLESS\>\"", ",", " ", 
     "\"\<RESET_FOR_EACH_STEP\>\"", ",", " ", "\"\<LONG_RANGE_ONLY\>\"", ",", 
     " ", "\"\<N_CAVITIES\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", 
     " ", "\"\<BUNCH_INTERVAL\>\"", ",", " ", "\"\<DRIVE_FREQUENCY\>\"", ",", 
     " ", "\"\<V_SETPOINT\>\"", ",", " ", "\"\<PHASE_SETPOINT\>\"", ",", " ", 
     "\"\<UPDATE_INTERVAL\>\"", ",", " ", "\"\<AMPLITUDE_FILTER\>\"", ",", 
     " ", "\"\<PHASE_FILTER\>\"", ",", " ", "\"\<IN_PHASE_FILTER\>\"", ",", 
     " ", "\"\<QUADRATURE_FILTER\>\"", ",", " ", "\"\<FEEDBACK_RECORD\>\"", 
     ",", " ", "\"\<MUTE_GENERATOR\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717396302176*^9, 3.688718255278676*^9, 
  3.6890756011837997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFTM110\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<PHASE\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<FREQUENCY\>\"", 
     ",", " ", "\"\<VOLTAGE\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", 
     " ", "\"\<VOLTAGE_WAVEFORM\>\"", ",", " ", "\"\<VOLTAGE_PERIODIC\>\"", 
     ",", " ", "\"\<ALIGN_WAVEFORMS\>\"", ",", " ", "\"\<VOLTAGE_NOISE\>\"", 
     ",", " ", "\"\<PHASE_NOISE\>\"", ",", " ", "\"\<GROUP_VOLTAGE_NOISE\>\"",
      ",", " ", "\"\<GROUP_PHASE_NOISE\>\"", ",", " ", 
     "\"\<VOLTAGE_NOISE_GROUP\>\"", ",", " ", "\"\<PHASE_NOISE_GROUP\>\"", 
     ",", " ", "\"\<START_PASS\>\"", ",", " ", "\"\<END_PASS\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717397993176*^9, 3.688718255278676*^9, 
  3.6890756013437996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFTMEZ0\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FREQUENCY\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", 
     "\"\<EZ_PEAK\>\"", ",", " ", "\"\<TIME_OFFSET\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<ETILT\>\"", ",", 
     " ", "\"\<EYAW\>\"", ",", " ", "\"\<EPITCH\>\"", ",", " ", 
     "\"\<N_STEPS\>\"", ",", " ", "\"\<RADIAL_ORDER\>\"", ",", " ", 
     "\"\<CHANGE_P0\>\"", ",", " ", "\"\<INPUTFILE\>\"", ",", " ", 
     "\"\<ZCOLUMN\>\"", ",", " ", "\"\<EZCOLUMN\>\"", ",", " ", 
     "\"\<SOLENOID_FILE\>\"", ",", " ", "\"\<SOLENOID_ZCOLUMN\>\"", ",", " ", 
     "\"\<SOLENOID_RCOLUMN\>\"", ",", " ", "\"\<SOLENOID_BZCOLUMN\>\"", ",", 
     " ", "\"\<SOLENOID_BRCOLUMN\>\"", ",", " ", "\"\<SOLENOID_FACTOR\>\"", 
     ",", " ", "\"\<SOLENOID_DX\>\"", ",", " ", "\"\<SOLENOID_DY\>\"", ",", 
     " ", "\"\<SOLENOID_DZ\>\"", ",", " ", "\"\<SOLENOID_ETILT\>\"", ",", 
     " ", "\"\<SOLENOID_EYAW\>\"", ",", " ", "\"\<SOLENOID_EPITCH\>\"", ",", 
     " ", "\"\<BX_STRAY\>\"", ",", " ", "\"\<BY_STRAY\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<FIDUCIAL\>\"", ",", " ", "\"\<FIELD_TEST_FILE\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173991021757`*^9, 3.6887182552886763`*^9, 
  3.6890756015137997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RIMULT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<FACTOR\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887173998301764`*^9, 3.688718255298676*^9, 
  3.6890756019768*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RMDF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<TILT\>\"", ",", " ", "\"\<RAMP_TIME\>\"", ",", " ", 
     "\"\<VOLTAGE\>\"", ",", " ", "\"\<GAP\>\"", ",", " ", 
     "\"\<TIME_OFFSET\>\"", ",", " ", "\"\<N_SECTIONS\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717400553176*^9, 3.688718255308676*^9, 
  3.6890756021568*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ROTATE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<TILT\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887174012261763`*^9, 3.688718255318676*^9, 
  3.6890756023268*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SAMPLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FRACTION\>\"", ",", " ", "\"\<INTERVAL\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717401864176*^9, 3.688718255328676*^9, 
  3.6890756024768*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SBEN\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<K1\>\"", ",", " ", "\"\<E1\>\"", ",", 
     " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<K2\>\"", ",",
      " ", "\"\<H1\>\"", ",", " ", "\"\<H2\>\"", ",", " ", "\"\<HGAP\>\"", 
     ",", " ", "\"\<FINT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"",
      ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<ETILT\>\"", ",", " ", "\"\<EDGE1_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE2_EFFECTS\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<EDGE_ORDER\>\"", ",", " ", "\"\<TRANSPORT\>\"", ",", " ", 
     "\"\<USE_BN\>\"", ",", " ", "\"\<B1\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717403751176*^9, 3.6887182553296757`*^9, 
  3.6890756028268*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SCATTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X\>\"", ",", " ", "\"\<XP\>\"", ",", " ", "\"\<Y\>\"", ",", " ", 
     "\"\<YP\>\"", ",", " ", "\"\<DP\>\"", ",", " ", "\"\<PROBABILITY\>\"", 
     ",", " ", "\"\<STARTONPASS\>\"", ",", " ", "\"\<ENDONPASS\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717404666176*^9, 3.6887182553416758`*^9, 
  3.6890756030058*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SCMULT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887174054691763`*^9, 3.688718255351676*^9, 
  3.6890756031758*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SCRAPER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<XO\>\"", ",", " ", "\"\<ENERGY_DECAY\>\"", ",", " ", 
     "\"\<ENERGY_STRAGGLE\>\"", ",", " ", "\"\<NUCLEAR_BREMSSTRAHLUNG\>\"", 
     ",", " ", "\"\<ELECTRON_RECOIL\>\"", ",", " ", "\"\<Z\>\"", ",", " ", 
     "\"\<A\>\"", ",", " ", "\"\<RHO\>\"", ",", " ", "\"\<PLIMIT\>\"", ",", 
     " ", "\"\<POSITION\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", 
     ",", " ", "\"\<INSERT_FROM\>\"", ",", " ", "\"\<DIRECTION\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887174062451763`*^9, 3.688718255361676*^9, 
  3.6890756037497997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SCRIPT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<COMMAND\>\"", ",", " ", "\"\<USE_CSH\>\"", ",", " ", 
     "\"\<VERBOSITY\>\"", ",", " ", "\"\<START_PASS\>\"", ",", " ", 
     "\"\<END_PASS\>\"", ",", " ", "\"\<PASS_INTERVAL\>\"", ",", " ", 
     "\"\<ON_PASS\>\"", ",", " ", "\"\<DIRECTORY\>\"", ",", " ", 
     "\"\<ROOTNAME\>\"", ",", " ", "\"\<INPUT_EXTENSION\>\"", ",", " ", 
     "\"\<OUTPUT_EXTENSION\>\"", ",", " ", "\"\<KEEP_FILES\>\"", ",", " ", 
     "\"\<DRIFT_MATRIX\>\"", ",", " ", "\"\<USE_PARTICLE_ID\>\"", ",", " ", 
     "\"\<NO_NEW_PARTICLES\>\"", ",", " ", "\"\<NP0\>\"", ",", " ", 
     "\"\<NP1\>\"", ",", " ", "\"\<NP2\>\"", ",", " ", "\"\<NP3\>\"", ",", 
     " ", "\"\<NP4\>\"", ",", " ", "\"\<NP5\>\"", ",", " ", "\"\<NP6\>\"", 
     ",", " ", "\"\<NP7\>\"", ",", " ", "\"\<NP8\>\"", ",", " ", 
     "\"\<NP9\>\"", ",", " ", "\"\<SP0\>\"", ",", " ", "\"\<SP1\>\"", ",", 
     " ", "\"\<SP2\>\"", ",", " ", "\"\<SP3\>\"", ",", " ", "\"\<SP4\>\"", 
     ",", " ", "\"\<SP5\>\"", ",", " ", "\"\<SP6\>\"", ",", " ", 
     "\"\<SP7\>\"", ",", " ", "\"\<SP8\>\"", ",", " ", "\"\<SP9\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.6887174077851763`*^9, {3.688717493442176*^9, 3.688717494182176*^9}, 
   3.688718255371676*^9, 3.6890756039298*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SEXT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<FFRINGE\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", "\"\<GROUP\>\"", 
     ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887174084761763`*^9, 3.6887182553816757`*^9, 
  3.6890756040998*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SOLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KS\>\"", ",", " ", "\"\<B\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<ORDER\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887174092921762`*^9, 3.688718255391676*^9, 
  3.6890756044937997`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SREFFECTS\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<JX\>\"", ",", " ", "\"\<JY\>\"", ",", " ", "\"\<JDELTA\>\"", ",", 
     " ", "\"\<EXREF\>\"", ",", " ", "\"\<EYREF\>\"", ",", " ", 
     "\"\<SDELTAREF\>\"", ",", " ", "\"\<DDELTAREF\>\"", ",", " ", 
     "\"\<PREF\>\"", ",", " ", "\"\<COUPLING\>\"", ",", " ", 
     "\"\<FRACTION\>\"", ",", " ", "\"\<DAMPING\>\"", ",", " ", 
     "\"\<QEXCITATION\>\"", ",", " ", "\"\<LOSSES\>\"", ",", " ", 
     "\"\<CUTOFF\>\"", ",", " ", "\"\<INCLUDE_OFFSETS\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.6887174103001757`*^9, {3.688717483157176*^9, 3.6887174843371763`*^9}, 
   3.688718255401676*^9, 3.6890756046737995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<STRAY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LBX\>\"", ",", " ", "\"\<LBY\>\"", ",", " ", "\"\<GBX\>\"", ",", 
     " ", "\"\<GBY\>\"", ",", " ", "\"\<GBZ\>\"", ",", " ", "\"\<ORDER\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717410994176*^9, 3.688718255411676*^9, 
  3.6890756048338*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TFBDRIVER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ID\>\"", ",", " ", "\"\<STRENGTH\>\"", ",", " ", 
     "\"\<KICK_LIMIT\>\"", ",", " ", "\"\<DELAY\>\"", ",", " ", 
     "\"\<LONGITUDINAL\>\"", ",", " ", "\"\<OUTPUT_FILE\>\"", ",", " ", 
     "\"\<A0\>\"", ",", " ", "\"\<A1\>\"", ",", " ", "\"\<A2\>\"", ",", " ", 
     "\"\<A3\>\"", ",", " ", "\"\<A4\>\"", ",", " ", "\"\<A5\>\"", ",", " ", 
     "\"\<A6\>\"", ",", " ", "\"\<A7\>\"", ",", " ", "\"\<A8\>\"", ",", " ", 
     "\"\<A9\>\"", ",", " ", "\"\<A10\>\"", ",", " ", "\"\<A11\>\"", ",", 
     " ", "\"\<A12\>\"", ",", " ", "\"\<A13\>\"", ",", " ", "\"\<A14\>\"", 
     ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", 
     "\"\<UPDATE_INTERVAL\>\"", ",", " ", "\"\<OUTPUT_INTERVAL\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717412078176*^9, 3.6887182554216757`*^9, 
  3.6890756050238*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TFBPICKUP\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ID\>\"", ",", " ", "\"\<PLANE\>\"", ",", " ", "\"\<RMS_NOISE\>\"", 
     ",", " ", "\"\<A0\>\"", ",", " ", "\"\<A1\>\"", ",", " ", "\"\<A2\>\"", 
     ",", " ", "\"\<A3\>\"", ",", " ", "\"\<A4\>\"", ",", " ", "\"\<A5\>\"", 
     ",", " ", "\"\<A6\>\"", ",", " ", "\"\<A7\>\"", ",", " ", "\"\<A8\>\"", 
     ",", " ", "\"\<A9\>\"", ",", " ", "\"\<A10\>\"", ",", " ", "\"\<A11\>\"",
      ",", " ", "\"\<A12\>\"", ",", " ", "\"\<A13\>\"", ",", " ", 
     "\"\<A14\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", 
     "\"\<UPDATE_INTERVAL\>\"", ",", " ", "\"\<REFERENCE_FREQUENCY\>\"", ",", 
     " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<GROUP\>\"", 
     ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717413130176*^9, 3.688718255431676*^9, 
  3.6890756055438*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TMCF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FREQUENCY\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", 
     "\"\<TIME_OFFSET\>\"", ",", " ", "\"\<RADIAL_OFFSET\>\"", ",", " ", 
     "\"\<TILT\>\"", ",", " ", "\"\<ER\>\"", ",", " ", "\"\<BPHI\>\"", ",", 
     " ", "\"\<EZ\>\"", ",", " ", "\"\<ACCURACY\>\"", ",", " ", 
     "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"", ",", " ", "\"\<DX\>\"", ",", 
     " ", "\"\<DY\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<N_STEPS\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<FIDUCIAL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887174138781757`*^9, 3.688718255431676*^9, 
  3.6890756057137995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TRCOUNT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717414680176*^9, 3.688718255441676*^9, 
  3.6890756058837996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TRFMODE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RA\>\"", ",", " ", "\"\<RS\>\"", ",", " ", "\"\<Q\>\"", ",", " ", 
     "\"\<FREQ\>\"", ",", " ", "\"\<CHARGE\>\"", ",", " ", "\"\<BETA\>\"", 
     ",", " ", "\"\<BIN_SIZE\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<PLANE\>\"", ",", " ", 
     "\"\<SAMPLE_INTERVAL\>\"", ",", " ", "\"\<PER_PARTICLE_OUTPUT\>\"", ",", 
     " ", "\"\<RECORD\>\"", ",", " ", "\"\<SINGLE_PASS\>\"", ",", " ", 
     "\"\<RIGID_UNTIL_PASS\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<XFACTOR\>\"", ",", " ", "\"\<YFACTOR\>\"", 
     ",", " ", "\"\<RAMP_PASSES\>\"", ",", " ", "\"\<BINLESS\>\"", ",", " ", 
     "\"\<RESET_FOR_EACH_STEP\>\"", ",", " ", "\"\<LONG_RANGE_ONLY\>\"", ",", 
     " ", "\"\<N_CAVITIES\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887174160761757`*^9, 3.688718255451676*^9, 
  3.6890756063738*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TRWAKE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<INPUTFILE\>\"", ",", " ", "\"\<TCOLUMN\>\"", ",", " ", 
     "\"\<WXCOLUMN\>\"", ",", " ", "\"\<WYCOLUMN\>\"", ",", " ", 
     "\"\<CHARGE\>\"", ",", " ", "\"\<FACTOR\>\"", ",", " ", 
     "\"\<XFACTOR\>\"", ",", " ", "\"\<YFACTOR\>\"", ",", " ", 
     "\"\<N_BINS\>\"", ",", " ", "\"\<INTERPOLATE\>\"", ",", " ", 
     "\"\<SMOOTHING\>\"", ",", " ", "\"\<SG_HALFWIDTH\>\"", ",", " ", 
     "\"\<SG_ORDER\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<X_DRIVE_EXPONENT\>\"", ",", " ", 
     "\"\<Y_DRIVE_EXPONENT\>\"", ",", " ", "\"\<X_PROBE_EXPONENT\>\"", ",", 
     " ", "\"\<Y_PROBE_EXPONENT\>\"", ",", " ", "\"\<RAMP_PASSES\>\"", ",", 
     " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717417147176*^9, 3.6887182554616756`*^9, 
  3.6890756065537996`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TSCATTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717417750176*^9, 3.688718255471676*^9, 
  3.6890756067137995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TUBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<OFFSET\>\"", ",",
      " ", "\"\<MAGNET_WIDTH\>\"", ",", " ", "\"\<MAGNET_ANGLE\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717418408176*^9, 3.688718255481676*^9, 
  3.6890756072098*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TWISS\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<BETAX\>\"", ",", " ", "\"\<ALPHAX\>\"", ",", " ", "\"\<ETAX\>\"", 
     ",", " ", "\"\<ETAXP\>\"", ",", " ", "\"\<BETAY\>\"", ",", " ", 
     "\"\<ALPHAY\>\"", ",", " ", "\"\<ETAY\>\"", ",", " ", "\"\<ETAYP\>\"", 
     ",", " ", "\"\<FROM_BEAM\>\"", ",", " ", "\"\<FROM_0VALUES\>\"", ",", 
     " ", "\"\<COMPUTE_ONCE\>\"", ",", " ", "\"\<APPLY_ONCE\>\"", ",", " ", 
     "\"\<VERBOSE\>\"", ",", " ", "\"\<DISABLE\>\"", ",", " ", 
     "\"\<BETAX0\>\"", ",", " ", "\"\<ALPHAX0\>\"", ",", " ", "\"\<ETAX0\>\"",
      ",", " ", "\"\<ETAXP0\>\"", ",", " ", "\"\<BETAY0\>\"", ",", " ", 
     "\"\<ALPHAY0\>\"", ",", " ", "\"\<ETAY0\>\"", ",", " ", "\"\<ETAYP0\>\"",
      ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717419320176*^9, 3.6887182554916763`*^9, 
  3.6890756073898*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TWLA\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FREQUENCY\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", 
     "\"\<TIME_OFFSET\>\"", ",", " ", "\"\<EZ\>\"", ",", " ", 
     "\"\<B_SOLENOID\>\"", ",", " ", "\"\<ACCURACY\>\"", ",", " ", 
     "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"", ",", " ", "\"\<DX\>\"", ",", 
     " ", "\"\<DY\>\"", ",", " ", "\"\<BETA_WAVE\>\"", ",", " ", 
     "\"\<ALPHA\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<N_STEPS\>\"", ",", " ", "\"\<FOCUSSING\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<CHANGE_P0\>\"", ",", " ", "\"\<SUM_BN2\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887174201541758`*^9, 3.688718255501676*^9, 
  3.6890756075498*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TWMTA\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FREQUENCY\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", "\"\<EZ\>\"", 
     ",", " ", "\"\<ACCURACY\>\"", ",", " ", "\"\<X_MAX\>\"", ",", " ", 
     "\"\<Y_MAX\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<KX\>\"", ",", " ", "\"\<BETA_WAVE\>\"", ",", " ", 
     "\"\<BSOL\>\"", ",", " ", "\"\<ALPHA\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<N_STEPS\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717421131176*^9, 3.688718255511676*^9, 
  3.6890756076997995`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TWPL\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RAMP_TIME\>\"", ",", " ", "\"\<TIME_OFFSET\>\"", ",", " ", 
     "\"\<VOLTAGE\>\"", ",", " ", "\"\<GAP\>\"", ",", " ", 
     "\"\<STATIC_VOLTAGE\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"",
      ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<N_STEPS\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717422263176*^9, 3.688718255521676*^9, 
  3.6890756082198*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<UKICKMAP\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", 
     "\"\<DZ\>\"", ",", " ", "\"\<FIELD_FACTOR\>\"", ",", " ", 
     "\"\<XY_FACTOR\>\"", ",", " ", "\"\<INPUT_FILE\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<PERIODS\>\"", ",", " ", "\"\<KREF\>\"",
      ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", " ", 
     "\"\<x \[LongDash] Horizontal position in meters.\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717423313176*^9, 3.688718255521676*^9, 
  3.6890756083998*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<VKICK\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KICK\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<CALIBRATION\>\"", ",", " ", "\"\<EDGE_EFFECTS\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<STEERING\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717424400176*^9, 3.6887182555316763`*^9, 
  3.6890756085498*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<VMON\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<WEIGHT\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<CALIBRATION\>\"", ",", " ", 
     "\"\<SETPOINT\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<READOUT\>\"", ",", " ", "\"\<CO_FITPOINT\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887174251091757`*^9, 3.688718255541676*^9, 
  3.6890756087198*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<WAKE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<INPUTFILE\>\"", ",", " ", "\"\<TCOLUMN\>\"", ",", " ", 
     "\"\<WCOLUMN\>\"", ",", " ", "\"\<CHARGE\>\"", ",", " ", 
     "\"\<FACTOR\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<SMOOTHING\>\"", ",", " ", 
     "\"\<SG_HALFWIDTH\>\"", ",", " ", "\"\<SG_ORDER\>\"", ",", " ", 
     "\"\<CHANGE_P0\>\"", ",", " ", "\"\<ALLOW_LONG_BEAM\>\"", ",", " ", 
     "\"\<RAMP_PASSES\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717425972176*^9, 3.688718255551676*^9, 
  3.6890756088708*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<WATCH\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FRACTION\>\"", ",", " ", "\"\<START_PID\>\"", ",", " ", 
     "\"\<END_PID\>\"", ",", " ", "\"\<INTERVAL\>\"", ",", " ", 
     "\"\<START_PASS\>\"", ",", " ", "\"\<END_PASS\>\"", ",", " ", 
     "\"\<FILENAME\>\"", ",", " ", "\"\<LABEL\>\"", ",", " ", "\"\<MODE\>\"", 
     ",", " ", "\"\<X_DATA\>\"", ",", " ", "\"\<Y_DATA\>\"", ",", " ", 
     "\"\<LONGIT_DATA\>\"", ",", " ", "\"\<EXCLUDE_SLOPES\>\"", ",", " ", 
     "\"\<FLUSH_INTERVAL\>\"", ",", " ", "\"\<DISABLE\>\"", ",", " ", 
     "\"\<USE_DISCONNECT\>\"", ",", " ", "\"\<INDEX_OFFSET\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887174268521757`*^9, 3.688718255561676*^9, 
  3.6890756098118*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<WIGGLER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RADIUS\>\"", ",", " ", "\"\<K\>\"", ",", " ", "\"\<B\>\"", ",", " ", 
     "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<TILT\>\"", ",", " ", "\"\<POLES\>\"", ",", " ", "\"\<FOCUSING\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717427782176*^9, 3.6887182555716763`*^9, 
  3.6890756102018*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ZLONGIT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CHARGE\>\"", ",", " ", "\"\<BROAD_BAND\>\"", ",", " ", "\"\<RA\>\"", 
     ",", " ", "\"\<RS\>\"", ",", " ", "\"\<Q\>\"", ",", " ", "\"\<FREQ\>\"", 
     ",", " ", "\"\<ZREAL\>\"", ",", " ", "\"\<ZIMAG\>\"", ",", " ", 
     "\"\<BIN_SIZE\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<MAX_N_BINS\>\"", ",", " ", "\"\<WAKES\>\"", ",", " ", 
     "\"\<WAKE_INTERVAL\>\"", ",", " ", "\"\<WAKE_START\>\"", ",", " ", 
     "\"\<WAKE_END\>\"", ",", " ", "\"\<AREA_WEIGHT\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<SMOOTHING\>\"", ",", " ", 
     "\"\<SG_ORDER\>\"", ",", " ", "\"\<SG_HALFWIDTH\>\"", ",", " ", 
     "\"\<REVERSE_TIME_ORDER\>\"", ",", " ", "\"\<FACTOR\>\"", ",", " ", 
     "\"\<START_ON_PASS\>\"", ",", " ", "\"\<RAMP_PASSES\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717428940176*^9, 3.688718255581676*^9, 
  3.6890756106418*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ZTRANSVERSE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CHARGE\>\"", ",", " ", "\"\<BROAD_BAND\>\"", ",", " ", "\"\<RS\>\"", 
     ",", " ", "\"\<Q\>\"", ",", " ", "\"\<FREQ\>\"", ",", " ", 
     "\"\<INPUTFILE\>\"", ",", " ", "\"\<FREQCOLUMN\>\"", ",", " ", 
     "\"\<ZXREAL\>\"", ",", " ", "\"\<ZXIMAG\>\"", ",", " ", "\"\<ZYREAL\>\"",
      ",", " ", "\"\<ZYIMAG\>\"", ",", " ", "\"\<BIN_SIZE\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<MAX_N_BINS\>\"", ",", " ", "\"\<SMOOTHING\>\"", ",", " ", 
     "\"\<SG_ORDER\>\"", ",", " ", "\"\<SG_HALFWIDTH\>\"", ",", " ", 
     "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<FACTOR\>\"", ",", 
     " ", "\"\<XFACTOR\>\"", ",", " ", "\"\<YFACTOR\>\"", ",", " ", 
     "\"\<WAKES\>\"", ",", " ", "\"\<WAKE_INTERVAL\>\"", ",", " ", 
     "\"\<WAKE_START\>\"", ",", " ", "\"\<WAKE_END\>\"", ",", " ", 
     "\"\<START_ON_PASS\>\"", ",", " ", "\"\<RAMP_PASSES\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", "\"\<X_DRIVE_EXPONENT\>\"", 
     ",", " ", "\"\<Y_DRIVE_EXPONENT\>\"", ",", " ", 
     "\"\<X_PROBE_EXPONENT\>\"", ",", " ", "\"\<Y_PROBE_EXPONENT\>\"", ",", 
     " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688717430081176*^9, 3.688718255582676*^9, 
  3.6890756130417995`*^9}]
}, Closed]],

Cell[CellGroupData[{

Cell["Manually Defined", "Subsubsection",
 CellChangeTimes->{{3.687876124961326*^9, 3.687876127441742*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SECTORBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<SBEN\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\"", ",", "\"\<K1\>\"", ",", "\"\<E1\>\"", 
     ",", "\"\<E2\>\"", ",", "\"\<TILT\>\"", ",", "\"\<K2\>\"", ",", 
     "\"\<H1\>\"", ",", "\"\<H2\>\"", ",", "\"\<HGAP\>\"", ",", 
     "\"\<FINT\>\"", ",", "\"\<DX\>\"", ",", "\"\<DY\>\"", ",", "\"\<DZ\>\"", 
     ",", "\"\<FSE\>\"", ",", "\"\<ETILT\>\"", ",", "\"\<EDGE1_EFFECTS\>\"", 
     ",", "\"\<EDGE2_EFFECTS\>\"", ",", "\"\<ORDER\>\"", ",", 
     "\"\<EDGE_ORDER\>\"", ",", "\"\<TRANSPORT\>\"", ",", "\"\<USE_BN\>\"", 
     ",", "\"\<B1\>\"", ",", "\"\<B2\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
   3.57019748677619*^9}, {3.57019765390119*^9, 3.57019765481319*^9}, {
   3.57019779478819*^9, 3.57019780083619*^9}, {3.57034564949046*^9, 
   3.570345661538511*^9}, 3.5703468468724546`*^9, 3.570346934208397*^9, 
   3.570359727581362*^9, 3.570431293074907*^9, {3.625300838543392*^9, 
   3.625300842263764*^9}, {3.6254885302765446`*^9, 3.625488531716544*^9}, {
   3.625489070242544*^9, 3.6254890813855443`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<CSBEN\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<ANGLE\>\"", ",", "\"\<K1\>\"", ",", "\"\<K2\>\"", ",", "\"\<K3\>\"",
      ",", "\"\<K4\>\"", ",", "\"\<K5\>\"", ",", "\"\<K6\>\"", ",", 
     "\"\<K7\>\"", ",", "\"\<K8\>\"", ",", "\"\<E1\>\"", ",", "\"\<E2\>\"", 
     ",", "\"\<TILT\>\"", ",", "\"\<H1\>\"", ",", "\"\<H2\>\"", ",", 
     "\"\<HGAP\>\"", ",", "\"\<FINT\>\"", ",", "\"\<DX\>\"", ",", 
     "\"\<DY\>\"", ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", ",", 
     "\"\<ETILT\>\"", ",", "\"\<N_KICKS\>\"", ",", "\"\<NONLINEAR\>\"", ",", 
     "\"\<SYNCH_RAD\>\"", ",", "\"\<EDGE1_EFFECTS\>\"", ",", 
     "\"\<EDGE2_EFFECTS\>\"", ",", "\"\<EDGE_ORDER\>\"", ",", 
     "\"\<FRINGE\>\"", ",", "\"\<INTEGRATION_ORDER\>\"", ",", 
     "\"\<EDGE1_KICK_LIMIT\>\"", ",", "\"\<EDGE2_KICK_LIMIT\>\"", ",", 
     "\"\<KICK_LIMIT_SCALING\>\"", ",", "\"\<USE_BN\>\"", ",", 
     "\"\<EXPANSION_ORDER\>\"", ",", "\"\<B1\>\"", ",", "\"\<B2\>\"", ",", 
     "\"\<B3\>\"", ",", "\"\<B4\>\"", ",", "\"\<B5\>\"", ",", "\"\<B6\>\"", 
     ",", "\"\<B7\>\"", ",", "\"\<B8\>\"", ",", "\"\<XREFERENCE\>\"", ",", 
     "\"\<F1\>\"", ",", "\"\<F2\>\"", ",", "\"\<F3\>\"", ",", "\"\<F4\>\"", 
     ",", "\"\<F5\>\"", ",", "\"\<F6\>\"", ",", "\"\<F7\>\"", ",", 
     "\"\<F8\>\"", ",", "\"\<ISR\>\"", ",", "\"\<ISR1PART\>\"", ",", 
     "\"\<SQRT_ORDER\>\"", ",", "\"\<USE_RAD_DIST\>\"", ",", 
     "\"\<ADD_OPENING_ANGLE\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
   3.57019748677619*^9}, {3.57019765390119*^9, 3.57019765481319*^9}, {
   3.57019779478819*^9, 3.57019780083619*^9}, {3.57034564949046*^9, 
   3.570345661538511*^9}, 3.5703468468724546`*^9, 3.570346934208397*^9, 
   3.570359727581362*^9, 3.570431293074907*^9, {3.625300838543392*^9, 
   3.625300842263764*^9}, {3.6254885302765446`*^9, 3.625488531716544*^9}, {
   3.6254887649895444`*^9, 3.6254887659095445`*^9}, {3.6254888615825443`*^9, 
   3.6254889011925445`*^9}, {3.6254896998455443`*^9, 3.6254897051955442`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSRCSBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<CSRCSBEND\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<ANGLE\>\"", ",", "\"\<K1\>\"", ",", "\"\<K2\>\"", ",", "\"\<K3\>\"",
      ",", "\"\<K4\>\"", ",", "\"\<K5\>\"", ",", "\"\<K6\>\"", ",", 
     "\"\<K7\>\"", ",", "\"\<K8\>\"", ",", "\"\<E1\>\"", ",", "\"\<E2\>\"", 
     ",", "\"\<TILT\>\"", ",", "\"\<H1\>\"", ",", "\"\<H2\>\"", ",", 
     "\"\<HGAP\>\"", ",", "\"\<FINT\>\"", ",", "\"\<DX\>\"", ",", 
     "\"\<DY\>\"", ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", ",", 
     "\"\<ETILT\>\"", ",", "\"\<N_KICKS\>\"", ",", "\"\<NONLINEAR\>\"", ",", 
     "\"\<LINEARIZE\>\"", ",", "\"\<SYNCH_RAD\>\"", ",", 
     "\"\<EDGE1_EFFECTS\>\"", ",", "\"\<EDGE2_EFFECTS\>\"", ",", 
     "\"\<EDGE_ORDER\>\"", ",", "\"\<INTEGRATION_ORDER\>\"", ",", 
     "\"\<BINS\>\"", ",", "\"\<BIN_ONCE\>\"", ",", "\"\<BIN_RANGE_FACTOR\>\"",
      ",", "\"\<SG_HALFWIDTH\>\"", ",", "\"\<SG_ORDER\>\"", ",", 
     "\"\<SGDERIV_HALFWIDTH\>\"", ",", "\"\<SGDERIV_ORDER\>\"", ",", 
     "\"\<TRAPAZOID_INTEGRATION\>\"", ",", "\"\<OUTPUT_FILE\>\"", ",", 
     "\"\<OUTPUT_INTERVAL\>\"", ",", "\"\<OUTPUT_LAST_WAKE_ONLY\>\"", ",", 
     "\"\<STEADY_STATE\>\"", ",", "\"\<IGF\>\"", ",", "\"\<USE_BN\>\"", ",", 
     "\"\<EXPANSION_ORDER\>\"", ",", "\"\<B1\>\"", ",", "\"\<B2\>\"", ",", 
     "\"\<B3\>\"", ",", "\"\<B4\>\"", ",", "\"\<B5\>\"", ",", "\"\<B6\>\"", 
     ",", "\"\<B7\>\"", ",", "\"\<B8\>\"", ",", "\"\<ISR\>\"", ",", 
     "\"\<ISR1PART\>\"", ",", "\"\<CSR\>\"", ",", "\"\<BLOCK_CSR\>\"", ",", 
     "\"\<DERBENEV_CRITERION_MODE\>\"", ",", "\"\<PARTICLE_OUTPUT_FILE\>\"", 
     ",", "\"\<PARTICLE_OUTPUT_INTERVAL\>\"", ",", 
     "\"\<SLICE_ANALYSIS_INTERVAL\>\"", ",", "\"\<LOW_FREQUENCY_CUTOFF0\>\"", 
     ",", "\"\<LOW_FREQUENCY_CUTOFF1\>\"", ",", 
     "\"\<HIGH_FREQUENCY_CUTOFF0\>\"", ",", "\"\<HIGH_FREQUENCY_CUTOFF1\>\"", 
     ",", "\"\<CLIP_NEGATIVE_BINS\>\"", ",", "\"\<WAKE_FILTER_FILE\>\"", ",", 
     "\"\<WFF_FREQ_COLUMN\>\"", ",", "\"\<WFF_REAL_COLUMN\>\"", ",", 
     "\"\<WFF_IMAG_COLUMN\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
   3.57019748677619*^9}, {3.57019765390119*^9, 3.57019765481319*^9}, {
   3.57019779478819*^9, 3.57019780083619*^9}, {3.57034564949046*^9, 
   3.570345661538511*^9}, 3.5703468468724546`*^9, 3.570346934208397*^9, 
   3.570359727581362*^9, 3.570431293074907*^9, {3.625300838543392*^9, 
   3.625300842263764*^9}, {3.6254885302765446`*^9, 3.625488531716544*^9}, {
   3.625488907636544*^9, 3.6254889105785446`*^9}, {3.6254889854585447`*^9, 
   3.625488989169544*^9}, 3.6254894520945444`*^9, {3.625489711822544*^9, 
   3.6254897125805445`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KQUAD\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<KQUAD\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
     ",", "\"\<TILT\>\"", ",", "\"\<BORE\>\"", ",", "\"\<B\>\"", ",", 
     "\"\<DX\>\"", ",", "\"\<DY\>\"", ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", 
     ",", "\"\<HKICK\>\"", ",", "\"\<VKICK\>\"", ",", "\"\<HCALIBRATION\>\"", 
     ",", "\"\<VCALIBRATION\>\"", ",", "\"\<HSTEERING\>\"", ",", 
     "\"\<VSTEERING\>\"", ",", "\"\<N_KICKS\>\"", ",", "\"\<SYNCH_RAD\>\"", 
     ",", "\"\<SYSTEMATIC_MULTIPOLES\>\"", ",", "\"\<RANDOM_MULTIPOLES\>\"", 
     ",", "\"\<STEERING_MULTIPOLES\>\"", ",", "\"\<INTEGRATION_ORDER\>\"", 
     ",", "\"\<SQRT_ORDER\>\"", ",", "\"\<ISR\>\"", ",", "\"\<ISR1PART\>\"", 
     ",", "\"\<EDGE1_EFFECTS\>\"", ",", "\"\<EDGE2_EFFECTS\>\"", ",", 
     "\"\<I0P\>\"", ",", "\"\<I1P\>\"", ",", "\"\<I2P\>\"", ",", 
     "\"\<I3P\>\"", ",", "\"\<LAMBDA2P\>\"", ",", "\"\<I0M\>\"", ",", 
     "\"\<I1M\>\"", ",", "\"\<I2M\>\"", ",", "\"\<I3M\>\"", ",", 
     "\"\<LAMBDA2M\>\"", ",", "\"\<RADIAL\>\"", ",", "\"\<GROUP\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345047519*^9}, {3.57019348319319*^9, 
   3.57019348383319*^9}, 3.5701974895281897`*^9, 3.57019765770919*^9, {
   3.57019826069419*^9, 3.57019826320619*^9}, {3.5702004028823123`*^9, 
   3.57020053796482*^9}, {3.5703468393520017`*^9, 3.5703469111046495`*^9}, {
   3.625300381103653*^9, 3.625300382327775*^9}, {3.625300741060645*^9, 
   3.62530074301184*^9}, {3.625396008250206*^9, 3.6253960118412066`*^9}, 
   3.625487503992544*^9, {3.6254879035315447`*^9, 3.625488075520544*^9}, {
   3.625488356393544*^9, 3.6254883598245444`*^9}, {3.6254884204155445`*^9, 
   3.6254884231415443`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<QUADRUPOLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<QUAD\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
     ",", "\"\<N_KICKS\>\"", ",", "\"\<TILT\>\"", ",", "\"\<DX\>\"", ",", 
     "\"\<DY\>\"", ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", ",", 
     "\"\<HKICK\>\"", ",", "\"\<VKICK\>\"", ",", "\"\<HCALIBRATION\>\"", ",", 
     "\"\<VCALIBRATION\>\"", ",", "\"\<HSTEERING\>\"", ",", 
     "\"\<VSTEERING\>\"", ",", "\"\<ORDER\>\"", ",", "\"\<EDGE1_EFFECTS\>\"", 
     ",", "\"\<EDGE2_EFFECTS\>\"", ",", "\"\<FRINGE_TYPE\>\"", ",", 
     "\"\<FFRINGE\>\"", ",", "\"\<I0P\>\"", ",", "\"\<I1P\>\"", ",", 
     "\"\<I2P\>\"", ",", "\"\<I3P\>\"", ",", "\"\<LAMBDA2P\>\"", ",", 
     "\"\<I0M\>\"", ",", "\"\<I1M\>\"", ",", "\"\<I2M\>\"", ",", 
     "\"\<I3M\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345047519*^9}, {3.57019348319319*^9, 
   3.57019348383319*^9}, 3.5701974895281897`*^9, 3.57019765770919*^9, {
   3.57019826069419*^9, 3.57019826320619*^9}, {3.5702004028823123`*^9, 
   3.57020053796482*^9}, {3.5703468393520017`*^9, 3.5703469111046495`*^9}, {
   3.625300381103653*^9, 3.625300382327775*^9}, {3.625300741060645*^9, 
   3.62530074301184*^9}, {3.625396008250206*^9, 3.6253960118412066`*^9}, 
   3.625487503992544*^9, {3.6254885346775446`*^9, 3.6254885358825445`*^9}, {
   3.625489122848544*^9, 3.6254891331265445`*^9}, 3.6254892333125443`*^9, {
   3.6255013408995504`*^9, 3.6255013410595665`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SEXTUPOLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<SEXT\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
     ",", "\"\<L\>\"", ",", "\"\<K2\>\"", ",", "\"\<TILT\>\"", ",", 
     "\"\<DX\>\"", ",", "\"\<DY\>\"", ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", 
     ",", "\"\<FFRINGE\>\"", ",", "\"\<ORDER\>\"", ",", "\"\<GROUP\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345047519*^9}, {3.57019348319319*^9, 
   3.57019348383319*^9}, 3.5701974895281897`*^9, 3.57019765770919*^9, {
   3.57019826069419*^9, 3.57019826320619*^9}, {3.5702004028823123`*^9, 
   3.57020053796482*^9}, {3.5703468393520017`*^9, 3.5703469111046495`*^9}, {
   3.625300381103653*^9, 3.625300382327775*^9}, {3.625300741060645*^9, 
   3.62530074301184*^9}, {3.625396008250206*^9, 3.6253960118412066`*^9}, 
   3.625487503992544*^9, {3.6254885346775446`*^9, 3.6254885358825445`*^9}, {
   3.625489122848544*^9, 3.6254891331265445`*^9}, 3.6254892333125443`*^9, {
   3.6254893185635443`*^9, 3.625489325742544*^9}, {3.625489437827544*^9, 
   3.6254894674765444`*^9}, {3.6255013394184027`*^9, 3.625501339582419*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KSEXT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<KSEXT\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
     ",", "\"\<L\>\"", ",", "\"\<K2\>\"", ",", "\"\<TILT\>\"", ",", 
     "\"\<BORE\>\"", ",", "\"\<B\>\"", ",", "\"\<DX\>\"", ",", "\"\<DY\>\"", 
     ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", ",", "\"\<N_KICKS\>\"", ",", 
     "\"\<SYNCH_RAD\>\"", ",", "\"\<SYSTEMATIC_MULTIPOLES\>\"", ",", 
     "\"\<RANDOM_MULTIPOLES\>\"", ",", "\"\<INTEGRATION_ORDER\>\"", ",", 
     "\"\<SQRT_ORDER\>\"", ",", "\"\<ISR\>\"", ",", "\"\<ISR1PART\>\"", ",", 
     "\"\<GROUP\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345047519*^9}, {3.57019348319319*^9, 
   3.57019348383319*^9}, 3.5701974895281897`*^9, 3.57019765770919*^9, {
   3.57019826069419*^9, 3.57019826320619*^9}, {3.5702004028823123`*^9, 
   3.57020053796482*^9}, {3.5703468393520017`*^9, 3.5703469111046495`*^9}, {
   3.625300381103653*^9, 3.625300382327775*^9}, {3.625300741060645*^9, 
   3.62530074301184*^9}, {3.625396008250206*^9, 3.6253960118412066`*^9}, 
   3.625487503992544*^9, {3.6254885346775446`*^9, 3.6254885358825445`*^9}, {
   3.625489122848544*^9, 3.6254891331265445`*^9}, 3.6254892333125443`*^9, {
   3.6254893185635443`*^9, 3.625489325742544*^9}, {3.6254894447545443`*^9, 
   3.6254894452985444`*^9}, {3.6255013377502356`*^9, 3.6255013379152517`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<DRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<DRIFT\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.6254891414205446`*^9}, 
   3.6254892312795444`*^9, {3.6254895849615445`*^9, 3.6254896188785443`*^9}, {
   3.6255013207075315`*^9, 3.6255013208615465`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EDRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<EDRIFT\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.6254891414205446`*^9}, 
   3.6254892312795444`*^9, {3.6254895849615445`*^9, 3.6254896123355446`*^9}, {
   3.6255013179092517`*^9, 3.6255013180502653`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSRDRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<CSRDRIFT\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<ATTENUATION_LENGTH\>\"", ",", "\"\<DZ\>\"", ",", 
     "\"\<N_KICKS\>\"", ",", "\"\<SPREAD\>\"", ",", 
     "\"\<USE_OVERTAKING_LENGTH\>\"", ",", "\"\<OL_MULTIPLIER\>\"", ",", 
     "\"\<USE_SALDIN54\>\"", ",", "\"\<SALDIN54POINTS\>\"", ",", 
     "\"\<CSR\>\"", ",", "\"\<SALDIN54NORM_MODE\>\"", ",", 
     "\"\<SPREAD_MODE\>\"", ",", "\"\<WAVELENGTH_MODE\>\"", ",", 
     "\"\<BUNCHLENGTH_MODE\>\"", ",", "\"\<SALDIN54_OUTPUT\>\"", ",", 
     "\"\<USE_STUPAKOV\>\"", ",", "\"\<STUPAKOV_OUTPUT\>\"", ",", 
     "\"\<STUPAKOV_OUTPUT_INTERVAL\>\"", ",", 
     "\"\<SLICE_ANALYSIS_INTERVAL\>\"", ",", "\"\<LINEARIZE\>\"", ",", 
     "\"\<GROUP\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.625501324381899*^9, 
   3.625501324527913*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MARKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<MARK\>\""}], ",", "\"\<DX\>\"", 
     ",", "\"\<DY\>\"", ",", "\"\<FITPOINT\>\"", ",", "\"\<GROUP\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
   3.57019748677619*^9}, {3.57019765390119*^9, 3.57019765481319*^9}, {
   3.57019779478819*^9, 3.57019780083619*^9}, {3.57034564949046*^9, 
   3.570345661538511*^9}, 3.5703468468724546`*^9, 3.570346934208397*^9, 
   3.570359727581362*^9, 3.570431293074907*^9, {3.625300838543392*^9, 
   3.625300842263764*^9}, {3.6254885302765446`*^9, 3.625488531716544*^9}, {
   3.625489070242544*^9, 3.6254890813855443`*^9}, {3.6254960173262463`*^9, 
   3.625496040885602*^9}, {3.6254962631018214`*^9, 3.6254962635018616`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MONITOR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<MONI\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<DX\>\"", ",", "\"\<DY\>\"", ",", "\"\<WEIGHT\>\"", ",", 
     "\"\<TILT\>\"", ",", "\"\<XCALIBRATION\>\"", ",", "\"\<YCALIBRATION\>\"",
      ",", "\"\<ORDER\>\"", ",", "\"\<XREADOUT\>\"", ",", "\"\<YREADOUT\>\"", 
     ",", "\"\<CO_FITPOINT\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.625501327186179*^9, 3.625501327334194*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<HKICKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<HKICK\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<KICK\>\"", ",", "\"\<TILT\>\"", ",", "\"\<B2\>\"", ",", 
     "\"\<CALIBRATION\>\"", ",", "\"\<EDGE_EFFECTS\>\"", ",", "\"\<ORDER\>\"",
      ",", "\"\<STEERING\>\"", ",", "\"\<SYNCH_RAD\>\"", ",", "\"\<ISR\>\"", 
     ",", "\"\<LERAD\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.6254963601135216`*^9, 
   3.6254963739459047`*^9}, {3.625496517463255*^9, 3.625496517623271*^9}, {
   3.6255013285443153`*^9, 3.6255013286903296`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<VKICKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<VKICK\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<KICK\>\"", ",", "\"\<TILT\>\"", ",", "\"\<B2\>\"", ",", 
     "\"\<CALIBRATION\>\"", ",", "\"\<EDGE_EFFECTS\>\"", ",", "\"\<ORDER\>\"",
      ",", "\"\<STEERING\>\"", ",", "\"\<SYNCH_RAD\>\"", ",", "\"\<ISR\>\"", 
     ",", "\"\<LERAD\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.6254963601135216`*^9, 
   3.6254963817946897`*^9}, {3.6254965185673656`*^9, 3.625496518735382*^9}, {
   3.6255013298834486`*^9, 3.625501330067467*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KICKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<KICKER\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<HKICK\>\"", ",", "\"\<VKICK\>\"", ",", "\"\<TILT\>\"", ",", 
     "\"\<B2\>\"", ",", "\"\<HCALIBRATION\>\"", ",", "\"\<VCALIBRATION\>\"", 
     ",", "\"\<EDGE_EFFECTS\>\"", ",", "\"\<ORDER\>\"", ",", 
     "\"\<STEERING\>\"", ",", "\"\<SYNCH_RAD\>\"", ",", "\"\<ISR\>\"", ",", 
     "\"\<LERAD\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.6254963601135216`*^9, 
   3.6254963817946897`*^9}, {3.6254964894064493`*^9, 
   3.6254965058350925`*^9}, {3.6255013314226027`*^9, 3.6255013315636168`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFCA\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<RFCA\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<VOLT\>\"", ",", "\"\<PHASE\>\"", ",", "\"\<FREQ\>\"", ",", 
     "\"\<Q\>\"", ",", "\"\<PHASE_REFERENCE\>\"", ",", "\"\<CHANGE_P0\>\"", 
     ",", "\"\<CHANGE_T\>\"", ",", "\"\<FIDUCIAL\>\"", ",", 
     "\"\<END1_FOCUS\>\"", ",", "\"\<END2_FOCUS\>\"", ",", 
     "\"\<BODY_FOCUS_MODEL\>\"", ",", "\"\<N_KICKS\>\"", ",", "\"\<DX\>\"", 
     ",", "\"\<DY\>\"", ",", "\"\<T_REFERENCE\>\"", ",", "\"\<LINEARIZE\>\"", 
     ",", "\"\<LOCK_PHASE\>\"", ",", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<FREQUENCY\>\"", "\[Rule]", "\"\<FREQ\>\""}]}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.6254963601135216`*^9, 
   3.6254963817946897`*^9}, {3.6254964894064493`*^9, 
   3.6254965058350925`*^9}, {3.6254976472402215`*^9, 
   3.6254977046099577`*^9}, {3.625501333204781*^9, 3.625501333358796*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<PROFILE\>\"", "]"}], "=", 
   RowBox[{"ElegantRules", "[", "\"\<MONITOR\>\"", "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.625501327186179*^9, 3.625501327334194*^9}, {
   3.679851307724781*^9, 3.679851314851206*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Autoscraper", "Subsubsection",
 CellChangeTimes->{{3.6881083247422934`*^9, 3.6881083266650934`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<alter_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<type\>\"", ",", 
     " ", "\"\<exclude\>\"", ",", " ", "\"\<value\>\"", ",", " ", 
     "\"\<string_value\>\"", ",", " ", "\"\<differential\>\"", ",", " ", 
     "\"\<multiplicative\>\"", ",", " ", "\"\<verbose\>\"", ",", " ", 
     "\"\<allow_missing_elements\>\"", ",", " ", 
     "\"\<allow_missing_parameters\>\"", ",", " ", "\"\<start_occurence\>\"", 
     ",", " ", "\"\<end_occurence\>\"", ",", " ", "\"\<s_start\>\"", ",", 
     " ", "\"\<s_end\>\"", ",", " ", "\"\<before\>\"", ",", " ", 
     "\"\<after\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718096306176*^9, 3.688718253328676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<amplification_factors\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<uncorrected_orbit_function\>\"", ",", 
     " ", "\"\<corrected_orbit_function\>\"", ",", " ", 
     "\"\<kick_function\>\"", ",", " ", "\"\<name\>\"", ",", " ", 
     "\"\<type\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<plane\>\"", ",",
      " ", "\"\<change\>\"", ",", " ", "\"\<number_to_do\>\"", ",", " ", 
     "\"\<maximum_z\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718096666176*^9, 3.6887182533486757`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<analyze_map\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<printout\>\"", ",", " ", 
     "\"\<delta_x\>\"", ",", " ", "\"\<delta_xp\>\"", ",", " ", 
     "\"\<delta_y\>\"", ",", " ", "\"\<delta_yp\>\"", ",", " ", 
     "\"\<delta_s\>\"", ",", " ", "\"\<delta_dp\>\"", ",", " ", 
     "\"\<accuracy_factor\>\"", ",", " ", "\"\<center_on_orbit\>\"", ",", 
     " ", "\"\<verbosity\>\"", ",", " ", "\"\<canonical_variables\>\"", ",", 
     " ", "\"\<printout_order\>\"", ",", " ", "\"\<periodic\>\"", ",", " ", 
     "\"\<beta_x\>\"", ",", " ", "\"\<alpha_x\>\"", ",", " ", "\"\<eta_x\>\"",
      ",", " ", "\"\<etap_x\>\"", ",", " ", "\"\<beta_y\>\"", ",", " ", 
     "\"\<alpha_y\>\"", ",", " ", "\"\<eta_y\>\"", ",", " ", 
     "\"\<etap_y\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718097056176*^9, 3.688718253358676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<aperture_data\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<input\>\"", ",", " ", "\"\<periodic\>\"", ",", " ", 
     "\"\<persistent\>\"", ",", " ", "\"\<disable\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718097388176*^9, 3.688718253378676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<bunched_beam\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<bunch\>\"", ",", " ", "\"\<n_particles_per_bunch\>\"", ",", " ", 
     "\"\<time_start\>\"", ",", " ", "\"\<matched_to_cell\>\"", ",", " ", 
     "\"\<emit_x\>\"", ",", " ", "\"\<emit_nx\>\"", ",", " ", 
     "\"\<beta_x\>\"", ",", " ", "\"\<alpha_x\>\"", ",", " ", "\"\<eta_x\>\"",
      ",", " ", "\"\<etap_x\>\"", ",", " ", "\"\<emit_y\>\"", ",", " ", 
     "\"\<emit_ny\>\"", ",", " ", "\"\<beta_y\>\"", ",", " ", 
     "\"\<alpha_y\>\"", ",", " ", "\"\<eta_y\>\"", ",", " ", "\"\<etap_y\>\"",
      ",", " ", "\"\<use_twiss_command_values\>\"", ",", " ", "\"\<po\>\"", 
     ",", " ", "\"\<sigma_dp\>\"", ",", " ", "\"\<sigma_s\>\"", ",", " ", 
     "\"\<dp_s_coupling\>\"", ",", " ", "\"\<emit_z\>\"", ",", " ", 
     "\"\<beta_z\>\"", ",", " ", "\"\<alpha_z\>\"", ",", " ", 
     "\"\<momentum_chirp\>\"", ",", " ", "\"\<one_random_bunch\>\"", ",", 
     " ", "\"\<symmetrize\>\"", ",", " ", "\"\<optimized_halton\>\"", ",", 
     " ", "\"\<limit_invariants\>\"", ",", " ", "\"\<limit_in_4d\>\"", ",", 
     " ", "\"\<first_is_fiducial\>\"", ",", " ", 
     "\"\<save_initial_coordinates\>\"", ",", " ", "\"\<halton_sequence\>\"", 
     ",", " ", "\"\<halton_radix\>\"", ",", " ", "\"\<randomize_order\>\"", 
     ",", " ", "\"\<enforce_rms_values\>\"", ",", " ", 
     "\"\<distribution_cutoff\>\"", ",", " ", "\"\<distribution_type\>\"", 
     ",", " ", "\"\<centroid\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.688718098089176*^9, 3.688718253398676*^9, {3.7060078955383863`*^9, 
   3.706007897015386*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<change_particle\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<mass_ratio\>\"", ",", " ", 
     "\"\<charge_ratio\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718098419176*^9, 3.688718253408676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<chromaticity\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<sextupoles\>\"", ",", " ", "\"\<dnux_dp\>\"", ",", " ", 
     "\"\<dnuy_dp\>\"", ",", " ", "\"\<sextupole_tweek\>\"", ",", " ", 
     "\"\<correction_fraction\>\"", ",", " ", "\"\<n_iterations\>\"", ",", 
     " ", "\"\<tolerance\>\"", ",", " ", "\"\<strength_log\>\"", ",", " ", 
     "\"\<change_defined_values\>\"", ",", " ", "\"\<strength_limit\>\"", ",",
      " ", "\"\<use_perturbed_matrix\>\"", ",", " ", 
     "\"\<exit_on_failure\>\"", ",", " ", "\"\<verbosity\>\"", ",", " ", 
     "\"\<dK2_weight\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718098801176*^9, 3.6887182534286757`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<closed_orbit\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<output_monitors_only\>\"", ",", " ", 
     "\"\<start_from_centroid\>\"", ",", " ", 
     "\"\<start_from_dp_centroid\>\"", ",", " ", 
     "\"\<closed_orbit_accuracy\>\"", ",", " ", 
     "\"\<closed_orbit_iterations\>\"", ",", " ", 
     "\"\<iteration_fraction\>\"", ",", " ", "\"\<fixed_length\>\"", ",", 
     " ", "\"\<start_from_recirc\>\"", ",", " ", "\"\<verbosity\>\"", ",", 
     " ", "\"\<tracking_turns\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887180992121763`*^9, 3.688718253438676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<correct\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<mode\>\"", ",", " ", "\"\<method\>\"", ",", " ", 
     "\"\<trajectory_output\>\"", ",", " ", "\"\<corrector_output\>\"", ",", 
     " ", "\"\<statistics\>\"", ",", " ", "\"\<verbose\>\"", ",", " ", 
     "\"\<fixed_length\>\"", ",", " ", "\"\<fixed_length_matrix\>\"", ",", 
     " ", "\"\<n_xy_cycles\>\"", ",", " ", "\"\<minimum_cycles\>\"", ",", 
     " ", "\"\<n_iterations\>\"", ",", " ", "\"\<prezero_correctors\>\"", ",",
      " ", "\"\<track_before_and_after\>\"", ",", " ", 
     "\"\<start_from_centroid\>\"", ",", " ", "\"\<use_actual_beam\>\"", ",", 
     " ", "\"\<closed_orbit_accuracy\>\"", ",", " ", 
     "\"\<closed_orbit_iterations\>\"", ",", " ", 
     "\"\<closed_orbit_iteration_fraction\>\"", ",", " ", 
     "\"\<closed_orbit_tracking_turns\>\"", ",", " ", 
     "\"\<use_perturbed_matrix\>\"", ",", " ", "\"\<disable\>\"", ",", " ", 
     "\"\<use_response_from_computed_orbits\>\"", ",", " ", 
     "\"\<corrector_tweek\>\"", ",", " ", "\"\<corrector_limit\>\"", ",", 
     " ", "\"\<correction_fraction\>\"", ",", " ", 
     "\"\<correction_accuracy\>\"", ",", " ", "\"\<do_correction\>\"", ",", 
     " ", "\"\<remove_smallest_SVs\>\"", ",", " ", "\"\<keep_largest_SVs\>\"",
      ",", " ", "\"\<minimum_SV_ratio\>\"", ",", " ", 
     "\"\<auto_limit_SVs\>\"", ",", " ", "\"\<removed_pegged\>\"", ",", " ", 
     "\"\<threading_divisor\>\"", ",", " ", "\"\<threading_correctors\>\"", 
     ",", " ", "\"\<bpm_noise\>\"", ",", " ", "\"\<bpm_noise_cutoff\>\"", ",",
      " ", "\"\<bpm_noise_distribution\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718099775176*^9, 3.6887182534586763`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<correction_matrix_output\>\"", "]"}], 
   "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KnL_units\>\"", ",", " ", "\"\<BnL_units\>\"", ",", " ", 
     "\"\<output_at_each_step\>\"", ",", " ", 
     "\"\<output_before_tune_correction\>\"", ",", " ", 
     "\"\<fixed_length\>\"", ",", " ", "\"\<coupled\>\"", ",", " ", 
     "\"\<use_response_from_computed_orbits\>\"", ",", " ", 
     "\"\<response\>\"", ",", " ", "\"\<inverse\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718100158176*^9, 3.688718253478676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<correct_tunes\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<quadrupoles\>\"", ",", " ", "\"\<tune_x\>\"", ",", " ", 
     "\"\<tune_y\>\"", ",", " ", "\"\<n_iterations\>\"", ",", " ", 
     "\"\<correction_fraction\>\"", ",", " ", "\"\<tolerance\>\"", ",", " ", 
     "\"\<step_up_interval\>\"", ",", " ", "\"\<max_correction_fraction\>\"", 
     ",", " ", "\"\<delta_correction_fraction\>\"", ",", " ", 
     "\"\<strength_log\>\"", ",", " ", "\"\<change_defined_values\>\"", ",", 
     " ", "\"\<use_perturbed_matrix\>\"", ",", " ", "\"\<dK1_weight\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718100783176*^9, 3.6887182534986763`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<coupled_twiss_output\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<output_at_each_step\>\"", ",", " ", 
     "\"\<emittances_from_twiss_command\>\"", ",", " ", "\"\<emit_x\>\"", ",",
      " ", "\"\<emittance_ratio\>\"", ",", " ", "\"\<sigma_dp\>\"", ",", " ", 
     "\"\<calculate_3d_coupling\>\"", ",", " ", "\"\<verbosity\>\"", ",", 
     " ", "\"\<concat_order\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718101163176*^9, 3.688718253508676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<divide_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<exclude\>\"", 
     ",", " ", "\"\<divisions\>\"", ",", " ", "\"\<maximum_length\>\"", ",", 
     " ", "\"\<clear\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718101603176*^9, 3.688718253518676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<error_element\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<element_type\>\"", ",", " ", 
     "\"\<item\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<amplitude\>\"", 
     ",", " ", "\"\<cutoff\>\"", ",", " ", "\"\<bind\>\"", ",", " ", 
     "\"\<bind_number\>\"", ",", " ", "\"\<post_correction\>\"", ",", " ", 
     "\"\<fractional\>\"", ",", " ", "\"\<additive\>\"", ",", " ", 
     "\"\<allow_missing_elements\>\"", ",", " ", "\"\<after\>\"", ",", " ", 
     "\"\<before\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718102013176*^9, 3.6887182535386763`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<error_control\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<clear_error_settings\>\"", ",", " ", 
     "\"\<summarize_error_settings\>\"", ",", " ", 
     "\"\<no_errors_for_first_step\>\"", ",", " ", "\"\<error_log\>\"", ",", 
     " ", "\"\<error_factor\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718102473176*^9, 3.688718253558676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<find_aperture\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<search_output\>\"", ",", " ", 
     "\"\<boundary\>\"", ",", " ", "\"\<mode\>\"", ",", " ", "\"\<xmin\>\"", 
     ",", " ", "\"\<xmax\>\"", ",", " ", "\"\<ymin\>\"", ",", " ", 
     "\"\<ymax\>\"", ",", " ", "\"\<nx\>\"", ",", " ", "\"\<ny\>\"", ",", 
     " ", "\"\<n_splits\>\"", ",", " ", "\"\<split_fraction\>\"", ",", " ", 
     "\"\<desired_resolution\>\"", ",", " ", "\"\<assume_nonincreasing\>\"", 
     ",", " ", "\"\<verbosity\>\"", ",", " ", "\"\<offset_by_orbit\>\"", ",", 
     " ", "\"\<n_lines\>\"", ",", " ", "\"\<optimization_mode\>\""}], "}"}]}],
   ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718102913176*^9, 3.688718253568676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<floor_coordinates\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<X0\>\"", ",", " ", "\"\<Z0\>\"", ",", 
     " ", "\"\<theta0\>\"", ",", " ", "\"\<include_vertices\>\"", ",", " ", 
     "\"\<vertices_only\>\"", ",", " ", "\"\<magnet_centers\>\"", ",", " ", 
     "\"\<store_vertices\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718103273176*^9, 3.688718253578676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<frequency_map\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<xmin\>\"", ",", " ", "\"\<xmax\>\"", ",",
      " ", "\"\<ymin\>\"", ",", " ", "\"\<ymax\>\"", ",", " ", 
     "\"\<delta_min\>\"", ",", " ", "\"\<delta_max\>\"", ",", " ", 
     "\"\<nx\>\"", ",", " ", "\"\<ny\>\"", ",", " ", "\"\<ndelta\>\"", ",", 
     " ", "\"\<verbosity\>\"", ",", " ", "\"\<include_changes\>\"", ",", " ", 
     "\"\<quadratic_spacing\>\"", ",", " ", "\"\<full_grid_output\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718103673176*^9, 3.688718253599676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<global_settings\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<inhibit_fsync\>\"", ",", " ", "\"\<echo_namelists\>\"", ",", " ", 
     "\"\<SR_gaussian_limit\>\"", ",", " ", "\"\<log_file\>\"", ",", " ", 
     "\"\<error_log_file\>\"", ",", " ", "\"\<mpi_randomization_mode\>\"", 
     ",", " ", "\"\<exact_normalized_emittance\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718104328176*^9, 3.688718253609676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<insert_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<exclude\>\"", 
     ",", " ", "\"\<s_start\>\"", ",", " ", "\"\<s_end\>\"", ",", " ", 
     "\"\<skip\>\"", ",", " ", "\"\<disable\>\"", ",", " ", 
     "\"\<add_at_end\>\"", ",", " ", "\"\<add_at_start\>\"", ",", " ", 
     "\"\<element_def\>\"", ",", " ", "\"\<total_occurrences\>\"", ",", " ", 
     "\"\<occurrence\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718104731176*^9, 3.688718253619676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<insert_sceffects\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<exclude\>\"", 
     ",", " ", "\"\<disable\>\"", ",", " ", "\"\<clear\>\"", ",", " ", 
     "\"\<element_prefix\>\"", ",", " ", "\"\<skip\>\"", ",", " ", 
     "\"\<vertical\>\"", ",", " ", "\"\<horizontal\>\"", ",", " ", 
     "\"\<nonlinear\>\"", ",", " ", "\"\<uniform_distribution\>\"", ",", " ", 
     "\"\<verbosity\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718105132176*^9, 3.688718253629676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
   "ElegantRules", "[", "\"\<linear_chromatic_tracking_setup\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<nux\>\"", ",", " ", "\"\<betax\>\"", ",", " ", "\"\<alphax\>\"", ",",
      " ", "\"\<etax\>\"", ",", " ", "\"\<etapx\>\"", ",", " ", "\"\<nuy\>\"",
      ",", " ", "\"\<betay\>\"", ",", " ", "\"\<alphay\>\"", ",", " ", 
     "\"\<etay\>\"", ",", " ", "\"\<etapy\>\"", ",", " ", "\"\<alphac\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718105465176*^9, 3.6887182536496763`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<link_control\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<clear_links\>\"", ",", " ", "\"\<summarize_links\>\"", ",", " ", 
     "\"\<verbosity\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718105757176*^9, 3.688718253659676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<link_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<target\>\"", ",", " ", "\"\<exclude\>\"", ",", " ", "\"\<item\>\"", 
     ",", " ", "\"\<source\>\"", ",", " ", "\"\<source_position\>\"", ",", 
     " ", "\"\<mode\>\"", ",", " ", "\"\<equation\>\"", ",", " ", 
     "\"\<minimium\>\"", ",", " ", "\"\<maximum\>\"", ",", " ", 
     "\"\<exclude_self\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718106108176*^9, 3.688718253669676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<load_parameters\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<filename_list\>\"", ",", " ", 
     "\"\<include_name_pattern\>\"", ",", " ", "\"\<exclude_name_pattern\>\"",
      ",", " ", "\"\<include_item_pattern\>\"", ",", " ", 
     "\"\<exclude_item_pattern\>\"", ",", " ", "\"\<include_type_pattern\>\"",
      ",", " ", "\"\<exclude_type_pattern\>\"", ",", " ", 
     "\"\<edit_name_command\>\"", ",", " ", "\"\<change_defined_values\>\"", 
     ",", " ", "\"\<clear_settings\>\"", ",", " ", 
     "\"\<allow_missing_elements\>\"", ",", " ", 
     "\"\<allow_missing_parameters\>\"", ",", " ", 
     "\"\<allow_missing_files\>\"", ",", " ", "\"\<force_occurence_data\>\"", 
     ",", " ", "\"\<verbose\>\"", ",", " ", "\"\<skip_pages\>\"", ",", " ", 
     "\"\<use_first\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718106588176*^9, 3.688718253679676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<matrix_output\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<printout\>\"", ",", " ", "\"\<printout_order\>\"", ",", " ", 
     "\"\<full_matrix_only\>\"", ",", " ", "\"\<SDDS_output\>\"", ",", " ", 
     "\"\<SDDS_output_order\>\"", ",", " ", "\"\<individual_matrices\>\"", 
     ",", " ", "\"\<SDDS_output_match\>\"", ",", " ", 
     "\"\<output_at_each_step\>\"", ",", " ", "\"\<start_from\>\"", ",", " ", 
     "\"\<start_from_occurrence\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718106928176*^9, 3.688718253699676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<modulate_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<type\>\"", ",", 
     " ", "\"\<expression\>\"", ",", " ", "\"\<filename\>\"", ",", " ", 
     "\"\<time_column\>\"", ",", " ", "\"\<amplitude_column\>\"", ",", " ", 
     "\"\<refresh_matrix\>\"", ",", " ", "\"\<differential\>\"", ",", " ", 
     "\"\<multiplicative\>\"", ",", " ", "\"\<start_occurence\>\"", ",", " ", 
     "\"\<end_occurence\>\"", ",", " ", "\"\<s_start\>\"", ",", " ", 
     "\"\<s_end\>\"", ",", " ", "\"\<before\>\"", ",", " ", "\"\<after\>\"", 
     ",", " ", "\"\<verbose\>\"", ",", " ", "\"\<verbose_threshold\>\"", ",", 
     " ", "\"\<record\>\"", ",", " ", "\"\<flush_record\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718107460176*^9, 3.688718253709676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<moments_output\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<output_at_each_step\>\"", ",", " ", 
     "\"\<output_before_tune_correction\>\"", ",", " ", 
     "\"\<final_values_only\>\"", ",", " ", "\"\<verbosity\>\"", ",", " ", 
     "\"\<matched\>\"", ",", " ", "\"\<equilibrium\>\"", ",", " ", 
     "\"\<radiation\>\"", ",", " ", "\"\<n_slices\>\"", ",", " ", 
     "\"\<slice_etilted\>\"", ",", " ", "\"\<emit_x\>\"", ",", " ", 
     "\"\<beta_x\>\"", ",", " ", "\"\<alpha_x\>\"", ",", " ", "\"\<eta_x\>\"",
      ",", " ", "\"\<etap_x\>\"", ",", " ", "\"\<emit_y\>\"", ",", " ", 
     "\"\<beta_y\>\"", ",", " ", "\"\<alpha_y\>\"", ",", " ", "\"\<eta_y\>\"",
      ",", " ", "\"\<etap_y\>\"", ",", " ", "\"\<emit_z\>\"", ",", " ", 
     "\"\<beta_z\>\"", ",", " ", "\"\<alpha_z\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718107971176*^9, 3.688718253719676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<momentum_aperture\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<x_initial\>\"", ",", " ", 
     "\"\<y_initial\>\"", ",", " ", "\"\<delta_negative_start\>\"", ",", " ", 
     "\"\<delta_positive_start\>\"", ",", " ", "\"\<delta_negative_limit\>\"",
      ",", " ", "\"\<delta_positive_limit\>\"", ",", " ", 
     "\"\<delta_step_size\>\"", ",", " ", "\"\<steps_back\>\"", ",", " ", 
     "\"\<splits\>\"", ",", " ", "\"\<split_step_divisor\>\"", ",", " ", 
     "\"\<skip_elements\>\"", ",", " ", "\"\<process_elements\>\"", ",", " ", 
     "\"\<s_start\>\"", ",", " ", "\"\<s_end\>\"", ",", " ", 
     "\"\<include_name_pattern\>\"", ",", " ", "\"\<include_type_pattern\>\"",
      ",", " ", "\"\<fiducialize\>\"", ",", " ", "\"\<verbosity\>\"", ",", 
     " ", "\"\<soft_failure\>\"", ",", " ", "\"\<output_mode\>\"", ",", " ", 
     "\"\<forbid_resonance_crossing\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887181085031757`*^9, 3.6887182537296762`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimize\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<summarize_setup\>\"", "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887181088111763`*^9, 3.6887182537496758`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimization_constraint\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<quantity\>\"", ",", " ", "\"\<lower\>\"", ",", " ", 
     "\"\<upper\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718109144176*^9, 3.688718253759676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimization_covariable\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<equation\>\"", 
     ",", " ", "\"\<disable\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718109527176*^9, 3.688718253769676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimization_setup\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<equation\>\"", ",", " ", "\"\<mode\>\"", ",", " ", "\"\<method\>\"", 
     ",", " ", "\"\<tolerance\>\"", ",", " ", "\"\<target\>\"", ",", " ", 
     "\"\<center_on_orbit\>\"", ",", " ", "\"\<center_momentum_also\>\"", ",",
      " ", "\"\<soft_failure\>\"", ",", " ", "\"\<n_passes\>\"", ",", " ", 
     "\"\<n_evaluations\>\"", ",", " ", "\"\<n_restarts\>\"", ",", " ", 
     "\"\<matrix_order\>\"", ",", " ", "\"\<log_file\>\"", ",", " ", 
     "\"\<term_log_file\>\"", ",", " ", "\"\<output_sparsing_factor\>\"", ",",
      " ", "\"\<balance_terms\>\"", ",", " ", 
     "\"\<restart_worst_term_factor\>\"", ",", " ", 
     "\"\<restart_worst_terms\>\"", ",", " ", "\"\<verbose\>\"", ",", " ", 
     "\"\<balance_terms\>\"", ",", " ", "\"\<simplex_divisor\>\"", ",", " ", 
     "\"\<simplex_pass_range_factor\>\"", ",", " ", 
     "\"\<include_simplex_1d_scans\>\"", ",", " ", 
     "\"\<start_from_simplex_vertex1\>\"", ",", " ", 
     "\"\<restart_random_numbers\>\"", ",", " ", "\"\<interrupt_file\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718110323176*^9, 3.688718253779676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<parallel_optimization_setup\>\"", "]"}], 
   "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<method\>\"", ",", " ", "\"\<random_factor\>\"", ",", " ", 
     "\"\<n_iterations\>\"", ",", " ", "\"\<max_no_change\>\"", ",", " ", 
     "\"\<population_size\>\"", ",", " ", "\"\<population_log\>\"", ",", " ", 
     "\"\<print_all_individuals\>\"", ",", " ", 
     "\"\<output_sparsing_factor\>\"", ",", " ", "\"\<crossover\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718110822176*^9, 3.688718253799676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimization_term\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<term\>\"", ",", " ", "\"\<weight\>\"", ",", " ", 
     "\"\<field_string\>\"", ",", " ", "\"\<field_initial_value\>\"", ",", 
     " ", "\"\<field_final_value\>\"", ",", " ", "\"\<field_interval\>\"", 
     ",", " ", "\"\<input_file\>\"", ",", " ", "\"\<input_column\>\"", ",", 
     " ", "\"\<verbose\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718111191176*^9, 3.688718253809676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimization_variable\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<lower_limit\>\"",
      ",", " ", "\"\<upper_limit\>\"", ",", " ", "\"\<step_size\>\"", ",", 
     " ", "\"\<disable\>\"", ",", " ", "\"\<force_inside\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718111540176*^9, 3.688718253819676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<print_dictionary\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<filename\>\"", ",", " ", "\"\<SDDS_form\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718111835676*^9, 3.6887182538296757`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ramp_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<type\>\"", ",", 
     " ", "\"\<start_pass\>\"", ",", " ", "\"\<end_pass\>\"", ",", " ", 
     "\"\<start_value\>\"", ",", " ", "\"\<end_value\>\"", ",", " ", 
     "\"\<differential\>\"", ",", " ", "\"\<multiplicative\>\"", ",", " ", 
     "\"\<start_occurence\>\"", ",", " ", "\"\<end_occurence\>\"", ",", " ", 
     "\"\<exponent\>\"", ",", " ", "\"\<s_start\>\"", ",", " ", 
     "\"\<s_end\>\"", ",", " ", "\"\<before\>\"", ",", " ", "\"\<after\>\"", 
     ",", " ", "\"\<verbose\>\"", ",", " ", "\"\<record\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718112278676*^9, 3.688718253839676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<rf_setup\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<name\>\"", ",", " ", 
     "\"\<start_occurence\>\"", ",", " ", "\"\<end_occurence\>\"", ",", " ", 
     "\"\<s_start\>\"", ",", " ", "\"\<s_end\>\"", ",", " ", 
     "\"\<set_for_each_step\>\"", ",", " ", "\"\<near_frequency\>\"", ",", 
     " ", "\"\<harmonic\>\"", ",", " ", "\"\<bucket_half_height\>\"", ",", 
     " ", "\"\<over_voltage\>\"", ",", " ", "\"\<total_voltage\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718112731676*^9, 3.688718253859676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<replace_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<exclude\>\"", 
     ",", " ", "\"\<skip\>\"", ",", " ", "\"\<disable\>\"", ",", " ", 
     "\"\<element_def\>\"", ",", " ", "\"\<total_occurrences\>\"", ",", " ", 
     "\"\<occurrence\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718113080676*^9, 3.688718253869676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<rpn_expression\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<expression\>\"", "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718113412676*^9, 3.688718253879676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<rpn_load\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<tag\>\"", ",", " ", "\"\<filename\>\"", ",", " ", 
     "\"\<match_column\>\"", ",", " ", "\"\<match_column_value\>\"", ",", 
     " ", "\"\<matching_row_number\>\"", ",", " ", "\"\<match_parameter\>\"", 
     ",", " ", "\"\<match_parameter_value\>\"", ",", " ", "\"\<use_row\>\"", 
     ",", " ", "\"\<use_page\>\"", ",", " ", "\"\<load_parameters\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718113831676*^9, 3.688718253889676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<run_control\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<n_steps\>\"", ",", " ", "\"\<bunch_frequency\>\"", ",", " ", 
     "\"\<n_indices\>\"", ",", " ", "\"\<n_passes\>\"", ",", " ", 
     "\"\<n_passes_fiducial\>\"", ",", " ", "\"\<reset_rf_for_each_step\>\"", 
     ",", " ", "\"\<first_is_fiducial\>\"", ",", " ", 
     "\"\<restrict_fiducialization\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718114205676*^9, 3.6887182538996763`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<run_setup\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<lattice\>\"", ",", " ", "\"\<use_beamline\>\"", ",", " ", 
     "\"\<rootname\>\"", ",", " ", "\"\<output\>\"", ",", " ", 
     "\"\<centroid\>\"", ",", " ", "\"\<sigma\>\"", ",", " ", "\"\<final\>\"",
      ",", " ", "\"\<acceptance\>\"", ",", " ", "\"\<losses\>\"", ",", " ", 
     "\"\<magnets\>\"", ",", " ", "\"\<semaphore_file\>\"", ",", " ", 
     "\"\<parameters\>\"", ",", " ", "\"\<combine_bunch_statistics\>\"", ",", 
     " ", "\"\<wrap_around\>\"", ",", " ", "\"\<final_pass\>\"", ",", " ", 
     "\"\<default_order\>\"", ",", " ", "\"\<concat_order\>\"", ",", " ", 
     "\"\<print_statistics\>\"", ",", " ", "\"\<show_element_timing\>\"", ",",
      " ", "\"\<monitor_memory_usage\>\"", ",", " ", 
     "\"\<random_number_seed\>\"", ",", " ", "\"\<correction_iterations\>\"", 
     ",", " ", "\"\<p_central\>\"", ",", " ", "\"\<p_central_mev\>\"", ",", 
     " ", "\"\<always_change_p0\>\"", ",", " ", "\"\<expand_for\>\"", ",", 
     " ", "\"\<tracking_updates\>\"", ",", " ", "\"\<echo_lattice\>\"", ",", 
     " ", "\"\<search_path\>\"", ",", " ", "\"\<element_divisions\>\"", ",", 
     " ", "\"\<load_balancing_on\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718114736676*^9, 3.688718253919676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<sasefel\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<model\>\"", ",", " ", "\"\<beta\>\"", 
     ",", " ", "\"\<undulator_K\>\"", ",", " ", "\"\<undulator_period\>\"", 
     ",", " ", "\"\<slice_fraction\>\"", ",", " ", "\"\<n_slices\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718115074676*^9, 3.688718253929676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<save_lattice\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<filename\>\"", ",", " ", "\"\<output_seq\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718115377676*^9, 3.6887182539396763`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<sdds_beam\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<input\>\"", ",", " ", "\"\<input_list\>\"", ",", " ", 
     "\"\<input_type\>\"", ",", " ", "\"\<n_particles_per_ring\>\"", ",", 
     " ", "\"\<selection_parameter\>\"", ",", " ", "\"\<selection_string\>\"",
      ",", " ", "\"\<one_random_bunch\>\"", ",", " ", "\"\<reuse_bunch\>\"", 
     ",", " ", "\"\<prebunched\>\"", ",", " ", 
     "\"\<track_pages_separately\>\"", ",", " ", "\"\<use_bunched_mode\>\"", 
     ",", " ", "\"\<sample_interval\>\"", ",", " ", 
     "\"\<n_tables_to_skip\>\"", ",", " ", "\"\<center_transversely\>\"", ",",
      " ", "\"\<center_arrival_time\>\"", ",", " ", "\"\<sample_fraction\>\"",
      ",", " ", "\"\<p_lower\>\"", ",", " ", "\"\<p_upper\>\"", ",", " ", 
     "\"\<save_initial_coordinates\>\"", ",", " ", "\"\<reverse_t_sign\>\"", 
     ",", " ", "\"\<n_duplicates\>\"", ",", " ", 
     "\"\<duplicate_stagger\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718115876676*^9, 3.688718253949676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<semaphores\>\"", "]"}], "=", 
   RowBox[{"{", "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887181161896763`*^9, 3.688718253959676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<slice_analysis\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<n_slices\>\"", ",", " ", 
     "\"\<s_start\>\"", ",", " ", "\"\<s_end\>\"", ",", " ", 
     "\"\<final_values_only\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718116519676*^9, 3.6887182539796762`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<subprocess\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<command\>\"", "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718116810676*^9, 3.688718253989676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<steering_element\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<element_type\>\"", ",", " ", 
     "\"\<item\>\"", ",", " ", "\"\<plane\>\"", ",", " ", "\"\<tweek\>\"", 
     ",", " ", "\"\<limit\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718117206676*^9, 3.6887182539996758`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<stop\>\"", "]"}], "=", 
   RowBox[{"{", "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.688718117206676*^9, 3.6887182539996758`*^9, {3.7068512447772017`*^9, 
   3.706851250798802*^9}},ExpressionUUID->"ed54cbb2-4c87-49b5-84f0-\
da889b0f1fe0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<touschek_scatter\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<charge\>\"", ",", " ", "\"\<frequency\>\"", ",", " ", 
     "\"\<emit_x\>\"", ",", " ", "\"\<emit_nx\>\"", ",", " ", 
     "\"\<emit_y\>\"", ",", " ", "\"\<emit_ny\>\"", ",", " ", 
     "\"\<sigma_dp\>\"", ",", " ", "\"\<sigma_s\>\"", ",", " ", 
     "\"\<Momentum_Aperture_scale\>\"", ",", " ", "\"\<Momentum_Aperture\>\"",
      ",", " ", "\"\<XDist\>\"", ",", " ", "\"\<YDist\>\"", ",", " ", 
     "\"\<ZDist\>\"", ",", " ", "\"\<TranDist\>\"", ",", " ", 
     "\"\<FullDist\>\"", ",", " ", "\"\<bunch\>\"", ",", " ", "\"\<loss\>\"", 
     ",", " ", "\"\<distribution\>\"", ",", " ", "\"\<initial\>\"", ",", " ", 
     "\"\<output\>\"", ",", " ", "\"\<nbins\>\"", ",", " ", 
     "\"\<sbin_step\>\"", ",", " ", "\"\<n_simulated\>\"", ",", " ", 
     "\"\<ignored_portion\>\"", ",", " ", "\"\<i_start\>\"", ",", " ", 
     "\"\<i_end\>\"", ",", " ", "\"\<do_track\>\"", ",", " ", 
     "\"\<match_position_only\>\"", ",", " ", "\"\<overwrite_files\>\"", ",", 
     " ", "\"\<verbosity\>\"", ",", " ", "\"\<distribution_cutoff\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718117832676*^9, 3.688718254009676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<transmute_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<exclude\>\"", 
     ",", " ", "\"\<new_type\>\"", ",", " ", "\"\<disable\>\"", ",", " ", 
     "\"\<clear\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718118192676*^9, 3.688718254019676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<tune_footprint\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<delta_output\>\"", ",", " ", "\"\<xy_output\>\"", ",", " ", 
     "\"\<xmin\>\"", ",", " ", "\"\<xmax\>\"", ",", " ", "\"\<ymin\>\"", ",", 
     " ", "\"\<ymax\>\"", ",", " ", "\"\<x_for_delta\>\"", ",", " ", 
     "\"\<y_for_delta\>\"", ",", " ", "\"\<delta_min\>\"", ",", " ", 
     "\"\<delta_max\>\"", ",", " ", "\"\<nx\>\"", ",", " ", "\"\<ny\>\"", ",",
      " ", "\"\<ndelta\>\"", ",", " ", "\"\<verbosity\>\"", ",", " ", 
     "\"\<quadratic_spacing\>\"", ",", " ", "\"\<compute_diffusion\>\"", ",", 
     " ", "\"\<diffusion_rate_limit\>\"", ",", " ", "\"\<immediate\>\"", ",", 
     " ", "\"\<filtered_output\>\"", ",", " ", 
     "\"\<ignore_half_integer\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718118692676*^9, 3.6887182540396757`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<twiss_analysis\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<match_name\>\"", ",", " ", "\"\<start_name\>\"", ",", " ", 
     "\"\<end_name\>\"", ",", " ", "\"\<s_start\>\"", ",", " ", 
     "\"\<s_end\>\"", ",", " ", "\"\<tag\>\"", ",", " ", "\"\<verbosity\>\"", 
     ",", " ", "\"\<clear\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718119069676*^9, 3.688718254049676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<twiss_output\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<matched\>\"", ",", " ", 
     "\"\<output_at_each_step\>\"", ",", " ", 
     "\"\<output_before_tune_correction\>\"", ",", " ", 
     "\"\<final_values_only\>\"", ",", " ", "\"\<statistics\>\"", ",", " ", 
     "\"\<radiation_integrals\>\"", ",", " ", "\"\<concat_order\>\"", ",", 
     " ", "\"\<higher_order_chromaticity\>\"", ",", " ", 
     "\"\<higher_order_chromaticity_points\>\"", ",", " ", 
     "\"\<higher_order_chromaticity_range\>\"", ",", " ", 
     "\"\<chromatic_tune_spread_half_range\>\"", ",", " ", 
     "\"\<quick_higher_order_chromaticity\>\"", ",", " ", "\"\<beta_x\>\"", 
     ",", " ", "\"\<alpha_x\>\"", ",", " ", "\"\<eta_x\>\"", ",", " ", 
     "\"\<etap_x\>\"", ",", " ", "\"\<beta_y\>\"", ",", " ", 
     "\"\<alpha_y\>\"", ",", " ", "\"\<eta_y\>\"", ",", " ", "\"\<etap_y\>\"",
      ",", " ", "\"\<reference_file\>\"", ",", " ", 
     "\"\<reference_element\>\"", ",", " ", 
     "\"\<reference_element_occurrence\>\"", ",", " ", 
     "\"\<reflect_reference_values\>\"", ",", " ", 
     "\"\<cavities_are_drifts_if_matched\>\"", ",", " ", 
     "\"\<compute_driving_terms\>\"", ",", " ", 
     "\"\<leading_order_driving_terms_only\>\"", ",", " ", 
     "\"\<s_dependent_driving_terms_file\>\"", ",", " ", 
     "\"\<local_dispersion\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887181198816757`*^9, 3.688718254059676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<track\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<center_on_orbit\>\"", ",", " ", "\"\<center_momentum_also\>\"", ",", 
     " ", "\"\<offset_by_orbit\>\"", ",", " ", "\"\<offset_momentum_also\>\"",
      ",", " ", "\"\<soft_failure\>\"", ",", " ", 
     "\"\<use_linear_chromatic_matrix\>\"", ",", " ", 
     "\"\<longitudinal_ring_only\>\"", ",", " ", 
     "\"\<stop_tracking_particle_limit\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718120318676*^9, 3.6887182540796757`*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<tune_shift_with_amplitude\>\"", "]"}], 
   "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<turns\>\"", ",", " ", "\"\<x0\>\"", ",", " ", "\"\<y0\>\"", ",", 
     " ", "\"\<x1\>\"", ",", " ", "\"\<y1\>\"", ",", " ", "\"\<grid_size\>\"",
      ",", " ", "\"\<lines_only\>\"", ",", " ", "\"\<sparse_grid\>\"", ",", 
     " ", "\"\<spread_only\>\"", ",", " ", "\"\<nux_roi_width\>\"", ",", " ", 
     "\"\<nuy_roi_width\>\"", ",", " ", "\"\<scale_down_factor\>\"", ",", 
     " ", "\"\<scale_up_factor\>\"", ",", " ", "\"\<scale_down_limit\>\"", 
     ",", " ", "\"\<scale_up_limit\>\"", ",", " ", 
     "\"\<scaling_iterations\>\"", ",", " ", "\"\<use_concatenation\>\"", ",",
      " ", "\"\<verbose\>\"", ",", " ", "\"\<order\>\"", ",", " ", 
     "\"\<tune_output\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.688718120851676*^9, 3.688718254080676*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<vary_element\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<index_number\>\"", ",", " ", "\"\<index_limit\>\"", ",", " ", 
     "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<initial\>\"", 
     ",", " ", "\"\<final\>\"", ",", " ", "\"\<differential\>\"", ",", " ", 
     "\"\<multiplicative\>\"", ",", " ", "\"\<geometric\>\"", ",", " ", 
     "\"\<enumeration_file\>\"", ",", " ", "\"\<enumeration_column\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.6887181212156763`*^9, 3.688718254088676*^9}]
}, Closed]],

Cell[CellGroupData[{

Cell["addRules", "Subsubsection",
 CellChangeTimes->{{3.6881083303028936`*^9, 3.6881083321748934`*^9}, {
  3.705816203555565*^9, 3.705816204930565*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"addRules", "[", "rules_", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Union", "[", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Switch", "[", 
         RowBox[{
          RowBox[{"Head", "[", "#", "]"}], ",", "\[IndentingNewLine]", 
          "String", ",", 
          RowBox[{"{", 
           RowBox[{"#", ",", 
            RowBox[{"ToUpperCase", "[", "#", "]"}], ",", 
            RowBox[{"ToLowerCase", "[", "#", "]"}]}], "}"}], ",", 
          "\[IndentingNewLine]", "Symbol", ",", 
          RowBox[{"{", 
           RowBox[{"#", ",", 
            RowBox[{"ToString", "[", "#", "]"}], ",", 
            RowBox[{"ToUpperCase", "[", 
             RowBox[{"ToString", "[", "#", "]"}], "]"}], ",", 
            RowBox[{"ToLowerCase", "[", 
             RowBox[{"ToString", "[", "#", "]"}], "]"}], ",", 
            RowBox[{"Symbol", "@", 
             RowBox[{"ToUpperCase", "[", 
              RowBox[{"ToString", "[", "#", "]"}], "]"}]}], ",", 
            RowBox[{"Symbol", "@", 
             RowBox[{"ToLowerCase", "[", 
              RowBox[{"ToString", "[", "#", "]"}], "]"}]}]}], "}"}], ",", 
          "\[IndentingNewLine]", "Rule", ",", 
          RowBox[{"Block", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"a", "=", 
               RowBox[{
               "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
              ",", 
              RowBox[{"b", "=", 
               RowBox[{
               "#", "\[LeftDoubleBracket]", "2", 
                "\[RightDoubleBracket]"}]}]}], "}"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"Map", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Rule", "[", 
                RowBox[{"#", ",", "b"}], "]"}], "&"}], ",", 
              RowBox[{"{", 
               RowBox[{"a", ",", 
                RowBox[{"ToString", "[", "a", "]"}], ",", 
                RowBox[{"ToUpperCase", "[", 
                 RowBox[{"ToString", "[", "a", "]"}], "]"}], ",", 
                RowBox[{"ToLowerCase", "[", 
                 RowBox[{"ToString", "[", "a", "]"}], "]"}], ",", 
                RowBox[{"Symbol", "@", 
                 RowBox[{"ToUpperCase", "[", 
                  RowBox[{"ToString", "[", "a", "]"}], "]"}]}], ",", 
                RowBox[{"Symbol", "@", 
                 RowBox[{"ToLowerCase", "[", 
                  RowBox[{"ToString", "[", "a", "]"}], "]"}]}]}], "}"}]}], 
             "]"}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
         "]"}], "&"}], "/@", "rules"}], "]"}], "]"}]}], "\[IndentingNewLine]",
    "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.570200618484723*^9, 3.5702007976665525`*^9}, {
  3.5702008446325493`*^9, 3.5702008921222973`*^9}}]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["ASTRARules", "Subsection",
 CellChangeTimes->{{3.7076335759023952`*^9, 
  3.7076335791987247`*^9}},ExpressionUUID->"47a3ae91-6d4d-43ac-90a8-\
2c720903ec2d"],

Cell[CellGroupData[{

Cell["Definitions", "Subsubsection",
 CellChangeTimes->{{3.707633585158321*^9, 
  3.7076335864784527`*^9}},ExpressionUUID->"fdf6e376-f5eb-412e-a6cd-\
6e737ad65682"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<NEWRUN\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<Head\>\"", ",", "\"\<RUN\>\"", ",", "\"\<LOOP\>\"", ",", 
     "\"\<NLoop\>\"", ",", "\"\<Distribution\>\"", ",", "\"\<ion_mass\>\"", 
     ",", "\"\<N_red\>\"", ",", "\"\<Xoff\>\"", ",", "\"\<Yoff\>\"", ",", 
     "\"\<xp\>\"", ",", "\"\<yp\>\"", ",", "\"\<Zoff\>\"", ",", 
     "\"\<Toff\>\"", ",", "\"\<Xrms\>\"", ",", "\"\<Yrms\>\"", ",", 
     "\"\<XYrms\>\"", ",", "\"\<Zrms\>\"", ",", "\"\<Trms\>\"", ",", 
     "\"\<Tau\>\"", ",", "\"\<cor_px\>\"", ",", "\"\<cor_py\>\"", ",", 
     "\"\<Qbunch\>\"", ",", "\"\<SRT_Q_Schottky\>\"", ",", 
     "\"\<Q_Schottky\>\"", ",", "\"\<debunch\>\"", ",", "\"\<Track_All\>\"", 
     ",", "\"\<Track_On_Axis\>\"", ",", "\"\<Auto_Phase\>\"", ",", 
     "\"\<Phase_Scan\>\"", ",", "\"\<check_ref_part\>\"", ",", 
     "\"\<L_rm_back\>\"", ",", "\"\<Z_min\>\"", ",", "\"\<Z_Cathode\>\"", 
     ",", "\"\<H_max\>\"", ",", "\"\<H_min\>\"", ",", "\"\<Max_step\>\"", 
     ",", "\"\<Lmonitor\>\"", ",", "\"\<Lprompt\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{
  3.688717320393176*^9, 3.688718254483676*^9, 3.6890755837458*^9, {
   3.70754190461687*^9, 3.7075419063698697`*^9}, {3.7075419461258698`*^9, 
   3.70754194692587*^9}, {3.7075419987148695`*^9, 3.7075421820868697`*^9}, {
   3.707633374768284*^9, 
   3.707633536885494*^9}},ExpressionUUID->"6ef1f1fc-bb4c-4603-8aff-\
43313a4af4c1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<OUTPUT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ZSTART\>\"", ",", "\"\<ZSTOP\>\"", ",", "\"\<ZEMIT\>\"", ",", 
     "\"\<ZPHASE\>\"", ",", "\"\<SCREEN\>\"", ",", "\"\<SCR_XROT\>\"", ",", 
     "\"\<SCR_YROT\>\"", ",", "\"\<STEP_WIDTH\>\"", ",", "\"\<STEP_MAX\>\"", 
     ",", "\"\<LPROJECT_EMIT\>\"", ",", "\"\<LOCAL_EMIT\>\"", ",", 
     "\"\<LMAGNETIZED\>\"", ",", "\"\<LSUB_ROT\>\"", ",", 
     "\"\<LSUB_LARMOR\>\"", ",", "\"\<LSUB_COUP\>\"", ",", "\"\<ROT_ANG\>\"", 
     ",", "\"\<LSUB_COR\>\"", ",", "\"\<REFS\>\"", ",", "\"\<EMITS\>\"", ",", 
     "\"\<C_EMITS\>\"", ",", "\"\<c99_EMITS\>\"", ",", "\"\<TR_EMITS\>\"", 
     ",", "\"\<SUB_EMITS\>\"", ",", "\"\<CROSS_START\>\"", ",", 
     "\"\<CROSS_END\>\"", ",", "\"\<PHASES\>\"", ",", "\"\<T_PHASES\>\"", 
     ",", "\"\<HIGH_RES\>\"", ",", "\"\<BINARY\>\"", ",", "\"\<TRACKS\>\"", 
     ",", "\"\<TCHECKS\>\"", ",", "\"\<SIGMAS\>\"", ",", "\"\<CATHODES\>\"", 
     ",", "\"\<LANDFS\>\"", ",", "\"\<LARMORS\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7075421965088696`*^9, 
  3.7075424002168694`*^9}},ExpressionUUID->"870a25f8-374c-4a52-ba03-\
bba6302199ce"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<SCAN\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LSCAN\>\"", ",", "\"\<LEXTEND\>\"", ",", 
     "\"\<SCAN_PARA\>\"", ",", "\"\<S_MIN\>\"", ",", "\"\<S_MAX\>\"", ",", 
     "\"\<S_NUMB\>\"", ",", "\"\<O_MIN\>\"", ",", "\"\<O_MAX\>\"", ",", 
     "\"\<O_MATCH\>\"", ",", "\"\<MATCH_VALUE\>\"", ",", "\"\<O_DEPTH\>\"", 
     ",", "\"\<L_MIN\>\"", ",", "\"\<L_MAX\>\"", ",", "\"\<S_ZMIN\>\"", ",", 
     "\"\<S_ZMAX\>\"", ",", "\"\<S_DZ\>\"", ",", "\"\<FOM\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7075424061598697`*^9, 3.7075424591248693`*^9}, {
  3.7075424969378695`*^9, 
  3.7075425235848694`*^9}},ExpressionUUID->"c5205117-fdb3-4d16-be32-\
149490f0e82c"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<MODULES\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LMODULE\>\"", ",", "\"\<MODULE\>\"", ",", 
     "\"\<MOD_XOFF\>\"", ",", "\"\<MOD_YOFF\>\"", ",", "\"\<MOD_ZOFF\>\"", 
     ",", "\"\<MOD_XROT\>\"", ",", "\"\<MOD_YROT\>\"", ",", 
     "\"\<MOD_ZROT\>\"", ",", "\"\<MOD_ZPOS\>\"", ",", "\"\<MOD_EFIELD\>\"", 
     ",", "\"\<MOD_PHASE\>\"", ",", "\"\<MOD_BFIELD\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.70756907959228*^9, 3.707569148560176*^9}, {
  3.7076335460374093`*^9, 
  3.707633546885494*^9}},ExpressionUUID->"5b52a6e9-2cd2-44e9-8685-\
d256497bbd89"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<ERROR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LERROR\>\"", ",", "\"\<ERRORS\>\"", ",", 
     "\"\<LOG_ERROR\>\"", ",", "\"\<LEXTEND\>\"", ",", 
     "\"\<SUPPRESS_OUTPUT\>\"", ",", "\"\<FOM\>\"", ",", "\"\<ERR_CUTOFF\>\"",
      ",", "\"\<ERR_QBUNCH\>\"", ",", "\"\<ERR_XOFF\>\"", ",", 
     "\"\<ERR_YOFF\>\"", ",", "\"\<ERR_TOFF\>\"", ",", "\"\<ERR_XRMS\>\"", 
     ",", "\"\<ERR_YRMS\>\"", ",", "\"\<ERR_XYRMS\>\"", ",", 
     "\"\<ERR_ZRMS\>\"", ",", "\"\<ERR_TRMS\>\"", ",", "\"\<ERR_A_XOFF\>\"", 
     ",", "\"\<ERR_A_YOFF\>\"", ",", "\"\<ERR_A_XROT\>\"", ",", 
     "\"\<ERR_A_YROT\>\"", ",", "\"\<ERR_A_ZROT\>\"", ",", 
     "\"\<ERR_C_XOFF\>\"", ",", "\"\<ERR_C_YOFF\>\"", ",", 
     "\"\<ERR_C_XROT\>\"", ",", "\"\<ERR_C_YROT\>\"", ",", 
     "\"\<ERR_C_ZROT\>\"", ",", "\"\<ERR_PHI\>\"", ",", "\"\<ERR_MAXE\>\"", 
     ",", "\"\<ERR_S_XOFF\>\"", ",", "\"\<ERR_S_YOFF\>\"", ",", 
     "\"\<ERR_S_XROT\>\"", ",", "\"\<ERR_S_YROT\>\"", ",", "\"\<ERR_MAXB\>\"",
      ",", "\"\<ERR_Q_XOFF\>\"", ",", "\"\<ERR_Q_YOFF\>\"", ",", 
     "\"\<ERR_Q_XROT\>\"", ",", "\"\<ERR_Q_YROT\>\"", ",", 
     "\"\<ERR_Q_ZROT\>\"", ",", "\"\<ERR_Q_GRAD\>\"", ",", 
     "\"\<ERR_D_XOFF\>\"", ",", "\"\<ERR_D_YOFF\>\"", ",", 
     "\"\<ERR_D_XROT\>\"", ",", "\"\<ERR_D_YROT\>\"", ",", 
     "\"\<ERR_D_ZROT\>\"", ",", "\"\<ERR_D_STRENGTH\>\"", ",", 
     "\"\<ERR_D_RADIUS\>\"", ",", "\"\<ERR_MOD_XOFF\>\"", ",", 
     "\"\<ERR_MOD_YOFF\>\"", ",", "\"\<ERR_MOD_XROT\>\"", ",", 
     "\"\<ERR_MOD_YROT\>\"", ",", "\"\<ERR_MOD_ZROT\>\"", ",", 
     "\"\<ERR_MOD_EFIELD\>\"", ",", "\"\<ERR_MOD_PHASE\>\"", ",", 
     "\"\<ERR_MOD_BFIELD\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707569160424362*^9, 
  3.7075694423225493`*^9}},ExpressionUUID->"381e9406-afc4-4b1f-9aa2-\
42141c036f74"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<CHARGE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LSPCH\>\"", ",", "\"\<LSPCH3D\>\"", ",", 
     "\"\<L2D_3D\>\"", ",", "\"\<LMIRROR\>\"", ",", 
     "\"\<L_CURVED_CATHODE\>\"", ",", "\"\<CATHODE_CONTOUR\>\"", ",", 
     "\"\<R_ZERO\>\"", ",", "\"\<NRAD\>\"", ",", "\"\<CELL_VAR\>\"", ",", 
     "\"\<NLONG_IN\>\"", ",", "\"\<N_MIN\>\"", ",", "\"\<MIN_GRID\>\"", ",", 
     "\"\<MERGE_1\>\"", ",", "\"\<MERGE_2\>\"", ",", "\"\<MERGE_3\>\"", ",", 
     "\"\<MERGE_4\>\"", ",", "\"\<MERGE_5\>\"", ",", "\"\<MERGE_6\>\"", ",", 
     "\"\<MERGE_7\>\"", ",", "\"\<MERGE_8\>\"", ",", "\"\<MERGE_9\>\"", ",", 
     "\"\<MERGE_10\>\"", ",", "\"\<Z_TRANS\>\"", ",", 
     "\"\<MIN_GIRD_TRANS\>\"", ",", "\"\<NXF\>\"", ",", "\"\<NX0\>\"", ",", 
     "\"\<NYF\>\"", ",", "\"\<NY0\>\"", ",", "\"\<NZF\>\"", ",", 
     "\"\<NZ0\>\"", ",", "\"\<SMOOTH_X\>\"", ",", "\"\<SMOOTH_Y\>\"", ",", 
     "\"\<SMOOTH_Z\>\"", ",", "\"\<MAX_SCALE\>\"", ",", "\"\<MAX_COUNT\>\"", 
     ",", "\"\<EXP_CONTROL\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707569453258643*^9, 
  3.707569606312947*^9}},ExpressionUUID->"557edff1-93f6-40a0-b852-\
8c17ac90fa81"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<APERTURE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LAPERT\>\"", ",", "\"\<FILE_APERTURE\>\"", ",", 
     "\"\<AP_Z1\>\"", ",", "\"\<AP_Z2\>\"", ",", "\"\<AP_R\>\"", ",", 
     "\"\<AP_GR\>\"", ",", "\"\<A_POS\>\"", ",", "\"\<A_XOFF\>\"", ",", 
     "\"\<A_YOFF\>\"", ",", "\"\<A_XROT\>\"", ",", "\"\<A_YROT\>\"", ",", 
     "\"\<A_ZROT\>\"", ",", "\"\<SE_D0\>\"", ",", "\"\<SE_EPM\>\"", ",", 
     "\"\<SE_FS\>\"", ",", "\"\<SE_TAU\>\"", ",", "\"\<SE_ESC\>\"", ",", 
     "\"\<SE_FF1\>\"", ",", "\"\<SE_FF2\>\"", ",", "\"\<MAX_SECONDARY\>\"", 
     ",", "\"\<LCLEAN_STACK\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7075696187811937`*^9, 3.707569622472563*^9}, {
  3.7076293101428623`*^9, 3.7076293518400316`*^9}, {3.7076294073375807`*^9, 
  3.7076294730281487`*^9}},ExpressionUUID->"c6619396-e388-44de-aadf-\
bfa3fa369b07"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<WAKE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LWAKE\>\"", ",", "\"\<WK_TYPE\>\"", ",", 
     "\"\<WK_FILENAME\>\"", ",", "\"\<WK_TESTFILE\>\"", ",", 
     "\"\<WK_SCREEN\>\"", ",", "\"\<WK_SCALING\>\"", ",", "\"\<WK_X\>\"", 
     ",", "\"\<WK_Y\>\"", ",", "\"\<WK_Z\>\"", ",", "\"\<WK_EX\>\"", ",", 
     "\"\<WK_EY\>\"", ",", "\"\<WK_EZ\>\"", ",", "\"\<WK_HX\>\"", ",", 
     "\"\<WK_HY\>\"", ",", "\"\<WK_HZ\>\"", ",", "\"\<WK_EQUI_GRID\>\"", ",", 
     "\"\<WK_N_BIN\>\"", ",", "\"\<WK_IP_METHOD\>\"", ",", 
     "\"\<WK_SMOOTH\>\"", ",", "\"\<WK_SIGMA_MIN\>\"", ",", 
     "\"\<WK_SUB\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707629482957142*^9, 
  3.707629581183964*^9}},ExpressionUUID->"158ab88c-8f42-4612-abf1-\
7021e66cd5d2"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<CAVITY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LEFIELD\>\"", ",", "\"\<FILE_EFIELD\>\"", ",", 
     "\"\<C_NOSCALE\>\"", ",", "\"\<C_SMOOTH\>\"", ",", "\"\<COM_GRID\>\"", 
     ",", "\"\<C_HIGHER_ORDER\>\"", ",", "\"\<NUE\>\"", ",", "\"\<K_WAVE\>\"",
      ",", "\"\<MAX_E\>\"", ",", "\"\<EX_STAT\>\"", ",", "\"\<EY_STAT\>\"", 
     ",", "\"\<BX_STAT\>\"", ",", "\"\<BY_STAT\>\"", ",", "\"\<BZ_STAT\>\"", 
     ",", "\"\<FLATNESS\>\"", ",", "\"\<PHI\>\"", ",", "\"\<C_POS\>\"", ",", 
     "\"\<C_NUMB\>\"", ",", "\"\<T_DEPENDENCE\>\"", ",", "\"\<T_NULL\>\"", 
     ",", "\"\<C_TAU\>\"", ",", "\"\<E_STORED\>\"", ",", "\"\<C_XOFF\>\"", 
     ",", "\"\<C_YOFF\>\"", ",", "\"\<C_XROT\>\"", ",", "\"\<C_YROT\>\"", 
     ",", "\"\<C_ZROT\>\"", ",", "\"\<C_ZKICKMIN\>\"", ",", 
     "\"\<C_ZKICKMAX\>\"", ",", "\"\<C_XKICK\>\"", ",", "\"\<C_YKICK\>\"", 
     ",", "\"\<FILE_A0\>\"", ",", "\"\<P_Z1\>\"", ",", "\"\<P_R1\>\"", ",", 
     "\"\<P_Z2\>\"", ",", "\"\<P_R2\>\"", ",", "\"\<P_N\>\"", ",", 
     "\"\<E_A0\>\"", ",", "\"\<E_Z0\>\"", ",", "\"\<E_SIG\>\"", ",", 
     "\"\<E_SIGZ\>\"", ",", "\"\<E_ZR\>\"", ",", "\"\<E_EPS\>\"", ",", 
     "\"\<E_LAM\>\"", ",", "\"\<ZETA\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7076295914479895`*^9, 3.7076297981846614`*^9}, {
  3.7076298473865814`*^9, 
  3.7076298708829308`*^9}},ExpressionUUID->"d37c4e4d-81fc-4485-86e2-\
5332b89014e7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<SOLENOID\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LBFIELD\>\"", ",", "\"\<FILE_BFIELD\>\"", ",", 
     "\"\<S_NOSCALE\>\"", ",", "\"\<S_SMOOTH\>\"", ",", 
     "\"\<S_HIGHER_ORDER\>\"", ",", "\"\<MAXB\>\"", ",", "\"\<S_POS\>\"", 
     ",", "\"\<S_XOFF\>\"", ",", "\"\<S_YOFF\>\"", ",", "\"\<S_XROT\>\"", 
     ",", "\"\<S_YROT\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707629875418384*^9, 
  3.707629919124754*^9}},ExpressionUUID->"4bd85119-e972-4388-8a01-\
1e88c229017f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<QUADRUPOLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LQUAD\>\"", ",", "\"\<Q_TYPE\>\"", ",", 
     "\"\<Q_GRAD\>\"", ",", "\"\<Q_K\>\"", ",", "\"\<Q_NOSCALE\>\"", ",", 
     "\"\<Q_LENGTH\>\"", ",", "\"\<Q_SMOOTH\>\"", ",", "\"\<Q_BORE\>\"", ",", 
     "\"\<Q_DIST\>\"", ",", "\"\<Q_MULT_A\>\"", ",", "\"\<Q_MULT_B\>\"", ",", 
     "\"\<Q_POS\>\"", ",", "\"\<Q_XOFF\>\"", ",", "\"\<Q_YOFF\>\"", ",", 
     "\"\<Q_XROT\>\"", ",", "\"\<Q_YROT\>\"", ",", "\"\<Q_ZROT\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7076299289797397`*^9, 
  3.70763000989583*^9}},ExpressionUUID->"d879af37-0792-41cb-a813-\
fe5e1f1ea47a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<DIPOLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LDIPOLE\>\"", ",", "\"\<D_TYPE\>\"", ",", 
     "\"\<D1\>\"", ",", "\"\<D2\>\"", ",", "\"\<D3\>\"", ",", "\"\<D4\>\"", 
     ",", "\"\<D_GAP\>\"", ",", "\"\<D_STRENGTH\>\"", ",", "\"\<D_RADIUS\>\"",
      ",", "\"\<D_XOFF\>\"", ",", "\"\<D_YOFF\>\"", ",", "\"\<D_ZOFF\>\"", 
     ",", "\"\<D_XROT\>\"", ",", "\"\<D_YROT\>\"", ",", "\"\<D_ZROT\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.7076300198628273`*^9, 
  3.7076300898658266`*^9}},ExpressionUUID->"3a9c6d59-58ac-41f5-b08e-\
e068b63cda47"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<LASER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LOOP\>\"", ",", "\"\<LLASER\>\"", ",", "\"\<L_TYPE\>\"", ",", 
     "\"\<L_Z1\>\"", ",", "\"\<L_Z2\>\"", ",", "\"\<L_H\>\"", ",", 
     "\"\<L_F\>\"", ",", "\"\<L_ZSTART\>\"", ",", "\"\<L_TSTART\>\"", ",", 
     "\"\<L_XOFF\>\"", ",", "\"\<L_YOFF\>\"", ",", "\"\<L_XROT\>\"", ",", 
     "\"\<L_YROT\>\"", ",", "\"\<L_ZROT\>\"", ",", "\"\<L_E0\>\"", ",", 
     "\"\<L_POW\>\"", ",", "\"\<L_A0\>\"", ",", "\"\<L_EPEAK\>\"", ",", 
     "\"\<L_TAU\>\"", ",", "\"\<L_PHI\>\"", ",", "\"\<L_LAM\>\"", ",", 
     "\"\<L_SIG0\>\"", ",", "\"\<L_W0\>\"", ",", "\"\<L_DELTA\>\"", ",", 
     "\"\<L_WINDOW\>\"", ",", "\"\<L_ALPHA\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.70763009649849*^9, 3.7076300970665464`*^9}, {
  3.7076301315479946`*^9, 
  3.7076302363194704`*^9}},ExpressionUUID->"5d5dd53a-511c-43b9-a58c-\
d8aed8606be0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ASTRARules", "[", "\"\<INPUT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FNAME\>\"", ",", "\"\<Add\>\"", ",", "\"\<N_add\>\"", ",", 
     "\"\<Ipart\>\"", ",", "\"\<Species\>\"", ",", "\"\<ion_mass\>\"", ",", 
     "\"\<Probe\>\"", ",", "\"\<Passive\>\"", ",", "\"\<Noise_reduc\>\"", 
     ",", "\"\<Cathode\>\"", ",", "\"\<R_Cathode\>\"", ",", 
     "\"\<High_res\>\"", ",", "\"\<Binary\>\"", ",", "\"\<Q_Total\>\"", ",", 
     "\"\<Type\>\"", ",", "\"\<Rad\>\"", ",", "\"\<Tau\>\"", ",", 
     "\"\<Red_zpos\>\"", ",", "\"\<Ref_clock\>\"", ",", "\"\<Ref_Ekin\>\"", 
     ",", "\"\<Dist_z\>\"", ",", "\"\<sig_z\>\"", ",", "\"\<C_sig_z\>\"", 
     ",", "\"\<Lz\>\"", ",", "\"\<rz\>\"", ",", "\"\<sig_clock\>\"", ",", 
     "\"\<C_sig_clock\>\"", ",", "\"\<Lt\>\"", ",", "\"\<rt\>\"", ",", 
     "\"\<Dist_pz\>\"", ",", "\"\<sig_Ekin\>\"", ",", "\"\<C_sig_Ekin\>\"", 
     ",", "\"\<LE\>\"", ",", "\"\<rE\>\"", ",", "\"\<emit_z\>\"", ",", 
     "\"\<cor_Ekin\>\"", ",", "\"\<E_photon\>\"", ",", "\"\<phi_eff\>\"", 
     ",", "\"\<Dist_x\>\"", ",", "\"\<sig_x\>\"", ",", "\"\<C_sig_x\>\"", 
     ",", "\"\<Lx\>\"", ",", "\"\<rx\>\"", ",", "\"\<x_off\>\"", ",", 
     "\"\<Disp_x\>\"", ",", "\"\<Dist_px\>\"", ",", "\"\<Nemit_x\>\"", ",", 
     "\"\<sig_px\>\"", ",", "\"\<C_sig_px\>\"", ",", "\"\<Lpx\>\"", ",", 
     "\"\<rpx\>\"", ",", "\"\<cor_px\>\"", ",", "\"\<Dist_y\>\"", ",", 
     "\"\<sig_y\>\"", ",", "\"\<C_sig_y\>\"", ",", "\"\<Ly\>\"", ",", 
     "\"\<ry\>\"", ",", "\"\<y_off\>\"", ",", "\"\<Disp_y\>\"", ",", 
     "\"\<Dist_py\>\"", ",", "\"\<Nemit_y\>\"", ",", "\"\<sig_py\>\"", ",", 
     "\"\<C_sig_py\>\"", ",", "\"\<Lpy\>\"", ",", "\"\<rpy\>\"", ",", 
     "\"\<cor_py\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.707630240695908*^9, 3.7076303968535223`*^9}, {
  3.707632870089821*^9, 3.7076330749093013`*^9}, {3.707633226403449*^9, 
  3.707633323735181*^9}},ExpressionUUID->"d6e7cf32-1498-4b7b-aac5-\
40e27b6abb27"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Write Elements", "Subsection",
 CellChangeTimes->{{3.625466784367544*^9, 
  3.6254667863435445`*^9}},ExpressionUUID->"07892427-e0c8-4109-a106-\
f0bf24e4b902"],

Cell[BoxData[
 RowBox[{
  RowBox[{"formatString", "[", "in_", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Switch", "[", 
     RowBox[{
      RowBox[{"Head", "[", "in", "]"}], ",", "\[IndentingNewLine]", "String", 
      ",", "in", ",", "\[IndentingNewLine]", "Real", ",", 
      RowBox[{"ToString", "[", 
       RowBox[{"numberRight", "[", "in", "]"}], "]"}], ",", 
      "\[IndentingNewLine]", "Integer", ",", 
      RowBox[{"ToString", "[", "in", "]"}], ",", "\[IndentingNewLine]", 
      "Rational", ",", 
      RowBox[{"ToString", "[", 
       RowBox[{"CForm", "[", "in", "]"}], "]"}], ",", "\[IndentingNewLine]", 
      "List", ",", 
      RowBox[{"MapIndexed", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"#2", "[", 
              RowBox[{"[", "1", "]"}], "]"}], ">", "1"}], ",", "\"\<,\>\"", 
            ",", "\"\<\>\""}], "]"}], "<>", 
          RowBox[{"ToString", "[", 
           RowBox[{"CForm", "[", "#", "]"}], "]"}]}], "&"}], ",", "in"}], 
       "]"}], ",", "\[IndentingNewLine]", "_", ",", 
      RowBox[{"ToString", "[", 
       RowBox[{"numberRight", "[", "in", "]"}], "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019829620919*^9, 3.5701983606241903`*^9}, {
   3.57019842636419*^9, 3.57019843193119*^9}, 3.57019846621719*^9, 
   3.57019850869519*^9, {3.57019854955619*^9, 3.5701985761461897`*^9}, {
   3.57019865935719*^9, 3.57019865951719*^9}, {3.625398036415206*^9, 
   3.625398063927206*^9}, {3.679850336883151*^9, 
   3.6798503418851514`*^9}},ExpressionUUID->"7b1b04d7-cf43-42e8-814c-\
6129a21634ed"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "MADWriteElements", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MADWriteElements", "[", 
   RowBox[{"elementLine", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"MADWriteElements", "[", 
   RowBox[{"Flatten", "[", 
    RowBox[{"elementLine", "[", "list", "]"}], "]"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MADWriteElements", "[", 
   RowBox[{"elementLine", "[", "list__elementDefinition", "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{
      RowBox[{"Block", "[", 
       RowBox[{
        RowBox[{"{", "element", "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"element", "=", "#"}], ";", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{"\"\<NAME\>\"", "/.", "element"}], ")"}], "<>", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"\"\<REVERSED\>\"", "/.", "element"}], ")"}], "===", 
             "True"}], ",", "\"\<Reversed\>\"", ",", "\"\<\>\""}], "]"}], 
          "<>", "\"\<:\>\"", "<>", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"\"\<TYPE\>\"", "/.", 
             RowBox[{"Cases", "[", 
              RowBox[{
               RowBox[{"MADRules", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"\"\<TYPE\>\"", "/.", "element"}], "]"}], "]"}], ",", 
               RowBox[{
                RowBox[{"Rule", "[", 
                 RowBox[{"\"\<TYPE\>\"", ",", "a_"}], "]"}], "\[RuleDelayed]", 
                RowBox[{"Rule", "[", 
                 RowBox[{"\"\<TYPE\>\"", ",", "a"}], "]"}]}]}], "]"}]}], "/.",
             "element"}], ")"}], "<>", 
          RowBox[{"StringJoin", "@@", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"Switch", "[", 
               RowBox[{
                RowBox[{"Head", "[", "#", "]"}], ",", "\[IndentingNewLine]", 
                "Symbol", ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"#", "/.", "element"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"#", "\[Rule]", "Null"}], "}"}]}], ")"}], "=!=", 
                   "Null"}], ",", 
                  RowBox[{"\"\<,\>\"", "<>", 
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", 
                    RowBox[{"Evaluate", "[", 
                    RowBox[{"(", 
                    RowBox[{"#", "/.", "element"}], ")"}], "]"}], "]"}]}], 
                  ",", "\"\<\>\""}], "]"}], ",", "\[IndentingNewLine]", 
                "String", ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"#", "/.", "element"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"#", "\[Rule]", "Null"}], "}"}]}], ")"}], "=!=", 
                   "Null"}], ",", 
                  RowBox[{"\"\<,\>\"", "<>", 
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", 
                    RowBox[{"Evaluate", "[", 
                    RowBox[{"(", 
                    RowBox[{"#", "/.", "element"}], ")"}], "]"}], "]"}]}], 
                  ",", "\"\<\>\""}], "]"}], ",", "\[IndentingNewLine]", 
                "Rule", ",", 
                RowBox[{"If", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "/.", "element"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "\[Rule]", "Null"}], "}"}]}], 
                    ")"}], "=!=", "Null"}], ",", 
                  RowBox[{"\"\<,\>\"", "<>", 
                   RowBox[{"ToString", "[", 
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", 
                    RowBox[{"Evaluate", "[", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "/.", "element"}], ")"}], 
                    "]"}], "]"}]}], ",", "\"\<\>\""}], "]"}]}], 
               "\[IndentingNewLine]", "]"}], "&"}], "/@", 
             RowBox[{"DeleteCases", "[", 
              RowBox[{
               RowBox[{"MADRules", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"\"\<TYPE\>\"", "/.", "element"}], "]"}], "]"}], ",", 
               RowBox[{"Rule", "[", 
                RowBox[{"\"\<TYPE\>\"", ",", "a_"}], "]"}]}], "]"}]}], 
            ")"}]}], "<>", "\"\<;\\n\>\""}]}]}], "\[IndentingNewLine]", "]"}],
       "&"}], "/@", 
     RowBox[{"List", "@@", 
      RowBox[{"Union", "[", 
       RowBox[{"Flatten", "[", 
        RowBox[{"elementLine", "[", "list", "]"}], "]"}], "]"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019801093719*^9, 3.57019801445719*^9}, {
   3.5701981422561903`*^9, 3.57019814531219*^9}, {3.57019838052919*^9, 
   3.57019838180919*^9}, {3.57019859369919*^9, 3.57019859446719*^9}, 
   3.57019864779219*^9, {3.570346797677457*^9, 3.570346812343901*^9}, {
   3.5703469565009403`*^9, 3.570346956812942*^9}, {3.5703591134046783`*^9, 
   3.5703591147706785`*^9}, {3.5703600042040215`*^9, 
   3.5703600241260138`*^9}, {3.570360058575458*^9, 3.570360061911792*^9}, {
   3.5703601367052703`*^9, 3.570360139187518*^9}, {3.5703602976456733`*^9, 
   3.5703602991186733`*^9}, {3.5703603517226734`*^9, 3.570360415174673*^9}, {
   3.570360971299673*^9, 3.570361032735673*^9}, 3.5703610850526733`*^9, {
   3.570431100858687*^9, 3.5704311065002513`*^9}, {3.570431258889488*^9, 
   3.570431276137213*^9}, {3.570431328235422*^9, 3.5704313641410127`*^9}, {
   3.5704321102636175`*^9, 3.5704322419967895`*^9}, {3.570432387985387*^9, 
   3.5704323889614844`*^9}, 
   3.625488183808544*^9},ExpressionUUID->"ca21e5ae-1928-4c64-b0c4-\
3bbd3a80c1a8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "generateLineDefinition", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"generateLineDefinition", "[", 
   RowBox[{
    RowBox[{"line", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", "file_"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Map", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"generateLineDefinition", "[", 
         RowBox[{"#", ",", "file"}], "]"}], "&"}], ",", 
       RowBox[{"Union", "[", 
        RowBox[{"Select", "[", 
         RowBox[{
          RowBox[{"{", "list", "}"}], ",", 
          RowBox[{
           RowBox[{
            RowBox[{"Head", "[", "#", "]"}], "===", "elementLine"}], "&"}]}], 
         "]"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"MemberQ", "[", 
         RowBox[{"generatedLines", ",", 
          RowBox[{"StringReplace", "[", 
           RowBox[{
            RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", 
            RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}]}], "]"}]}], 
       ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"AppendTo", "[", 
         RowBox[{"generatedLines", ",", 
          RowBox[{"StringReplace", "[", 
           RowBox[{
            RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", 
            RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}]}], "]"}], 
        ";", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
            RowBox[{"StringReplace", "[", 
             RowBox[{
              RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", 
              RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "<>", 
            "\"\<: Line = (\>\"", "<>", 
            RowBox[{"StringJoin", "@@", "\[IndentingNewLine]", 
             RowBox[{"MapIndexed", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"#2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ">", "1"}], ",", 
                   "\"\<,\>\"", ",", "\"\<\>\""}], "]"}], "<>", 
                 RowBox[{"ToString", "[", "#", "]"}]}], "&"}], ",", 
               RowBox[{"Names", "[", 
                RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}], 
            "<>", "\"\<)\\n\>\""}], "]"}], ";"}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"WriteString", "[", 
         RowBox[{"file", ",", 
          RowBox[{"wrapString", "[", 
           RowBox[{
            RowBox[{"StringReplace", "[", 
             RowBox[{
              RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", 
              RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "<>", 
            "\"\<: Line = (\>\"", "<>", 
            RowBox[{"StringJoin", "@@", "\[IndentingNewLine]", 
             RowBox[{"MapIndexed", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"#2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ">", "1"}], ",", 
                   "\"\<,\>\"", ",", "\"\<\>\""}], "]"}], "<>", 
                 RowBox[{"ToString", "[", "#", "]"}]}], "&"}], ",", 
               RowBox[{"Names", "[", 
                RowBox[{"line", ",", "True"}], "]"}]}], "]"}]}], "<>", 
            "\"\<)\\n\>\""}], "]"}]}], "]"}]}]}], "\[IndentingNewLine]", 
      "]"}]}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.570361290834673*^9, 3.570361333238673*^9}, {
   3.5703613633476734`*^9, 3.570361420523982*^9}, {3.570361450864049*^9, 
   3.5703614652659287`*^9}, 3.5703615198658466`*^9, {3.570361992985564*^9, 
   3.5703620231305785`*^9}, {3.570431167681369*^9, 3.570431241264726*^9}, {
   3.5704322601176014`*^9, 3.5704322685024395`*^9}, {3.5704323283284216`*^9, 
   3.5704323514487333`*^9}, {3.625309990057452*^9, 3.625309995711017*^9}, {
   3.625313471851597*^9, 3.6253135461900296`*^9}, {3.625313621560566*^9, 
   3.6253136752829375`*^9}, {3.625313714347844*^9, 3.625313721148524*^9}, {
   3.6253199118335304`*^9, 3.6253199388662333`*^9}, {3.6253199826206083`*^9, 
   3.625320066863032*^9}, {3.62532108925226*^9, 3.6253211874310775`*^9}, {
   3.6253212431136456`*^9, 3.6253213773990726`*^9}, {3.625321427320064*^9, 
   3.625321460976429*^9}, {3.625321494578789*^9, 3.625321636063936*^9}, {
   3.6253216904423733`*^9, 3.625321709458275*^9}, {3.6253219080011272`*^9, 
   3.62532196734006*^9}, {3.625322027454071*^9, 3.625322075975923*^9}, {
   3.625322214547779*^9, 3.6253222481331367`*^9}, {3.6253223323585587`*^9, 
   3.6253223533376565`*^9}, {3.625322383555678*^9, 3.625322415099832*^9}, 
   3.625322896316949*^9, {3.625322941046421*^9, 3.6253229437106876`*^9}, {
   3.625322992795596*^9, 3.6253231244447594`*^9}, {3.6253231773590508`*^9, 
   3.62532324016133*^9}, {3.6253239485381603`*^9, 3.6253240400613117`*^9}, {
   3.6253240895522604`*^9, 3.6253240902243276`*^9}, {3.6253241324255476`*^9, 
   3.6253242284451485`*^9}, {3.625324270694373*^9, 3.6253244164439464`*^9}, {
   3.6253244476680684`*^9, 3.6253244478280845`*^9}, {3.6253246524195414`*^9, 
   3.6253246563159313`*^9}, {3.6253247938406825`*^9, 3.6253248068409824`*^9}, 
   3.6253249012284203`*^9, {3.6253893494829965`*^9, 3.6253894191309605`*^9}, {
   3.6253894534853954`*^9, 3.625389501015148*^9}, {3.6253895692169676`*^9, 
   3.625389569609007*^9}, 3.6253962278382063`*^9, {3.6979749811553946`*^9, 
   3.6979750507983947`*^9}, {3.6979753020543947`*^9, 3.697975304606395*^9}, {
   3.6979759422213945`*^9, 3.6979759467643948`*^9}, 3.697976081788395*^9, {
   3.6979767535463943`*^9, 3.697976758259595*^9}, {3.697976796029195*^9, 
   3.697976799530595*^9}, {3.6979768524597945`*^9, 3.6979768543815947`*^9}, {
   3.6979768897037945`*^9, 3.6979768926217947`*^9}, 3.699599268133422*^9, {
   3.699603796518922*^9, 3.6996038005974216`*^9}, {3.7047999296305447`*^9, 
   3.704799930769345*^9}, {3.7063534620394526`*^9, 
   3.706353462406452*^9}},ExpressionUUID->"b2f1430b-757e-4e92-a06a-\
3ef3ee99ffd5"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "MADWrite", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"MADWrite", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"MADWrite", "[", "lattice_Symbol", "]"}], "/;", 
    RowBox[{
     RowBox[{"Head", "[", 
      RowBox[{"Evaluate", "[", "lattice", "]"}], "]"}], "===", 
     "elementLine"}]}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"MADWriteElements", "[", 
        RowBox[{"Evaluate", "[", "lattice", "]"}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"ToString", "[", 
          RowBox[{"HoldForm", "[", "lattice", "]"}], "]"}], "<>", 
         "\"\<: Line=(\>\"", "<>", 
         RowBox[{"generateLineDefinition", "[", 
          RowBox[{"Evaluate", "[", "lattice", "]"}], "]"}], "<>", 
         "\"\<)\>\""}], "}"}]}], "\[IndentingNewLine]", "}"}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"MADWrite", "[", "lattice_", "]"}], "/;", 
    RowBox[{
     RowBox[{"Head", "[", 
      RowBox[{"Evaluate", "[", "lattice", "]"}], "]"}], "===", 
     "elementLine"}]}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"MADWriteElements", "[", 
        RowBox[{"Evaluate", "[", "lattice", "]"}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"\"\<lattice: Line=(\>\"", "<>", 
         RowBox[{"generateLineDefinition", "[", 
          RowBox[{"Evaluate", "[", "lattice", "]"}], "]"}], "<>", 
         "\"\<)\>\""}], "}"}]}], "\[IndentingNewLine]", "}"}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019763902419*^9, 3.57019764006419*^9}, {
   3.57019777415119*^9, 3.57019778797519*^9}, {3.5701978746571903`*^9, 
   3.57019789715219*^9}, {3.57019795106819*^9, 3.57019799565819*^9}, {
   3.57019808544419*^9, 3.57019813481719*^9}, {3.57019827800819*^9, 
   3.57019828042519*^9}, {3.57019836937819*^9, 3.5701983756501904`*^9}, {
   3.57019858629219*^9, 3.57019859259619*^9}, {3.57019864310419*^9, 
   3.57019864441719*^9}, {3.5703468137793407`*^9, 3.570346820394843*^9}, {
   3.570350264329013*^9, 3.5703503436269417`*^9}, {3.5703503745090294`*^9, 
   3.5703505545280294`*^9}, 3.570350691317707*^9, {3.5703507390154767`*^9, 
   3.5703508049220667`*^9}, {3.570360995563673*^9, 3.570361001850673*^9}, {
   3.570361057799673*^9, 3.5703612891786733`*^9}, {3.570361477587393*^9, 
   3.570361510984071*^9}, {3.570432303079897*^9, 3.5704323033509245`*^9}, {
   3.6253011909326277`*^9, 3.6253012164611797`*^9}, {3.6253012583983736`*^9, 
   3.625301259518485*^9}},ExpressionUUID->"8c4bc4b3-8744-4d9a-9fd2-\
0d889517b074"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "elegantWriteElements", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elegantWriteElements", "[", 
   RowBox[{"elementLine", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"elegantWriteElements", "/@", 
   RowBox[{"Union", "[", 
    RowBox[{"Cases", "[", 
     RowBox[{
      RowBox[{"{", "list", "}"}], ",", 
      RowBox[{"elementDefinition", "[", "__Rule", "]"}], ",", "\[Infinity]"}],
      "]"}], "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elegantWriteElements", "[", 
   RowBox[{"elementDefinition", "[", "list__Rule", "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "element", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"element", "=", 
      RowBox[{"capitalRuleNames", "[", 
       RowBox[{"elementDefinition", "[", "list", "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"\"\<NAME\>\"", "/.", "element"}], ")"}], "<>", "\"\<:\>\"", "<>", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"\"\<TYPE\>\"", "/.", 
         RowBox[{"Cases", "[", 
          RowBox[{
           RowBox[{"ElegantRules", "[", 
            RowBox[{"ToUpperCase", "[", 
             RowBox[{"Evaluate", "[", 
              RowBox[{"\"\<TYPE\>\"", "/.", "element"}], "]"}], "]"}], "]"}], 
           ",", 
           RowBox[{
            RowBox[{"Rule", "[", 
             RowBox[{"\"\<TYPE\>\"", ",", "a_"}], "]"}], "\[RuleDelayed]", 
            RowBox[{"Rule", "[", 
             RowBox[{"\"\<TYPE\>\"", ",", "a"}], "]"}]}]}], "]"}]}], "/.", 
        "element"}], ")"}], "<>", 
      RowBox[{"StringJoin", "@@", 
       RowBox[{"(", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"Switch", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"Head", "[", "#", "]"}], ",", "\[IndentingNewLine]", 
            "Symbol", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"#", "/.", "element"}], "/.", 
                 RowBox[{"{", 
                  RowBox[{"#", "\[Rule]", "Null"}], "}"}]}], ")"}], "=!=", 
               "Null"}], ",", 
              RowBox[{"\"\<,\>\"", "<>", 
               RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
               RowBox[{"formatString", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"(", 
                  RowBox[{"#", "/.", "element"}], ")"}], "]"}], "]"}]}], ",", 
              "\"\<\>\""}], "]"}], ",", "\[IndentingNewLine]", "String", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"#", "/.", "element"}], "/.", 
                 RowBox[{"{", 
                  RowBox[{"#", "\[Rule]", "Null"}], "}"}]}], ")"}], "=!=", 
               "Null"}], ",", 
              RowBox[{"\"\<,\>\"", "<>", 
               RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
               RowBox[{"formatString", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"(", 
                  RowBox[{"#", "/.", "element"}], ")"}], "]"}], "]"}]}], ",", 
              "\"\<\>\""}], "]"}], ",", "\[IndentingNewLine]", "Rule", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                  "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}],
                   "/.", "element"}], "/.", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                   "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "\[Rule]", "Null"}], "}"}]}], 
                ")"}], "=!=", "Null"}], ",", 
              RowBox[{"\"\<,\>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{
                "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
                "]"}], "<>", "\"\<=\>\"", "<>", 
               RowBox[{"formatString", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                   "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "/.", "element"}], ")"}], 
                 "]"}], "]"}]}], ",", "\"\<\>\""}], "]"}]}], 
           "\[IndentingNewLine]", "]"}], "&"}], "/@", 
         RowBox[{"DeleteCases", "[", 
          RowBox[{
           RowBox[{"ElegantRules", "[", 
            RowBox[{"ToUpperCase", "[", 
             RowBox[{"Evaluate", "[", 
              RowBox[{"\"\<TYPE\>\"", "/.", "element"}], "]"}], "]"}], "]"}], 
           ",", 
           RowBox[{"Rule", "[", 
            RowBox[{"\"\<TYPE\>\"", ",", "a_"}], "]"}]}], "]"}]}], ")"}]}], 
      "<>", "\"\<;\\n\>\""}]}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.570350507079285*^9, 3.570350518864464*^9}, 
   3.5703591170846786`*^9, {3.6253010290954456`*^9, 3.625301035672103*^9}, 
   3.625301132667802*^9, {3.6253099320146484`*^9, 3.625309969103357*^9}, {
   3.625310037818228*^9, 3.6253100835317984`*^9}, {3.625312068699295*^9, 
   3.625312069890414*^9}, {3.625322526231944*^9, 3.6253225427615967`*^9}, {
   3.6253225801623363`*^9, 3.6253225842507453`*^9}, {3.6253226162759476`*^9, 
   3.625322715471866*^9}, {3.6253227477520943`*^9, 3.6253228511884365`*^9}, {
   3.625416267278206*^9, 3.625416270368206*^9}, 3.6254163569892063`*^9, {
   3.6254882502195444`*^9, 3.6254882546025443`*^9}, 3.6254882997695446`*^9, {
   3.6254883911955442`*^9, 3.6254883955215445`*^9}, {3.6254884499905443`*^9, 
   3.6254884539425445`*^9}, {3.6979750684703946`*^9, 
   3.6979750686463947`*^9}, {3.6979755030483947`*^9, 
   3.697975504040395*^9}},ExpressionUUID->"ce125f64-b459-4d2f-842a-\
0a1e3d9918da"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "ElegantWriteElementStrings", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ElegantWriteElementStrings", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"ElegantWriteElementStrings", "[", "lattice_Symbol", "]"}], "/;", 
    RowBox[{
     RowBox[{"Head", "[", 
      RowBox[{"Evaluate", "[", "lattice", "]"}], "]"}], "\[Equal]", 
     "elementLine"}]}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{"elegantWriteElements", "[", "lattice", "]"}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ElegantWriteElementStrings", "[", "lattice_elementLine", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"elegantWriteElements", "[", "lattice", "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019763902419*^9, 3.57019764006419*^9}, {
   3.57019777415119*^9, 3.57019778797519*^9}, {3.5701978746571903`*^9, 
   3.57019789715219*^9}, {3.57019795106819*^9, 3.57019799565819*^9}, {
   3.57019808544419*^9, 3.57019813481719*^9}, {3.57019827800819*^9, 
   3.57019828042519*^9}, {3.57019836937819*^9, 3.5701983756501904`*^9}, {
   3.57019858629219*^9, 3.57019859259619*^9}, {3.57019864310419*^9, 
   3.57019864441719*^9}, {3.5703468137793407`*^9, 3.570346820394843*^9}, {
   3.570350264329013*^9, 3.5703503436269417`*^9}, {3.5703503745090294`*^9, 
   3.5703505545280294`*^9}, 3.570350691317707*^9, {3.5703507390154767`*^9, 
   3.5703508049220667`*^9}, {3.625300331901733*^9, 3.625300342845827*^9}, {
   3.6253007924457827`*^9, 3.6253008129428325`*^9}, 3.62530110414495*^9, {
   3.6253012738949227`*^9, 3.6253013553780704`*^9}, {3.6253101261400585`*^9, 
   3.6253101357160163`*^9}, {3.625312093738799*^9, 3.6253120997624016`*^9}, {
   3.6253133776801805`*^9, 3.6253133822236347`*^9}, {3.625319958819228*^9, 
   3.6253199622105675`*^9}, {3.6253224466439857`*^9, 
   3.6253224469010115`*^9}, {3.6253228705633736`*^9, 3.625322875066824*^9}, {
   3.625323273225636*^9, 3.625323274984812*^9}, {3.6253233335076637`*^9, 
   3.6253233405793705`*^9}, 3.62538954883993*^9, {3.625416238278206*^9, 
   3.625416240302206*^9}, {3.6254162831002064`*^9, 3.625416284819206*^9}, {
   3.6254163618902063`*^9, 3.625416362050206*^9}, {3.706353527854452*^9, 
   3.7063535284494524`*^9}},ExpressionUUID->"1617477b-eefb-4d90-a807-\
70b1b634787b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "elegantWriteCommand", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elegantWriteCommand", "[", "list__commandDefinition", "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"Quiet", "@", 
     RowBox[{"Block", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"option", ",", "name"}], "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"option", "=", 
         RowBox[{"capitalRuleNames", "[", "#", "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<&\>\"", "<>", 
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", "option"}], ")"}], "<>", 
         "\"\<\\n\>\"", "<>", 
         RowBox[{"StringJoin", "@@", 
          RowBox[{"(", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"param", "=", 
                   RowBox[{
                    RowBox[{"#", "/.", "option"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"#", "\[Rule]", "Null"}], "}"}]}]}], ")"}], "=!=",
                  "Null"}], ",", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"name", "=", 
                  RowBox[{"#", "/.", 
                   RowBox[{"{", 
                    RowBox[{"\"\<po\>\"", "\[Rule]", "\"\<Po\>\""}], 
                    "}"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"Switch", "[", "\[IndentingNewLine]", 
                  RowBox[{
                   RowBox[{"Head", "[", "param", "]"}], ",", 
                   "\[IndentingNewLine]", "List", ",", "\[IndentingNewLine]", 
                   RowBox[{"MapIndexed", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Block", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"no", "=", 
                    RowBox[{
                    RowBox[{"#2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "}"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<[\>\"",
                     "<>", 
                    RowBox[{"ToString", "[", "no", "]"}], "<>", "\"\<]=\>\"", 
                    "<>", 
                    RowBox[{"formatString", "[", "#", "]"}], "<>", 
                    "\"\<\\n\>\""}]}], "]"}], "&"}], ",", "param"}], "]"}], 
                   ",", "\[IndentingNewLine]", "HoldForm", ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", "param", "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Symbol", 
                   ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", "param", "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "String", 
                   ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", "param", "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Integer", 
                   ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", "param", "]"}], "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Real", ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", "param", "]"}], "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Rational", 
                   ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", 
                    RowBox[{"N", "[", "param", "]"}], "]"}], "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Rule", ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", 
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], "]"}], "<>", "\"\<=\>\"", "<>", 
                    RowBox[{"formatString", "[", 
                    RowBox[{"Evaluate", "[", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "/.", "option"}], ")"}], "]"}],
                     "]"}], "<>", "\"\<\\n\>\""}], ",", "\[IndentingNewLine]",
                    "_", ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", "param", "]"}], "]"}], "<>", 
                    "\"\<\\n\>\""}]}], "\[IndentingNewLine]", "]"}]}], ",", 
                "\"\<\>\""}], "]"}], ")"}], "&"}], "/@", 
            RowBox[{"ElegantRules", "[", 
             RowBox[{"ToLowerCase", "[", 
              RowBox[{"Evaluate", "[", 
               RowBox[{"\"\<command\>\"", "/.", "option"}], "]"}], "]"}], 
             "]"}]}], ")"}]}], "<>", "\"\<&end\\n\\n\>\""}]}]}], 
      "\[IndentingNewLine]", "]"}]}], "&"}], "/@", 
   RowBox[{"Union", "[", 
    RowBox[{
     RowBox[{"{", "list", "}"}], ",", 
     RowBox[{"SameTest", "\[Rule]", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", 
           RowBox[{"capitalRuleNames", "[", "#1", "]"}]}], ")"}], "\[Equal]", 
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", 
           RowBox[{"capitalRuleNames", "[", "#2", "]"}]}], ")"}]}], "&"}], 
       ")"}]}]}], "]"}]}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625310955594996*^9, 3.6253109566671033`*^9}, {
   3.6253110541108465`*^9, 3.6253110836067963`*^9}, {3.6253111205364885`*^9, 
   3.625311186579092*^9}, {3.62531122946038*^9, 3.625311251684602*^9}, {
   3.625311370017434*^9, 3.6253113727937117`*^9}, 3.6253115255749884`*^9, {
   3.6253115945068808`*^9, 3.625311642730703*^9}, {3.6253117573991685`*^9, 
   3.6253117585912876`*^9}, {3.6253120510495305`*^9, 
   3.6253120572021456`*^9}, {3.625312422905712*^9, 3.625312483376759*^9}, {
   3.625312527422163*^9, 3.625312531842605*^9}, 3.6253126097903996`*^9, {
   3.6253127036817875`*^9, 3.6253127060650253`*^9}, {3.625312845701988*^9, 
   3.6253128499584136`*^9}, {3.6253128946718845`*^9, 
   3.6253129047838955`*^9}, {3.6253129682582426`*^9, 
   3.6253130180362196`*^9}, {3.625397954992206*^9, 3.625397999471206*^9}, 
   3.688717710082176*^9, {3.705735386799608*^9, 3.705735571041608*^9}, {
   3.7057356197856083`*^9, 3.705735621967608*^9}, {3.705735675281608*^9, 
   3.705735676037608*^9}, {3.705735742453608*^9, 3.705735744512608*^9}, {
   3.705742587394608*^9, 3.7057427617526083`*^9}, {3.705752957302608*^9, 
   3.705752978716608*^9}, {3.705753018889608*^9, 3.7057530767746077`*^9}, {
   3.705753140532608*^9, 3.705753157210608*^9}, {3.705753197180608*^9, 
   3.7057532164696083`*^9}, {3.7057533123116083`*^9, 3.705753407088608*^9}, {
   3.7057534589586077`*^9, 3.705753492275608*^9}, {3.705753527098608*^9, 
   3.705753534457608*^9}, {3.705753857236608*^9, 3.705753869516608*^9}, {
   3.705753902074608*^9, 3.705753904034608*^9}, {3.7057539387206078`*^9, 
   3.705753958775608*^9}, {3.7057540117866077`*^9, 3.705754012154608*^9}, {
   3.705754051713608*^9, 3.705754119707608*^9}, {3.705754151362608*^9, 
   3.705754187320608*^9}, {3.7058149327925653`*^9, 3.705814941287565*^9}, 
   3.706007439905386*^9, {3.706007492220386*^9, 3.706007495483386*^9}, {
   3.706007564136386*^9, 3.706007566856386*^9}, {3.706008008714386*^9, 
   3.706008079673386*^9}, 
   3.7065330599003773`*^9},ExpressionUUID->"f63c76fb-9df5-4440-8670-\
47c2ebc40d54"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "elegantWriteCommandStrings", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"elegantWriteCommandStrings", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elegantWriteCommandStrings", "[", "commands_", "]"}], "/;", 
   RowBox[{
    RowBox[{"Head", "[", 
     RowBox[{"Evaluate", "[", "commands", "]"}], "]"}], "\[Equal]", 
    "List"}]}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"elegantWriteCommand", "[", "#", "]"}], "&"}], ",", 
      "commands"}], "]"}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019763902419*^9, 3.57019764006419*^9}, {
   3.57019777415119*^9, 3.57019778797519*^9}, {3.5701978746571903`*^9, 
   3.57019789715219*^9}, {3.57019795106819*^9, 3.57019799565819*^9}, {
   3.57019808544419*^9, 3.57019813481719*^9}, {3.57019827800819*^9, 
   3.57019828042519*^9}, {3.57019836937819*^9, 3.5701983756501904`*^9}, {
   3.57019858629219*^9, 3.57019859259619*^9}, {3.57019864310419*^9, 
   3.57019864441719*^9}, {3.5703468137793407`*^9, 3.570346820394843*^9}, {
   3.570350264329013*^9, 3.5703503436269417`*^9}, {3.5703503745090294`*^9, 
   3.5703505545280294`*^9}, 3.570350691317707*^9, {3.5703507390154767`*^9, 
   3.5703508049220667`*^9}, {3.625300331901733*^9, 3.625300342845827*^9}, {
   3.6253007924457827`*^9, 3.6253008129428325`*^9}, 3.62530110414495*^9, {
   3.6253012738949227`*^9, 3.6253013553780704`*^9}, {3.6253101261400585`*^9, 
   3.6253101357160163`*^9}, {3.625312093738799*^9, 3.6253120997624016`*^9}, {
   3.6253122574401674`*^9, 3.625312292000623*^9}, {3.6253123451229353`*^9, 
   3.625312367331156*^9}, {3.625396921278206*^9, 
   3.6253969858502064`*^9}},ExpressionUUID->"ac1d5ce8-e5dc-464e-b00e-\
5f0cfd06124c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"Clear", "[", "ElegantWriteLattice", "]"}], ";"}], 
  "\[IndentingNewLine]", 
  RowBox[{"(*", 
   RowBox[{
    RowBox[{"SetAttributes", "[", 
     RowBox[{"ElegantWriteLattice", ",", "HoldFirst"}], "]"}], ";"}], 
   "*)"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ElegantWriteLattice", "[", 
    RowBox[{"lattice_String", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"ElegantWriteLattice", "[", 
    RowBox[{
     RowBox[{"ToExpression", "[", "lattice", "]"}], ",", "filename"}], 
    "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ElegantWriteLattice", "[", 
    RowBox[{"lattice_", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Quiet", "[", 
       RowBox[{"Close", "[", "filename", "]"}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"generatedLines", "=", 
       RowBox[{"{", "\"\<NAME\>\"", "}"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"ElegantWriteElementStrings", "[", "lattice", "]"}]}], "]"}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"generateLineDefinition", "[", 
       RowBox[{"lattice", ",", "file"}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6253101422436695`*^9, 3.625310207966241*^9}, {
   3.6253102408555293`*^9, 3.625310245736017*^9}, {3.625310298682311*^9, 
   3.6253103005054936`*^9}, {3.6253103491483574`*^9, 
   3.6253104253659782`*^9}, {3.6253121020746326`*^9, 3.625312129131338*^9}, {
   3.6253232646327767`*^9, 3.625323268273141*^9}, {3.6253233057948923`*^9, 
   3.6253233136506777`*^9}, {3.625323347364049*^9, 3.6253233491482277`*^9}, {
   3.6979759646503944`*^9, 3.6979759668253946`*^9}, 3.6979762432253942`*^9, {
   3.706353393557452*^9, 3.7063533983454523`*^9}, {3.7063535434164524`*^9, 
   3.7063535437844524`*^9}, {3.7064198377038136`*^9, 
   3.7064198540052133`*^9}},ExpressionUUID->"784b735f-70f3-48db-9f5f-\
accdec7aa1ef"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "ElegantWriteCommands", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ElegantWriteCommands", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ElegantWriteCommands", "[", 
    RowBox[{"commands_List", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"elegantWriteCommandStrings", "[", 
         RowBox[{"Select", "[", 
          RowBox[{"commands", ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Cases", "[", 
               RowBox[{
                RowBox[{"capitalRuleNames", "[", "#", "]"}], ",", 
                RowBox[{
                 RowBox[{"Rule", "[", 
                  RowBox[{"\"\<command\>\"", ",", "a_"}], "]"}], 
                 "\[RuleDelayed]", "a"}]}], "]"}], "]"}], ">", "0"}], "&"}]}],
           "]"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ElegantWriteCommands", "[", 
    RowBox[{"commands_commandDefinition", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"elegantWriteCommandStrings", "[", 
         RowBox[{"Select", "[", 
          RowBox[{
           RowBox[{"{", "commands", "}"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Cases", "[", 
               RowBox[{
                RowBox[{"capitalRuleNames", "[", "#", "]"}], ",", 
                RowBox[{
                 RowBox[{"Rule", "[", 
                  RowBox[{"\"\<command\>\"", ",", "a_"}], "]"}], 
                 "\[RuleDelayed]", "a"}]}], "]"}], "]"}], ">", "0"}], "&"}]}],
           "]"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6253101422436695`*^9, 3.625310207966241*^9}, {
   3.6253102408555293`*^9, 3.625310245736017*^9}, {3.625310298682311*^9, 
   3.6253103005054936`*^9}, {3.6253103491483574`*^9, 
   3.6253104253659782`*^9}, {3.6253121020746326`*^9, 
   3.6253121793653607`*^9}, {3.6253122478872128`*^9, 3.625312248815305*^9}, {
   3.625397140537206*^9, 3.625397151528206*^9}, 3.6798505570481753`*^9, {
   3.679850777374732*^9, 3.6798508159844522`*^9}, {3.6979759740423946`*^9, 
   3.6979759817773943`*^9}, 3.6979761638693943`*^9, {3.6979762312743945`*^9, 
   3.6979762397383947`*^9}},ExpressionUUID->"7056ba46-116f-4f44-990e-\
d82c6fbab11b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "ASTRAWriteCommand", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ASTRAWriteCommand", "[", "list__commandDefinition", "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"Quiet", "@", 
     RowBox[{"Block", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"option", ",", "name"}], "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"option", "=", 
         RowBox[{"capitalRuleNames", "[", "#", "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<&\>\"", "<>", 
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", "option"}], ")"}], "<>", 
         "\"\<\\n\>\"", "<>", 
         RowBox[{"StringJoin", "@@", 
          RowBox[{"(", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"param", "=", 
                   RowBox[{
                    RowBox[{"#", "/.", "option"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"#", "\[Rule]", "Null"}], "}"}]}]}], ")"}], "=!=",
                  "Null"}], ",", "\[IndentingNewLine]", 
                RowBox[{
                 RowBox[{"name", "=", 
                  RowBox[{"#", "/.", 
                   RowBox[{"{", 
                    RowBox[{"\"\<po\>\"", "\[Rule]", "\"\<Po\>\""}], 
                    "}"}]}]}], ";", "\[IndentingNewLine]", 
                 RowBox[{"Switch", "[", "\[IndentingNewLine]", 
                  RowBox[{
                   RowBox[{"Head", "[", "param", "]"}], ",", 
                   "\[IndentingNewLine]", "List", ",", "\[IndentingNewLine]", 
                   RowBox[{"MapIndexed", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Block", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"no", "=", 
                    RowBox[{
                    RowBox[{"#2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "}"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<[\>\"",
                     "<>", 
                    RowBox[{"ToString", "[", "no", "]"}], "<>", "\"\<]=\>\"", 
                    "<>", 
                    RowBox[{"formatString", "[", "#", "]"}], "<>", 
                    "\"\<\\n\>\""}]}], "]"}], "&"}], ",", "param"}], "]"}], 
                   ",", "\[IndentingNewLine]", "HoldForm", ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", "param", "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Symbol", 
                   ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", "param", "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "String", 
                   ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", "param", "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Integer", 
                   ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", "param", "]"}], "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Real", ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", "param", "]"}], "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Rational", 
                   ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", 
                    RowBox[{"N", "[", "param", "]"}], "]"}], "]"}], "<>", 
                    "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Rule", ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", 
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], "]"}], "<>", "\"\<=\>\"", "<>", 
                    RowBox[{"formatString", "[", 
                    RowBox[{"Evaluate", "[", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "/.", "option"}], ")"}], "]"}],
                     "]"}], "<>", "\"\<\\n\>\""}], ",", "\[IndentingNewLine]",
                    "_", ",", 
                   RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", "param", "]"}], "]"}], "<>", 
                    "\"\<\\n\>\""}]}], "\[IndentingNewLine]", "]"}]}], ",", 
                "\"\<\>\""}], "]"}], ")"}], "&"}], "/@", 
            RowBox[{"ElegantRules", "[", 
             RowBox[{"ToLowerCase", "[", 
              RowBox[{"Evaluate", "[", 
               RowBox[{"\"\<command\>\"", "/.", "option"}], "]"}], "]"}], 
             "]"}]}], ")"}]}], "<>", "\"\<&end\\n\\n\>\""}]}]}], 
      "\[IndentingNewLine]", "]"}]}], "&"}], "/@", 
   RowBox[{"Union", "[", 
    RowBox[{
     RowBox[{"{", "list", "}"}], ",", 
     RowBox[{"SameTest", "\[Rule]", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", 
           RowBox[{"capitalRuleNames", "[", "#1", "]"}]}], ")"}], "\[Equal]", 
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", 
           RowBox[{"capitalRuleNames", "[", "#2", "]"}]}], ")"}]}], "&"}], 
       ")"}]}]}], "]"}]}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625310955594996*^9, 3.6253109566671033`*^9}, {
   3.6253110541108465`*^9, 3.6253110836067963`*^9}, {3.6253111205364885`*^9, 
   3.625311186579092*^9}, {3.62531122946038*^9, 3.625311251684602*^9}, {
   3.625311370017434*^9, 3.6253113727937117`*^9}, 3.6253115255749884`*^9, {
   3.6253115945068808`*^9, 3.625311642730703*^9}, {3.6253117573991685`*^9, 
   3.6253117585912876`*^9}, {3.6253120510495305`*^9, 
   3.6253120572021456`*^9}, {3.625312422905712*^9, 3.625312483376759*^9}, {
   3.625312527422163*^9, 3.625312531842605*^9}, 3.6253126097903996`*^9, {
   3.6253127036817875`*^9, 3.6253127060650253`*^9}, {3.625312845701988*^9, 
   3.6253128499584136`*^9}, {3.6253128946718845`*^9, 
   3.6253129047838955`*^9}, {3.6253129682582426`*^9, 
   3.6253130180362196`*^9}, {3.625397954992206*^9, 3.625397999471206*^9}, 
   3.688717710082176*^9, {3.705735386799608*^9, 3.705735571041608*^9}, {
   3.7057356197856083`*^9, 3.705735621967608*^9}, {3.705735675281608*^9, 
   3.705735676037608*^9}, {3.705735742453608*^9, 3.705735744512608*^9}, {
   3.705742587394608*^9, 3.7057427617526083`*^9}, {3.705752957302608*^9, 
   3.705752978716608*^9}, {3.705753018889608*^9, 3.7057530767746077`*^9}, {
   3.705753140532608*^9, 3.705753157210608*^9}, {3.705753197180608*^9, 
   3.7057532164696083`*^9}, {3.7057533123116083`*^9, 3.705753407088608*^9}, {
   3.7057534589586077`*^9, 3.705753492275608*^9}, {3.705753527098608*^9, 
   3.705753534457608*^9}, {3.705753857236608*^9, 3.705753869516608*^9}, {
   3.705753902074608*^9, 3.705753904034608*^9}, {3.7057539387206078`*^9, 
   3.705753958775608*^9}, {3.7057540117866077`*^9, 3.705754012154608*^9}, {
   3.705754051713608*^9, 3.705754119707608*^9}, {3.705754151362608*^9, 
   3.705754187320608*^9}, {3.7058149327925653`*^9, 3.705814941287565*^9}, 
   3.706007439905386*^9, {3.706007492220386*^9, 3.706007495483386*^9}, {
   3.706007564136386*^9, 3.706007566856386*^9}, {3.706008008714386*^9, 
   3.706008079673386*^9}, 3.7065330599003773`*^9, {3.707633793017105*^9, 
   3.707633793728176*^9}},ExpressionUUID->"ba5e7b76-d89a-4554-9484-\
1f1e5c1b581c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "ASTRAWriteCommandStrings", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ASTRAWriteCommandStrings", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ASTRAWriteCommandStrings", "[", "commands_", "]"}], "/;", 
   RowBox[{
    RowBox[{"Head", "[", 
     RowBox[{"Evaluate", "[", "commands", "]"}], "]"}], "\[Equal]", 
    "List"}]}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"ASTRAWriteCommand", "[", "#", "]"}], "&"}], ",", "commands"}],
      "]"}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019763902419*^9, 3.57019764006419*^9}, {
   3.57019777415119*^9, 3.57019778797519*^9}, {3.5701978746571903`*^9, 
   3.57019789715219*^9}, {3.57019795106819*^9, 3.57019799565819*^9}, {
   3.57019808544419*^9, 3.57019813481719*^9}, {3.57019827800819*^9, 
   3.57019828042519*^9}, {3.57019836937819*^9, 3.5701983756501904`*^9}, {
   3.57019858629219*^9, 3.57019859259619*^9}, {3.57019864310419*^9, 
   3.57019864441719*^9}, {3.5703468137793407`*^9, 3.570346820394843*^9}, {
   3.570350264329013*^9, 3.5703503436269417`*^9}, {3.5703503745090294`*^9, 
   3.5703505545280294`*^9}, 3.570350691317707*^9, {3.5703507390154767`*^9, 
   3.5703508049220667`*^9}, {3.625300331901733*^9, 3.625300342845827*^9}, {
   3.6253007924457827`*^9, 3.6253008129428325`*^9}, 3.62530110414495*^9, {
   3.6253012738949227`*^9, 3.6253013553780704`*^9}, {3.6253101261400585`*^9, 
   3.6253101357160163`*^9}, {3.625312093738799*^9, 3.6253120997624016`*^9}, {
   3.6253122574401674`*^9, 3.625312292000623*^9}, {3.6253123451229353`*^9, 
   3.625312367331156*^9}, {3.625396921278206*^9, 3.6253969858502064`*^9}, {
   3.707633775319335*^9, 
   3.7076337849693003`*^9}},ExpressionUUID->"d54575aa-fd88-45ff-b3ff-\
f0db12ef99b1"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "ASTRAWriteCommands", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ASTRAWriteCommands", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ASTRAWriteCommands", "[", 
    RowBox[{"commands_List", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"ASTRAWriteCommandStrings", "[", 
         RowBox[{"Select", "[", 
          RowBox[{"commands", ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Cases", "[", 
               RowBox[{
                RowBox[{"capitalRuleNames", "[", "#", "]"}], ",", 
                RowBox[{
                 RowBox[{"Rule", "[", 
                  RowBox[{"\"\<command\>\"", ",", "a_"}], "]"}], 
                 "\[RuleDelayed]", "a"}]}], "]"}], "]"}], ">", "0"}], "&"}]}],
           "]"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ASTRAWriteCommands", "[", 
    RowBox[{"commands_commandDefinition", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"ASTRAWriteCommandStrings", "[", 
         RowBox[{"Select", "[", 
          RowBox[{
           RowBox[{"{", "commands", "}"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Cases", "[", 
               RowBox[{
                RowBox[{"capitalRuleNames", "[", "#", "]"}], ",", 
                RowBox[{
                 RowBox[{"Rule", "[", 
                  RowBox[{"\"\<command\>\"", ",", "a_"}], "]"}], 
                 "\[RuleDelayed]", "a"}]}], "]"}], "]"}], ">", "0"}], "&"}]}],
           "]"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6253101422436695`*^9, 3.625310207966241*^9}, {
   3.6253102408555293`*^9, 3.625310245736017*^9}, {3.625310298682311*^9, 
   3.6253103005054936`*^9}, {3.6253103491483574`*^9, 
   3.6253104253659782`*^9}, {3.6253121020746326`*^9, 
   3.6253121793653607`*^9}, {3.6253122478872128`*^9, 3.625312248815305*^9}, {
   3.625397140537206*^9, 3.625397151528206*^9}, 3.6798505570481753`*^9, {
   3.679850777374732*^9, 3.6798508159844522`*^9}, {3.6979759740423946`*^9, 
   3.6979759817773943`*^9}, 3.6979761638693943`*^9, {3.6979762312743945`*^9, 
   3.6979762397383947`*^9}, {3.707633745557359*^9, 
   3.707633760126816*^9}},ExpressionUUID->"97228709-7023-46ce-ae42-\
0f36b1e0c0fe"],

Cell[CellGroupData[{

Cell["Helper Functions", "Subsubsection",
 CellChangeTimes->{{3.6254668959845448`*^9, 
  3.6254668987765446`*^9}},ExpressionUUID->"6795fa42-14a4-49e5-b41a-\
73a3acaf8e3b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$elegantPath", "=", "\"\<\>\""}], ";"}]], "Code",ExpressionUUID->\
"a4bee3d3-ff36-4e0d-8d35-eeaf8946153b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$sddsPath", "=", "\"\<\>\""}], ";"}]], "Code",ExpressionUUID->\
"e02b3795-fa51-4c4b-b43f-07c88d5061ca"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$elegantFilename", "=", "\"\<elegant\>\""}], ";"}]], "Code",Express\
ionUUID->"c9fc39a2-4fad-4940-8855-44402068bdb5"],

Cell["\<\
ElegantRun[filename_] := Block[{},
  ReadList[\"!\" <> $elegantPath <> If[$elegantPath =!= \"\", \"\\\\\", \"\"] \
<> $elegantFilename <> \" \" <> filename, Record]
  ]\
\>", "Text",
 CellChangeTimes->{
  3.7130877036165657`*^9},ExpressionUUID->"b31d85c1-c7d7-4829-9f5a-\
8376c4a921a1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElegantRun", "[", "filename_", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\n", 
    RowBox[{"RunProcess", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"$elegantPath", "<>", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"$elegantPath", "=!=", "\"\<\>\""}], ",", "\"\<\\\\\>\"", 
          ",", "\"\<\>\""}], "]"}], "<>", "$elegantFilename"}], ",", 
       "filename"}], "}"}], "]"}]}], "\n", "]"}]}]], "Code",
 CellChangeTimes->{{3.7130877123845654`*^9, 
  3.7130877148165655`*^9}},ExpressionUUID->"d7d83f4c-9878-4687-9f06-\
a8d3f98fd068"],

Cell[BoxData[
 RowBox[{
  RowBox[{"sddsCommand", "[", 
   RowBox[{
   "command_String", ",", " ", "filename_String", ",", "opts___Rule"}], "]"}],
   ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "createOutput", "}"}], ",", "\n", 
    RowBox[{
     RowBox[{"createOutput", "=", 
      RowBox[{
       RowBox[{"Global`CreateOutput", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`CreateOutput", "->", "False"}], "}"}]}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"createOutput", "==", "True"}], ",", "\n", 
       RowBox[{
        RowBox[{"ReadList", "[", 
         RowBox[{
          RowBox[{"\"\<!\>\"", "<>", "$sddsPath", "<>", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"$sddsPath", "=!=", "\"\<\>\""}], ",", "\"\<\\\\\>\"", 
             ",", "\"\<\>\""}], "]"}], "<>", "command", "<>", "\"\< \>\"", "<>",
            "filename", "<>", "\"\< \>\"", "<>", "filename", "<>", 
           "\"\<.\>\"", "<>", "command"}], ",", "Record"}], "]"}], ";", "\n", 
        RowBox[{"sddsBinaryInterpret", "[", 
         RowBox[{
          RowBox[{"filename", "<>", "\"\<.analysis\>\""}], ",", "opts"}], 
         "]"}]}], ",", "\n", 
       RowBox[{"sddsBinaryInterpret", "[", 
        RowBox[{
         RowBox[{"OpenRead", "[", 
          RowBox[{
           RowBox[{
           "\"\<!\>\"", "<>", "command", "<>", "\"\< -pipe=output \>\"", "<>",
             "filename"}], ",", 
           RowBox[{"BinaryFormat", "->", "True"}]}], "]"}], ",", "opts"}], 
        "]"}]}], "\n", "]"}]}]}], "\n", "]"}]}]], "Code",ExpressionUUID->\
"accba568-ce96-40ad-8dc2-b27be9808f37"],

Cell[BoxData[
 RowBox[{
  RowBox[{"sddsAnalyzeBeam", "[", 
   RowBox[{"filename_", ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "createOutput", "}"}], ",", "\n", 
    RowBox[{
     RowBox[{"createOutput", "=", 
      RowBox[{
       RowBox[{"Global`CreateOutput", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`CreateOutput", "->", "False"}], "}"}]}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"createOutput", "==", "True"}], ",", "\n", 
       RowBox[{
        RowBox[{"ReadList", "[", 
         RowBox[{
          RowBox[{"\"\<!\>\"", "<>", "$elegantPath", "<>", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"$elegantPath", "=!=", "\"\<\>\""}], ",", "\"\<\\\\\>\"",
              ",", "\"\<\>\""}], "]"}], "<>", "\"\<sddsanalyzebeam \>\"", "<>",
            "filename", "<>", "\"\< \>\"", "<>", "filename", "<>", 
           "\"\<.analysis\>\""}], ",", "Record"}], "]"}], ";", "\n", 
        RowBox[{"sddsBinaryInterpret", "[", 
         RowBox[{
          RowBox[{"filename", "<>", "\"\<.analysis\>\""}], ",", "opts"}], 
         "]"}]}], ",", "\n", 
       RowBox[{"sddsBinaryInterpret", "[", 
        RowBox[{
         RowBox[{"OpenRead", "[", 
          RowBox[{
           RowBox[{"\"\<!\>\"", "<>", "$elegantPath", "<>", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"$elegantPath", "=!=", "\"\<\>\""}], ",", 
              "\"\<\\\\\>\"", ",", "\"\<\>\""}], "]"}], "<>", 
            "\"\<sddsanalyzebeam -pipe=output \>\"", "<>", "filename"}], ",", 
           RowBox[{"BinaryFormat", "->", "True"}]}], "]"}], ",", "opts"}], 
        "]"}]}], "\n", "]"}]}]}], "\n", "]"}]}]], "Code",ExpressionUUID->\
"b4fc1e94-6470-4dc9-9946-4c5855f62155"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ElegantTwiss", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ElegantTwiss", "[", 
   RowBox[{
   "lattice_", ",", "commands___commandDefinition", ",", "opts___Rule"}], 
   "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "filename", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"filename", "=", "\"\<temp\>\""}], ";", "\[IndentingNewLine]", 
     RowBox[{"runsetup", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<LATTICE\>\"", "\[Rule]", 
         RowBox[{
          RowBox[{"FileBaseName", "[", "filename", "]"}], "<>", 
          "\"\<.lte\>\""}]}], ",", 
        RowBox[{"\"\<command\>\"", "\[Rule]", "\"\<run_setup\>\""}], ",", 
        RowBox[{"\"\<use_beamline\>\"", "\[Rule]", 
         RowBox[{"Evaluate", "[", 
          RowBox[{"lattice", "[", "\"\<NAME\>\"", "]"}], "]"}]}], ",", 
        RowBox[{"\"\<p_central_mev\>\"", "\[Rule]", "1000"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"runcontrol", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<n_steps\>\"", "\[Rule]", "1"}], ",", 
        RowBox[{"\"\<n_passes\>\"", "\[Rule]", "1"}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<run_control\>\""}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"twissoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<filename\>\"", "\[Rule]", "\"\<%s.twi\>\""}], ",", 
        RowBox[{"\"\<matched\>\"", "\[Rule]", "1"}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<twiss_output\>\""}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"matrixoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<SDDS_output\>\"", "\[Rule]", "\"\<%s.matrix\>\""}], ",", 
        RowBox[{"\"\<SDDS_output_order\>\"", "\[Rule]", "2"}], ",", 
        RowBox[{"\"\<individual_matrices\>\"", "\[Rule]", "0"}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<matrix_output\>\""}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"flooroutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<filename\>\"", "\[Rule]", "\"\<%s.flr\>\""}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<floor_coordinates\>\""}]}],
        "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"ElegantWriteCommands", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "runsetup", ",", "runcontrol", ",", "twissoutput", ",", 
         "matrixoutput", ",", "flooroutput", ",", "commands"}], "}"}], ",", 
       RowBox[{"filename", "<>", "\"\<.ele\>\""}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ElegantWriteLattice", "[", 
      RowBox[{"lattice", ",", 
       RowBox[{"filename", "<>", "\"\<.lte\>\""}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ElegantRun", "[", 
      RowBox[{"filename", "<>", "\"\<.ele\>\""}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"sddsBinaryInterpret", "[", 
      RowBox[{"filename", "<>", "\"\<.twi\>\""}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.625467534242544*^9, 3.625467641230544*^9}, {
  3.625467806612544*^9, 3.625467942171544*^9}, {3.625468049532544*^9, 
  3.6254680524755445`*^9}, {3.625468089452544*^9, 3.6254680923705444`*^9}, {
  3.6254681641095448`*^9, 3.6254681773915443`*^9}, {3.6254865984205446`*^9, 
  3.625486622947544*^9}, {3.6255015681542735`*^9, 3.6255015721836767`*^9}, {
  3.6978968981744328`*^9, 3.697896900764833*^9}, {3.7058157885045652`*^9, 
  3.7058157902405653`*^9}, {3.7065300371256285`*^9, 3.7065300400442286`*^9}, {
  3.7065314987985287`*^9, 3.7065315025575285`*^9}, {3.7065315415875287`*^9, 
  3.706531542235529*^9}, {3.706531578282529*^9, 3.706531595071529*^9}, {
  3.706595996923882*^9, 
  3.7065959973159995`*^9}},ExpressionUUID->"90448e52-364d-4f89-bc50-\
4619e97f2ec0"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["ElementDraw", "Subsection",
 CellChangeTimes->{{3.688718389942676*^9, 3.6887183909986763`*^9}, {
  3.7069581473381767`*^9, 
  3.706958148305376*^9}},ExpressionUUID->"70430fbd-06ad-45bb-8ca3-\
a7749569e668"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Clear", "[", "elementClass", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.728715181207246*^9, 
  3.728715182501246*^9}},ExpressionUUID->"6d933d5b-dda9-48e5-9a23-\
c742c6a2f2e8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<dipole\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CSBEND\>\"", ",", "\"\<CSRCSBend\>\"", ",", "\"\<KSBEND\>\"", ",", 
     "\"\<NIBEND\>\""}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<quadrupole\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<KQUAD\>\"", ",", "\"\<QUAD\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<sextupole\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<KSEXT\>\"", ",", "\"\<SEXT\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<drift\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CSRDRIFT\>\"", ",", "\"\<DRIF\>\"", ",", "\"\<EDRIFT\>\"", ",", 
     "\"\<LSCDRIFT\>\"", ",", "\"\<DRIFT\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<octupole\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<KOCT\>\"", ",", "\"\<OCTU\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<rfc\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RFCA\>\"", ",", "\"\<RFCW\>\"", ",", "\"\<MODRF\>\"", ",", 
     "\"\<RFTMEZ0\>\"", ",", "\"\<LCAV\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<solenoid\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<MAPSOLENOID\>\"", ",", "\"\<SOLE\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<wiggler\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<WIGGLER\>\"", ",", "\"\<CWIGGLER\>\"", ",", "\"\<GFWIGGLER\>\""}], 
    "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<kicker\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<EHKICK\>\"", ",", "\"\<EKICKER\>\"", ",", "\"\<EVKICK\>\"", ",", 
     "\"\<HKICK\>\"", ",", "\"\<KICKER\>\"", ",", "\"\<UKICKMAP\>\"", ",", 
     "\"\<VKICK\>\""}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<bpm\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<MONI\>\"", ",", "\"\<HMON\>\"", ",", "\"\<VMON\>\"", ",", 
     "\"\<MONITOR\>\""}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<multipole\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<FMULT\>\"", ",", "\"\<MULT\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<collimator\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<ECOL\>\"", ",", "\"\<RCOL\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<marker\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<MARK\>\"", ",", "\"\<WATCH\>\"", ",", "\"\<MAXAMP\>\""}], 
    "}"}]}], ";"}]}], "Input",
 CellChangeTimes->{{3.6890771386362*^9, 3.6890772293282*^9}, {
  3.6890774770382*^9, 3.6890775058241997`*^9}, {3.6890779022630997`*^9, 
  3.6890779036389*^9}, {3.6890779455060997`*^9, 3.6890779488807*^9}, {
  3.6893151722491055`*^9, 3.6893152425413055`*^9}, {3.6893152756039057`*^9, 
  3.6893152779907055`*^9}, {3.6893153095109053`*^9, 3.6893153598390055`*^9}, {
  3.6893154708957057`*^9, 3.6893155339005055`*^9}, {3.6893155688755054`*^9, 
  3.6893156412574053`*^9}, {3.689315723574606*^9, 3.689315727209406*^9}, {
  3.689315757620206*^9, 3.6893158591457057`*^9}, {3.6893222120037055`*^9, 
  3.689322220715706*^9}, {3.697875358734726*^9, 3.6978753629910765`*^9}, {
  3.707466890346536*^9, 3.707466892122536*^9}, {3.7076504298505397`*^9, 
  3.7076504319195395`*^9}, {3.7125739807685184`*^9, 3.71257399228267*^9}, {
  3.728714912969246*^9, 
  3.728714913173246*^9}},ExpressionUUID->"1630897c-e7d3-462f-bf49-\
775665279ce8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<CSBEND\>\"", "]"}], "=", 
  "\"\<dipole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<CSRCSBEND\>\"", "]"}], "=", 
  "\"\<dipole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<KSBEND\>\"", "]"}], "=", 
  "\"\<dipole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<NIBEND\>\"", "]"}], "=", 
  "\"\<dipole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<KQUAD\>\"", "]"}], "=", 
  "\"\<quadrupole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<QUAD\>\"", "]"}], "=", 
  "\"\<quadrupole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<KSEXT\>\"", "]"}], "=", 
  "\"\<sextupole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<SEXT\>\"", "]"}], "=", 
  "\"\<sextupole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<CSRDRIFT\>\"", "]"}], "=", 
  "\"\<drift\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<DRIF\>\"", "]"}], "=", 
  "\"\<drift\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<EDRIFT\>\"", "]"}], "=", 
  "\"\<drift\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<LSCDRIFT\>\"", "]"}], "=", 
  "\"\<drift\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<DRIFT\>\"", "]"}], "=", 
  "\"\<drift\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<KOCT\>\"", "]"}], "=", 
  "\"\<octupole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<OCTU\>\"", "]"}], "=", 
  "\"\<octupole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<RFCA\>\"", "]"}], "=", 
  "\"\<rfc\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<RFCW\>\"", "]"}], "=", 
  "\"\<rfc\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<MODRF\>\"", "]"}], "=", 
  "\"\<rfc\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<RFTMEZ0\>\"", "]"}], "=", 
  "\"\<rfc\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<LCAV\>\"", "]"}], "=", 
  "\"\<rfc\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<MAPSOLENOID\>\"", "]"}], "=", 
  "\"\<solenoid\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<SOLE\>\"", "]"}], "=", 
  "\"\<solenoid\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<WIGGLER\>\"", "]"}], "=", 
  "\"\<wiggler\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<CWIGGLER\>\"", "]"}], "=", 
  "\"\<wiggler\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<GFWIGGLER\>\"", "]"}], "=", 
  "\"\<wiggler\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<EHKICK\>\"", "]"}], "=", 
  "\"\<kicker\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<EKICKER\>\"", "]"}], "=", 
  "\"\<kicker\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<EVKICK\>\"", "]"}], "=", 
  "\"\<kicker\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<HKICK\>\"", "]"}], "=", 
  "\"\<kicker\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<KICKER\>\"", "]"}], "=", 
  "\"\<kicker\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<UKICKMAP\>\"", "]"}], "=", 
  "\"\<kicker\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<VKICK\>\"", "]"}], "=", 
  "\"\<kicker\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<MONI\>\"", "]"}], "=", 
  "\"\<bpm\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<HMON\>\"", "]"}], "=", 
  "\"\<bpm\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<VMON\>\"", "]"}], "=", 
  "\"\<bpm\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<MONITOR\>\"", "]"}], "=", 
  "\"\<bpm\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<ECOL\>\"", "]"}], "=", 
  "\"\<collimator\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<RCOL\>\"", "]"}], "=", 
  "\"\<collimator\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<MARK\>\"", "]"}], "=", 
  "\"\<marker\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<WATCH\>\"", "]"}], "=", 
  "\"\<marker\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<MAXAMP\>\"", "]"}], "=", 
  "\"\<marker\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<FMULT\>\"", "]"}], "=", 
  "\"\<multipole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "\"\<MULT\>\"", "]"}], "=", 
  "\"\<multipole\>\""}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementClass", "[", "_", "]"}], "=", "\"\<marker\>\""}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.728714855548246*^9, 
  3.728715148882246*^9}},ExpressionUUID->"b4246b62-217b-4942-9e43-\
aca30d283bb2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"DownValues", "[", "elementClass", "]"}], "[", 
  RowBox[{"[", 
   RowBox[{"All", ",", "2"}], "]"}], "]"}]], "Input",
 CellChangeTimes->{{3.728714686997246*^9, 
  3.728714688147246*^9}},ExpressionUUID->"096f195a-7c9c-4cdc-b9d4-\
a5acb05033a6"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\<\"MONI\"\>", ",", "\<\"HMON\"\>", ",", "\<\"VMON\"\>", 
     ",", "\<\"MONITOR\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"ECOL\"\>", ",", "\<\"RCOL\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"CSBEND\"\>", ",", "\<\"CSRCSBend\"\>", ",", "\<\"KSBEND\"\>",
      ",", "\<\"NIBEND\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"CSRDRIFT\"\>", ",", "\<\"DRIF\"\>", ",", "\<\"EDRIFT\"\>", 
     ",", "\<\"LSCDRIFT\"\>", ",", "\<\"DRIFT\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"EHKICK\"\>", ",", "\<\"EKICKER\"\>", ",", "\<\"EVKICK\"\>", 
     ",", "\<\"HKICK\"\>", ",", "\<\"KICKER\"\>", ",", "\<\"UKICKMAP\"\>", 
     ",", "\<\"VKICK\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"MARK\"\>", ",", "\<\"WATCH\"\>", ",", "\<\"MAXAMP\"\>"}], 
    "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"FMULT\"\>", ",", "\<\"MULT\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"KOCT\"\>", ",", "\<\"OCTU\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"KQUAD\"\>", ",", "\<\"QUAD\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"RFCA\"\>", ",", "\<\"RFCW\"\>", ",", "\<\"MODRF\"\>", 
     ",", "\<\"RFTMEZ0\"\>", ",", "\<\"LCAV\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"KSEXT\"\>", ",", "\<\"SEXT\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"MAPSOLENOID\"\>", ",", "\<\"SOLE\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"WIGGLER\"\>", ",", "\<\"CWIGGLER\"\>", 
     ",", "\<\"GFWIGGLER\"\>"}], "}"}]}], "}"}]], "Output",
 CellChangeTimes->{{3.7287146630552464`*^9, 
  3.728714688615246*^9}},ExpressionUUID->"add5e938-8584-4ebd-8c5b-\
44aa3a5200c5"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "findElementClass", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findElementClass", "[", "a_elementDefinition", "]"}], ":=", 
  RowBox[{"elementClass", "[", 
   RowBox[{"a", "[", "\"\<TYPE\>\"", "]"}], "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findElementClass", "[", "a_", "]"}], ":=", 
  "\"\<marker\>\""}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6893159011765056`*^9, 3.6893159977243056`*^9}, {
   3.6893160539485054`*^9, 3.6893160835637054`*^9}, {3.6893161284547057`*^9, 
   3.689316256737506*^9}, 3.6893222398383055`*^9, {3.6893222999063053`*^9, 
   3.6893223021783056`*^9}, {3.697875332189418*^9, 3.697875341413262*^9}, {
   3.6978755203260374`*^9, 3.6978755204645653`*^9}, {3.728714692505246*^9, 
   3.728714695811246*^9}, {3.728715157073246*^9, 3.728715170217246*^9}, 
   3.728715355965246*^9, {3.7287156231802464`*^9, 3.728715627777246*^9}, 
   3.728715689309246*^9},ExpressionUUID->"77bf8331-1c70-4a18-b7e4-\
c9e8569af188"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "ElementDraw", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"Labels", "\[Rule]", "False"}], ",", 
     RowBox[{"Thickness", "\[Rule]", "0.001"}], ",", 
     RowBox[{"Monitors", "\[Rule]", "True"}], ",", 
     RowBox[{"Lengths", "\[Rule]", "False"}], ",", 
     RowBox[{"Filled", "\[Rule]", "False"}], ",", 
     RowBox[{"WidthScale", "\[Rule]", "1.4"}], ",", 
     RowBox[{"Symms", "\[Rule]", "True"}], ",", 
     RowBox[{"Bends", "\[Rule]", "True"}], ",", 
     RowBox[{"Offset", "\[Rule]", "0"}], ",", 
     RowBox[{"ShowPicture", "\[Rule]", "True"}], ",", 
     RowBox[{"Fontsize", "\[Rule]", "12"}], ",", 
     RowBox[{"Imagesize", "\[Rule]", "800"}], ",", 
     RowBox[{"DrawLabel", "\[Rule]", "\"\<\>\""}], ",", 
     RowBox[{"CheckClosed", "\[Rule]", "False"}], ",", 
     RowBox[{"Frame", "\[Rule]", "True"}], ",", 
     RowBox[{"ElementDrawText", "\[Rule]", "False"}]}], "}"}]}], 
  ";"}]], "Input",
 Evaluatable->True,
 InitializationCell->True,
 CellChangeTimes->{{3.394369389389533*^9, 3.3943694153258715`*^9}, {
   3.4700546133864937`*^9, 3.4700546138552437`*^9}, {3.6893200054161053`*^9, 
   3.6893200082865057`*^9}, 3.705816276704565*^9, 
   3.7069582965665765`*^9},ExpressionUUID->"13b738b1-d90c-450e-9d0a-\
f2bb9ea7007f"],

Cell[CellGroupData[{

Cell["Definitions", "Subsubsection",
 CellChangeTimes->{{3.6893196709129057`*^9, 
  3.6893196732841053`*^9}},ExpressionUUID->"aa7585bd-7b23-44bb-9f14-\
48dd023e092c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Clear", "[", "ElementDrawElement", "]"}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6893212316857057`*^9, 3.6893212348067055`*^9}, 
   3.707466614302536*^9},ExpressionUUID->"1e7228f1-eead-4767-b861-\
a5d5cd53d4ec"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "elementDrawRotation", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementDrawRotation", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x_", ",", "y_"}], "}"}], ",", "\[Theta]_"}], "]"}], ":=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"x", " ", 
       RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "-", 
      RowBox[{"y", " ", 
       RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], ",", 
     RowBox[{
      RowBox[{"x", " ", 
       RowBox[{"Sin", "[", "\[Theta]", "]"}]}], "+", 
      RowBox[{"y", " ", 
       RowBox[{"Cos", "[", "\[Theta]", "]"}]}]}]}], "}"}]}], ";"}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6893209663995056`*^9, 3.6893209673345056`*^9}, {
  3.6893210127545056`*^9, 3.689321019666506*^9}, {3.689321167235306*^9, 
  3.6893211740209055`*^9}, {3.6893219133381057`*^9, 3.6893219139141054`*^9}, {
  3.6893233566177053`*^9, 3.6893233960175056`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"TextOscillate", "[", "]"}], ":=", 
  RowBox[{"Switch", "[", 
   RowBox[{"TEXTOSCILLATE", ",", "1", ",", 
    RowBox[{"TEXTOSCILLATE", "=", 
     RowBox[{"-", "1"}]}], ",", 
    RowBox[{"-", "1"}], ",", 
    RowBox[{"TEXTOSCILLATE", "=", "1"}], ",", "_", ",", "1"}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978991091630783`*^9, 3.3978991147100244`*^9}, {
  3.3978992959154687`*^9, 3.3978993264471097`*^9}, {3.397899482636609*^9, 
  3.3978994829959884`*^9}, {3.397899578981592*^9, 3.3978995877785797`*^9}, {
  3.397899697873739*^9, 3.3978996989675026`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"TextDirection", "[", "]"}], ":=", 
  RowBox[{"Switch", "[", 
   RowBox[{"TEXTOSCILLATE", ",", 
    RowBox[{"-", "1"}], ",", "1", ",", "_", ",", 
    RowBox[{"-", "1"}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978991235226374`*^9, 3.3978991303508496`*^9}, {
   3.3978993316659265`*^9, 3.397899339619153*^9}, {3.3978995926223917`*^9, 
   3.3978995985443425`*^9}, {3.3978997007644005`*^9, 3.397899701623787*^9}, 
   3.3979006494171686`*^9, {3.3979007301369514`*^9, 3.3979007351838913`*^9}}]
}, Closed]],

Cell[CellGroupData[{

Cell["Drift", "Subsubsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<drift\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "wdr", ",", "widthscale", ",", "text", ",", "driftlabels", ",", 
       "driftlengths"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"driftlabels", "=", 
       RowBox[{
        RowBox[{"Global`DriftLabels", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Global`DriftLabels", "\[Rule]", "False"}], "}"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"driftlengths", "=", 
       RowBox[{
        RowBox[{"Global`DriftLengths", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Global`DriftLengths", "\[Rule]", "False"}], "}"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"ElementDrawText", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wdr", "=", 
       RowBox[{"0.16", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"Line", "[", 
          RowBox[{"{", 
           RowBox[{"position", ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"length", "*", 
                RowBox[{"{", 
                 RowBox[{"1", ",", "0"}], "}"}]}], ",", "rotation"}], 
              "]"}]}]}], "}"}], "]"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"driftlabels", "===", "True"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"driftlengths", "===", "True"}], ",", 
               RowBox[{"label", "=", 
                RowBox[{"label", "<>", "\"\<\\n\>\"", "<>", 
                 RowBox[{"ToString", "[", 
                  RowBox[{"numberRight", "[", "length", "]"}], "]"}], "<>", 
                 "\"\<m\>\""}]}]}], "]"}], ";", "\[IndentingNewLine]", 
             RowBox[{"{", 
              RowBox[{"Text", "[", 
               RowBox[{"label", ",", 
                RowBox[{"position", "+", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    FractionBox["length", "2"], 
                    RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                   RowBox[{
                    FractionBox["length", "2"], 
                    RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
                 RowBox[{
                  RowBox[{"TextOscillate", "[", "]"}], 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"0.5", "wdr", " ", 
                    RowBox[{"Sin", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}], ",", " ", 
                    RowBox[{"0.5", " ", "wdr", " ", 
                    RowBox[{"Cos", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"Sin", "[", 
                   RowBox[{"-", "rotation"}], "]"}], ",", 
                  RowBox[{"Cos", "[", 
                   RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], 
              "}"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"driftlengths", "===", "True"}], ",", 
              RowBox[{"{", 
               RowBox[{"Text", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"ToString", "[", 
                   RowBox[{"numberRight", "[", "length", "]"}], "]"}], "<>", 
                  "\"\<m\>\""}], ",", 
                 RowBox[{"position", "+", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    FractionBox["length", "2"], 
                    RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                    RowBox[{
                    FractionBox["length", "2"], 
                    RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
                  RowBox[{
                   RowBox[{"TextOscillate", "[", "]"}], 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"1", "wdr", " ", 
                    RowBox[{"Sin", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}], ",", " ", 
                    RowBox[{"1", " ", "wdr", " ", 
                    RowBox[{"Cos", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], 
                 ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"Sin", "[", 
                    RowBox[{"-", "rotation"}], "]"}], ",", 
                   RowBox[{"Cos", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], "}"}],
               ",", 
              RowBox[{"{", "}"}]}], "]"}]}], "]"}], "\[IndentingNewLine]", 
          ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "]"}]}]}], "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978120462759132`*^9, 3.397812046400915*^9}, {
   3.397814015467764*^9, 3.397814041499347*^9}, {3.397815283374618*^9, 
   3.3978153111093483`*^9}, {3.397815371281993*^9, 3.397815454829938*^9}, {
   3.3978154865647187`*^9, 3.3978155312215405`*^9}, {3.3978173373227835`*^9, 
   3.3978173391353064`*^9}, {3.3978174420428734`*^9, 
   3.3978175157938175`*^9}, {3.3979020616539946`*^9, 
   3.3979020747479124`*^9}, {3.397902464706029*^9, 3.3979024687373304`*^9}, 
   3.397971231505986*^9, {3.3979713356010685`*^9, 3.3979714042581973`*^9}, {
   3.3979714360086036`*^9, 3.397971494399976*^9}, {3.3979742537630043`*^9, 
   3.3979743724113665`*^9}, {3.3979744107056465`*^9, 
   3.3979744449747167`*^9}, {3.3979745256446085`*^9, 
   3.3979745425446386`*^9}, {3.3992712941436214`*^9, 
   3.3992712996280317`*^9}, {3.3992713383939047`*^9, 
   3.3992713391439095`*^9}, {3.4034262862088833`*^9, 
   3.4034263318500924`*^9}, {3.4034263819757338`*^9, 
   3.4034264015697346`*^9}, {3.4034264574610753`*^9, 3.403426474508168*^9}, {
   3.404473165303051*^9, 3.404473169849955*^9}, {3.4052368275672626`*^9, 
   3.405236834364225*^9}, 3.41734788961231*^9, 3.417351067898276*^9, {
   3.422166545938699*^9, 3.4221665466887035`*^9}, {3.4325513155027127`*^9, 
   3.4325513767218547`*^9}, 3.4632962568139114`*^9, 3.5018436473497763`*^9, 
   3.501843680224987*^9, {3.50184373777223*^9, 3.5018437391472387`*^9}, {
   3.6893196878071055`*^9, 3.6893196888679056`*^9}, {3.6893198856077056`*^9, 
   3.6893198879185057`*^9}, 3.6893199228523054`*^9, {3.6893200182815056`*^9, 
   3.689320025408106*^9}, 3.6893203685009055`*^9, {3.6893204519837055`*^9, 
   3.689320454138506*^9}, {3.6893204869083056`*^9, 3.689320519675706*^9}, {
   3.6893205656773057`*^9, 3.6893205962893057`*^9}, 3.6893220675019054`*^9, {
   3.6893232966277056`*^9, 3.6893233017447057`*^9}, 3.6893233785327053`*^9, {
   3.6893258716059055`*^9, 3.689325907233906*^9}, {3.706958285218376*^9, 
   3.7069582965977764`*^9}, 
   3.707466615151536*^9},ExpressionUUID->"3c755b46-510f-405e-a933-\
9eccdac49f25"]
}, Closed]],

Cell[CellGroupData[{

Cell["Dipole", "Subsubsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"wd", ":=", 
   RowBox[{"0.1", "*", "widthscale"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{3.397812907020444*^9}],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementDrawElement", "[", 
   RowBox[{
   "\"\<dipole\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
    "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "text", ",", "bends", ",", "thick", ",", "colour", ",", "widthscale"}], 
     "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"text", "=", 
      RowBox[{
       RowBox[{"ElementDrawText", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"bends", "=", 
      RowBox[{
       RowBox[{"Bends", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"thick", "=", 
      RowBox[{
       RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"colour", "=", 
      RowBox[{
       RowBox[{"Colour", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Colour", "\[Rule]", 
         RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"widthscale", "=", 
      RowBox[{
       RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"wd", "=", 
      RowBox[{"0.1", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"bends", "&&", 
        RowBox[{
         RowBox[{"Abs", "[", "bend", "]"}], ">", "0.001"}], "&&", 
        RowBox[{"length", ">", "0"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"colour", ",", 
         RowBox[{"Thickness", "[", "thick", "]"}], ",", "\[IndentingNewLine]",
          "\[IndentingNewLine]", 
         RowBox[{"Circle", "[", 
          RowBox[{
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", 
                FractionBox["length", "bend"]}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{
            FractionBox["length", 
             RowBox[{"Abs", "[", "bend", "]"}]], "-", "wd"}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"bend", "\[GreaterEqual]", "0"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox[
                 RowBox[{"3", "\[Pi]"}], "2"], "+", "rotation"}], ",", 
               RowBox[{
                FractionBox[
                 RowBox[{"3", "\[Pi]"}], "2"], "+", "bend", "+", 
                "rotation"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox[
                 RowBox[{
                  RowBox[{"-", "3"}], "\[Pi]"}], "2"], "+", "rotation", "+", 
                "bend"}], ",", 
               RowBox[{
                FractionBox[
                 RowBox[{
                  RowBox[{"-", "3"}], "\[Pi]"}], "2"], "+", "rotation"}]}], 
              "}"}]}], "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"Circle", "[", 
          RowBox[{
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", 
                FractionBox["length", "bend"]}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{
            FractionBox["length", 
             RowBox[{"Abs", "[", "bend", "]"}]], "+", "wd"}], "  ", ",", 
           "\[IndentingNewLine]", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"bend", "\[GreaterEqual]", "0"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox[
                 RowBox[{"3", "\[Pi]"}], "2"], "+", "rotation"}], ",", 
               RowBox[{
                FractionBox[
                 RowBox[{"3", "\[Pi]"}], "2"], "+", "bend", "+", 
                "rotation"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox[
                 RowBox[{
                  RowBox[{"-", "3"}], "\[Pi]"}], "2"], "+", "rotation", "+", 
                "bend"}], ",", 
               RowBox[{
                RowBox[{"-", 
                 FractionBox[
                  RowBox[{"3", "\[Pi]"}], "2"]}], "+", "rotation"}]}], 
              "}"}]}], "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"Line", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wd"}], "}"}], ",", "rotation"}], "]"}]}], 
            ",", 
            RowBox[{"position", "-", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wd"}], "}"}], ",", "rotation"}], "]"}]}]}],
            "}"}], "]"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"Line", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox["length", "bend"], "-", "wd"}], " ", ")"}], 
                  RowBox[{"Sin", "[", "bend", "]"}]}], ",", 
                 RowBox[{
                  RowBox[{
                   FractionBox["length", "bend"], 
                   RowBox[{"(", 
                    RowBox[{"1", "-", 
                    RowBox[{"Cos", "[", "bend", "]"}]}], ")"}]}], "+", 
                  RowBox[{"wd", " ", 
                   RowBox[{"Cos", "[", "bend", "]"}]}]}]}], "}"}], ",", 
               "rotation"}], "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  RowBox[{"(", 
                   RowBox[{
                    FractionBox["length", "bend"], "+", "wd"}], ")"}], 
                  RowBox[{"(", 
                   RowBox[{"Sin", "[", "bend", "]"}], ")"}]}], ",", 
                 RowBox[{
                  RowBox[{
                   FractionBox["length", "bend"], 
                   RowBox[{"(", 
                    RowBox[{"1", "-", 
                    RowBox[{"Cos", "[", "bend", "]"}]}], ")"}]}], "-", 
                  RowBox[{"wd", " ", 
                   RowBox[{"Cos", "[", "bend", "]"}]}]}]}], "}"}], ",", 
               "rotation"}], "]"}]}]}], "}"}], "]"}], ",", 
         RowBox[{"If", "[", 
          RowBox[{"text", ",", 
           RowBox[{"Text", "[", 
            RowBox[{"label", ",", 
             RowBox[{"position", "+", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
              RowBox[{
               RowBox[{"TextOscillate", "[", "]"}], 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Sin", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", 
                    FractionBox["bend", "2"]}], "]"}]}], ",", 
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", 
                    FractionBox["bend", "2"]}], "]"}]}]}], "}"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Sin", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", 
                 FractionBox["bend", "2"]}], "]"}], ",", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", 
                 FractionBox["bend", "2"]}], "]"}]}], "}"}]}], "]"}], ",", 
           RowBox[{"{", "}"}]}], "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"White", ",", "colour", ",", 
         RowBox[{"Thickness", "[", "thick", "]"}], ",", 
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Thickness", "[", "Medium", "]"}], "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Polygon", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wd"}], "}"}], ",", "rotation"}], "]"}]}], 
            ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", "wd"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", 
                 RowBox[{"-", "wd"}]}], "}"}], ",", "rotation"}], "]"}]}], 
            ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", 
                 RowBox[{"-", "wd"}]}], "}"}], ",", "rotation"}], "]"}]}]}], 
           "}"}], "]"}], ",", "Black", ",", 
         RowBox[{"If", "[", 
          RowBox[{"text", ",", 
           RowBox[{"Text", "[", 
            RowBox[{"label", ",", 
             RowBox[{"position", "+", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
              RowBox[{
               RowBox[{"TextOscillate", "[", "]"}], 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Sin", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}], ",", 
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}]}], 
                "}"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Sin", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", "0"}], "]"}], ",", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}], "}"}]}], 
            "]"}], ",", 
           RowBox[{"{", "}"}]}], "]"}]}], "}"}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.689321641402506*^9, 3.6893216742191057`*^9}, {
   3.689321712677106*^9, 3.6893217130051055`*^9}, {3.6893219068321056`*^9, 
   3.6893219070441055`*^9}, {3.6893219653481054`*^9, 
   3.6893219805811057`*^9}, {3.6893220420559053`*^9, 3.689322042646906*^9}, {
   3.6893223750611057`*^9, 3.6893223752201056`*^9}, {3.6893233795687056`*^9, 
   3.689323385119506*^9}, {3.689325246788706*^9, 3.6893253062313056`*^9}, {
   3.6893253717163057`*^9, 3.689325372108306*^9}, {3.689325402141306*^9, 
   3.6893254614253054`*^9}, {3.6893259243019056`*^9, 
   3.6893259343739057`*^9}, {3.7069582966133766`*^9, 3.7069582966601763`*^9}, 
   3.707466616040536*^9, {3.7125749686923013`*^9, 3.7125749984482765`*^9}, 
   3.7125752843348627`*^9},ExpressionUUID->"77934eed-1b00-4249-9659-\
b667c8d67df3"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementDrawElement", "[", 
   RowBox[{
   "\"\<dipole\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
    "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "text", ",", "bends", ",", "thick", ",", "colour", ",", "widthscale", 
      ",", "dipole", ",", "rho", ",", "rbend"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"text", "=", 
      RowBox[{
       RowBox[{"ElementDrawText", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"bends", "=", 
      RowBox[{
       RowBox[{"Bends", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"thick", "=", 
      RowBox[{
       RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"colour", "=", 
      RowBox[{
       RowBox[{"Colour", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Colour", "\[Rule]", 
         RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"widthscale", "=", 
      RowBox[{
       RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Print", "[", 
      RowBox[{"Element", "/.", "\[InvisibleSpace]", 
       RowBox[{"{", "opts", "}"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"dipole", "=", 
      RowBox[{"Element", "/.", "\[InvisibleSpace]", 
       RowBox[{"{", "opts", "}"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"rho", "=", 
      RowBox[{
       RowBox[{"dipole", "[", "\"\<LENGTH\>\"", "]"}], "/", 
       RowBox[{"dipole", "[", "\"\<BENDANGLE\>\"", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"rbend", "=", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"dipole", "[", "\"\<TYPE\>\"", "]"}], "\[Equal]", 
         "\"\<RBend\>\""}], ",", "1", ",", "0"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Print", "[", 
      RowBox[{"\"\<e1 = \>\"", ",", 
       RowBox[{"dipole", "[", "\"\<E1\>\"", "]"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Print", "[", 
      RowBox[{"\"\<e2 = \>\"", ",", 
       RowBox[{"dipole", "[", "\"\<E2\>\"", "]"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Print", "[", 
      RowBox[{"\"\<rotation = \>\"", ",", "rotation"}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"wd", "=", 
      RowBox[{"0.1", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Print", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"0", ",", "wd"}], "}"}], ".", 
       RowBox[{"RotationMatrix", "[", 
        RowBox[{
         RowBox[{"dipole", "[", "\"\<E2\>\"", "]"}], "-", 
         RowBox[{"rbend", " ", 
          RowBox[{"Sign", "[", "rho", "]"}], 
          FractionBox["bend", "2"]}]}], "]"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"bends", "&&", 
        RowBox[{
         RowBox[{"Abs", "[", "bend", "]"}], ">", "0.001"}], "&&", 
        RowBox[{"length", ">", "0"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"colour", ",", 
         RowBox[{"Thickness", "[", "thick", "]"}], ",", "Red", ",", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"Line", "[", 
          RowBox[{"{", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", "wd"}], "}"}], ".", 
                RowBox[{"RotationMatrix", "[", 
                 RowBox[{
                  RowBox[{"+", 
                   RowBox[{"dipole", "[", "\"\<E1\>\"", "]"}]}], "-", 
                  RowBox[{"rbend", " ", 
                   RowBox[{"Sign", "[", "rho", "]"}], 
                   FractionBox["bend", "2"]}]}], "]"}]}], ",", "rotation"}], 
              "]"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"0", ",", "0"}], "}"}], ".", 
                 RowBox[{"RotationMatrix", "[", 
                  RowBox[{"-", "bend"}], "]"}]}], "+", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"length", ",", "wd"}], "}"}], ".", 
                 RowBox[{"RotationMatrix", "[", 
                  RowBox[{
                   RowBox[{"-", 
                    RowBox[{"dipole", "[", "\"\<E2\>\"", "]"}]}], "-", 
                   RowBox[{"rbend", " ", 
                    RowBox[{"Sign", "[", "rho", "]"}], 
                    FractionBox["bend", "2"]}]}], "]"}], ".", 
                 RowBox[{"RotationMatrix", "[", "bend", "]"}]}]}], ",", 
               "rotation"}], "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"0", ",", "0"}], "}"}], ".", 
                 RowBox[{"RotationMatrix", "[", 
                  RowBox[{"-", "bend"}], "]"}]}], "+", 
                RowBox[{
                 RowBox[{"{", 
                  RowBox[{"length", ",", 
                   RowBox[{"-", "wd"}]}], "}"}], ".", 
                 RowBox[{"RotationMatrix", "[", 
                  RowBox[{
                   RowBox[{"-", 
                    RowBox[{"dipole", "[", "\"\<E2\>\"", "]"}]}], "-", 
                   RowBox[{"rbend", " ", 
                    RowBox[{"Sign", "[", "rho", "]"}], 
                    FractionBox["bend", "2"]}]}], "]"}], ".", 
                 RowBox[{"RotationMatrix", "[", "bend", "]"}]}]}], ",", 
               "rotation"}], "]"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", 
                  RowBox[{"-", "wd"}]}], "}"}], ".", 
                RowBox[{"RotationMatrix", "[", 
                 RowBox[{
                  RowBox[{"+", 
                   RowBox[{"dipole", "[", "\"\<E1\>\"", "]"}]}], "-", 
                  RowBox[{"rbend", " ", 
                   RowBox[{"Sign", "[", "rho", "]"}], 
                   FractionBox["bend", "2"]}]}], "]"}]}], ",", "rotation"}], 
              "]"}]}]}], "}"}], "]"}], ",", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{"text", ",", 
           RowBox[{"Text", "[", 
            RowBox[{"label", ",", 
             RowBox[{"position", "+", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
              RowBox[{
               RowBox[{"TextOscillate", "[", "]"}], 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Sin", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", 
                    FractionBox["bend", "2"]}], "]"}]}], ",", 
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", 
                    FractionBox["bend", "2"]}], "]"}]}]}], "}"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Sin", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", 
                 FractionBox["bend", "2"]}], "]"}], ",", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", 
                 FractionBox["bend", "2"]}], "]"}]}], "}"}]}], "]"}], ",", 
           RowBox[{"{", "}"}]}], "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"White", ",", "colour", ",", 
         RowBox[{"Thickness", "[", "thick", "]"}], ",", 
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Thickness", "[", "Medium", "]"}], "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Polygon", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wd"}], "}"}], ",", "rotation"}], "]"}]}], 
            ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", "wd"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", 
                 RowBox[{"-", "wd"}]}], "}"}], ",", "rotation"}], "]"}]}], 
            ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", 
                 RowBox[{"-", "wd"}]}], "}"}], ",", "rotation"}], "]"}]}]}], 
           "}"}], "]"}], ",", "Black", ",", 
         RowBox[{"If", "[", 
          RowBox[{"text", ",", 
           RowBox[{"Text", "[", 
            RowBox[{"label", ",", 
             RowBox[{"position", "+", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
              RowBox[{
               RowBox[{"TextOscillate", "[", "]"}], 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Sin", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}], ",", 
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}]}], 
                "}"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Sin", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", "0"}], "]"}], ",", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}], "}"}]}], 
            "]"}], ",", 
           RowBox[{"{", "}"}]}], "]"}]}], "}"}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Text",
 InitializationCell->True,
 CellChangeTimes->{{3.689321641402506*^9, 3.6893216742191057`*^9}, {
   3.689321712677106*^9, 3.6893217130051055`*^9}, {3.6893219068321056`*^9, 
   3.6893219070441055`*^9}, {3.6893219653481054`*^9, 
   3.6893219805811057`*^9}, {3.6893220420559053`*^9, 3.689322042646906*^9}, {
   3.6893223750611057`*^9, 3.6893223752201056`*^9}, {3.6893233795687056`*^9, 
   3.689323385119506*^9}, {3.689325246788706*^9, 3.6893253062313056`*^9}, {
   3.6893253717163057`*^9, 3.689325372108306*^9}, {3.689325402141306*^9, 
   3.6893254614253054`*^9}, {3.6893259243019056`*^9, 
   3.6893259343739057`*^9}, {3.7069582966133766`*^9, 3.7069582966601763`*^9}, 
   3.707466616040536*^9, {3.7125748270601397`*^9, 3.7125748304904823`*^9}, {
   3.7125750015815897`*^9, 3.7125750018386154`*^9}, {3.7125751130967407`*^9, 
   3.7125752627937083`*^9}, {3.712575349887417*^9, 3.712575362977726*^9}, {
   3.7125755523456607`*^9, 3.712575562865713*^9}, 3.7125756089463205`*^9, {
   3.712575680160441*^9, 3.71257580756118*^9}, {3.7125758590623293`*^9, 
   3.712575879878411*^9}, {3.71257593587401*^9, 3.7125759366990924`*^9}, {
   3.7125759869231143`*^9, 3.712576144023823*^9}, {3.7125761742978497`*^9, 
   3.7125763354659653`*^9}, {3.7125763673561535`*^9, 3.712576398684286*^9}, {
   3.7125764483022475`*^9, 3.712576450421459*^9}, {3.712576486252042*^9, 
   3.712576516816098*^9}, {3.7125766182482405`*^9, 3.712576626154031*^9}, {
   3.712577881838587*^9, 3.7125779090583086`*^9}, 3.712582528674224*^9, {
   3.712583995727915*^9, 3.712584014298772*^9}, {3.712584169938334*^9, 
   3.712584209414281*^9}, {3.712584257126052*^9, 3.7125842760779467`*^9}, {
   3.7125843071470537`*^9, 3.71258431191553*^9}, {3.7125843978901267`*^9, 
   3.712584410171355*^9}, 
   3.712639971573328*^9},ExpressionUUID->"371b8201-df05-4a98-b0fb-\
6487c333a68f"]
}, Closed]],

Cell[CellGroupData[{

Cell["Quadrupole", "Subsubsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<quadrupole\>\"", ",", "position_", ",", "length_", ",", "bend_", ",",
      "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wq", "=", 
       RowBox[{"0.12", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"1", ",", "0", ",", "0"}], "]"}]}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", 
                RowBox[{"1.4", "wq"}]}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{"1.4", "wq"}]}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1.4"}], "wq"}]}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", 
                 RowBox[{"1.4", "wq"}]}], "}"}]}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", "position"}], 
          "}"}], "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wq"}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wq"}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{"-", "wq"}]}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wq"}], "}"}]}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", "position"}], 
          "}"}], "]"}], ",", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"{", 
           RowBox[{"Red", ",", 
            RowBox[{"Text", "[", 
             RowBox[{"label", ",", 
              RowBox[{"position", "+", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  FractionBox["length", "2"], 
                  RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                 RowBox[{
                  FractionBox["length", "2"], 
                  RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
               RowBox[{
                RowBox[{"TextOscillate", "[", "]"}], 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"1.5", "wq", " ", 
                   RowBox[{"Sin", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}], ",", " ", 
                  RowBox[{"1.5", " ", "wq", " ", 
                   RowBox[{"Cos", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Sin", "[", 
                 RowBox[{"-", "rotation"}], "]"}], ",", 
                RowBox[{"Cos", "[", 
                 RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}]}], "}"}], 
          ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "}"}]}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874324470914*^9, 3.6978743260387278`*^9}, {3.6978769871633043`*^9, 
   3.6978769873192263`*^9}, {3.7069582966913767`*^9, 3.7069582966913767`*^9}, 
   3.7074666166335363`*^9},ExpressionUUID->"23d6af81-8d39-4d76-bf9f-\
11a7d641f7ee"]
}, Closed]],

Cell[CellGroupData[{

Cell["Sextupole", "Subsubsection",
 CellChangeTimes->{{3.6978757366207876`*^9, 3.697875738276619*^9}, 
   3.697898316201233*^9, {3.7125742405864983`*^9, 
   3.712574241337573*^9}},ExpressionUUID->"2f674042-960b-4140-8102-\
e00c1025a8b7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<sextupole\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale", ",", 
       "wq"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"ws", "=", 
       RowBox[{"0.08", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0", ",", "0", ",", "1"}], "]"}]}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", 
                RowBox[{"1.4", "ws"}]}], "}"}], ",", "rotation"}], "]"}]}], 
           ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{"1.4", "ws"}]}], "}"}], ",", "rotation"}], "]"}]}], 
           ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1.4"}], "ws"}]}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", 
                 RowBox[{"1.4", "ws"}]}], "}"}]}], ",", "rotation"}], "]"}]}],
            ",", "position"}], "}"}], "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "ws"}], "}"}], ",", "rotation"}], "]"}]}], 
           ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "ws"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{"-", "ws"}]}], "}"}], ",", "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "ws"}], "}"}]}], ",", "rotation"}], "]"}]}],
            ",", "position"}], "}"}], "]"}], ",", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"{", 
           RowBox[{"Red", ",", 
            RowBox[{"Text", "[", 
             RowBox[{"label", ",", 
              RowBox[{"position", "+", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  FractionBox["length", "2"], 
                  RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                 RowBox[{
                  FractionBox["length", "2"], 
                  RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
               RowBox[{
                RowBox[{"TextOscillate", "[", "]"}], 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"1.5", "wq", " ", 
                   RowBox[{"Sin", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}], ",", " ", 
                  RowBox[{"1.5", " ", "wq", " ", 
                   RowBox[{"Cos", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Sin", "[", 
                 RowBox[{"-", "rotation"}], "]"}], ",", 
                RowBox[{"Cos", "[", 
                 RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}]}], "}"}], 
          ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "}"}]}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874324470914*^9, 3.6978743260387278`*^9}, {3.697875754466856*^9, 
   3.6978757797959213`*^9}, {3.697898317343033*^9, 3.6978983197998333`*^9}, 
   3.697898356491433*^9, {3.706958296722576*^9, 3.7069582967381763`*^9}, 
   3.707466617064536*^9},ExpressionUUID->"53b44267-cf57-46e7-a4d2-\
14d659988fb0"]
}, Closed]],

Cell[CellGroupData[{

Cell["Markers", "Subsubsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<symmline\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"text", ",", "wm", ",", "thick"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wm", "=", 
       RowBox[{"0.35", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Thickness", "[", "thick", "]"}], ",", 
        RowBox[{"Dashing", "[", 
         RowBox[{"{", 
          RowBox[{"0.01", ",", "0.01"}], "}"}], "]"}], ",", 
        RowBox[{"Line", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wm"}], "}"}], ",", "rotation"}], "]"}]}], 
           ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", 
                RowBox[{"-", "wm"}]}], "}"}], ",", "rotation"}], "]"}]}]}], 
          "}"}], "]"}], ",", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"wm", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"wm", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "}"}]}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.397814211001517*^9, 3.397814222736042*^9}, {
   3.3978151046223297`*^9, 3.397815107137987*^9}, 3.3978991977735877`*^9, 
   3.397899265633831*^9, {3.3979000552845635`*^9, 3.3979000625346565`*^9}, 
   3.397971238256072*^9, {3.442910861919755*^9, 3.44291088573256*^9}, {
   3.4541546877808676`*^9, 3.4541546912183676`*^9}, {3.4541547242652426`*^9, 
   3.4541547247652426`*^9}, {3.4632962709079323`*^9, 3.463296271111061*^9}, {
   3.689322146472706*^9, 3.6893221887317057`*^9}, {3.689323389402506*^9, 
   3.6893233898345056`*^9}, {3.6893259829717054`*^9, 3.689326071274706*^9}, {
   3.697898242644033*^9, 3.697898247027833*^9}, {3.7069582967693768`*^9, 
   3.7069582967693768`*^9}, 
   3.707466617431536*^9},ExpressionUUID->"79cf8517-0734-496b-a413-\
6fed5410264e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<marker\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"text", ",", "widthscale", ",", "wm", ",", "thick"}], "}"}], 
     ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wm", "=", 
       RowBox[{"0.15", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"Thick", ",", "Dashed", ",", "Blue", ",", 
        RowBox[{"Line", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wm"}], "}"}], ",", "rotation"}], "]"}]}], 
           ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", 
                RowBox[{"-", "wm"}]}], "}"}], ",", "rotation"}], "]"}]}]}], 
          "}"}], "]"}], ",", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"wm", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"wm", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "}"}]}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.397815111950549*^9, 3.397815120481908*^9}, 
   3.397899196695449*^9, 3.3978992669307227`*^9, {3.39790005695646*^9, 
   3.3979000698785005`*^9}, 3.3979712387248287`*^9, {3.442910892310769*^9, 
   3.44291092284241*^9}, {3.442910966530469*^9, 3.442910969874262*^9}, {
   3.4429110669223795`*^9, 3.442911069109907*^9}, {3.4541547349683676`*^9, 
   3.4541547379996176`*^9}, {3.463296271329815*^9, 3.4632962715016932`*^9}, {
   3.689322143064706*^9, 3.689322183274706*^9}, {3.6893233902905054`*^9, 
   3.6893233907945056`*^9}, {3.689326075097706*^9, 3.6893260986761055`*^9}, {
   3.697898271424633*^9, 3.697898275797833*^9}, {3.706958296800576*^9, 
   3.7069582968161764`*^9}, 3.707466617799536*^9, {3.712574037266168*^9, 
   3.7125740896584067`*^9}},ExpressionUUID->"5c427868-95e8-4d01-b20d-\
31c20a9fc1ac"]
}, Closed]],

Cell[CellGroupData[{

Cell["Kickers", "Subsubsection",
 CellChangeTimes->{{3.697874160208068*^9, 
  3.697874161104247*^9}},ExpressionUUID->"0fa8abfd-4c27-478a-b7ca-\
1bb06a7ad8d1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<kicker\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.07", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{".4", ",", ".4", ",", ".4"}], "]"}]}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], "]"}]}],
            ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
              "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
             "]"}]}], ",", "position"}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.7069582968473763`*^9, 
   3.706958296862976*^9}, 
   3.7074666182165365`*^9},ExpressionUUID->"b4ae3bb9-f109-41ec-9cb5-\
9afee35acc7c"]
}, Closed]],

Cell[CellGroupData[{

Cell["Monitor", "Subsubsection",
 CellChangeTimes->{{3.6978749050715113`*^9, 3.6978749059591885`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<bpm\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.03", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "Thick", ",", 
        RowBox[{"RGBColor", "[", 
         RowBox[{".8", ",", ".3", ",", ".8"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], "]"}]}],
            ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
              "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
             "]"}]}], ",", "position"}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.6978749971764283`*^9, 
   3.6978750206981316`*^9}, 3.697875131696327*^9, {3.6978751780776014`*^9, 
   3.6978751887012253`*^9}, {3.6978752936367083`*^9, 3.69787529384375*^9}, 
   3.6978753736192017`*^9, {3.6978769276746635`*^9, 3.6978769295145435`*^9}, {
   3.7069582968941765`*^9, 3.7069582968941765`*^9}, 3.707466618583536*^9, {
   3.7125742025276923`*^9, 
   3.7125742211295524`*^9}},ExpressionUUID->"4332d409-b900-4b4d-8912-\
bcca67438e67"]
}, Closed]],

Cell[CellGroupData[{

Cell["Wiggler", "Subsubsection",
 CellChangeTimes->{{3.6978749050715113`*^9, 3.6978749059591885`*^9}, {
  3.697875035456083*^9, 3.6978750366563225`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<wiggler\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.1", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", "Brown"}], "}"}], 
         "]"}], ",", 
        RowBox[{"FaceForm", "[", "Brown", "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"position", ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", 
                 RowBox[{
                  RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
               "rotation"}], "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
              "]"}]}], ",", "position"}], "}"}], ",", 
          RowBox[{"VertexTextureCoordinates", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"1", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"1", "/", "2"}], ",", "1"}], "}"}]}], "}"}]}]}], "]"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.6978749971764283`*^9, 
   3.6978750206981316`*^9}, {3.6978750573799667`*^9, 
   3.6978750786237144`*^9}, {3.6978751615733013`*^9, 
   3.6978751686687202`*^9}, {3.6978754827635264`*^9, 3.697875655481063*^9}, {
   3.697876912746931*^9, 3.6978769145304394`*^9}, {3.7069582969253764`*^9, 
   3.706958296940976*^9}, 
   3.7074666189285364`*^9},ExpressionUUID->"1abbecbc-d27b-40bf-827f-\
ef038bbd87d0"]
}, Closed]],

Cell[CellGroupData[{

Cell["Solenoid", "Subsubsection",
 CellChangeTimes->{{3.6978749050715113`*^9, 3.6978749059591885`*^9}, {
  3.697875035456083*^9, 3.6978750366563225`*^9}, {3.69787570007498*^9, 
  3.697875701418749*^9}},ExpressionUUID->"59d44637-6117-40da-9eeb-\
b73698e7b0a2"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<solenoid\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.12", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", "Pink"}], "}"}], 
         "]"}], ",", 
        RowBox[{"FaceForm", "[", "Pink", "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"position", ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", 
                 RowBox[{
                  RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
               "rotation"}], "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
              "]"}]}], ",", "position"}], "}"}], ",", 
          RowBox[{"VertexTextureCoordinates", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"1", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"1", "/", "2"}], ",", "1"}], "}"}]}], "}"}]}]}], "]"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.6978749971764283`*^9, 
   3.6978750206981316`*^9}, {3.6978750573799667`*^9, 
   3.6978750786237144`*^9}, {3.6978751615733013`*^9, 
   3.6978751686687202`*^9}, {3.6978754827635264`*^9, 3.697875655481063*^9}, {
   3.697875707687002*^9, 3.6978757257516146`*^9}, {3.697876895475771*^9, 
   3.6978768974865656`*^9}, {3.7069582969721766`*^9, 3.7069582969877768`*^9}, 
   3.707466619280536*^9},ExpressionUUID->"5993c29d-c2a1-4806-ba59-\
4e09c2ea0b53"]
}, Closed]],

Cell[CellGroupData[{

Cell["RFC", "Subsubsection",
 CellChangeTimes->{{3.7076505259295397`*^9, 
  3.7076505262975397`*^9}},ExpressionUUID->"a568cce7-ce60-4dba-b7f3-\
6b99dd7629b0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<rfc\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.03", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", "Green"}], "}"}], 
         "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"position", ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", 
                 RowBox[{
                  RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
               "rotation"}], "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
              "]"}]}], ",", "position"}], "}"}], ",", 
          RowBox[{"VertexTextureCoordinates", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"1", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"1", "/", "2"}], ",", "1"}], "}"}]}], "}"}]}]}], "]"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.6978749971764283`*^9, 
   3.6978750206981316`*^9}, {3.6978750573799667`*^9, 
   3.6978750786237144`*^9}, {3.6978751615733013`*^9, 
   3.6978751686687202`*^9}, {3.6978754827635264`*^9, 3.697875655481063*^9}, {
   3.697875707687002*^9, 3.6978757257516146`*^9}, {3.697876895475771*^9, 
   3.6978768974865656`*^9}, {3.7069582969721766`*^9, 3.7069582969877768`*^9}, 
   3.707466619280536*^9, {3.70765052813854*^9, 
   3.7076505713765397`*^9}},ExpressionUUID->"495bbaa5-eabd-41af-9a91-\
347e6a8b662a"]
}, Closed]],

Cell[CellGroupData[{

Cell["Collimator", "Subsubsection",
 CellChangeTimes->{{3.6978749050715113`*^9, 3.6978749059591885`*^9}, {
  3.697875035456083*^9, 3.6978750366563225`*^9}, {3.69787570007498*^9, 
  3.697875701418749*^9}, {3.70765065708854*^9, 
  3.7076506585605397`*^9}},ExpressionUUID->"86df3d75-8bb1-4c8a-b704-\
8f80f000d2de"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDrawElement", "[", 
    RowBox[{
    "\"\<collimator\>\"", ",", "position_", ",", "length_", ",", "bend_", ",",
      "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.12", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", "Black"}], "}"}], 
         "]"}], ",", 
        RowBox[{"FaceForm", "[", "Black", "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"position", ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", 
                 RowBox[{
                  RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
               "rotation"}], "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
              "]"}]}], ",", "position"}], "}"}], ",", 
          RowBox[{"VertexTextureCoordinates", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"1", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"1", "/", "2"}], ",", "1"}], "}"}]}], "}"}]}]}], "]"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.6978749971764283`*^9, 
   3.6978750206981316`*^9}, {3.6978750573799667`*^9, 
   3.6978750786237144`*^9}, {3.6978751615733013`*^9, 
   3.6978751686687202`*^9}, {3.6978754827635264`*^9, 3.697875655481063*^9}, {
   3.697875707687002*^9, 3.6978757257516146`*^9}, {3.697876895475771*^9, 
   3.6978768974865656`*^9}, {3.7069582969721766`*^9, 3.7069582969877768`*^9}, 
   3.707466619280536*^9, {3.70765066024154*^9, 
   3.70765066953154*^9}},ExpressionUUID->"b8775859-2895-44a1-a988-\
602d84c128cc"]
}, Closed]],

Cell[CellGroupData[{

Cell["ElementDraw", "Subsubsection",
 CellChangeTimes->{{3.6893196673813057`*^9, 3.6893196693509054`*^9}, {
  3.705816265319565*^9, 3.705816269087565*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"Clear", "[", "ElementDraw", "]"}], ";"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6893213852835054`*^9, 3.6893213866795053`*^9}, 
   3.6893404582105055`*^9, {3.7058162550245647`*^9, 
   3.705816257888565*^9}},ExpressionUUID->"c49b1c96-dcb3-46e1-a091-\
897a0f857349"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Options", "[", "ElementDraw", "]"}]], "Input",ExpressionUUID->"800a3112-7957-47ba-9651-334777c724fb"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"Labels", "\[Rule]", "False"}], ",", 
   RowBox[{"Thickness", "\[Rule]", "0.001`"}], ",", 
   RowBox[{"Monitors", "\[Rule]", "True"}], ",", 
   RowBox[{"Lengths", "\[Rule]", "False"}], ",", 
   RowBox[{"Filled", "\[Rule]", "False"}], ",", 
   RowBox[{"WidthScale", "\[Rule]", "1.4`"}], ",", 
   RowBox[{"Symms", "\[Rule]", "True"}], ",", 
   RowBox[{"Bends", "\[Rule]", "True"}], ",", 
   RowBox[{"Offset", "\[Rule]", "0"}], ",", 
   RowBox[{"ShowPicture", "\[Rule]", "True"}], ",", 
   RowBox[{"Fontsize", "\[Rule]", "12"}], ",", 
   RowBox[{"Imagesize", "\[Rule]", "800"}], ",", 
   RowBox[{"DrawLabel", "\[Rule]", "\<\"\"\>"}], ",", 
   RowBox[{"CheckClosed", "\[Rule]", "False"}], ",", 
   RowBox[{"Frame", "\[Rule]", "True"}], ",", 
   RowBox[{"ElementDrawText", "\[Rule]", "False"}]}], "}"}]], "Output",
 CellChangeTimes->{
  3.7288045210416975`*^9},ExpressionUUID->"760b13a2-563b-4120-b1f1-\
b4ac4f0eb2d7"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementDraw", "[", 
   RowBox[{"data_", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "text", ",", "thick", ",", "bpms", ",", "lengths", ",", "filled", ",", 
      "widthscale", ",", "symms", ",", "bends", ",", "closed", ",", "offset", 
      ",", "optShow", ",", "elementList", ",", "lattice", ",", 
      "elementDrawRot", ",", " ", "roty", ",", "sinc2", ",", "xform", ",", 
      "localXYZ", ",", "x", ",", "graph", ",", "sinc", ",", "cosc", ",", 
      "sym", ",", " ", "tilt", ",", "findrotations", ",", "findrotationsv", 
      ",", 
      RowBox[{"anglesum", "=", "0"}], ",", "sum1", ",", "x1", ",", 
      "prepositions2", ",", "vbends"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"text", "=", 
      RowBox[{
       RowBox[{"Global`Labels", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"{", 
        RowBox[{"Global`Labels", "\[Rule]", "False"}], "}"}]}]}], ";", 
     RowBox[{"thick", "=", 
      RowBox[{
       RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"bpms", "=", 
      RowBox[{
       RowBox[{"Monitors", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"lengths", "=", 
      RowBox[{
       RowBox[{"Lengths", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"filled", "=", 
      RowBox[{
       RowBox[{"Filled", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"If", "[", 
      RowBox[{"filled", ",", 
       RowBox[{"shape", "=", "\"\<Polygon\>\""}], ",", 
       RowBox[{"shape", "=", "\"\<Line\>\""}]}], "]"}], ";", 
     RowBox[{"widthscale", "=", 
      RowBox[{
       RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"symms", "=", 
      RowBox[{
       RowBox[{"Symms", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"bends", "=", 
      RowBox[{
       RowBox[{"Bends", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"closed", "=", 
      RowBox[{
       RowBox[{"CheckClosed", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"offset", "=", 
      RowBox[{
       RowBox[{"Offset", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vbends", "=", 
      RowBox[{
       RowBox[{"Global`VerticalBends", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`VerticalBends", "\[Rule]", "False"}], "}"}]}]}], ";", 
     RowBox[{"optShow", "=", 
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"Sequence", "@@", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"{", "opts", "}"}], "]"}], ",", 
            RowBox[{"Options", "[", "Graphics", "]"}]}], "]"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"Sequence", "@@", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"{", "opts", "}"}], "]"}], ",", 
            RowBox[{"Options", "[", "Show", "]"}]}], "]"}]}], "}"}]}], 
       "]"}]}], ";", 
     RowBox[{"elementList", "=", 
      RowBox[{"Flatten", "[", "data", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Not", "[", "bpms", "]"}], ",", 
         RowBox[{"elementList", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"elementList", ",", 
            RowBox[{
             RowBox[{
              RowBox[{
              "#1", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
              "=!=", "\"\<BPM\>\""}], "&"}]}], "]"}]}]}], "]"}], ";"}], 
      "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"tilt", "[", "element_", "]"}], ":=", 
      RowBox[{"Switch", "[", 
       RowBox[{
        RowBox[{"findElementClass", "[", "element", "]"}], ",", 
        "\[IndentingNewLine]", "\"\<dipole\>\"", ",", 
        RowBox[{"element", "[", "\"\<TILT\>\"", "]"}], " ", ",", 
        "\[IndentingNewLine]", "_", ",", "0"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"lattice", "=", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"findElementClass", "[", "#", "]"}], ",", 
           RowBox[{"#1", "[", "\"\<LENGTH\>\"", "]"}], ",", 
           RowBox[{"N", "[", 
            RowBox[{"#", "[", "\"\<BENDANGLE\>\"", "]"}], "]"}], ",", 
           "\"\<\>\"", ",", 
           RowBox[{"tilt", "[", "#1", "]"}], ",", "#"}], "}"}], "&"}], ")"}], 
       "/@", "elementList"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"bends", "===", "True"}], ",", 
       RowBox[{"findrotations", "=", 
        RowBox[{"(", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"Switch", "[", 
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",",
              "\[IndentingNewLine]", "\"\<dipole\>\"", ",", 
             RowBox[{"anglesum", "+=", 
              RowBox[{
               RowBox[{"Cos", "[", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "5", "]"}], "]"}], "]"}], 
               RowBox[{
               "#1", "\[LeftDoubleBracket]", "3", 
                "\[RightDoubleBracket]"}]}]}], ",", "\[IndentingNewLine]", 
             "_", ",", "anglesum"}], "]"}], "&"}], "/@", 
          RowBox[{"Drop", "[", 
           RowBox[{
            RowBox[{"Prepend", "[", 
             RowBox[{"lattice", ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}], 
               "}"}]}], "]"}], ",", 
            RowBox[{"-", "1"}]}], "]"}]}], ")"}]}], ",", 
       RowBox[{"findrotations", "=", 
        RowBox[{"Table", "[", 
         RowBox[{"0.", ",", 
          RowBox[{"{", 
           RowBox[{"Length", "[", "lattice", "]"}], "}"}]}], "]"}]}]}], "]"}],
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"findrotationsv", "=", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"sum1", "=", "0"}], ";", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"sum1", "+=", 
            RowBox[{
             RowBox[{"Sin", "[", 
              RowBox[{"#", "[", 
               RowBox[{"[", "5", "]"}], "]"}], "]"}], 
             RowBox[{
             "#1", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}]}]}],
            "&"}], ")"}], "/@", 
         RowBox[{"Drop", "[", 
          RowBox[{
           RowBox[{"Prepend", "[", 
            RowBox[{"lattice", ",", 
             RowBox[{"{", 
              RowBox[{"0", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}], 
              "}"}]}], "]"}], ",", 
           RowBox[{"-", "1"}]}], "]"}]}]}], ")"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Coslimit", "[", 
       RowBox[{"\[Theta]_", ",", "length_"}], "]"}], ":=", 
      RowBox[{
       RowBox[{"Coslimit", "[", 
        RowBox[{"\[Theta]", ",", "length"}], "]"}], "=", 
       RowBox[{"Limit", "[", 
        RowBox[{
         RowBox[{
          FractionBox["length", "\[Theta]1"], 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Cos", "[", "\[Theta]1", "]"}], "-", "1"}], ")"}]}], ",", 
         RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Sinlimit", "[", 
       RowBox[{"\[Theta]_", ",", "length_"}], "]"}], ":=", 
      RowBox[{
       RowBox[{"Sinlimit", "[", 
        RowBox[{"\[Theta]", ",", "length"}], "]"}], "=", 
       RowBox[{"Limit", "[", 
        RowBox[{
         RowBox[{
          FractionBox["length", "\[Theta]1"], 
          RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], ",", 
         RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"xform", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\[Theta]_", ",", "tilt_", ",", "length_"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"x_", ",", "r_"}], "}"}]}], "]"}], ":=", 
      RowBox[{"Block", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dx", ",", "n", ",", "rt", ",", "rp"}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"dx", "=", 
          RowBox[{"r", ".", 
           RowBox[{"(", GridBox[{
              {
               RowBox[{"Cos", "[", "tilt", "]"}], 
               RowBox[{"-", 
                RowBox[{"Sin", "[", "tilt", "]"}]}], "0"},
              {
               RowBox[{"Sin", "[", "tilt", "]"}], 
               RowBox[{"Cos", "[", "tilt", "]"}], "0"},
              {"0", "0", "1"}
             }], ")"}], ".", 
           RowBox[{"(", GridBox[{
              {
               RowBox[{"Coslimit", "[", 
                RowBox[{"\[Theta]", ",", "length"}], "]"}]},
              {"0"},
              {
               RowBox[{"Sinlimit", "[", 
                RowBox[{"\[Theta]", ",", "length"}], "]"}]}
             }], ")"}]}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"rt", "=", 
          RowBox[{"Transpose", "[", "r", "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"n", "=", 
          RowBox[{
           RowBox[{
            RowBox[{
            "rt", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
            RowBox[{"Cos", "[", "tilt", "]"}]}], "-", 
           RowBox[{
            RowBox[{
            "rt", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
            RowBox[{"Sin", "[", "tilt", "]"}]}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"rp", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Outer", "[", 
             RowBox[{"Times", ",", 
              RowBox[{"rt", ".", "n"}], ",", "n"}], "]"}], 
            RowBox[{"(", 
             RowBox[{"1", "-", 
              RowBox[{"Cos", "[", "\[Theta]", "]"}]}], ")"}]}], "+", 
           RowBox[{"rt", " ", 
            RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "+", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                "rt", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
                ",", "n"}], "]"}], ",", 
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                "rt", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
                ",", "n"}], "]"}], ",", 
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                "rt", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
                ",", "n"}], "]"}]}], "}"}], 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"x", "+", "dx"}], ",", 
           RowBox[{"Transpose", "[", "rp", "]"}]}], "}"}]}]}], 
       "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Which", "[", 
      RowBox[{
       RowBox[{"ListQ", "[", "offset", "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"x", "=", 
        RowBox[{"{", 
         RowBox[{"(", GridBox[{
            {
             RowBox[{"offset", "[", 
              RowBox[{"[", "2", "]"}], "]"}]},
            {"0"},
            {
             RowBox[{"offset", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}
           }], ")"}], "}"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"NumberQ", "[", "offset", "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"x", "=", 
        RowBox[{"{", 
         RowBox[{"(", GridBox[{
            {"offset"},
            {"0"},
            {"0"}
           }], ")"}], "}"}]}], ",", "\[IndentingNewLine]", "True", ",", 
       "\[IndentingNewLine]", 
       RowBox[{"x", "=", 
        RowBox[{"{", 
         RowBox[{"(", GridBox[{
            {"0"},
            {"0"},
            {"0"}
           }], ")"}], "}"}]}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"localXYZ", "=", 
      RowBox[{"IdentityMatrix", "[", "3", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"{", 
            RowBox[{"x1", ",", "localXYZ"}], "}"}], "=", 
           RowBox[{"xform", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{"bends", ",", 
                 RowBox[{"-", 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "3", "]"}], "]"}]}], ",", "0"}], "]"}], ",", 
               RowBox[{"-", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "5", "]"}], "]"}]}], ",", 
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"x", "\[LeftDoubleBracket]", 
                RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], ",", 
               "localXYZ"}], "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"x", ",", "x1"}], "]"}]}]}], "]"}], "&"}], "/@", 
      "lattice"}], ";", "\[IndentingNewLine]", 
     RowBox[{"prepositions2", "=", 
      RowBox[{"Most", "[", 
       RowBox[{"x", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", 
          RowBox[{"{", 
           RowBox[{"3", ",", "1"}], "}"}], ",", "1"}], "]"}], "]"}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"graph", "=", 
      RowBox[{"Graphics", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"ElementDrawElement", "[", 
          RowBox[{
           RowBox[{"#1", "\[LeftDoubleBracket]", 
            RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], ",", 
           RowBox[{
           "#1", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], ",", 
           RowBox[{"#1", "\[LeftDoubleBracket]", 
            RowBox[{"1", ",", "2"}], "\[RightDoubleBracket]"}], " ", ",", 
           RowBox[{"If", "[", 
            RowBox[{"bends", ",", 
             RowBox[{
              RowBox[{"Cos", "[", 
               RowBox[{"#", "[", 
                RowBox[{"[", 
                 RowBox[{"1", ",", "5"}], "]"}], "]"}], "]"}], 
              RowBox[{"#1", "\[LeftDoubleBracket]", 
               RowBox[{"1", ",", "3"}], "\[RightDoubleBracket]"}]}], ",", 
             "0"}], "]"}], ",", 
           RowBox[{
           "#1", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], ",", 
           "\"\<\>\"", ",", 
           RowBox[{"Element", "\[Rule]", 
            RowBox[{"#", "[", 
             RowBox[{"[", 
              RowBox[{"1", ",", 
               RowBox[{"-", "1"}]}], "]"}], "]"}]}], ",", "opts"}], "]"}], 
         "&"}], "/@", 
        RowBox[{"Transpose", "[", 
         RowBox[{"{", 
          RowBox[{"lattice", ",", "prepositions2", ",", "findrotations"}], 
          "}"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"Show", "[", 
      RowBox[{"graph", ",", "optShow", ",", 
       RowBox[{"Sequence", "@@", 
        RowBox[{"FilterRules", "[", 
         RowBox[{
          RowBox[{"Flatten", "[", 
           RowBox[{"{", 
            RowBox[{"Options", "[", "ElementDraw", "]"}], "}"}], "]"}], ",", 
          RowBox[{"Options", "[", "Show", "]"}]}], "]"}]}], ",", 
       RowBox[{"Lighting", "\[Rule]", "Automatic"}]}], "]"}]}]}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.3941768199282775`*^9, 3.3941768821480923`*^9}, {
   3.394176912445161*^9, 3.394176947164133*^9}, {3.39417698894565*^9, 
   3.394177003398868*^9}, {3.3941770406491065`*^9, 3.394177052805434*^9}, {
   3.394177089227542*^9, 3.3941770907119265`*^9}, {3.3941771708841066`*^9, 
   3.394177173212217*^9}, {3.3941772129307127`*^9, 3.3941772882093563`*^9}, {
   3.394178236979314*^9, 3.3941782389323635`*^9}, {3.394178803427348*^9, 
   3.3941788102553864`*^9}, {3.3941896522453585`*^9, 3.394189652510982*^9}, {
   3.394189721713664*^9, 3.394189721869913*^9}, {3.3942858988324637`*^9, 
   3.3942859068322587`*^9}, {3.394285970502504*^9, 3.394286178419056*^9}, {
   3.3997937382955713`*^9, 3.3997937603271036`*^9}, {3.5587783661331224`*^9, 
   3.558778367976955*^9}, {3.5587785271247096`*^9, 3.5587785272340894`*^9}, {
   3.5587785737517986`*^9, 3.5587786202695074`*^9}, {3.558778690897671*^9, 
   3.558778691225811*^9}, {3.5587787315088654`*^9, 3.55877873261829*^9}, {
   3.5587787890583186`*^9, 3.5587787892614527`*^9}, {3.5587789932393403`*^9, 
   3.5587790019428554`*^9}, {3.5587793639903245`*^9, 
   3.5587793646466036`*^9}, {3.558788017471733*^9, 3.558788051066988*^9}, 
   3.5587880904437523`*^9, {3.5587881372427235`*^9, 3.558788170478587*^9}, {
   3.5587882234073706`*^9, 3.558788341200367*^9}, {3.5587883777578917`*^9, 
   3.5587884023534064`*^9}, {3.5587884650524497`*^9, 3.558788655200384*^9}, {
   3.5587890539193573`*^9, 3.5587890814341993`*^9}, 3.5871953023242607`*^9, {
   3.627037928008376*^9, 3.6270379960423756`*^9}, 3.627038081650376*^9, 
   3.627038134975376*^9, {3.627038185291376*^9, 3.6270381878703756`*^9}, {
   3.627038250326376*^9, 3.627038377265376*^9}, {3.627038784959376*^9, 
   3.627038787614376*^9}, {3.627039082128376*^9, 3.6270391025733757`*^9}, {
   3.627039202143376*^9, 3.627039278590376*^9}, {3.627039339397376*^9, 
   3.6270393409283757`*^9}, {3.6270472299353757`*^9, 
   3.6270472304083757`*^9}, {3.6270472692543755`*^9, 3.627047294069376*^9}, {
   3.6551246374381638`*^9, 3.6551246390213223`*^9}, {3.6551246873831577`*^9, 
   3.6551246899764175`*^9}, {3.655124823372755*^9, 3.6551248248439026`*^9}, {
   3.65512485892531*^9, 3.655124860437462*^9}, {3.655124947352152*^9, 
   3.6551249489363103`*^9}, {3.6551249843298492`*^9, 
   3.6551250060910254`*^9}, {3.655125120079423*^9, 3.655125359231336*^9}, {
   3.655125418242236*^9, 3.655125439618374*^9}, {3.6551255133967505`*^9, 
   3.6551255255509663`*^9}, {3.655131632759626*^9, 3.655131647032053*^9}, {
   3.6551317438597345`*^9, 3.6551317446118097`*^9}, {3.6551319795483017`*^9, 
   3.6551321124175873`*^9}, {3.655132148411186*^9, 3.655132229318276*^9}, {
   3.6551322693352776`*^9, 3.655132314912834*^9}, {3.6551323467940226`*^9, 
   3.6551323540497475`*^9}, {3.6551879096626997`*^9, 
   3.6551879166737003`*^9}, {3.688718507910676*^9, 3.6887185434406757`*^9}, {
   3.6887185781566763`*^9, 3.688718649451676*^9}, {3.688718706450676*^9, 
   3.688718804693676*^9}, {3.6890752886558*^9, 3.6890754157928*^9}, {
   3.6893175275982056`*^9, 3.6893175412260056`*^9}, {3.689318581940406*^9, 
   3.6893186299504056`*^9}, {3.6893186712596054`*^9, 
   3.6893186736992054`*^9}, {3.6893187493532057`*^9, 
   3.6893188357816057`*^9}, {3.6893188970526056`*^9, 3.689318897863806*^9}, 
   3.6893196050553055`*^9, {3.6893197272517056`*^9, 3.6893197409813056`*^9}, {
   3.6893200560835056`*^9, 3.6893200688493056`*^9}, {3.689320100889906*^9, 
   3.6893201702107058`*^9}, {3.6893202041051054`*^9, 
   3.6893202057471056`*^9}, {3.689320275722706*^9, 3.689320285916506*^9}, 
   3.6893203472035055`*^9, {3.6893204031949053`*^9, 3.6893204600715055`*^9}, {
   3.6893205881879053`*^9, 3.6893205883595057`*^9}, {3.6893208966351056`*^9, 
   3.6893209334051056`*^9}, 3.6893209772165055`*^9, {3.6893210286115055`*^9, 
   3.6893210417005053`*^9}, 3.6893211112793055`*^9, 3.6893211437783055`*^9, {
   3.6893213284115057`*^9, 3.6893214124731054`*^9}, 3.6893214841527057`*^9, {
   3.689321737915106*^9, 3.689321777840706*^9}, {3.689321821163706*^9, 
   3.689321826427706*^9}, 3.6893218744217052`*^9, 3.689321935915106*^9, {
   3.6893220089419055`*^9, 3.689322012509906*^9}, {3.6893223439721055`*^9, 
   3.689322368613106*^9}, {3.6893224394091053`*^9, 3.6893224510541058`*^9}, {
   3.6893224913967056`*^9, 3.6893224952517056`*^9}, {3.689322532760706*^9, 
   3.6893225407667055`*^9}, {3.6893232348011055`*^9, 
   3.6893232460901055`*^9}, {3.689325225564706*^9, 3.6893252317797055`*^9}, {
   3.6893253392513056`*^9, 3.6893253598443055`*^9}, 3.689340457508506*^9, {
   3.697873071469864*^9, 3.697873172428052*^9}, {3.697873222260516*^9, 
   3.6978732289978633`*^9}, {3.697873299291419*^9, 3.6978733355341663`*^9}, 
   3.705816260488565*^9, {3.7058163435305653`*^9, 3.705816361705565*^9}, {
   3.7069581760039763`*^9, 3.7069582506127768`*^9}, 3.7069583104489765`*^9, {
   3.707466539677536*^9, 3.707466541372536*^9}, 3.707466619651536*^9, 
   3.707466662070536*^9, {3.707466721184536*^9, 3.7074667296805363`*^9}, 
   3.7074667793585362`*^9, {3.707466905846536*^9, 3.707466906380536*^9}, 
   3.7099055258323183`*^9, 3.7099056195743184`*^9, {3.7125749426496973`*^9, 
   3.712574952496682*^9}, {3.712575408699298*^9, 3.712575413154743*^9}, {
   3.7125754893763647`*^9, 3.7125755071301394`*^9}, {3.7288044962546973`*^9, 
   3.728804510724697*^9}, 3.728804548012697*^9, {3.7288045868596973`*^9, 
   3.7288045932476974`*^9}},ExpressionUUID->"108cc5f7-9a95-4c4a-94e1-\
5f4c7fe64d0f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xform", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"\[Theta]_", ",", "tilt_", ",", "length_"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"x_", ",", "r_"}], "}"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"dx", ",", "n", ",", "rt", ",", "rp"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"dx", "=", 
      RowBox[{"r", ".", 
       RowBox[{"(", GridBox[{
          {
           RowBox[{"Cos", "[", "tilt", "]"}], 
           RowBox[{"-", 
            RowBox[{"Sin", "[", "tilt", "]"}]}], "0"},
          {
           RowBox[{"Sin", "[", "tilt", "]"}], 
           RowBox[{"Cos", "[", "tilt", "]"}], "0"},
          {"0", "0", "1"}
         }], ")"}], ".", 
       RowBox[{"(", GridBox[{
          {
           RowBox[{"Limit", "[", 
            RowBox[{
             RowBox[{
              FractionBox["length", "\[Theta]1"], 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Cos", "[", "\[Theta]1", "]"}], "-", "1"}], ")"}]}], 
             ",", 
             RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]},
          {"0"},
          {
           RowBox[{"Limit", "[", 
            RowBox[{
             RowBox[{
              FractionBox["length", "\[Theta]1"], 
              RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], ",", 
             RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]}
         }], ")"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"rt", "=", 
      RowBox[{"Transpose", "[", "r", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Print", "[", 
      RowBox[{"\"\<dx = \>\"", ",", 
       RowBox[{"(", GridBox[{
          {
           RowBox[{"Limit", "[", 
            RowBox[{
             RowBox[{
              FractionBox["length", "\[Theta]1"], 
              RowBox[{"(", 
               RowBox[{
                RowBox[{"Cos", "[", "\[Theta]1", "]"}], "-", "1"}], ")"}]}], 
             ",", 
             RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]},
          {"0"},
          {
           RowBox[{"Limit", "[", 
            RowBox[{
             RowBox[{
              FractionBox["length", "\[Theta]1"], 
              RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], ",", 
             RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]}
         }], ")"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"n", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"rt", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
        RowBox[{"Cos", "[", "tilt", "]"}]}], "-", 
       RowBox[{
        RowBox[{"rt", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
        RowBox[{"Sin", "[", "tilt", "]"}]}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"rp", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"Outer", "[", 
         RowBox[{"Times", ",", 
          RowBox[{"rt", ".", "n"}], ",", "n"}], "]"}], 
        RowBox[{"(", 
         RowBox[{"1", "-", 
          RowBox[{"Cos", "[", "\[Theta]", "]"}]}], ")"}]}], "+", 
       RowBox[{"rt", " ", 
        RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "+", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Cross", "[", 
           RowBox[{
            RowBox[{
            "rt", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",",
             "n"}], "]"}], ",", 
          RowBox[{"Cross", "[", 
           RowBox[{
            RowBox[{
            "rt", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], ",",
             "n"}], "]"}], ",", 
          RowBox[{"Cross", "[", 
           RowBox[{
            RowBox[{
            "rt", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], ",",
             "n"}], "]"}]}], "}"}], 
        RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"x", "+", "dx"}], ",", 
       RowBox[{"Transpose", "[", "rp", "]"}]}], "}"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 CellChangeTimes->{{3.7099060803873186`*^9, 3.7099060912173185`*^9}, {
   3.709906285605318*^9, 3.7099062874763184`*^9}, 
   3.709906422327318*^9},ExpressionUUID->"7b13b36d-b257-4eb7-9f84-\
d29b0dea0266"],

Cell[BoxData[
 RowBox[{
  RowBox[{"localXYZ", "=", 
   RowBox[{"IdentityMatrix", "[", "3", "]"}]}], ";"}]], "Input",
 CellChangeTimes->{
  3.7099057929943185`*^9},ExpressionUUID->"6210d55c-d4a6-42eb-99b7-\
8ff96a9f09f4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"x", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", "0", "}"}], ",", 
     RowBox[{"{", "0", "}"}], ",", 
     RowBox[{"{", "0", "}"}]}], "}"}]}], ";"}]], "Input",
 CellChangeTimes->{{3.7099057950543184`*^9, 
  3.7099058024023185`*^9}},ExpressionUUID->"eb7a12af-beb3-4b02-99e5-\
491252f1bdd2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"angles", "=", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"1", ",", 
     RowBox[{"-", "1"}], ",", 
     RowBox[{"-", "1"}], ",", "1"}], "}"}], "0.00572958", " ", 
   "Degree"}]}]], "Input",
 CellChangeTimes->{{3.7099059208753185`*^9, 
  3.7099059300103188`*^9}},ExpressionUUID->"c393297a-ff2e-47ca-b50d-\
e836ffbfea74"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"0.0001000000357564167`", ",", 
   RowBox[{"-", "0.0001000000357564167`"}], ",", 
   RowBox[{"-", "0.0001000000357564167`"}], ",", "0.0001000000357564167`"}], 
  "}"}]], "Output",
 CellChangeTimes->{{3.7099059314083185`*^9, 3.7099059499713182`*^9}, 
   3.709906032150318*^9, {3.7099060851113186`*^9, 3.7099060934633183`*^9}, {
   3.7099062899063187`*^9, 3.7099063043123183`*^9}, 
   3.7099064290233183`*^9},ExpressionUUID->"5acbe171-638a-4bf6-bf0e-\
52c464b958bd"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"{", 
        RowBox[{"x", ",", "localXYZ"}], "}"}], "=", 
       RowBox[{"xform", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"angles", "[", 
            RowBox[{"[", "#", "]"}], "]"}], ",", " ", "0", ",", " ", "0.2"}], 
          "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"x", ",", "localXYZ"}], "}"}]}], "]"}]}], ";"}]}], 
    "\[IndentingNewLine]", 
    RowBox[{"(*", 
     RowBox[{
      RowBox[{"Print", "[", "x", "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Print", "[", "localXYZ", "]"}], ";"}], "*)"}], 
    "\[IndentingNewLine]", "]"}], "&"}], "/@", 
  RowBox[{"Range", "[", "4", "]"}]}]], "Input",
 CellChangeTimes->{{3.709905805841318*^9, 3.7099058627663183`*^9}, {
   3.7099058989203186`*^9, 3.7099059432993183`*^9}, {3.7099060191453185`*^9, 
   3.7099060291043186`*^9}, 
   3.7099063012363186`*^9},ExpressionUUID->"74c90f1b-c358-4bb0-b691-\
d770f7e8d27f"],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"dx = \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"-", "0.000010000003469009736`"}], "}"}], ",", 
     RowBox[{"{", "0", "}"}], ",", 
     RowBox[{"{", "0.1999999996666664`", "}"}]}], "}"}]}],
  SequenceForm[
  "dx = ", {{-0.000010000003469009736`}, {0}, {0.1999999996666664}}],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.7099058664983187`*^9, 3.7099059042413187`*^9, {3.7099059442693186`*^9, 
   3.7099059500423183`*^9}, {3.7099060296163187`*^9, 
   3.7099060322053185`*^9}, {3.7099060859563184`*^9, 
   3.7099060935083184`*^9}, {3.709906289980318*^9, 3.7099063043523183`*^9}, 
   3.709906429105318*^9},ExpressionUUID->"e19d17db-2463-4cd8-9772-\
04df920ec7ef"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"dx = \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", "0.000010000003469009736`", "}"}], ",", 
     RowBox[{"{", "0", "}"}], ",", 
     RowBox[{"{", "0.1999999996666664`", "}"}]}], "}"}]}],
  SequenceForm[
  "dx = ", {{0.000010000003469009736`}, {0}, {0.1999999996666664}}],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.7099058664983187`*^9, 3.7099059042413187`*^9, {3.7099059442693186`*^9, 
   3.7099059500423183`*^9}, {3.7099060296163187`*^9, 
   3.7099060322053185`*^9}, {3.7099060859563184`*^9, 
   3.7099060935083184`*^9}, {3.709906289980318*^9, 3.7099063043523183`*^9}, 
   3.7099064291093187`*^9},ExpressionUUID->"23cdb732-f09b-45e8-b972-\
9f88e3418087"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"dx = \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", "0.000010000003469009736`", "}"}], ",", 
     RowBox[{"{", "0", "}"}], ",", 
     RowBox[{"{", "0.1999999996666664`", "}"}]}], "}"}]}],
  SequenceForm[
  "dx = ", {{0.000010000003469009736`}, {0}, {0.1999999996666664}}],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.7099058664983187`*^9, 3.7099059042413187`*^9, {3.7099059442693186`*^9, 
   3.7099059500423183`*^9}, {3.7099060296163187`*^9, 
   3.7099060322053185`*^9}, {3.7099060859563184`*^9, 
   3.7099060935083184`*^9}, {3.709906289980318*^9, 3.7099063043523183`*^9}, 
   3.7099064291153183`*^9},ExpressionUUID->"aa91c008-0e94-4550-923e-\
be788261729d"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"dx = \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"-", "0.000010000003469009736`"}], "}"}], ",", 
     RowBox[{"{", "0", "}"}], ",", 
     RowBox[{"{", "0.1999999996666664`", "}"}]}], "}"}]}],
  SequenceForm[
  "dx = ", {{-0.000010000003469009736`}, {0}, {0.1999999996666664}}],
  Editable->False]], "Print",
 CellChangeTimes->{
  3.7099058664983187`*^9, 3.7099059042413187`*^9, {3.7099059442693186`*^9, 
   3.7099059500423183`*^9}, {3.7099060296163187`*^9, 
   3.7099060322053185`*^9}, {3.7099060859563184`*^9, 
   3.7099060935083184`*^9}, {3.709906289980318*^9, 3.7099063043523183`*^9}, 
   3.7099064291223183`*^9},ExpressionUUID->"7cf404cf-8e96-4360-80f4-\
8e11481d70f8"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"Null", ",", "Null", ",", "Null", ",", "Null"}], "}"}]], "Output",
 CellChangeTimes->{
  3.7099058665293183`*^9, 3.7099059042803183`*^9, {3.7099059442953186`*^9, 
   3.709905950070318*^9}, {3.7099060296703186`*^9, 3.7099060322513185`*^9}, {
   3.7099060860383186`*^9, 3.7099060935893183`*^9}, {3.7099062900553184`*^9, 
   3.7099063043773184`*^9}, 
   3.7099064291303186`*^9},ExpressionUUID->"450cbd09-1af9-4a29-8ab8-\
8c1876631c20"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["ElementPositions", "Subsection",
 CellChangeTimes->{{3.7287142830692463`*^9, 
  3.728714286979246*^9}},ExpressionUUID->"029ad4a4-93ea-447b-bf86-\
1b5ebd5c8d40"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementPositions", "[", 
   RowBox[{"data_", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "rot", ",", "roty", ",", "sinc", ",", "cosc", ",", "sinc2", ",", "sym", 
      ",", "test", ",", "autolabels", ",", "thick", ",", "bpms", ",", 
      "lengths", ",", "filled", ",", "widthscale", ",", "symms", ",", "bends",
       ",", "closed", ",", "offset", ",", "bpmcircle", ",", "textoscillate", 
      ",", "fancyelements", ",", "anglesum", ",", "findrotations", ",", 
      "findrotationsv", ",", "cc", ",", "RM", ",", "prepositions", ",", 
      "prepositions2", ",", "v", ",", "rm", ",", "sum1", ",", "startangle", 
      ",", "layout", ",", "fancy", ",", "optShow", ",", "b", ",", "a", ",", 
      "c", ",", "lattice", ",", "tilt", ",", "elementList"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"anglesum", "=", 
      RowBox[{"startangle", "=", 
       RowBox[{
        RowBox[{"Global`AngleOffset", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Global`AngleOffset", "\[Rule]", "0"}], "}"}]}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"offset", "=", 
      RowBox[{
       RowBox[{"Global`Offset", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`Offset", "\[Rule]", "True"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"bends", "=", 
      RowBox[{
       RowBox[{"Global`Bends", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`Bends", "\[Rule]", "True"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"elementList", "=", 
      RowBox[{"Flatten", "[", "data", "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"tilt", "[", "element_", "]"}], ":=", 
      RowBox[{"Switch", "[", 
       RowBox[{
        RowBox[{"findElementClass", "[", "element", "]"}], ",", 
        "\[IndentingNewLine]", "\"\<dipole\>\"", ",", 
        RowBox[{"element", "[", "\"\<TILT\>\"", "]"}], " ", ",", 
        "\[IndentingNewLine]", "_", ",", "0"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"lattice", "=", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"findElementClass", "[", "#", "]"}], ",", 
           RowBox[{"#1", "[", "\"\<LENGTH\>\"", "]"}], ",", 
           RowBox[{"N", "[", 
            RowBox[{"#", "[", "\"\<BENDANGLE\>\"", "]"}], "]"}], ",", 
           "\"\<\>\"", ",", 
           RowBox[{"tilt", "[", "#1", "]"}], ",", "#"}], "}"}], "&"}], ")"}], 
       "/@", "elementList"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"bends", "===", "True"}], ",", 
       RowBox[{"findrotations", "=", 
        RowBox[{"(", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"Switch", "[", 
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",",
              "\[IndentingNewLine]", "\"\<dipole\>\"", ",", 
             RowBox[{"anglesum", "+=", 
              RowBox[{
               RowBox[{"Cos", "[", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "5", "]"}], "]"}], "]"}], 
               RowBox[{
               "#1", "\[LeftDoubleBracket]", "3", 
                "\[RightDoubleBracket]"}]}]}], ",", "\[IndentingNewLine]", 
             "_", ",", "anglesum"}], "]"}], "&"}], "/@", 
          RowBox[{"Drop", "[", 
           RowBox[{
            RowBox[{"Prepend", "[", 
             RowBox[{"lattice", ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}], 
               "}"}]}], "]"}], ",", 
            RowBox[{"-", "1"}]}], "]"}]}], ")"}]}], ",", 
       RowBox[{"findrotations", "=", 
        RowBox[{"Table", "[", 
         RowBox[{"0.", ",", 
          RowBox[{"{", 
           RowBox[{"Length", "[", "lattice", "]"}], "}"}]}], "]"}]}]}], "]"}],
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"findrotationsv", "=", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"sum1", "=", "0"}], ";", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"sum1", "+=", 
            RowBox[{
             RowBox[{"Sin", "[", 
              RowBox[{"#", "[", 
               RowBox[{"[", "5", "]"}], "]"}], "]"}], 
             RowBox[{
             "#1", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}]}]}],
            "&"}], ")"}], "/@", 
         RowBox[{"Drop", "[", 
          RowBox[{
           RowBox[{"Prepend", "[", 
            RowBox[{"lattice", ",", 
             RowBox[{"{", 
              RowBox[{"0", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}], 
              "}"}]}], "]"}], ",", 
           RowBox[{"-", "1"}]}], "]"}]}]}], ")"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Coslimit", "[", 
       RowBox[{"\[Theta]_", ",", "length_"}], "]"}], ":=", 
      RowBox[{
       RowBox[{"Coslimit", "[", 
        RowBox[{"\[Theta]", ",", "length"}], "]"}], "=", 
       RowBox[{"Limit", "[", 
        RowBox[{
         RowBox[{
          FractionBox["length", "\[Theta]1"], 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Cos", "[", "\[Theta]1", "]"}], "-", "1"}], ")"}]}], ",", 
         RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Sinlimit", "[", 
       RowBox[{"\[Theta]_", ",", "length_"}], "]"}], ":=", 
      RowBox[{
       RowBox[{"Sinlimit", "[", 
        RowBox[{"\[Theta]", ",", "length"}], "]"}], "=", 
       RowBox[{"Limit", "[", 
        RowBox[{
         RowBox[{
          FractionBox["length", "\[Theta]1"], 
          RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], ",", 
         RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"xform", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\[Theta]_", ",", "tilt_", ",", "length_"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"x_", ",", "r_"}], "}"}]}], "]"}], ":=", 
      RowBox[{"Block", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dx", ",", "n", ",", "rt", ",", "rp"}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"dx", "=", 
          RowBox[{"r", ".", 
           RowBox[{"(", GridBox[{
              {
               RowBox[{"Cos", "[", "tilt", "]"}], 
               RowBox[{"-", 
                RowBox[{"Sin", "[", "tilt", "]"}]}], "0"},
              {
               RowBox[{"Sin", "[", "tilt", "]"}], 
               RowBox[{"Cos", "[", "tilt", "]"}], "0"},
              {"0", "0", "1"}
             }], ")"}], ".", 
           RowBox[{"(", GridBox[{
              {
               RowBox[{"Coslimit", "[", 
                RowBox[{"\[Theta]", ",", "length"}], "]"}]},
              {"0"},
              {
               RowBox[{"Sinlimit", "[", 
                RowBox[{"\[Theta]", ",", "length"}], "]"}]}
             }], ")"}]}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"rt", "=", 
          RowBox[{"Transpose", "[", "r", "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"n", "=", 
          RowBox[{
           RowBox[{
            RowBox[{
            "rt", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
            RowBox[{"Cos", "[", "tilt", "]"}]}], "-", 
           RowBox[{
            RowBox[{
            "rt", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
            RowBox[{"Sin", "[", "tilt", "]"}]}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"rp", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Outer", "[", 
             RowBox[{"Times", ",", 
              RowBox[{"rt", ".", "n"}], ",", "n"}], "]"}], 
            RowBox[{"(", 
             RowBox[{"1", "-", 
              RowBox[{"Cos", "[", "\[Theta]", "]"}]}], ")"}]}], "+", 
           RowBox[{"rt", " ", 
            RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "+", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                "rt", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
                ",", "n"}], "]"}], ",", 
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                "rt", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
                ",", "n"}], "]"}], ",", 
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                "rt", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
                ",", "n"}], "]"}]}], "}"}], 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"x", "+", "dx"}], ",", 
           RowBox[{"Transpose", "[", "rp", "]"}]}], "}"}]}]}], 
       "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Print", "[", "offset", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Which", "[", 
      RowBox[{
       RowBox[{"ListQ", "[", "offset", "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"x", "=", 
        RowBox[{"{", 
         RowBox[{"Transpose", "[", 
          RowBox[{"{", "offset", "}"}], "]"}], "}"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"NumberQ", "[", "offset", "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"x", "=", 
        RowBox[{"{", 
         RowBox[{"(", GridBox[{
            {"0"},
            {"0"},
            {"offset"}
           }], ")"}], "}"}]}], ",", "\[IndentingNewLine]", "True", ",", 
       "\[IndentingNewLine]", 
       RowBox[{"x", "=", 
        RowBox[{"{", 
         RowBox[{"(", GridBox[{
            {"0"},
            {"0"},
            {"0"}
           }], ")"}], "}"}]}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"localXYZ", "=", 
      RowBox[{"IdentityMatrix", "[", "3", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"{", 
            RowBox[{"x1", ",", "localXYZ"}], "}"}], "=", 
           RowBox[{"xform", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{"bends", ",", 
                 RowBox[{"-", 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "3", "]"}], "]"}]}], ",", "0"}], "]"}], ",", 
               RowBox[{"-", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "5", "]"}], "]"}]}], ",", 
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"x", "\[LeftDoubleBracket]", 
                RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], ",", 
               "localXYZ"}], "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"x", ",", "x1"}], "]"}]}]}], "]"}], "&"}], "/@", 
      "lattice"}], ";", "\[IndentingNewLine]", 
     RowBox[{"prepositions2", "=", 
      RowBox[{"x", "[", 
       RowBox[{"[", 
        RowBox[{"All", ",", 
         RowBox[{"{", 
          RowBox[{"1", ",", "2", ",", "3"}], "}"}], ",", "1"}], "]"}], 
       "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"MapThread", "[", 
      RowBox[{"List", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"Most", "[", "prepositions2", "]"}], ",", 
         RowBox[{"Rest", "[", "prepositions2", "]"}], ",", "lattice", ",", 
         "findrotations"}], "}"}]}], "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.4558738790459156`*^9, 3.4558738968427906`*^9}, {
   3.4558739293896656`*^9, 3.4558739383115406`*^9}, {3.4558741109365406`*^9, 
   3.4558741379521656`*^9}, {3.4620170421567593`*^9, 3.462017088594557*^9}, {
   3.4620171598293877`*^9, 3.4620172374861345`*^9}, 3.462017274751998*^9, 
   3.463296281064377*^9, 3.498202822567094*^9, {3.498202959817094*^9, 
   3.498203001160844*^9}, {3.498203044879594*^9, 3.498203071207719*^9}, 
   3.5305315043181443`*^9, {3.5309500084796023`*^9, 3.5309500128533144`*^9}, 
   3.5309502564065914`*^9, {3.7106549350842505`*^9, 3.7106549352512503`*^9}, 
   3.726298747953906*^9, 3.7287142895292463`*^9, {3.728714354712246*^9, 
   3.728714377589246*^9}, {3.728714493262246*^9, 3.7287145009632463`*^9}, {
   3.728714757646246*^9, 3.728714789257246*^9}, 3.7287152230762463`*^9, {
   3.728715262438246*^9, 3.7287152795692463`*^9}, 3.728715319409246*^9, {
   3.728715532773246*^9, 3.7287155560172462`*^9}, {3.728715749824246*^9, 
   3.728715767377246*^9}, {3.728715834836246*^9, 3.728715836645246*^9}, {
   3.728715930486246*^9, 3.728716089278246*^9}, 3.728716127112246*^9, {
   3.7287162226242456`*^9, 3.728716407699246*^9}, {3.728716495657246*^9, 
   3.728716513949246*^9}, 3.7287165948712463`*^9, 3.7287166407942457`*^9, {
   3.7287173321542463`*^9, 3.728717337349246*^9}, {3.728717382923246*^9, 
   3.728717387750246*^9}, {3.728717503495246*^9, 3.728717516145246*^9}, {
   3.7288043837166977`*^9, 3.7288043840446973`*^9}, {3.7288044356086974`*^9, 
   3.7288044759106975`*^9}, {3.7413314028584375`*^9, 3.741331408923044*^9}, {
   3.741331506137765*^9, 
   3.7413317313982887`*^9}},ExpressionUUID->"4f5bc7e6-0203-432b-a304-\
40e37af8a59b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementFootPrint", "[", "lattice_", "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Max", "[", 
         RowBox[{"#", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "]"}], "-", 
        RowBox[{"Min", "[", 
         RowBox[{"#", "[", 
          RowBox[{"[", "1", "]"}], "]"}], "]"}]}], ")"}], ",", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Max", "[", 
         RowBox[{"#", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "]"}], "-", 
        RowBox[{"Min", "[", 
         RowBox[{"#", "[", 
          RowBox[{"[", "2", "]"}], "]"}], "]"}]}], ")"}]}], "}"}], "&"}], "[", 
   RowBox[{"Transpose", "[", 
    RowBox[{
     RowBox[{"ElementPositions", "[", "lattice", "]"}], 
     "\[LeftDoubleBracket]", 
     RowBox[{"All", ",", "1", ",", 
      RowBox[{"{", 
       RowBox[{"1", ",", "2"}], "}"}]}], "\[RightDoubleBracket]"}], "]"}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.462017405330959*^9, 3.4620174074872227`*^9}, {
  3.728714298990246*^9, 
  3.728714302619246*^9}},ExpressionUUID->"a87c6414-270b-4b63-9e5b-\
e5ae71f8c629"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementPositions2", "[", 
   RowBox[{"data_", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "anglesum", ",", "bends", ",", "findrotations", ",", "cc", ",", "RM", 
      ",", "v", ",", "rm", ",", "startangle", ",", "prepositions", ",", 
      "prepositions2", ",", "offset", ",", "angle", ",", "lattice", ",", 
      "elementList"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"anglesum", "=", 
      RowBox[{"startangle", "=", 
       RowBox[{
        RowBox[{"Global`AngleOffset", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Global`AngleOffset", "\[Rule]", "0"}], "}"}]}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"bends", "=", 
      RowBox[{
       RowBox[{"Bends", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"Options", "[", "MADDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"offset", "=", 
      RowBox[{
       RowBox[{"Offset", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"Options", "[", "MADDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"sinc", "[", "\[Theta]_", "]"}], ":=", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Abs", "[", "\[Theta]", "]"}], ">", "0"}], ",", 
        FractionBox[
         RowBox[{"Sin", "[", "\[Theta]", "]"}], "\[Theta]"], ",", "1"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"cosc", "[", "\[Theta]_", "]"}], ":=", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Abs", "[", "\[Theta]", "]"}], ">", "0"}], ",", 
        FractionBox[
         RowBox[{"1", "-", 
          RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "\[Theta]"], ",", "0"}], 
       "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"elementList", "=", 
      RowBox[{"Flatten", "[", "data", "]"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"tilt", "[", "element_", "]"}], ":=", 
      RowBox[{"Switch", "[", 
       RowBox[{
        RowBox[{"findElementClass", "[", "element", "]"}], ",", 
        "\[IndentingNewLine]", "\"\<dipole\>\"", ",", 
        RowBox[{"element", "[", "\"\<TILT\>\"", "]"}], " ", ",", 
        "\[IndentingNewLine]", "_", ",", "0"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"lattice", "=", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"findElementClass", "[", "#", "]"}], ",", 
           RowBox[{"#1", "[", "\"\<LENGTH\>\"", "]"}], ",", 
           RowBox[{"N", "[", 
            RowBox[{"#", "[", "\"\<BENDANGLE\>\"", "]"}], "]"}], ",", 
           "\"\<\>\"", ",", 
           RowBox[{"tilt", "[", "#1", "]"}], ",", "#"}], "}"}], "&"}], ")"}], 
       "/@", "elementList"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"Print", "[", "lattice", "]"}], ";"}], "*)"}], 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"bends", "===", "True"}], ",", 
       RowBox[{"findrotations", "=", 
        RowBox[{"(", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"Switch", "[", 
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",",
              "\[IndentingNewLine]", "\"\<dipole\>\"", ",", 
             RowBox[{"anglesum", "+=", 
              RowBox[{
              "#1", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}]}], 
             ",", "\[IndentingNewLine]", "\"\<quadrupole\>\"", ",", 
             RowBox[{"anglesum", "+=", "0"}], ",", "\[IndentingNewLine]", "_",
              ",", "0"}], "]"}], "&"}], "/@", 
          RowBox[{"Drop", "[", 
           RowBox[{
            RowBox[{"Prepend", "[", 
             RowBox[{"lattice", ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}], 
               "}"}]}], "]"}], ",", 
            RowBox[{"-", "1"}]}], "]"}]}], ")"}]}], ",", 
       RowBox[{"findrotations", "=", 
        RowBox[{"Table", "[", 
         RowBox[{"0.", ",", 
          RowBox[{"{", 
           RowBox[{"Length", "[", "lattice", "]"}], "}"}]}], "]"}]}]}], "]"}],
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"cc", "=", 
      RowBox[{"{", 
       RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], ";", 
     RowBox[{"RM", "=", 
      RowBox[{"IdentityMatrix", "[", "3", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"prepositions", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"(", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"v", "=", 
           RowBox[{
            RowBox[{"RotationMatrix", "[", 
             RowBox[{"startangle", ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "]"}], ".", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{
               RowBox[{
               "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
               "*", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"bends", "===", "True"}], ",", 
                 RowBox[{"sinc", "[", 
                  RowBox[{
                  "#", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}],
                   "]"}], ",", "1"}], "]"}]}], ",", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{
                "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}]}],
                "*", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"bends", "===", "True"}], ",", 
                 RowBox[{"cosc", "[", 
                  RowBox[{
                  "#", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}],
                   "]"}], ",", "0"}], "]"}]}], ",", "0"}], "}"}]}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"rm", "=", 
           RowBox[{"Switch", "[", 
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",",
              "\[IndentingNewLine]", "\"\<dipole\>\"", ",", 
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"bends", "===", "True"}], ",", 
               RowBox[{
                RowBox[{"RotationMatrix", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"Sign", "[", 
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "3", 
                    "\[RightDoubleBracket]"}], "]"}], 
                   RowBox[{
                   "#", "\[LeftDoubleBracket]", "5", 
                    "\[RightDoubleBracket]"}]}], ",", 
                  RowBox[{"{", 
                   RowBox[{"1", ",", "1", ",", "1"}], "}"}]}], "]"}], ".", 
                RowBox[{"RotationMatrix", "[", 
                 RowBox[{
                  RowBox[{
                  "#", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}],
                   ",", 
                  RowBox[{"{", 
                   RowBox[{"0", ",", "0", ",", "1"}], "}"}]}], "]"}]}], ",", 
               RowBox[{"IdentityMatrix", "[", "3", "]"}]}], "]"}], ",", 
             "\[IndentingNewLine]", "_", ",", 
             RowBox[{"IdentityMatrix", "[", "3", "]"}]}], "]"}]}], ";", 
          "\[IndentingNewLine]", 
          RowBox[{"RM", "=", 
           RowBox[{"RM", ".", "rm"}]}], ";", "\[IndentingNewLine]", 
          RowBox[{"cc", "+=", 
           RowBox[{"RM", ".", "v"}]}]}], ")"}], "&"}], "/@", "lattice"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"prepositions2", "=", 
      RowBox[{"prepositions", "\[LeftDoubleBracket]", 
       RowBox[{"All", ",", 
        RowBox[{"{", 
         RowBox[{"1", ",", "2"}], "}"}]}], "\[RightDoubleBracket]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"Switch", "[", 
      RowBox[{
       RowBox[{"Length", "[", "offset", "]"}], ",", "\[IndentingNewLine]", 
       "0", ",", 
       RowBox[{
        RowBox[{"prepositions", "=", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"ReplacePart", "[", 
             RowBox[{"#1", ",", 
              RowBox[{
               RowBox[{
               "#1", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
               "+", "offset"}], ",", "2"}], "]"}], "&"}], ")"}], "/@", 
          "prepositions2"}]}], ";"}], ",", "\[IndentingNewLine]", "2", ",", 
       RowBox[{"prepositions", "=", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"ReplacePart", "[", 
            RowBox[{
             RowBox[{"ReplacePart", "[", 
              RowBox[{"#1", ",", 
               RowBox[{
                RowBox[{
                "#1", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
                "+", 
                RowBox[{
                "offset", "\[LeftDoubleBracket]", "2", 
                 "\[RightDoubleBracket]"}]}], ",", "2"}], "]"}], ",", 
             RowBox[{
              RowBox[{
              "#1", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
              "+", 
              RowBox[{
              "offset", "\[LeftDoubleBracket]", "1", 
               "\[RightDoubleBracket]"}]}], ",", "1"}], "]"}], "&"}], ")"}], "/@",
          "prepositions2"}]}], ",", "\[IndentingNewLine]", "_", ",", 
       RowBox[{
        RowBox[{"prepositions", "=", "prepositions2"}], ";"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"MapThread", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Chop", "@", 
         RowBox[{"Flatten", "[", 
          RowBox[{"{", "##", "}"}], "]"}]}], "&"}], ",", 
       RowBox[{"{", 
        RowBox[{"prepositions", ",", "findrotations", ",", "lattice"}], 
        "}"}]}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.5165423192786193`*^9, 3.5165423730921526`*^9}, {
   3.51654243207766*^9, 3.5165424956882563`*^9}, {3.516542604877853*^9, 
   3.5165426119873643`*^9}, {3.5165426640977397`*^9, 
   3.5165427265833144`*^9}, {3.5165427831625257`*^9, 
   3.5165428033972893`*^9}, {3.516543248921468*^9, 3.5165432550934615`*^9}, {
   3.5165434137840085`*^9, 3.5165434142215166`*^9}, {3.5165437063052497`*^9, 
   3.5165437904162397`*^9}, {3.516544124047645*^9, 3.516544139001057*^9}, {
   3.5165443256452656`*^9, 3.5165443373642406`*^9}, {3.516595282009976*^9, 
   3.5165952871194487`*^9}, {3.5165953207919703`*^9, 3.516595329510888*^9}, {
   3.5165959560854177`*^9, 3.5165959733826246`*^9}, {3.516729097842*^9, 
   3.516729100038*^9}, {3.5175510198753166`*^9, 3.517551026797324*^9}, 
   3.5175674368055735`*^9, {3.5305311169748726`*^9, 3.5305311653694024`*^9}, {
   3.5305313849761424`*^9, 3.530531386129506*^9}, {3.5305315486447287`*^9, 
   3.5305316251719885`*^9}, {3.530531702322688*^9, 3.53053174646224*^9}, {
   3.5305317973972883`*^9, 3.530531917939412*^9}, {3.5305319547847166`*^9, 
   3.5305319556263604`*^9}, {3.5305320718823347`*^9, 3.53053208039229*^9}, {
   3.5305321525398846`*^9, 3.530532154831026*^9}, {3.5305343310202875`*^9, 
   3.5305345432474566`*^9}, {3.5305345748728404`*^9, 3.530534652247616*^9}, {
   3.5309500405795245`*^9, 3.53095004275076*^9}, 3.5309501975645447`*^9, 
   3.530950245253626*^9, {3.541246834353549*^9, 3.5412468356968517`*^9}, {
   3.728714295299246*^9, 3.728714295689246*^9}, {3.7287170160292463`*^9, 
   3.728717041665246*^9}, {3.728717092788246*^9, 
   3.728717217039246*^9}},ExpressionUUID->"99e414af-7f71-4138-b41d-\
d4bcf1fee6ba"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementCoordinates", "[", 
   RowBox[{"lattice_", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Select", "[", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"{", 
         RowBox[{
          RowBox[{"#", "\[LeftDoubleBracket]", 
           RowBox[{"2", ",", "5"}], "\[RightDoubleBracket]"}], ",", 
          RowBox[{
           RowBox[{
            RowBox[{"Partition", "[", 
             RowBox[{"#", ",", "2", ",", "1"}], "]"}], "\[LeftDoubleBracket]", 
            RowBox[{"All", ",", "All", ",", 
             RowBox[{"{", 
              RowBox[{"1", ",", "2", ",", "3"}], "}"}]}], 
            "\[RightDoubleBracket]"}], "\[LeftDoubleBracket]", "1", 
           "\[RightDoubleBracket]"}]}], "}"}], "&"}], "/@", 
       RowBox[{"Partition", "[", 
        RowBox[{
         RowBox[{"Prepend", "[", 
          RowBox[{
           RowBox[{"ElementPositions2", "[", 
            RowBox[{"lattice", ",", "opts"}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], "]"}], ",", "2", ",", 
         "1"}], "]"}]}], ",", 
      RowBox[{
       RowBox[{
        RowBox[{"Length", "[", "#", "]"}], ">", "0"}], "&"}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.516544896234346*^9, 3.5165449279693303`*^9}, {
   3.516545077065943*^9, 3.516545093535009*^9}, {3.516546111054545*^9, 
   3.516546114179605*^9}, {3.5165955040611143`*^9, 3.5165955361554804`*^9}, 
   3.516595568640479*^9, {3.516595600797346*^9, 3.516595633157343*^9}, 
   3.5305311150733805`*^9, {3.5305311981935186`*^9, 3.5305311989572325`*^9}, 
   3.5309502512206182`*^9, {3.728714306440246*^9, 
   3.728714311519246*^9}},ExpressionUUID->"ecdfc8cb-dd99-4776-b955-\
2dce4c5e1a1f"]
}, Open  ]],

Cell[CellGroupData[{

Cell["elementInfo", "Subsection",
 CellChangeTimes->{{3.697878194951925*^9, 3.697878225176511*^9}}],

Cell[BoxData[
 RowBox[{"Clear", "[", "elementSPositions", "]"}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697878467743787*^9, 3.6978784726568565`*^9}, 
   3.6978798287606535`*^9},ExpressionUUID->"ccf4f143-3625-4043-9be8-\
9a3fe643006e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"elementSPositions", "[", 
   RowBox[{"elementLine", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Rest", "[", 
   RowBox[{"FoldList", "[", 
    RowBox[{"Plus", ",", "0", ",", 
     RowBox[{"Map", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"#", "[", "\"\<LENGTH\>\"", "]"}], "&"}], ",", 
       RowBox[{"Flatten", "[", 
        RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}], "]"}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6978784232781963`*^9, 3.6978784614169025`*^9}, {
  3.697879789165933*^9, 3.697879824775679*^9}, {3.699614952736141*^9, 
  3.699614963192232*^9}},ExpressionUUID->"4e36e91b-220b-4328-89f0-\
27f4b8f4cd2b"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Options", "[", "elementInfo", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{"Headings", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
     "\"\<Name\>\"", ",", "\"\<Type\>\"", ",", "\"\<Length\>\"", ",", 
      "\"\<K1\>\"", ",", "\"\<Angle\>\"", ",", "\"\<Label\>\"", ",", 
      "\"\<Position\>\""}], "}"}]}], "}"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6978782363320003`*^9, 3.697878301379691*^9}, {
   3.6978950625314236`*^9, 3.6978950633738127`*^9}, 3.6978951873127327`*^9}],

Cell[BoxData["$Aborted"], "Output",
 InitializationCell->True,
 CellChangeTimes->{{3.697895187952333*^9, 3.6978952096315327`*^9}, 
   3.697897650565433*^9, 3.6979756670653944`*^9, {3.6995947035774217`*^9, 
   3.699594729845422*^9}, 3.6996149656492233`*^9, 3.7009956696067905`*^9, 
   3.7009957043542647`*^9, 3.704695786837306*^9, 3.704786742088702*^9, 
   3.7057592772912083`*^9, 3.705815244074565*^9}]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "elementInfo", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementInfo", "[", 
   RowBox[{"lattice_elementLine", ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"headings", "=", 
      RowBox[{
       RowBox[{"Headings", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"Options", "[", "elementInfo", "]"}]}]}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"TableForm", "[", 
     RowBox[{
      RowBox[{"Transpose", "[", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Block", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"heading", "=", "#"}], "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{"Switch", "[", 
             RowBox[{
              RowBox[{"ToUpperCase", "[", "#", "]"}], ",", 
              "\[IndentingNewLine]", "\"\<POSITION\>\"", ",", 
              "\[IndentingNewLine]", 
              RowBox[{"elementSPositions", "[", "lattice", "]"}], ",", 
              "\[IndentingNewLine]", "\"\<LENGTH\>\"", ",", 
              "\[IndentingNewLine]", 
              RowBox[{"Map", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"#", "[", "\"\<LENGTH\>\"", "]"}], "&"}], ",", 
                RowBox[{"Flatten", "[", "lattice", "]"}]}], "]"}], ",", 
              "\[IndentingNewLine]", "_", ",", "\[IndentingNewLine]", 
              RowBox[{"Map", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"#", "[", 
                  RowBox[{"ToUpperCase", "[", "heading", "]"}], "]"}], "&"}], 
                ",", 
                RowBox[{"Flatten", "[", "lattice", "]"}]}], "]"}]}], "]"}]}], 
           "]"}], "&"}], ",", "headings"}], "]"}], "]"}], ",", 
      RowBox[{"TableHeadings", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"Automatic", ",", "headings"}], "}"}]}]}], "]"}]}], 
   "]"}]}]}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.6978945531791525`*^9, 3.697894709340952*^9}, {
  3.697894839350152*^9, 3.697895049821386*^9}, {3.697895085284935*^9, 
  3.6978950857217293`*^9}, {3.6978951211210775`*^9, 3.697895163614933*^9}, {
  3.6978951966081333`*^9, 3.697895205514933*^9}, {3.6978972871666327`*^9, 
  3.697897328794833*^9}, {3.697897394303433*^9, 3.6978974162228327`*^9}, {
  3.6996149313113575`*^9, 3.6996149355752096`*^9}, {3.699615038271245*^9, 
  3.699615097969682*^9}},ExpressionUUID->"538b3660-02d4-4011-89d3-\
c6af4448c898"]
}, Closed]],

Cell[CellGroupData[{

Cell["elementInterpretLTE", "Subsection",
 CellChangeTimes->{{3.697960481128064*^9, 3.697960492719944*^9}}],

Cell[BoxData[
 RowBox[{"allowedElegantCharacters", ":=", 
  RowBox[{"(", 
   RowBox[{
   "WordCharacter", "|", "DigitCharacter", "|", "\"\<~\>\"", "|", "\"\<@\>\"",
     "|", "\"\<$\>\"", "|", "\"\<%\>\"", "|", "\"\<^\>\"", "|", "\"\<&\>\"", 
    "|", "\"\<-\>\"", "|", "\"\<_\>\"", "|", "\"\<+\>\"", "|", "\"\<=\>\"", 
    "|", "\"\<{\>\"", "|", "\"\<}\>\"", "|", "\"\<[\>\"", "|", "\"\<]\>\"", 
    "|", "\"\<|\>\"", "|", "\"\<\\\\\>\"", "|", "\"\</\>\"", "|", "\"\<?\>\"",
     "|", "\"\<<\>\"", "|", "\"\<>\>\"", "|", "\"\<.\>\"", "|", 
    "\"\<\\\"\>\""}], ")"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697960720309874*^9, 3.697960840679262*^9}, {
   3.697960909675143*^9, 3.697960938257839*^9}, {3.697961034579894*^9, 
   3.6979610366877055`*^9}, 3.6979610786611576`*^9, {3.704716781704364*^9, 
   3.7047167839515886`*^9}, {3.706530438084829*^9, 
   3.706530438662029*^9}},ExpressionUUID->"61b76e41-030b-4e23-b805-\
e3965087cc07"],

Cell[BoxData[
 RowBox[{
  RowBox[{"joinSplitLines", "[", "records_", "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"StringReplace", "[", 
     RowBox[{
      RowBox[{"StringJoin", "[", "#", "]"}], ",", 
      RowBox[{"\"\<&\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "&"}], "/@", 
   RowBox[{"Split", "[", 
    RowBox[{"records", ",", 
     RowBox[{
      RowBox[{
       RowBox[{"StringTake", "[", 
        RowBox[{
         RowBox[{"StringTrim", "[", "#1", "]"}], ",", 
         RowBox[{"-", "1"}]}], "]"}], "==", "\"\<&\>\""}], "&"}]}], 
    "]"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697963368692103*^9, 3.6979634196965027`*^9}, {
  3.697963454120503*^9, 3.697963503332703*^9}, {3.697963539325903*^9, 
  3.697963580684703*^9}}],

Cell[BoxData[
 RowBox[{"realNumberQ", "=", 
  RowBox[{
   RowBox[{"StringMatchQ", "[", 
    RowBox[{"#", ",", 
     RowBox[{"StringExpression", "[", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
        "DigitCharacter", "|", "\"\<+\>\"", "|", "\"\<-\>\"", "|", 
         "\"\<.\>\""}], ")"}], ".."}], "]"}]}], "]"}], "&"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697964095235303*^9, 3.697964106504703*^9}, {
   3.697964398889703*^9, 3.697964415978903*^9}, 3.697964463344103*^9}],

Cell[BoxData[
 RowBox[{"exponentNumberQ", "=", 
  RowBox[{
   RowBox[{"StringMatchQ", "[", 
    RowBox[{
     RowBox[{"ToUpperCase", "[", "#", "]"}], ",", 
     RowBox[{"StringExpression", "[", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
        "DigitCharacter", "|", "\"\<+\>\"", "|", "\"\<-\>\"", "|", 
         "\"\<.\>\"", "|", "\"\<E\>\""}], ")"}], ".."}], "]"}]}], "]"}], 
   "&"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697964095235303*^9, 3.697964106504703*^9}, {
  3.697964398889703*^9, 3.697964461345303*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"convertElementRules", "[", "string_String", "]"}], ":=", 
  RowBox[{"string", "/.", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<ANGLE\>\"", "\[Rule]", "\"\<BENDANGLE\>\""}], ",", 
     RowBox[{"\"\<L\>\"", "\[Rule]", "\"\<LENGTH\>\""}]}], "}"}]}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.704709138047011*^9, 3.704709163812587*^9}, {
  3.7047093841816216`*^9, 3.704709421357339*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"interpretElegantValues", "[", "string_String", "]"}], ":=", 
  "\[IndentingNewLine]", 
  RowBox[{"Which", "[", "\[IndentingNewLine]", 
   RowBox[{
    RowBox[{"realNumberQ", "[", "string", "]"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Internal`StringToDouble", "[", "string", "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"exponentNumberQ", "[", "string", "]"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Internal`StringToDouble", "[", "string", "]"}], ",", 
    "\[IndentingNewLine]", "True", ",", "\[IndentingNewLine]", "string"}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697964023771903*^9, 3.6979640536295033`*^9}, {
   3.6979641633655033`*^9, 3.697964211065503*^9}, {3.697964383142703*^9, 
   3.697964423427903*^9}, {3.697965382955803*^9, 3.697965399907803*^9}, {
   3.697965438497603*^9, 3.697965447140603*^9}, {3.697965495937603*^9, 
   3.697965503758403*^9}, 
   3.7068564172923937`*^9},ExpressionUUID->"fb402067-bca2-40d9-b048-\
c80491af8047"],

Cell[BoxData[
 RowBox[{
  RowBox[{"interpretElegantRules", "[", "string_String", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"allrules", "=", 
      RowBox[{"StringSplit", "[", 
       RowBox[{"string", ",", 
        RowBox[{"{", 
         RowBox[{"\"\<,\>\"", ",", "\"\<;\>\"", ",", "\"\<\\n\>\""}], "}"}]}],
        "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Sequence", "@@", 
      RowBox[{"Flatten", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"StringCases", "[", 
          RowBox[{
           RowBox[{"StringTrim", "[", "#", "]"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"name", ":", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"WordCharacter", "|", "\"\<_\>\""}], ")"}], ".."}]}], 
             "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<=\>\"", "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", 
             RowBox[{"value", ":", "__"}]}], "\[RuleDelayed]", 
            RowBox[{"Rule", "[", 
             RowBox[{
              RowBox[{"convertElementRules", "[", 
               RowBox[{"ToUpperCase", "@", "name"}], "]"}], ",", 
              RowBox[{"interpretElegantValues", "[", "value", "]"}]}], 
             "]"}]}]}], "]"}], "&"}], "/@", "allrules"}], "]"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697962903092903*^9, 3.697963014385503*^9}, {
   3.697963047570703*^9, 3.697963130282503*^9}, {3.6979632131267033`*^9, 
   3.697963214750103*^9}, {3.697963268591103*^9, 3.6979632913325033`*^9}, 
   3.6979635934757032`*^9, {3.6979640157763033`*^9, 3.697964015916703*^9}, {
   3.697965404522203*^9, 3.697965405910603*^9}, {3.6979756401363945`*^9, 
   3.6979756436643944`*^9}, {3.699614588664342*^9, 3.699614592649638*^9}, {
   3.7047091889431*^9, 3.704709191134319*^9}, {3.706533183441804*^9, 
   3.7065332085684757`*^9}, 3.706856417307991*^9, {3.7074668308485365`*^9, 
   3.707466832319536*^9}},ExpressionUUID->"f60b3f30-5b4b-4b99-9545-\
c46d76dff993"],

Cell[BoxData[
 RowBox[{
  RowBox[{"interpretElegantLines", "[", 
   RowBox[{"string_String", ",", 
    RowBox[{"prefix_:", "\"\<\>\""}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"allelements", "=", 
      RowBox[{"StringSplit", "[", 
       RowBox[{"string", ",", 
        RowBox[{"{", "\"\<,\>\"", "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"out", "=", 
      RowBox[{"ToExpression", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"convertNames", "[", 
          RowBox[{"Evaluate", "[", 
           RowBox[{"prefix", "<>", 
            RowBox[{"StringTrim", "[", "#", "]"}]}], "]"}], "]"}], "&"}], "/@",
         "allelements"}], "]"}]}], ";", "\[IndentingNewLine]", "out"}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697962903092903*^9, 3.697963014385503*^9}, {
   3.697963047570703*^9, 3.697963130282503*^9}, {3.6979632131267033`*^9, 
   3.697963214750103*^9}, {3.697963268591103*^9, 3.6979632913325033`*^9}, 
   3.6979635934757032`*^9, {3.6979640157763033`*^9, 3.697964015916703*^9}, {
   3.697965404522203*^9, 3.697965405910603*^9}, {3.6979734240463943`*^9, 
   3.697973424677395*^9}, {3.6979734756663947`*^9, 3.697973497953395*^9}, {
   3.697973561243395*^9, 3.6979735831953945`*^9}, {3.6979736461673946`*^9, 
   3.697973679125395*^9}, {3.6979746290233946`*^9, 3.6979746300033946`*^9}, {
   3.7047007869646454`*^9, 3.704700809290539*^9}, 3.7047008856497416`*^9, {
   3.7047009372358203`*^9, 3.7047009861206627`*^9}, 3.704714370784802*^9, {
   3.7047781848376694`*^9, 3.7047781850216694`*^9}, {3.7076522703705397`*^9, 
   3.70765227828954*^9}, {3.70765257567054*^9, 3.7076525788775396`*^9}, {
   3.70765284284554*^9, 3.7076529315275397`*^9}, {3.70765296897254*^9, 
   3.70765299337154*^9}},ExpressionUUID->"cf7ef21c-5bd0-44fc-9ece-\
3094043ccef7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"elementInterpretLTE", "[", 
   RowBox[{"filename_", ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"records", ",", "verbose", ",", "prefix"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"verbose", "=", 
      RowBox[{
       RowBox[{"Global`elementVerbose", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`elementVerbose", "\[Rule]", "False"}], "}"}]}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"prefix", "=", 
      RowBox[{
       RowBox[{"Global`elementPrefix", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`elementPrefix", "\[Rule]", "\"\<\>\""}], "}"}]}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"records", "=", 
      RowBox[{"joinSplitLines", "[", 
       RowBox[{"ReadList", "[", 
        RowBox[{"filename", ",", "Record", ",", 
         RowBox[{"RecordSeparators", "\[Rule]", "\"\<\\n\>\""}]}], "]"}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"elements", "=", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"StringCases", "[", 
         RowBox[{"#", ",", 
          RowBox[{
           RowBox[{
            RowBox[{"elementName", ":", 
             RowBox[{"allowedElegantCharacters", ".."}]}], "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<:\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", 
            RowBox[{"elementType", ":", 
             RowBox[{
              RowBox[{"(", "LetterCharacter", ")"}], ".."}]}], "~~", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{"(", 
               RowBox[{"\"\<,\>\"", "~~", 
                RowBox[{"rest", ":", "___"}]}], ")"}], ")"}], "..."}]}], 
           "\[RuleDelayed]", 
           RowBox[{"element", "[", 
            RowBox[{
             RowBox[{"\"\<NAME\>\"", "\[Rule]", 
              RowBox[{"Evaluate", "[", 
               RowBox[{"convertNames", "[", 
                RowBox[{"prefix", "<>", "elementName"}], "]"}], "]"}]}], ",", 
             RowBox[{"\"\<TYPE\>\"", "\[Rule]", "elementType"}], ",", 
             RowBox[{"interpretElegantRules", "[", "rest", "]"}]}], "]"}]}], 
          ",", 
          RowBox[{"IgnoreCase", "\[Rule]", "True"}]}], "]"}], "&"}], "/@", 
       "records"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"lines", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"StringCases", "[", 
         RowBox[{"#", ",", 
          RowBox[{
           RowBox[{
            RowBox[{"elementName", ":", 
             RowBox[{"allowedElegantCharacters", ".."}]}], "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<:\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<Line\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<=\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<(\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", 
            RowBox[{"rest", ":", "__"}], "~~", "\"\<)\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}]}], "\[RuleDelayed]", 
           RowBox[{"(", 
            RowBox[{"line", "[", 
             RowBox[{
              RowBox[{"Evaluate", "[", 
               RowBox[{"convertNames", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"prefix", "<>", "elementName"}], "]"}], "]"}], "]"}],
               ",", 
              RowBox[{"Evaluate", "[", 
               RowBox[{"interpretElegantLines", "[", 
                RowBox[{"rest", ",", "prefix"}], "]"}], "]"}]}], "]"}], 
            ")"}]}], ",", 
          RowBox[{"IgnoreCase", "\[Rule]", "True"}]}], "]"}], "&"}], "/@", 
       "records"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{"verbose", ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"Print", "[", 
         RowBox[{"\"\<New Elements:\>\"", ",", 
          RowBox[{"Map", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"#", "[", "\"\<NAME\>\"", "]"}], "&"}], ",", 
            RowBox[{"Flatten", "[", "elements", "]"}]}], "]"}]}], "]"}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"Print", "[", 
         RowBox[{"\"\<New Lines:\>\"", ",", 
          RowBox[{"Flatten", "[", "lines", "]"}]}], "]"}], ";"}]}], 
      "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.697960496258466*^9, 3.697960611605666*^9}, {
   3.6979608197445607`*^9, 3.6979608210390205`*^9}, {3.6979609171569777`*^9, 
   3.697961000122592*^9}, {3.697962604197703*^9, 3.697962617091703*^9}, {
   3.697962696756303*^9, 3.697962782945903*^9}, {3.697962845733103*^9, 
   3.6979628764191027`*^9}, {3.6979630842861032`*^9, 
   3.6979630860509033`*^9}, {3.697963596982503*^9, 3.6979636001211033`*^9}, {
   3.6979637450961027`*^9, 3.6979637841675034`*^9}, {3.697963970293303*^9, 
   3.697963973101103*^9}, {3.6979730804353943`*^9, 3.6979730812003946`*^9}, {
   3.6979732041083946`*^9, 3.697973205611395*^9}, {3.697973247130395*^9, 
   3.6979733631473947`*^9}, {3.6979733951143947`*^9, 
   3.6979734310313945`*^9}, {3.6979735054093943`*^9, 3.697973524368395*^9}, {
   3.697973578486395*^9, 3.697973598540395*^9}, {3.6979736867263947`*^9, 
   3.6979737807753944`*^9}, {3.6979738132383947`*^9, 
   3.6979738571143947`*^9}, {3.6979745791403947`*^9, 3.6979746009613943`*^9}, 
   3.6979746604233947`*^9, {3.6995949511739216`*^9, 3.6995949669939213`*^9}, {
   3.6995949989774218`*^9, 3.6995950433599215`*^9}, {3.699603925834922*^9, 
   3.6996039410819216`*^9}, {3.6996040363599215`*^9, 3.6996040687924213`*^9}, 
   3.6996041855704217`*^9, 3.6996042962899218`*^9, {3.699614528029217*^9, 
   3.699614547982207*^9}, {3.699615239974578*^9, 3.6996154006712103`*^9}, {
   3.704700857279169*^9, 3.7047008595269995`*^9}, {3.7047087612403336`*^9, 
   3.704708761544364*^9}, {3.704708828122021*^9, 3.7047088497871876`*^9}, {
   3.7047088894291515`*^9, 3.704708988392047*^9}, {3.7058178002805653`*^9, 
   3.705817818751565*^9}, {3.705818095278565*^9, 3.705818128665565*^9}, 
   3.705818666650565*^9, {3.706530068446429*^9, 3.7065301019754286`*^9}, {
   3.706530162712429*^9, 3.706530165959629*^9}, {3.7076522164225397`*^9, 
   3.7076522491485395`*^9}, {3.70765228505754*^9, 3.7076522945535398`*^9}, {
   3.7076524954695396`*^9, 3.70765251951554*^9}, {3.70765255418454*^9, 
   3.7076525590235395`*^9}, {3.70765266184254*^9, 
   3.70765272063854*^9}},ExpressionUUID->"9d3259b3-3150-451a-a499-\
2a864e687de8"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["End", "Section",
 CellChangeTimes->{{3.705816492680565*^9, 3.705816493184565*^9}}],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"End", "[", "]"}]], "Input",
 CellChangeTimes->{{3.705816496394565*^9, 3.705816497706565*^9}}],

Cell[BoxData["\<\"ElementInput`Private`\"\>"], "Output",
 CellChangeTimes->{3.7058165097595654`*^9}]
}, Open  ]],

Cell[BoxData[
 RowBox[{"EndPackage", "[", "]"}]], "Input",
 CellChangeTimes->{{3.705816499522565*^9, 3.705816502348565*^9}}]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
WindowSize->{1904, 998},
WindowMargins->{{-8, Automatic}, {Automatic, 0}},
FrontEndVersion->"11.2 for Microsoft Windows (64-bit) (September 10, 2017)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[CellGroupData[{
Cell[580, 22, 274, 6, 28, "Input",ExpressionUUID->"ce9a24fa-1a1b-432c-9894-334b891fe05a"],
Cell[857, 30, 90, 1, 32, "Output",ExpressionUUID->"39bf7714-fc61-4057-bc79-8224eaf347d8"]
}, Open  ]],
Cell[962, 34, 180, 3, 44, "Input",ExpressionUUID->"ce9f2a78-0824-4fad-b25a-c6a22f6af121",
 InitializationCell->True],
Cell[1145, 39, 172, 3, 44, "Input",ExpressionUUID->"47c2d857-d40b-467a-95c3-5774ee94df01",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[1342, 46, 162, 3, 67, "Section",ExpressionUUID->"4da2b699-3112-4298-a94b-2402ff7239e1"],
Cell[1507, 51, 253, 6, 44, "Input",ExpressionUUID->"2eba8b17-6b2a-4346-b9ec-00c80d15c5cf",
 InitializationCell->True],
Cell[1763, 59, 213, 5, 44, "Input",ExpressionUUID->"6dce7dbe-8321-4d3c-85c5-ceadbc08d11b",
 InitializationCell->True],
Cell[1979, 66, 171, 4, 44, "Input",ExpressionUUID->"76751fad-039c-44f7-8f64-720716a547cf",
 InitializationCell->True],
Cell[2153, 72, 197, 4, 44, "Input",ExpressionUUID->"51e9d782-0242-469a-8b7d-cc390aa578ce",
 InitializationCell->True],
Cell[2353, 78, 273, 6, 44, "Input",ExpressionUUID->"fc393ad7-4af5-4876-8392-7003e70c74cb",
 InitializationCell->True],
Cell[2629, 86, 249, 6, 44, "Input",ExpressionUUID->"1f7c85a6-df0b-4980-b81b-330023f0467d",
 InitializationCell->True],
Cell[2881, 94, 252, 6, 44, "Input",ExpressionUUID->"9431015a-ed3a-4069-968c-4e54f3e07dcd",
 InitializationCell->True],
Cell[3136, 102, 254, 6, 44, "Input",ExpressionUUID->"c96fcb5e-c06a-4c91-b001-8c09fa9df922",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[3427, 113, 94, 1, 67, "Section",ExpressionUUID->"1a69bc40-b5ee-4106-9394-e58ef37ff11f"],
Cell[CellGroupData[{
Cell[3546, 118, 140, 2, 28, "Input",ExpressionUUID->"5110ca4f-beed-4e5e-80d6-f861d13c6559"],
Cell[3689, 122, 98, 1, 32, "Output",ExpressionUUID->"c2fcf437-675a-4ff5-b29a-edfb9f5756d9"]
}, Open  ]],
Cell[CellGroupData[{
Cell[3824, 128, 83, 1, 53, "Subsection",ExpressionUUID->"87038078-ace3-4792-b7c2-4a65148cdefd"],
Cell[3910, 131, 190, 5, 46, "Input",ExpressionUUID->"8d371ac0-f3d3-40e2-b695-be33a547d637",
 InitializationCell->True],
Cell[4103, 138, 953, 24, 104, "Input",ExpressionUUID->"a3751281-8362-44df-88de-09052b974ffb",
 InitializationCell->True],
Cell[5059, 164, 1629, 38, 142, "Input",ExpressionUUID->"416c33e6-eaa3-4c18-8c12-35d8808fe04c",
 InitializationCell->True],
Cell[6691, 204, 523, 11, 46, "Input",ExpressionUUID->"6709addd-5306-4e02-ad26-dd8f0bc7bc42",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[7251, 220, 110, 1, 37, "Subsection",ExpressionUUID->"65206439-38f0-4c35-a970-f7167ac44e19"],
Cell[7364, 223, 643, 15, 104, "Input",ExpressionUUID->"77b2a24e-3ae4-492a-852c-080f5e32798f",
 InitializationCell->True],
Cell[8010, 240, 230, 5, 46, "Input",ExpressionUUID->"5e317f3c-e750-42c5-a76a-795c4fcd28eb",
 InitializationCell->True],
Cell[8243, 247, 1053, 23, 46, "Input",ExpressionUUID->"5b68ffa7-f2d2-43fb-879f-82cbd57c7917",
 InitializationCell->True],
Cell[9299, 272, 1046, 22, 46, "Input",ExpressionUUID->"d8bcf9e5-4d8d-4710-80d2-a85acfa246b1",
 InitializationCell->True],
Cell[10348, 296, 362, 8, 46, "Input",ExpressionUUID->"f574baa3-d4fc-455b-b3de-ac63b1552cc5",
 InitializationCell->True],
Cell[10713, 306, 1990, 46, 161, "Input",ExpressionUUID->"26666a40-d61f-4984-a3b1-24a9ed7d98cb",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[12740, 357, 100, 1, 37, "Subsection",ExpressionUUID->"30f9b535-060f-4f6c-8ca3-7f1471b7d455"],
Cell[12843, 360, 1971, 45, 102, "Input",ExpressionUUID->"d94e75c4-14ec-4ecf-8d58-b88be58012ee",
 InitializationCell->True],
Cell[14817, 407, 2092, 47, 102, "Input",ExpressionUUID->"e4a8bc9f-0520-4b7f-9304-be735f8235f0",
 InitializationCell->True],
Cell[16912, 456, 1052, 22, 44, "Input",ExpressionUUID->"8be5b07e-261a-41cc-b398-3162b40dd029",
 InitializationCell->True],
Cell[17967, 480, 1116, 22, 44, "Input",ExpressionUUID->"8fa4e814-5e29-4484-95bc-91538f78dc0b",
 InitializationCell->True],
Cell[19086, 504, 1556, 31, 44, "Input",ExpressionUUID->"727a3960-0b90-470e-a43b-2fe9ffbd36b3",
 InitializationCell->True],
Cell[20645, 537, 603, 16, 44, "Input",ExpressionUUID->"b3f89bb3-c389-42b0-a518-d3eec34bf207",
 InitializationCell->True],
Cell[21251, 555, 868, 22, 44, "Input",ExpressionUUID->"4d60e424-f1f5-463e-9065-d6ff746e5b29",
 InitializationCell->True],
Cell[22122, 579, 885, 20, 44, "Input",ExpressionUUID->"c699fc6e-6c3f-4c63-bf9a-248c6871b1e9",
 InitializationCell->True],
Cell[23010, 601, 1373, 34, 44, "Input",ExpressionUUID->"95647487-69fe-4411-9e33-96a67fb192fb",
 InitializationCell->True],
Cell[24386, 637, 579, 13, 46, "Input",ExpressionUUID->"89016f8a-5682-4909-a0dc-83b4392fccbf",
 InitializationCell->True],
Cell[24968, 652, 631, 14, 46, "Input",ExpressionUUID->"13d34314-a6e1-4295-be2b-b7dc642bb28c",
 InitializationCell->True],
Cell[25602, 668, 592, 14, 44, "Input",ExpressionUUID->"c97ea53a-6ac2-4a0c-bc1e-3111881a67e1",
 InitializationCell->True],
Cell[26197, 684, 646, 15, 44, "Input",ExpressionUUID->"0e796498-42be-42ff-ba1e-10a3e6238edd",
 InitializationCell->True],
Cell[26846, 701, 829, 20, 44, "Input",ExpressionUUID->"06b1b128-57b8-4afc-9ba7-2635f0f62dd3",
 InitializationCell->True],
Cell[27678, 723, 1012, 23, 44, "Input",ExpressionUUID->"71acd2e4-eec2-4bc2-8e7a-cf531674dc39",
 InitializationCell->True],
Cell[28693, 748, 807, 20, 44, "Input",ExpressionUUID->"276056a4-45e6-430f-bea6-ffe3f2f80379",
 InitializationCell->True],
Cell[29503, 770, 709, 16, 44, "Input",ExpressionUUID->"0dba90de-9ed3-486e-9198-3cf312a8771b",
 InitializationCell->True],
Cell[30215, 788, 2019, 35, 44, "Input",ExpressionUUID->"8ef49434-f72e-424a-8954-20cb2002cd37",
 InitializationCell->True],
Cell[32237, 825, 2139, 37, 44, "Input",ExpressionUUID->"1ffdde37-b6e7-4750-a1be-de483cdc61ef",
 InitializationCell->True],
Cell[34379, 864, 1723, 34, 64, "Input",ExpressionUUID->"4e7cab2c-0724-4967-88fb-f45ada325bd1",
 InitializationCell->True],
Cell[36105, 900, 1686, 34, 64, "Input",ExpressionUUID->"af534ad2-0c43-4b62-97b3-898ed1326bbe",
 InitializationCell->True],
Cell[37794, 936, 4477, 90, 121, "Input",ExpressionUUID->"2b767635-bfc8-441f-8a9c-4b05cdac6b8f",
 InitializationCell->True],
Cell[42274, 1028, 3132, 60, 46, "Input",ExpressionUUID->"a153d674-48d5-4e41-ba19-318bdb42f95e",
 InitializationCell->True],
Cell[45409, 1090, 3124, 60, 44, "Input",ExpressionUUID->"80feb7cb-3043-4d87-825a-2bddb6b3ab1b",
 InitializationCell->True],
Cell[48536, 1152, 2003, 33, 44, "Input",ExpressionUUID->"d6388176-177b-418e-9316-5571981afe02",
 InitializationCell->True],
Cell[50542, 1187, 2794, 58, 44, "Input",ExpressionUUID->"d7560a42-0b15-47a5-8f7f-44aae38d9202",
 InitializationCell->True],
Cell[53339, 1247, 2783, 57, 44, "Input",ExpressionUUID->"2a3b36cf-050f-40e7-899c-243b887a4793",
 InitializationCell->True],
Cell[56125, 1306, 2159, 36, 44, "Input",ExpressionUUID->"166ce3cd-2ac8-4483-a94f-53026e082922",
 InitializationCell->True],
Cell[58287, 1344, 2302, 37, 44, "Input",ExpressionUUID->"83cc4480-4dbe-44d8-b2cf-63768f58ef81",
 InitializationCell->True],
Cell[60592, 1383, 845, 18, 46, "Input",ExpressionUUID->"6af66cd0-1f36-46f3-9cd4-6999ef431c7b",
 InitializationCell->True],
Cell[61440, 1403, 374, 9, 44, "Input",ExpressionUUID->"35aaf610-8fda-4ed0-a212-22fdff5aea97",
 InitializationCell->True],
Cell[61817, 1414, 460, 12, 44, "Input",ExpressionUUID->"2894aab9-e8d9-4fb2-924e-c24db78860a3",
 InitializationCell->True],
Cell[62280, 1428, 519, 11, 44, "Input",ExpressionUUID->"32c53d0d-0ce5-4eb8-a889-88e7ed5248f0",
 InitializationCell->True],
Cell[62802, 1441, 397, 10, 44, "Input",ExpressionUUID->"b8f0ddd9-56a5-4fcd-9b59-8a0ed5373345",
 InitializationCell->True],
Cell[63202, 1453, 783, 18, 83, "Input",ExpressionUUID->"b2195060-a2df-4082-abfe-391746402c52",
 InitializationCell->True],
Cell[63988, 1473, 908, 25, 44, "Input",ExpressionUUID->"7a95e755-6ed2-4f7f-866f-e39a91efd59c",
 InitializationCell->True],
Cell[64899, 1500, 715, 18, 44, "Input",ExpressionUUID->"a935803b-764f-4ce4-a1fa-1da1f40c25ce",
 InitializationCell->True],
Cell[65617, 1520, 482, 9, 44, "Input",ExpressionUUID->"2df14f30-364f-48d0-928b-e1c3ae56ad6f",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[66136, 1534, 163, 3, 53, "Subsection",ExpressionUUID->"df84052c-f804-4253-b1fc-3f46c4a1a30e"],
Cell[66302, 1539, 6078, 116, 311, "Input",ExpressionUUID->"25e06201-c96a-435e-91f7-91f5cfd05457",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[72417, 1660, 114, 1, 53, "Subsection",ExpressionUUID->"a6c4742f-33a7-49f5-87a2-709b37ce7d79"],
Cell[72534, 1663, 959, 17, 49, "Input",ExpressionUUID->"9284e648-c37f-4084-88ce-d623c173e82a",
 InitializationCell->True],
Cell[73496, 1682, 1178, 26, 49, "Input",ExpressionUUID->"32e810b7-526e-419f-b1ea-9543ba51b3d2",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[74699, 1712, 280, 6, 46, "Input",ExpressionUUID->"274028fc-42fc-4dba-8905-b4135f814bd4",
 InitializationCell->True],
Cell[74982, 1720, 846, 13, 30, "Output",ExpressionUUID->"cea6e98d-55c3-49a7-9b61-aed764ad608b",
 InitializationCell->True]
}, Open  ]],
Cell[75843, 1736, 627, 11, 46, "Input",ExpressionUUID->"6d960995-8d7a-4384-92b4-e2a4c41edb3f",
 InitializationCell->True],
Cell[76473, 1749, 3271, 70, 161, "Input",ExpressionUUID->"e871e3fa-210c-421c-ac45-fac3715a3773",
 InitializationCell->True],
Cell[79747, 1821, 812, 15, 66, "Input",ExpressionUUID->"6bcdc9cd-7019-466e-b907-c998809687df",
 InitializationCell->True],
Cell[80562, 1838, 1814, 37, 104, "Input",ExpressionUUID->"97c23bb7-ab62-45cd-814a-9705837337f7",
 InitializationCell->True],
Cell[82379, 1877, 1786, 37, 104, "Input",ExpressionUUID->"5bbba786-87b0-4f1c-be3a-ff4cbf034086",
 InitializationCell->True],
Cell[84168, 1916, 1860, 37, 104, "Input",ExpressionUUID->"bb4a3fd9-7152-4156-8efa-5aca99780b93",
 InitializationCell->True],
Cell[86031, 1955, 488, 11, 85, "Input",ExpressionUUID->"d061b894-0a13-4fb7-85b5-919fdbf08964",
 InitializationCell->True],
Cell[86522, 1968, 1835, 38, 104, "Input",ExpressionUUID->"1c59b50f-57fd-4de8-9612-bcd46d346f2b",
 InitializationCell->True],
Cell[88360, 2008, 1811, 37, 104, "Input",ExpressionUUID->"240ec738-a5e0-486d-95cf-8279415bc8e4",
 InitializationCell->True],
Cell[90174, 2047, 778, 14, 66, "Input",ExpressionUUID->"c408d102-3415-438e-af7b-0ce494982aca",
 InitializationCell->True],
Cell[90955, 2063, 882, 16, 66, "Input",ExpressionUUID->"cf34d141-6670-419a-a61c-09f228f579f0",
 InitializationCell->True],
Cell[91840, 2081, 1802, 36, 104, "Input",ExpressionUUID->"cba9dff3-f9af-4288-aaa0-6e590ff23603",
 InitializationCell->True],
Cell[93645, 2119, 1920, 41, 159, "Input",ExpressionUUID->"3f525bf1-0a2a-46fd-86da-60e9e4d4d620",
 InitializationCell->True],
Cell[95568, 2162, 1809, 36, 104, "Input",ExpressionUUID->"32ef359f-dd7c-4f57-a4b8-2cf1b4f2a9fa",
 InitializationCell->True],
Cell[97380, 2200, 1644, 34, 104, "Input",ExpressionUUID->"389af3aa-f3ad-4df9-8254-16d4b5e49aa3",
 InitializationCell->True],
Cell[99027, 2236, 1661, 34, 104, "Input",ExpressionUUID->"20781571-64e9-4213-beb9-72d9f03b8d29",
 InitializationCell->True],
Cell[100691, 2272, 850, 15, 66, "Input",ExpressionUUID->"e23f7af9-b1ff-4847-bbe5-d89f20ca869b",
 InitializationCell->True],
Cell[101544, 2289, 931, 16, 66, "Input",ExpressionUUID->"3c63aefb-3a36-49ad-8080-53f8f5acf6ce",
 InitializationCell->True],
Cell[102478, 2307, 931, 16, 66, "Input",ExpressionUUID->"82dff80e-c3cf-4e74-825b-00bb9f0c4dd9",
 InitializationCell->True],
Cell[103412, 2325, 1904, 38, 104, "Input",ExpressionUUID->"f68a4d24-59ee-4d14-9af0-4fe9cc3e5eb1",
 InitializationCell->True],
Cell[105319, 2365, 1874, 37, 104, "Input",ExpressionUUID->"9d188442-8898-4c8e-bd03-587d2806abf8",
 InitializationCell->True],
Cell[107196, 2404, 1894, 38, 104, "Input",ExpressionUUID->"abe9dfab-55c5-4070-9e40-8d6b597bce90",
 InitializationCell->True],
Cell[109093, 2444, 2203, 42, 104, "Input",ExpressionUUID->"f20e0913-f0bf-4394-bc30-acd22ab0c944",
 InitializationCell->True],
Cell[111299, 2488, 2169, 41, 104, "Input",ExpressionUUID->"aebcf3c2-37b1-4f05-a215-289e0b0a9b77",
 InitializationCell->True],
Cell[113471, 2531, 2174, 42, 104, "Input",ExpressionUUID->"7438b58c-1e07-43b7-8fd3-07f89a47c7eb",
 InitializationCell->True],
Cell[115648, 2575, 2388, 49, 130, "Input",ExpressionUUID->"bdbbea6d-e53b-45d9-a9e3-9da81244ec32",
 InitializationCell->True],
Cell[118039, 2626, 2085, 42, 104, "Input",ExpressionUUID->"33415a9f-8d33-46b1-9d0a-51508aaab073",
 InitializationCell->True],
Cell[120127, 2670, 1359, 24, 66, "Input",ExpressionUUID->"cc13f170-5371-4918-9eb4-e07e68061a03",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[121523, 2699, 105, 1, 37, "Subsection",ExpressionUUID->"8271f06b-62c6-4e71-bf61-e331fc73e67d"],
Cell[121631, 2702, 3555, 79, 256, "Input",ExpressionUUID->"f5942720-1163-4cce-a7d5-79bfc6de748d",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[125223, 2786, 98, 1, 37, "Subsection",ExpressionUUID->"76c002d1-2d3f-492d-8248-4446ea8e81c8"],
Cell[125324, 2789, 991, 18, 46, "Input",ExpressionUUID->"943c1fe3-910e-451b-817a-bf02131cd67f",
 InitializationCell->True],
Cell[126318, 2809, 592, 12, 46, "Input",ExpressionUUID->"f595b23e-5f28-4f6b-9ad8-1f243003a1fa",
 InitializationCell->True],
Cell[126913, 2823, 566, 11, 46, "Input",ExpressionUUID->"6b868306-b282-45bc-b0fd-9aab3c006ef3",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[127516, 2839, 130, 2, 37, "Subsection",ExpressionUUID->"63532caf-f543-49e9-877a-0886fcc5f351"],
Cell[CellGroupData[{
Cell[127671, 2845, 109, 1, 44, "Subsubsection",ExpressionUUID->"318401ca-1c5e-45e9-96f4-3fb7f457a33b"],
Cell[127783, 2848, 832, 17, 46, "Input",ExpressionUUID->"50c99449-8e5f-4f3a-afd7-2e6fe6c55ca3",
 InitializationCell->True],
Cell[128618, 2867, 780, 16, 46, "Input",ExpressionUUID->"70600162-b5f8-4509-924b-2f60de4fa15e",
 InitializationCell->True],
Cell[129401, 2885, 649, 14, 46, "Input",ExpressionUUID->"0ad4217d-561f-4715-a611-20ba53e0d152",
 InitializationCell->True],
Cell[130053, 2901, 628, 14, 46, "Input",ExpressionUUID->"c829cbbd-fce2-4661-bd84-1d749c72b66d",
 InitializationCell->True],
Cell[130684, 2917, 957, 18, 66, "Input",ExpressionUUID->"30f2f9e1-5160-4b29-8544-8d48aff30564",
 InitializationCell->True],
Cell[131644, 2937, 881, 17, 66, "Input",ExpressionUUID->"fbbe94ae-4767-4099-92d8-3f39d7479b52",
 InitializationCell->True],
Cell[132528, 2956, 718, 15, 46, "Input",ExpressionUUID->"2a89c41d-8862-45be-a509-20b19752d515",
 InitializationCell->True],
Cell[133249, 2973, 947, 19, 66, "Input",ExpressionUUID->"91100be1-a86e-4d23-b117-6117fb3a28d8",
 InitializationCell->True],
Cell[134199, 2994, 580, 13, 46, "Input",ExpressionUUID->"9b75bf62-fd92-4a11-a81a-02a6b0e427e2",
 InitializationCell->True],
Cell[134782, 3009, 690, 15, 46, "Input",ExpressionUUID->"e2c56e87-f296-41a6-9293-2400bed288cb",
 InitializationCell->True],
Cell[135475, 3026, 924, 18, 66, "Input",ExpressionUUID->"81be09a3-6d4d-42d8-960c-fe42ec28b400",
 InitializationCell->True],
Cell[136402, 3046, 2322, 37, 104, "Input",ExpressionUUID->"fe239fe9-3ab7-4b65-bedc-1d860e291c21",
 InitializationCell->True],
Cell[138727, 3085, 2816, 46, 142, "Input",ExpressionUUID->"7133fa4e-8ddf-4c21-9611-b0eb2b6a4995",
 InitializationCell->True],
Cell[141546, 3133, 1582, 28, 104, "Input",ExpressionUUID->"bf06a5e5-9ae3-4ecc-b74e-bf958aaa1e07",
 InitializationCell->True],
Cell[143131, 3163, 1229, 22, 66, "Input",ExpressionUUID->"3c78bf52-6d18-4b61-8f92-514c618e88a4",
 InitializationCell->True],
Cell[144363, 3187, 491, 11, 46, "Input",ExpressionUUID->"b6243a6a-86a5-4726-8b06-e045ea29e1a8",
 InitializationCell->True],
Cell[144857, 3200, 950, 19, 66, "Input",ExpressionUUID->"9cfe1690-f00c-4980-9584-dc5f35885441",
 InitializationCell->True],
Cell[145810, 3221, 770, 16, 46, "Input",ExpressionUUID->"0dc3f6e2-6791-484c-99c7-c34fdda16843",
 InitializationCell->True],
Cell[146583, 3239, 392, 9, 46, "Input",ExpressionUUID->"04a023a0-a38e-4518-a38f-d74b852a71e7",
 InitializationCell->True],
Cell[146978, 3250, 464, 11, 46, "Input",ExpressionUUID->"2c2c9e0f-b513-42d9-ab1f-6b3fffd9e6da",
 InitializationCell->True],
Cell[147445, 3263, 681, 14, 46, "Input",ExpressionUUID->"f3b8e6d8-d25a-46df-82b5-b6a1b49ab5bc",
 InitializationCell->True],
Cell[148129, 3279, 749, 15, 46, "Input",ExpressionUUID->"4e3a2244-4a32-4547-87a7-db70571ee1b6",
 InitializationCell->True],
Cell[148881, 3296, 464, 11, 46, "Input",ExpressionUUID->"d6f9c3ae-716a-489b-9b29-3e3516eb1c88",
 InitializationCell->True],
Cell[149348, 3309, 5424, 78, 180, "Input",ExpressionUUID->"aaff3450-b9ce-4c91-ac97-e0484095d35a",
 InitializationCell->True],
Cell[154775, 3389, 592, 13, 46, "Input",ExpressionUUID->"c76c8cb4-66b5-44eb-b919-40e83070510d",
 InitializationCell->True],
Cell[155370, 3404, 632, 14, 46, "Input",ExpressionUUID->"23e79c7b-280d-488b-9a56-430456984bc5",
 InitializationCell->True],
Cell[156005, 3420, 679, 14, 46, "Input",ExpressionUUID->"3a1dd6c4-193f-495f-b925-809d85cac2df",
 InitializationCell->True],
Cell[156687, 3436, 634, 14, 46, "Input",ExpressionUUID->"ca892340-b8a6-441d-a229-7fad72a398a6",
 InitializationCell->True],
Cell[157324, 3452, 731, 15, 46, "Input",ExpressionUUID->"ae714c14-e9ba-4e66-8dcb-e05d5189c569",
 InitializationCell->True],
Cell[158058, 3469, 984, 19, 66, "Input",ExpressionUUID->"71a95496-282f-4e5b-a7c6-057018964358",
 InitializationCell->True],
Cell[159045, 3490, 915, 18, 66, "Input",ExpressionUUID->"07e5bd2c-edb3-4b5c-978d-42ad1446501e",
 InitializationCell->True],
Cell[159963, 3510, 1065, 20, 66, "Input",ExpressionUUID->"b43aae95-2e61-4790-b7ef-c5f546ba0694",
 InitializationCell->True],
Cell[161031, 3532, 1206, 22, 66, "Input",ExpressionUUID->"cd41cbef-cd51-4fe7-9536-351ec58ac8ea",
 InitializationCell->True],
Cell[162240, 3556, 906, 18, 66, "Input",ExpressionUUID->"f292426a-b6bf-4266-8008-874a7e1e8fcd",
 InitializationCell->True],
Cell[163149, 3576, 777, 16, 46, "Input",ExpressionUUID->"7892f1b8-ffea-4b02-bde5-be3a51d49e37",
 InitializationCell->True],
Cell[163929, 3594, 745, 16, 46, "Input",ExpressionUUID->"ac97be48-c224-41bd-90af-67c613f17ddf",
 InitializationCell->True],
Cell[164677, 3612, 861, 17, 66, "Input",ExpressionUUID->"76deae00-bd18-4bca-a279-5e19f810cb61",
 InitializationCell->True],
Cell[165541, 3631, 1849, 31, 85, "Input",ExpressionUUID->"fae7035f-e2a8-4075-b05e-186db2b211e2",
 InitializationCell->True],
Cell[167393, 3664, 847, 17, 46, "Input",ExpressionUUID->"24631352-724c-4a36-8b09-eb3563760f46",
 InitializationCell->True],
Cell[168243, 3683, 977, 19, 66, "Input",ExpressionUUID->"ae650bac-b2c9-4b90-9086-17826eef0df6",
 InitializationCell->True],
Cell[169223, 3704, 699, 15, 46, "Input",ExpressionUUID->"281c4fae-3ad2-494f-b3df-3dcc9601a461",
 InitializationCell->True],
Cell[169925, 3721, 1856, 31, 104, "Input",ExpressionUUID->"8a1a928c-37b8-4f6d-a702-275d839c9c9c",
 InitializationCell->True],
Cell[171784, 3754, 891, 17, 66, "Input",ExpressionUUID->"6fd7231d-7c46-4c27-9a21-9533aea0a92b",
 InitializationCell->True],
Cell[172678, 3773, 1232, 22, 66, "Input",ExpressionUUID->"ad42415d-b7af-40fa-892d-c064f8287034",
 InitializationCell->True],
Cell[173913, 3797, 1260, 23, 66, "Input",ExpressionUUID->"8f0add46-b240-4dc9-8112-251e73597988",
 InitializationCell->True],
Cell[175176, 3822, 717, 15, 46, "Input",ExpressionUUID->"9b7479d9-ab69-4502-a08f-61ee533f1ed2",
 InitializationCell->True],
Cell[175896, 3839, 1016, 20, 66, "Input",ExpressionUUID->"21aa628b-4de1-4f17-9503-1a658dd6d967",
 InitializationCell->True],
Cell[176915, 3861, 937, 19, 66, "Input",ExpressionUUID->"0a0336e3-f8fc-4fc6-920c-b813910a866a",
 InitializationCell->True],
Cell[177855, 3882, 1293, 23, 85, "Input",ExpressionUUID->"09c927dd-cb57-4ae9-88bf-265cf601226c",
 InitializationCell->True],
Cell[179151, 3907, 690, 15, 46, "Input",ExpressionUUID->"73d3b319-9f56-4266-bccf-0693a0c344f4",
 InitializationCell->True],
Cell[179844, 3924, 633, 14, 46, "Input",ExpressionUUID->"4d49258e-df9a-4038-8614-2ec6f78a00bf",
 InitializationCell->True],
Cell[180480, 3940, 823, 16, 46, "Input",ExpressionUUID->"b7ceda2a-538d-4a3d-b355-8e1a376b1e44",
 InitializationCell->True],
Cell[181306, 3958, 1011, 20, 66, "Input",ExpressionUUID->"d0bb95cb-4eed-4e28-bc92-af8667c3df38",
 InitializationCell->True],
Cell[182320, 3980, 555, 13, 46, "Input",ExpressionUUID->"1f4c0fa9-c431-4321-9737-c5863fade91a",
 InitializationCell->True],
Cell[182878, 3995, 489, 11, 46, "Input",ExpressionUUID->"a2859634-bad0-4a35-ad18-4ba0492d0430",
 InitializationCell->True],
Cell[183370, 4008, 957, 18, 66, "Input",ExpressionUUID->"c95fb763-7112-45de-a940-7015b3036e68",
 InitializationCell->True],
Cell[184330, 4028, 671, 15, 46, "Input",ExpressionUUID->"3ac69f0e-b5e4-4e23-a508-f7ae6ed144f3",
 InitializationCell->True],
Cell[185004, 4045, 852, 17, 66, "Input",ExpressionUUID->"ca25f15b-2b24-425e-9af8-7422367efc52",
 InitializationCell->True],
Cell[185859, 4064, 862, 18, 66, "Input",ExpressionUUID->"63dc9fa4-a788-4026-a545-415f8c7f6d50",
 InitializationCell->True],
Cell[186724, 4084, 901, 18, 66, "Input",ExpressionUUID->"5a54bfcb-aa05-4ac8-aba6-bd300f612927",
 InitializationCell->True],
Cell[187628, 4104, 855, 17, 66, "Input",ExpressionUUID->"0b0f2b2d-eee7-4a5d-9e1f-ee18d89ef1e2",
 InitializationCell->True],
Cell[188486, 4123, 1159, 21, 66, "Input",ExpressionUUID->"f41f7e12-33ad-47ec-9dee-cc56f03d58d0",
 InitializationCell->True],
Cell[189648, 4146, 784, 16, 46, "Input",ExpressionUUID->"aa44efc6-2949-4b03-9f56-deb1a17b0895",
 InitializationCell->True],
Cell[190435, 4164, 1221, 22, 66, "Input",ExpressionUUID->"99d45948-dd30-4565-b491-8b35850dcddd",
 InitializationCell->True],
Cell[191659, 4188, 702, 15, 46, "Input",ExpressionUUID->"22235d81-f45a-47dd-92e8-06b86a80ef8f",
 InitializationCell->True],
Cell[192364, 4205, 653, 14, 46, "Input",ExpressionUUID->"54756c41-fca3-454a-a3d8-fe6f11974f17",
 InitializationCell->True],
Cell[193020, 4221, 632, 14, 46, "Input",ExpressionUUID->"e3b1efe7-d72b-4761-958c-ee8c9c73f7a4",
 InitializationCell->True],
Cell[193655, 4237, 686, 15, 46, "Input",ExpressionUUID->"21bb663a-4126-420c-ad37-f9763e789cfe",
 InitializationCell->True],
Cell[194344, 4254, 1353, 24, 66, "Input",ExpressionUUID->"e3b534f9-6693-48fb-b11b-cf2288a899f2",
 InitializationCell->True],
Cell[195700, 4280, 698, 15, 46, "Input",ExpressionUUID->"46662ea1-be19-4ae1-a246-52933e685b15",
 InitializationCell->True],
Cell[196401, 4297, 495, 11, 46, "Input",ExpressionUUID->"bbd5483d-ead3-47b9-812c-cd76101d96c4",
 InitializationCell->True],
Cell[196899, 4310, 739, 15, 46, "Input",ExpressionUUID->"180bf208-2812-437c-82c1-3dfd673d3673",
 InitializationCell->True],
Cell[197641, 4327, 1134, 21, 66, "Input",ExpressionUUID->"23eeabdf-05b8-45d9-abfa-56b4d7bf0adf",
 InitializationCell->True],
Cell[198778, 4350, 646, 14, 46, "Input",ExpressionUUID->"360bad0a-937c-4caa-a72f-e76b6bb7e65a",
 InitializationCell->True],
Cell[199427, 4366, 468, 11, 46, "Input",ExpressionUUID->"f2d299ad-416d-4bd8-a04c-ba4675fd561a",
 InitializationCell->True],
Cell[199898, 4379, 469, 11, 46, "Input",ExpressionUUID->"0379bffe-abfa-449d-90db-7e9897f2b3cd",
 InitializationCell->True],
Cell[200370, 4392, 636, 14, 46, "Input",ExpressionUUID->"5420ecc9-bf30-4152-a4c1-0abdcd6955ca",
 InitializationCell->True],
Cell[201009, 4408, 1016, 19, 66, "Input",ExpressionUUID->"150194d7-76c3-49e1-b110-8f4d381c73ef",
 InitializationCell->True],
Cell[202028, 4429, 1844, 32, 104, "Input",ExpressionUUID->"1a4eb351-1e49-4819-a704-103065b5a91a",
 InitializationCell->True],
Cell[203875, 4463, 1389, 24, 66, "Input",ExpressionUUID->"6bb019fc-f893-40e4-94dc-b754da69ab2c",
 InitializationCell->True],
Cell[205267, 4489, 1995, 32, 104, "Input",ExpressionUUID->"5ec1c809-919e-4290-b5b0-7ac3073d612e",
 InitializationCell->True],
Cell[207265, 4523, 1075, 20, 66, "Input",ExpressionUUID->"dd15779e-6def-4b15-a594-0bd6301ebb4c",
 InitializationCell->True],
Cell[208343, 4545, 1692, 29, 85, "Input",ExpressionUUID->"3644b1a6-509d-4d34-a84b-b3280cd77b8b",
 InitializationCell->True],
Cell[210038, 4576, 494, 11, 46, "Input",ExpressionUUID->"e8f431f9-9fbe-47b8-819c-6eaba4336817",
 InitializationCell->True],
Cell[210535, 4589, 752, 16, 46, "Input",ExpressionUUID->"961ef97d-8a85-4a14-8e2f-cb5b09bddb9b",
 InitializationCell->True],
Cell[211290, 4607, 492, 11, 46, "Input",ExpressionUUID->"11c06e07-3580-4d85-8fae-e2ccd84938bd",
 InitializationCell->True],
Cell[211785, 4620, 535, 13, 46, "Input",ExpressionUUID->"49a934c8-e64f-49ee-9b74-00d4c3458a9e",
 InitializationCell->True],
Cell[212323, 4635, 1132, 21, 66, "Input",ExpressionUUID->"4c5b1105-1130-430f-9c14-bdbc8b426955",
 InitializationCell->True],
Cell[213458, 4658, 705, 15, 46, "Input",ExpressionUUID->"6ba95e8e-caba-4ff9-b466-2d980d83bfe2",
 InitializationCell->True],
Cell[214166, 4675, 466, 11, 46, "Input",ExpressionUUID->"47b1f3a0-1e9e-44c1-ae84-8bcd7cd303dc",
 InitializationCell->True],
Cell[214635, 4688, 929, 18, 46, "Input",ExpressionUUID->"6b5e452f-46ec-4631-a391-4bd72f8e81ba",
 InitializationCell->True],
Cell[215567, 4708, 1603, 28, 66, "Input",ExpressionUUID->"3d6cfee2-4810-4d0d-83da-50076b70cc53",
 InitializationCell->True],
Cell[217173, 4738, 692, 15, 46, "Input",ExpressionUUID->"f66b6f9e-1098-4cc0-be4d-99c6089813d3",
 InitializationCell->True],
Cell[217868, 4755, 631, 14, 46, "Input",ExpressionUUID->"fd0ca619-df04-4413-bd26-e57f4d64a2f2",
 InitializationCell->True],
Cell[218502, 4771, 1005, 20, 46, "Input",ExpressionUUID->"f61e856a-420a-4453-803d-d6a0462b265a",
 InitializationCell->True],
Cell[219510, 4793, 632, 14, 46, "Input",ExpressionUUID->"90ada908-a7cd-4644-a1df-d348a89aac9f",
 InitializationCell->True],
Cell[220145, 4809, 1192, 22, 66, "Input",ExpressionUUID->"6cc8c7c6-5f57-4f69-b701-4f0fb5e416dd",
 InitializationCell->True],
Cell[221340, 4833, 1138, 21, 66, "Input",ExpressionUUID->"0f71e8a8-f1d2-4b50-9377-ce61b79b6949",
 InitializationCell->True],
Cell[222481, 4856, 997, 19, 66, "Input",ExpressionUUID->"ac0e559c-367d-499b-9a5c-f3aa3fb7f9ff",
 InitializationCell->True],
Cell[223481, 4877, 469, 11, 46, "Input",ExpressionUUID->"0282fc46-af42-44dd-b524-46a90f298315",
 InitializationCell->True],
Cell[223953, 4890, 1301, 23, 85, "Input",ExpressionUUID->"ea75556a-fe38-4aa1-a7a3-39e2430d1887",
 InitializationCell->True],
Cell[225257, 4915, 1223, 22, 66, "Input",ExpressionUUID->"7de09de2-dc2e-49e0-bd6d-1c1a32e58cd4",
 InitializationCell->True],
Cell[226483, 4939, 470, 11, 46, "Input",ExpressionUUID->"a981f467-eced-41ba-98bf-46840d68dfc0",
 InitializationCell->True],
Cell[226956, 4952, 629, 14, 46, "Input",ExpressionUUID->"2cfc7d1a-ee6a-4600-b5ba-a0877fc688f3",
 InitializationCell->True],
Cell[227588, 4968, 1153, 21, 66, "Input",ExpressionUUID->"b1de952a-b3d2-4810-816d-d5210b73699b",
 InitializationCell->True],
Cell[228744, 4991, 1075, 21, 66, "Input",ExpressionUUID->"c23557a0-efb9-4ce5-840a-3ad75fb5b44f",
 InitializationCell->True],
Cell[229822, 5014, 960, 19, 66, "Input",ExpressionUUID->"dd47458f-6e2a-4b94-9773-1917c5214a3d",
 InitializationCell->True],
Cell[230785, 5035, 945, 19, 66, "Input",ExpressionUUID->"6cdc9cf1-f9ac-4cbc-a4fc-d421ab469084",
 InitializationCell->True],
Cell[231733, 5056, 908, 18, 66, "Input",ExpressionUUID->"70c831ec-a013-41ab-87f9-1e8d9dc09d6d",
 InitializationCell->True],
Cell[232644, 5076, 777, 16, 46, "Input",ExpressionUUID->"dac61b81-8d51-480f-aedf-13adc521a1e9",
 InitializationCell->True],
Cell[233424, 5094, 747, 16, 46, "Input",ExpressionUUID->"fce0ff4f-254c-492e-9b62-0aa88de3a3b9",
 InitializationCell->True],
Cell[234174, 5112, 950, 19, 66, "Input",ExpressionUUID->"d5f78511-4dac-4498-a815-9c6271e732ea",
 InitializationCell->True],
Cell[235127, 5133, 1043, 20, 66, "Input",ExpressionUUID->"8a7413c5-4ace-4ac6-80de-09272c51d9dc",
 InitializationCell->True],
Cell[236173, 5155, 719, 15, 46, "Input",ExpressionUUID->"05ac3731-411e-4219-83ed-f28f0eaec6a3",
 InitializationCell->True],
Cell[236895, 5172, 1397, 25, 85, "Input",ExpressionUUID->"082f3921-d7db-4433-bb9f-507ac00d54b0",
 InitializationCell->True],
Cell[238295, 5199, 1711, 29, 104, "Input",ExpressionUUID->"2ba74888-b5d3-4db3-8a39-4003b40bf99c",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[240043, 5233, 107, 1, 36, "Subsubsection",ExpressionUUID->"452d63d6-4cb2-4b87-b4ad-6ec734a05896"],
Cell[240153, 5236, 1510, 26, 66, "Input",ExpressionUUID->"a265539e-b3b0-4644-8bed-7fa279e1d442",
 InitializationCell->True],
Cell[241666, 5264, 2451, 40, 85, "Input",ExpressionUUID->"9a11aa8b-fac1-41bc-b489-240e0e486288",
 InitializationCell->True],
Cell[244120, 5306, 3065, 49, 123, "Input",ExpressionUUID->"a1dcf6b8-4e0d-4975-ac3a-6d7669fd7a7d",
 InitializationCell->True],
Cell[247188, 5357, 1959, 32, 85, "Input",ExpressionUUID->"0009342d-7aa9-4305-8942-2cd49fc78fe2",
 InitializationCell->True],
Cell[249150, 5391, 1691, 28, 66, "Input",ExpressionUUID->"5f116e9f-bc28-40de-a465-365f48ba5d2e",
 InitializationCell->True],
Cell[250844, 5421, 1359, 23, 46, "Input",ExpressionUUID->"5f12ca37-6eb9-41b2-bea0-189efe2b150e",
 InitializationCell->True],
Cell[252206, 5446, 1600, 26, 46, "Input",ExpressionUUID->"3c04d10b-80b5-4c3a-b4b8-a007ec54f70a",
 InitializationCell->True],
Cell[253809, 5474, 882, 17, 46, "Input",ExpressionUUID->"f2b9b0a4-e132-4464-b961-b377e02f3062",
 InitializationCell->True],
Cell[254694, 5493, 884, 17, 46, "Input",ExpressionUUID->"5cc56ee1-c189-4d64-ba94-567ef8614074",
 InitializationCell->True],
Cell[255581, 5512, 1515, 27, 66, "Input",ExpressionUUID->"c65d6592-88c0-4c4d-8b69-9383d2d4139c",
 InitializationCell->True],
Cell[257099, 5541, 986, 18, 46, "Input",ExpressionUUID->"ce4a68dd-1d4c-4feb-b85d-4bfff602f3d6",
 InitializationCell->True],
Cell[258088, 5561, 1185, 21, 46, "Input",ExpressionUUID->"8ce8bf49-5ef8-42ac-8b29-412e8be954e1",
 InitializationCell->True],
Cell[259276, 5584, 1284, 22, 46, "Input",ExpressionUUID->"2a94547c-4e1c-409f-9f5a-12c4b604d97c",
 InitializationCell->True],
Cell[260563, 5608, 1284, 22, 46, "Input",ExpressionUUID->"7e159dc5-70c6-4b5b-bcc6-cdfd1dfe9348",
 InitializationCell->True],
Cell[261850, 5632, 1347, 23, 46, "Input",ExpressionUUID->"5ecdbd3e-0a27-46d2-8cbf-c8fb7cd51df3",
 InitializationCell->True],
Cell[263200, 5657, 1611, 28, 66, "Input",ExpressionUUID->"1c533013-6a1f-4367-92ec-98dc51b33d33",
 InitializationCell->True],
Cell[264814, 5687, 826, 14, 46, "Input",ExpressionUUID->"da4d9158-9404-4b9c-97f7-080d26a4159a",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[265677, 5706, 106, 1, 36, "Subsubsection",ExpressionUUID->"c704ba2a-3b08-478f-9aa7-587a733af6dc"],
Cell[265786, 5709, 836, 16, 66, "Input",ExpressionUUID->"a758c5fa-03c4-4f7c-b9cc-de56279878ab",
 InitializationCell->True],
Cell[266625, 5727, 642, 13, 46, "Input",ExpressionUUID->"967d2697-74af-46df-8650-8fdd4d48b5ed",
 InitializationCell->True],
Cell[267270, 5742, 976, 18, 66, "Input",ExpressionUUID->"a18b5514-ae05-4f2b-8e62-92137f60b35e",
 InitializationCell->True],
Cell[268249, 5762, 374, 10, 46, "Input",ExpressionUUID->"2cdf772e-2ea5-42ed-a2ac-f9cf4fa23f79",
 InitializationCell->True],
Cell[268626, 5774, 1699, 29, 104, "Input",ExpressionUUID->"43c593af-d286-43e6-881c-033f4e26a02a",
 InitializationCell->True],
Cell[270328, 5805, 347, 9, 46, "Input",ExpressionUUID->"a492c700-7714-46dd-acae-2242d73fee76",
 InitializationCell->True],
Cell[270678, 5816, 778, 15, 66, "Input",ExpressionUUID->"cbb66a39-09da-4879-a841-3638a2c2a8ff",
 InitializationCell->True],
Cell[271459, 5833, 713, 15, 66, "Input",ExpressionUUID->"af31d74b-b20c-4481-af35-d4d54adfe17a",
 InitializationCell->True],
Cell[272175, 5850, 1797, 30, 123, "Input",ExpressionUUID->"251b117a-1a9d-4c3c-ae0d-b1bcfc4be21c",
 InitializationCell->True],
Cell[273975, 5882, 626, 15, 46, "Input",ExpressionUUID->"13b6011e-9897-4f9b-b6fe-bc86e4e3db04",
 InitializationCell->True],
Cell[274604, 5899, 766, 15, 66, "Input",ExpressionUUID->"de8bee37-9d32-4185-a1ca-7f22cfcab540",
 InitializationCell->True],
Cell[275373, 5916, 603, 12, 46, "Input",ExpressionUUID->"84ee4878-67ce-4968-9ae0-0593f37cdddf",
 InitializationCell->True],
Cell[275979, 5930, 436, 10, 46, "Input",ExpressionUUID->"0f261c26-29e1-4b67-9b35-15852f73f981",
 InitializationCell->True],
Cell[276418, 5942, 713, 14, 46, "Input",ExpressionUUID->"ea1196bb-7b8d-4347-ae10-7302c4b3a792",
 InitializationCell->True],
Cell[277134, 5958, 464, 11, 46, "Input",ExpressionUUID->"aa9c3a7a-4cd1-4485-95bf-487bd4e67758",
 InitializationCell->True],
Cell[277601, 5971, 847, 16, 66, "Input",ExpressionUUID->"1dcdb486-ab0a-4c5b-be9d-dbbde83e9a0b",
 InitializationCell->True],
Cell[278451, 5989, 520, 11, 46, "Input",ExpressionUUID->"b415729e-6bbb-457a-b682-a9f99dd058f9",
 InitializationCell->True],
Cell[278974, 6002, 697, 14, 46, "Input",ExpressionUUID->"ac0f0da5-ed6e-428e-b305-b18a3719aecc",
 InitializationCell->True],
Cell[279674, 6018, 538, 12, 46, "Input",ExpressionUUID->"12cba3f9-6bf6-42c3-b35b-e02c0454b543",
 InitializationCell->True],
Cell[280215, 6032, 641, 13, 46, "Input",ExpressionUUID->"b5d3cf11-1601-44d5-a316-2f33881a379a",
 InitializationCell->True],
Cell[280859, 6047, 645, 13, 46, "Input",ExpressionUUID->"3b3e6b29-2f15-4c36-8af6-60c6447cecbb",
 InitializationCell->True],
Cell[281507, 6062, 588, 13, 46, "Input",ExpressionUUID->"0b97751f-06a8-4a24-80d6-793659665fa6",
 InitializationCell->True],
Cell[282098, 6077, 353, 9, 46, "Input",ExpressionUUID->"499a43cb-beb0-45d2-9550-50b2a1c9c0b8",
 InitializationCell->True],
Cell[282454, 6088, 568, 12, 46, "Input",ExpressionUUID->"c52fc2e1-3a79-48ea-b94d-8df7c5fb1009",
 InitializationCell->True],
Cell[283025, 6102, 1015, 19, 66, "Input",ExpressionUUID->"efbc7908-e4a0-416f-add2-213132dc3c2b",
 InitializationCell->True],
Cell[284043, 6123, 649, 13, 46, "Input",ExpressionUUID->"d61a6a6a-39e0-4dde-8345-1f3442ed3aea",
 InitializationCell->True],
Cell[284695, 6138, 932, 17, 66, "Input",ExpressionUUID->"088c4103-d385-4295-a228-a288bc186ade",
 InitializationCell->True],
Cell[285630, 6157, 1023, 18, 66, "Input",ExpressionUUID->"24928b89-7345-4f3b-a2e2-0213e1de17d4",
 InitializationCell->True],
Cell[286656, 6177, 1107, 19, 66, "Input",ExpressionUUID->"59d50461-14d2-4b7c-80e3-bf48067888dd",
 InitializationCell->True],
Cell[287766, 6198, 263, 6, 46, "Input",ExpressionUUID->"6c99544e-799f-473f-9a8d-eda84cfd6cf5",
 InitializationCell->True],
Cell[288032, 6206, 347, 9, 46, "Input",ExpressionUUID->"2daf0955-b4c5-40d7-ad93-d0ecf203a63f",
 InitializationCell->True],
Cell[288382, 6217, 374, 9, 46, "Input",ExpressionUUID->"cb307995-7f57-49cf-9b3a-ede1e71eee4b",
 InitializationCell->True],
Cell[288759, 6228, 1282, 23, 85, "Input",ExpressionUUID->"cf28c3b3-490c-4166-9f79-b9187bdb9422",
 InitializationCell->True],
Cell[290044, 6253, 617, 14, 46, "Input",ExpressionUUID->"e8324910-7009-4c36-b5f1-6cb88645ef08",
 InitializationCell->True],
Cell[290664, 6269, 574, 12, 46, "Input",ExpressionUUID->"da0d464d-9ea1-4904-9e2d-0fac93727455",
 InitializationCell->True],
Cell[291241, 6283, 482, 11, 46, "Input",ExpressionUUID->"e5ed4d69-72aa-43ce-8c35-815d25eaaeff",
 InitializationCell->True],
Cell[291726, 6296, 311, 8, 46, "Input",ExpressionUUID->"d31a4e43-d896-4f46-aff6-18dd9e645bdf",
 InitializationCell->True],
Cell[292040, 6306, 836, 16, 66, "Input",ExpressionUUID->"f38a96b2-0d3d-4844-8c80-111bb8c63ae7",
 InitializationCell->True],
Cell[292879, 6324, 675, 14, 46, "Input",ExpressionUUID->"e643b76f-e5a8-4bd7-a4f5-4a9bff30c567",
 InitializationCell->True],
Cell[293557, 6340, 508, 11, 46, "Input",ExpressionUUID->"35754c3f-201a-4bf4-b0eb-0c4b5b1824d0",
 InitializationCell->True],
Cell[294068, 6353, 260, 6, 46, "Input",ExpressionUUID->"756a65b0-e7f4-4540-994a-fe4ed9e2bca0",
 InitializationCell->True],
Cell[294331, 6361, 617, 13, 46, "Input",ExpressionUUID->"f00cdd56-94ac-4275-8355-4c2a52a1e802",
 InitializationCell->True],
Cell[294951, 6376, 566, 12, 46, "Input",ExpressionUUID->"7be44f33-6445-4b8d-9af8-6449ff41bfc6",
 InitializationCell->True],
Cell[295520, 6390, 1398, 23, 85, "Input",ExpressionUUID->"fa2c24a8-7a5d-4e1e-92d6-fce74bff0e4c",
 InitializationCell->True],
Cell[296921, 6415, 476, 11, 46, "Input",ExpressionUUID->"0053e0d1-f63c-435a-bdc3-5b4e68a95de9",
 InitializationCell->True],
Cell[297400, 6428, 308, 8, 46, "Input",ExpressionUUID->"217b8bc1-911c-42a2-b82f-190b4b67f698",
 InitializationCell->True],
Cell[297711, 6438, 1119, 20, 85, "Input",ExpressionUUID->"75b72dd9-d5eb-40f0-988d-6e883e26e8af",
 InitializationCell->True],
Cell[298833, 6460, 236, 6, 46, "Input",ExpressionUUID->"fa7bbf05-f6ca-46e0-b442-c636a0dc448c",
 InitializationCell->True],
Cell[299072, 6468, 415, 10, 46, "Input",ExpressionUUID->"cd189d1e-7e67-4f09-86c6-8e8b76ff8540",
 InitializationCell->True],
Cell[299490, 6480, 253, 6, 46, "Input",ExpressionUUID->"e1a4a700-0a3e-4bc2-9277-97dafac6d2a9",
 InitializationCell->True],
Cell[299746, 6488, 431, 10, 46, "Input",ExpressionUUID->"2845f2e2-d626-4603-b5c9-cb44caf995c2",
 InitializationCell->True],
Cell[300180, 6500, 342, 9, 46, "Input",ExpressionUUID->"ed54cbb2-4c87-49b5-84f0-da889b0f1fe0",
 InitializationCell->True],
Cell[300525, 6511, 1304, 23, 85, "Input",ExpressionUUID->"c17748fd-d6e8-43c0-aa7d-dcf607524089",
 InitializationCell->True],
Cell[301832, 6536, 431, 10, 46, "Input",ExpressionUUID->"7f2fdb3c-85d9-413f-b3c3-80fa012e7d92",
 InitializationCell->True],
Cell[302266, 6548, 937, 17, 66, "Input",ExpressionUUID->"bf256d8b-9c31-44a4-8059-bcba28bb1d63",
 InitializationCell->True],
Cell[303206, 6567, 499, 11, 46, "Input",ExpressionUUID->"14bf655d-56a5-4874-ac6c-63ea7a601756",
 InitializationCell->True],
Cell[303708, 6580, 1566, 29, 104, "Input",ExpressionUUID->"fc14d8fc-3486-40c3-81fb-63e98d72c01e",
 InitializationCell->True],
Cell[305277, 6611, 606, 13, 66, "Input",ExpressionUUID->"4b881444-2d61-4924-b661-a39aeb4ee6a7",
 InitializationCell->True],
Cell[305886, 6626, 957, 18, 66, "Input",ExpressionUUID->"ed55a5ad-bd15-4a58-87d6-a4dae4753bf3",
 InitializationCell->True],
Cell[306846, 6646, 631, 13, 46, "Input",ExpressionUUID->"0b3abe4f-c510-44fb-8cd7-a4d1b9bc80f9",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[307514, 6664, 152, 2, 36, "Subsubsection",ExpressionUUID->"aa2dc4fe-d2f1-4cd6-864b-74fce4ec2eaa"],
Cell[307669, 6668, 2916, 69, 199, "Input",ExpressionUUID->"b44a4344-20ee-42b4-a5a3-022294708168",
 InitializationCell->True]
}, Closed]]
}, Open  ]],
Cell[CellGroupData[{
Cell[310634, 6743, 162, 3, 53, "Subsection",ExpressionUUID->"47a3ae91-6d4d-43ac-90a8-2c720903ec2d"],
Cell[CellGroupData[{
Cell[310821, 6750, 164, 3, 39, "Subsubsection",ExpressionUUID->"fdf6e376-f5eb-412e-a6cd-6e737ad65682"],
Cell[310988, 6755, 1502, 28, 85, "Input",ExpressionUUID->"6ef1f1fc-bb4c-4603-8aff-43313a4af4c1",
 InitializationCell->True],
Cell[312493, 6785, 1245, 22, 85, "Input",ExpressionUUID->"870a25f8-374c-4a52-ba03-bba6302199ce",
 InitializationCell->True],
Cell[313741, 6809, 804, 17, 46, "Input",ExpressionUUID->"c5205117-fdb3-4d16-be32-149490f0e82c",
 InitializationCell->True],
Cell[314548, 6828, 706, 16, 46, "Input",ExpressionUUID->"5b52a6e9-2cd2-44e9-8685-d256497bbd89",
 InitializationCell->True],
Cell[315257, 6846, 1920, 34, 123, "Input",ExpressionUUID->"381e9406-afc4-4b1f-9aa2-42141c036f74",
 InitializationCell->True],
Cell[317180, 6882, 1274, 23, 85, "Input",ExpressionUUID->"557edff1-93f6-40a0-b852-8c17ac90fa81",
 InitializationCell->True],
Cell[318457, 6907, 970, 18, 66, "Input",ExpressionUUID->"c6619396-e388-44de-aadf-bfa3fa369b07",
 InitializationCell->True],
Cell[319430, 6927, 883, 18, 66, "Input",ExpressionUUID->"158ab88c-8f42-4612-abf1-7021e66cd5d2",
 InitializationCell->True],
Cell[320316, 6947, 1524, 26, 85, "Input",ExpressionUUID->"d37c4e4d-81fc-4485-86e2-5332b89014e7",
 InitializationCell->True],
Cell[321843, 6975, 621, 14, 46, "Input",ExpressionUUID->"4bd85119-e972-4388-8a01-1e88c229017f",
 InitializationCell->True],
Cell[322467, 6991, 763, 16, 46, "Input",ExpressionUUID->"d879af37-0792-41cb-a813-fe5e1f1ea47a",
 InitializationCell->True],
Cell[323233, 7009, 694, 15, 46, "Input",ExpressionUUID->"3a9c6d59-58ac-41f5-b08e-e068b63cda47",
 InitializationCell->True],
Cell[323930, 7026, 991, 19, 66, "Input",ExpressionUUID->"5d5dd53a-511c-43b9-a58c-d8aed8606be0",
 InitializationCell->True],
Cell[324924, 7047, 2035, 33, 104, "Input",ExpressionUUID->"d6e7cf32-1498-4b7b-aac5-40e27b6abb27",
 InitializationCell->True]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[327008, 7086, 164, 3, 37, "Subsection",ExpressionUUID->"07892427-e0c8-4109-a106-f0bf24e4b902"],
Cell[327175, 7091, 1797, 41, 216, "Input",ExpressionUUID->"7b1b04d7-cf43-42e8-814c-6129a21634ed",
 InitializationCell->True],
Cell[328975, 7134, 7004, 153, 254, "Input",ExpressionUUID->"ca21e5ae-1928-4c64-b0c4-3bbd3a80c1a8",
 InitializationCell->True],
Cell[335982, 7289, 6338, 129, 235, "Input",ExpressionUUID->"b2f1430b-757e-4e92-a06a-3ef3ee99ffd5",
 InitializationCell->True],
Cell[342323, 7420, 3289, 73, 254, "Input",ExpressionUUID->"8c4bc4b3-8744-4d9a-9fd2-0d889517b074",
 InitializationCell->True],
Cell[345615, 7495, 6032, 137, 254, "Input",ExpressionUUID->"ce125f64-b459-4d2f-842a-0a1e3d9918da",
 InitializationCell->True],
Cell[351650, 7634, 2893, 54, 178, "Input",ExpressionUUID->"1617477b-eefb-4d90-a807-70b1b634787b",
 InitializationCell->True],
Cell[354546, 7690, 8814, 174, 425, "Input",ExpressionUUID->"f63c76fb-9df5-4440-8670-47c2ebc40d54",
 InitializationCell->True],
Cell[363363, 7866, 2257, 44, 121, "Input",ExpressionUUID->"ac1d5ce8-e5dc-464e-b00e-5f0cfd06124c",
 InitializationCell->True],
Cell[365623, 7912, 2506, 58, 235, "Input",ExpressionUUID->"784b735f-70f3-48db-9f5f-accdec7aa1ef",
 InitializationCell->True],
Cell[368132, 7972, 3584, 87, 254, "Input",ExpressionUUID->"7056ba46-116f-4f44-990e-d82c6fbab11b",
 InitializationCell->True],
Cell[371719, 8061, 8856, 174, 425, "Input",ExpressionUUID->"ba5e7b76-d89a-4554-9484-1f1e5c1b581c",
 InitializationCell->True],
Cell[380578, 8237, 2300, 45, 123, "Input",ExpressionUUID->"d54575aa-fd88-45ff-b3ff-f0db12ef99b1",
 InitializationCell->True],
Cell[382881, 8284, 3622, 88, 254, "Input",ExpressionUUID->"97228709-7023-46ce-ae42-0f36b1e0c0fe",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[386528, 8376, 171, 3, 44, "Subsubsection",ExpressionUUID->"6795fa42-14a4-49e5-b41a-73a3acaf8e3b"],
Cell[386702, 8381, 141, 3, 50, "Code",ExpressionUUID->"a4bee3d3-ff36-4e0d-8d35-eeaf8946153b"],
Cell[386846, 8386, 138, 3, 50, "Code",ExpressionUUID->"e02b3795-fa51-4c4b-b43f-07c88d5061ca"],
Cell[386987, 8391, 152, 3, 50, "Code",ExpressionUUID->"c9fc39a2-4fad-4940-8855-44402068bdb5"],
Cell[387142, 8396, 296, 8, 78, "Text",ExpressionUUID->"b31d85c1-c7d7-4829-9f5a-8376c4a921a1"],
Cell[387441, 8406, 640, 17, 87, "Code",ExpressionUUID->"d7d83f4c-9878-4687-9f06-a8d3f98fd068"],
Cell[388084, 8425, 1684, 42, 177, "Code",ExpressionUUID->"accba568-ce96-40ad-8dc2-b27be9808f37"],
Cell[389771, 8469, 1832, 43, 177, "Code",ExpressionUUID->"b4fc1e94-6470-4dc9-9946-4c5855f62155"],
Cell[391606, 8514, 4122, 86, 273, "Input",ExpressionUUID->"90448e52-364d-4f89-bc50-4619e97f2ec0",
 InitializationCell->True]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[395777, 8606, 212, 4, 37, "Subsection",ExpressionUUID->"70430fbd-06ad-45bb-8ca3-a7749569e668"],
Cell[395992, 8612, 213, 5, 28, "Input",ExpressionUUID->"6d933d5b-dda9-48e5-9a23-c742c6a2f2e8"],
Cell[396208, 8619, 3957, 101, 257, "Input",ExpressionUUID->"1630897c-e7d3-462f-bf49-775665279ce8"],
Cell[400168, 8722, 5320, 135, 862, "Input",ExpressionUUID->"b4246b62-217b-4942-9e43-aca30d283bb2",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[405513, 8861, 277, 7, 28, "Input",ExpressionUUID->"096f195a-7c9c-4cdc-b9d4-a5acb05033a6"],
Cell[405793, 8870, 1707, 39, 52, "Output",ExpressionUUID->"add5e938-8584-4ebd-8c5b-44aa3a5200c5"]
}, Open  ]],
Cell[407515, 8912, 1032, 20, 83, "Input",ExpressionUUID->"77bf8331-1c70-4a18-b7e4-c9e8569af188",
 InitializationCell->True],
Cell[408550, 8934, 1311, 29, 64, "Input",ExpressionUUID->"13b738b1-d90c-450e-9d0a-f2bb9ea7007f",
 Evaluatable->True,
 InitializationCell->True],
Cell[CellGroupData[{
Cell[409886, 8967, 166, 3, 44, "Subsubsection",ExpressionUUID->"aa7585bd-7b23-44bb-9f14-48dd023e092c"],
Cell[410055, 8972, 273, 6, 44, "Input",ExpressionUUID->"1e7228f1-eead-4767-b861-a5d5cd53d4ec",
 InitializationCell->True],
Cell[410331, 8980, 982, 26, 64, "Input",ExpressionUUID->"ae33cb45-1a0b-4a7d-bc25-12a6bd70912b",
 InitializationCell->True],
Cell[411316, 9008, 623, 14, 44, "Input",ExpressionUUID->"3b9a5dc3-2750-4d9e-982e-b040a4a4c2a2",
 InitializationCell->True],
Cell[411942, 9024, 553, 11, 44, "Input",ExpressionUUID->"1497e6fe-7346-4e08-94b1-35b3438774c7",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[412532, 9040, 30, 0, 36, "Subsubsection",ExpressionUUID->"3da49c1c-82ea-46a1-a6ad-dfbf383e89ea"],
Cell[412565, 9042, 8154, 176, 383, "Input",ExpressionUUID->"3c755b46-510f-405e-a933-9eccdac49f25",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[420756, 9223, 31, 0, 36, "Subsubsection",ExpressionUUID->"07881b81-ee3b-4004-85a4-f8719a3dc506"],
Cell[420790, 9225, 173, 5, 44, "Input",ExpressionUUID->"3732f87b-05b7-41a0-acef-04cb0b939d9d",
 InitializationCell->True],
Cell[420966, 9232, 12956, 318, 699, "Input",ExpressionUUID->"77934eed-1b00-4249-9659-b667c8d67df3",
 InitializationCell->True],
Cell[433925, 9552, 13713, 315, 917, "Text",ExpressionUUID->"371b8201-df05-4a98-b0fb-6487c333a68f",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[447675, 9872, 35, 0, 36, "Subsubsection",ExpressionUUID->"daddd604-f178-4666-a013-4931db8c0d14"],
Cell[447713, 9874, 9518, 206, 337, "Input",ExpressionUUID->"23d6af81-8d39-4d76-bf9f-11a7d641f7ee",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[457268, 10085, 237, 4, 36, "Subsubsection",ExpressionUUID->"2f674042-960b-4140-8102-e00c1025a8b7"],
Cell[457508, 10091, 9375, 204, 318, "Input",ExpressionUUID->"53b44267-cf57-46e7-a4d2-14d659988fb0",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[466920, 10300, 32, 0, 36, "Subsubsection",ExpressionUUID->"0e65ffe0-dfa9-4fc3-9dd6-5d89abfbae3f"],
Cell[466955, 10302, 4250, 101, 223, "Input",ExpressionUUID->"79cf8517-0734-496b-a413-6fed5410264e",
 InitializationCell->True],
Cell[471208, 10405, 4177, 97, 223, "Input",ExpressionUUID->"5c427868-95e8-4d01-b20d-31c20a9fc1ac",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[475422, 10507, 158, 3, 36, "Subsubsection",ExpressionUUID->"0fa8abfd-4c27-478a-b7ca-1bb06a7ad8d1"],
Cell[475583, 10512, 8089, 172, 327, "Input",ExpressionUUID->"b4ae3bb9-f109-41ec-9cb5-9afee35acc7c",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[483709, 10689, 102, 1, 36, "Subsubsection",ExpressionUUID->"b2d95fcf-6944-48ec-82dc-57051ee764b5"],
Cell[483814, 10692, 8237, 172, 327, "Input",ExpressionUUID->"4332d409-b900-4b4d-8912-bcca67438e67",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[492088, 10869, 153, 2, 36, "Subsubsection",ExpressionUUID->"7017a3ef-4876-43d3-9393-a598342a49da"],
Cell[492244, 10873, 8760, 186, 327, "Input",ExpressionUUID->"1abbecbc-d27b-40bf-827f-ef038bbd87d0",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[501041, 11064, 259, 4, 36, "Subsubsection",ExpressionUUID->"59d44637-6117-40da-9eeb-b73698e7b0a2"],
Cell[501303, 11070, 8808, 186, 327, "Input",ExpressionUUID->"5993c29d-c2a1-4806-ba59-4e09c2ea0b53",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[510148, 11261, 158, 3, 36, "Subsubsection",ExpressionUUID->"a568cce7-ce60-4dba-b7f3-6b99dd7629b0"],
Cell[510309, 11266, 8801, 186, 327, "Input",ExpressionUUID->"495bbaa5-eabd-41af-9a91-347e6a8b662a",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[519147, 11457, 311, 5, 36, "Subsubsection",ExpressionUUID->"86df3d75-8bb1-4c8a-b704-8f80f000d2de"],
Cell[519461, 11464, 8860, 187, 327, "Input",ExpressionUUID->"b8775859-2895-44a1-a988-602d84c128cc",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[528358, 11656, 155, 2, 36, "Subsubsection",ExpressionUUID->"ccd25bf2-8b5f-4425-b4a2-6de5665eaad2"],
Cell[528516, 11660, 320, 7, 44, "Input",ExpressionUUID->"c49b1c96-dcb3-46e1-a091-897a0f857349",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[528861, 11671, 125, 1, 28, "Input",ExpressionUUID->"800a3112-7957-47ba-9651-334777c724fb"],
Cell[528989, 11674, 964, 21, 52, "Output",ExpressionUUID->"760b13a2-563b-4120-b1f1-b4ac4f0eb2d7"]
}, Open  ]],
Cell[529968, 11698, 22285, 501, 1338, "Input",ExpressionUUID->"108cc5f7-9a95-4c4a-94e1-5f4c7fe64d0f",
 InitializationCell->True],
Cell[552256, 12201, 4212, 117, 298, "Input",ExpressionUUID->"7b13b36d-b257-4eb7-9f84-d29b0dea0266"],
Cell[556471, 12320, 220, 6, 28, "Input",ExpressionUUID->"6210d55c-d4a6-42eb-99b7-8ff96a9f09f4"],
Cell[556694, 12328, 334, 10, 28, "Input",ExpressionUUID->"eb7a12af-beb3-4b02-99e5-491252f1bdd2"],
Cell[CellGroupData[{
Cell[557053, 12342, 341, 10, 28, "Input",ExpressionUUID->"c393297a-ff2e-47ca-b50d-e836ffbfea74"],
Cell[557397, 12354, 503, 10, 32, "Output",ExpressionUUID->"5acbe171-638a-4bf6-bf0e-52c464b958bd"]
}, Open  ]],
Cell[CellGroupData[{
Cell[557937, 12369, 1099, 30, 105, "Input",ExpressionUUID->"74c90f1b-c358-4bb0-b691-d770f7e8d27f"],
Cell[CellGroupData[{
Cell[559061, 12403, 768, 18, 22, "Print",ExpressionUUID->"e19d17db-2463-4cd8-9772-04df920ec7ef"],
Cell[559832, 12423, 747, 17, 22, "Print",ExpressionUUID->"23cdb732-f09b-45e8-b972-9f88e3418087"],
Cell[560582, 12442, 747, 17, 22, "Print",ExpressionUUID->"aa91c008-0e94-4550-923e-be788261729d"],
Cell[561332, 12461, 770, 18, 22, "Print",ExpressionUUID->"7cf404cf-8e96-4360-80f4-8e11481d70f8"]
}, Open  ]],
Cell[562117, 12482, 471, 9, 32, "Output",ExpressionUUID->"450cbd09-1af9-4a29-8ab8-8c1876631c20"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[562649, 12498, 166, 3, 53, "Subsection",ExpressionUUID->"029ad4a4-93ea-447b-bf86-1b5ebd5c8d40"],
Cell[562818, 12503, 13803, 335, 1109, "Input",ExpressionUUID->"4f5bc7e6-0203-432b-a304-40e37af8a59b",
 InitializationCell->True],
Cell[576624, 12840, 1181, 35, 44, "Input",ExpressionUUID->"a87c6414-270b-4b63-9e5b-e5ae71f8c629",
 InitializationCell->True],
Cell[577808, 12877, 11809, 275, 840, "Input",ExpressionUUID->"99e414af-7f71-4138-b41d-d4bcf1fee6ba",
 InitializationCell->True],
Cell[589620, 13154, 1879, 45, 83, "Input",ExpressionUUID->"ecdfc8cb-dd99-4776-b955-2dce4c5e1a1f",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[591536, 13204, 99, 1, 53, "Subsection",ExpressionUUID->"1f23f870-c27d-4b0b-8abb-10109f14b597"],
Cell[591638, 13207, 254, 5, 44, "Input",ExpressionUUID->"ccf4f143-3625-4043-9be8-9a3fe643006e",
 InitializationCell->True],
Cell[591895, 13214, 715, 18, 44, "Input",ExpressionUUID->"4e36e91b-220b-4328-89f0-27f4b8f4cd2b",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[592635, 13236, 530, 12, 44, "Input",ExpressionUUID->"9571922a-6d3b-4560-b1e8-b018cb38d76a",
 InitializationCell->True],
Cell[593168, 13250, 402, 6, 32, "Output",ExpressionUUID->"fa92e913-f185-4fe9-810c-563c6d4ca99c",
 InitializationCell->True]
}, Open  ]],
Cell[593585, 13259, 2553, 59, 216, "Input",ExpressionUUID->"538b3660-02d4-4011-89d3-c6af4448c898",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[596175, 13323, 107, 1, 37, "Subsection",ExpressionUUID->"8fd5c867-4082-4473-bc26-0f9a2daa68e3"],
Cell[596285, 13326, 959, 17, 47, "Input",ExpressionUUID->"61b76e41-030b-4e23-b805-e3965087cc07",
 InitializationCell->True],
Cell[597247, 13345, 758, 21, 44, "Input",ExpressionUUID->"13a51c00-23de-432e-a2da-2152ce4511fe",
 InitializationCell->True],
Cell[598008, 13368, 509, 13, 46, "Input",ExpressionUUID->"c92a1b9b-1fa9-460b-9fbf-8ad03a4a4215",
 InitializationCell->True],
Cell[598520, 13383, 553, 15, 46, "Input",ExpressionUUID->"678eee6f-6ea6-4de0-ba5b-58e31c775c32",
 InitializationCell->True],
Cell[599076, 13400, 443, 10, 44, "Input",ExpressionUUID->"5121d092-6d54-45eb-b320-22cdf9b7f04e",
 InitializationCell->True],
Cell[599522, 13412, 1034, 21, 178, "Input",ExpressionUUID->"fb402067-bca2-40d9-b048-c80491af8047",
 InitializationCell->True],
Cell[600559, 13435, 2142, 47, 103, "Input",ExpressionUUID->"f60b3f30-5b4b-4b99-9545-c46d76dff993",
 InitializationCell->True],
Cell[602704, 13484, 1931, 39, 121, "Input",ExpressionUUID->"cf7ef21c-5bd0-44fc-9ece-3094043ccef7",
 InitializationCell->True],
Cell[604638, 13525, 6646, 137, 311, "Input",ExpressionUUID->"9d3259b3-3150-451a-a499-2a864e687de8",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[611333, 13668, 88, 1, 67, "Section",ExpressionUUID->"6509fdad-6a83-4893-a52c-24ef6fdc9f8b"],
Cell[CellGroupData[{
Cell[611446, 13673, 117, 2, 30, "Input",ExpressionUUID->"2be2262b-5a04-432e-a8bf-73116f4e2850"],
Cell[611566, 13677, 100, 1, 30, "Output",ExpressionUUID->"30894feb-16cc-4fcf-b246-b561669241fc"]
}, Open  ]],
Cell[611681, 13681, 124, 2, 30, "Input",ExpressionUUID->"8970c8b6-7e10-40e6-aa8e-bc320e741e33"]
}, Open  ]]
}
]
*)

