(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 8.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[    160279,       4866]
NotebookOptionsPosition[    102788,       3365]
NotebookOutlinePosition[    138182,       4191]
CellTagsIndexPosition[    137755,       4175]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell["CERN SL Note 97-60  (AP)", "Text",
 TextAlignment->Right],

Cell["\<\


\
\>", "Text"],

Cell[CellGroupData[{

Cell[TextData[{
 "Tracking Data from MAD in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " "
}], "Title"],

Cell[TextData[{
 ButtonBox["Krzysztof Goral",
  BaseStyle->"Hyperlink",
  ButtonData:>{
    URL["http://nicewww.cern.ch/~kgoral/welcome.htm"], None}],
 ", ",
 ButtonBox["John M. Jowett",
  BaseStyle->"Hyperlink",
  ButtonData:>{
    URL["http://wwwslap.cern.ch/~jowett/"], None}],
 "\n18/8/1997, Revised 16/8/2000"
}], "Author"],

Cell[CellGroupData[{

Cell["Introduction", "Section"],

Cell[TextData[{
 "This note is the documentation for a ",
 StyleBox["Mathematica ",
  FontSlant->"Italic"],
 "[",
 ButtonBox["1",
  BaseStyle->"Hyperlink",
  ButtonData:>"Wolfram book"],
 ",",
 ButtonBox["2",
  BaseStyle->"Hyperlink",
  ButtonData:>"Meader book"],
 "] package ",
 StyleBox["TrackTable", "Input"],
 " designed to  manipulate particle tracking data generated by the ",
 ButtonBox["MAD",
  BaseStyle->"Hyperlink",
  ButtonData:>{
    URL["http://wwwslap.cern.ch/~fci/mad/mad.html"], None}],
 " program [",
 ButtonBox["3",
  BaseStyle->"Hyperlink",
  ButtonData:>"MAD manual"],
 "].  Functions contained in this package allow you to generate a ",
 StyleBox["TrackTable", "Input"],
 " data object and extract data from it as well as transform it into some \
other useful forms (preserving the ",
 StyleBox["TrackTable", "Input"],
 " type and all the other information saved in MAD's TRACK table). "
}], "Text"],

Cell["\<\
The package has been thoroughly tested with tables from MAD Version 8 and \
should also work with the tables from MAD Version 9.\
\>", "Text"],

Cell["\<\
The package includes functions for making canonical transformations to the \
eigenvector representation or the action-angle variables in 6-dimensional \
phase space, computing the decay of intensity of an ensemble of particles \
(e.g. to simulate a kicked-beam measurement), a function to \"strobe\" data \
to look for resonant behaviour and some algebra of symplectic matrices. \
\>", "Text"],

Cell[TextData[{
 "Recent additions to the package (early 1999) include a new data ",
 StyleBox["SurvivalTable", "Input"],
 " data object for information about the survival of particles (derived from ",
 StyleBox["TrackTable", "Input"],
 " objects).  Thanks to natural inheritance, many of the functions acting on ",
 StyleBox["TrackTable", "Input"],
 " objects have been straightforwardly overloaded to act on ",
 StyleBox["SurvivalTable", "Input"],
 " objects."
}], "Text"],

Cell[TextData[{
 "Another new feature is a ",
 StyleBox["palette",
  FontSlant->"Italic"],
 " of buttons that free the user from most of the need to remember and type \
in the syntax of the functions in the package.  See ",
 ButtonBox["Section ",
  BaseStyle->"Hyperlink",
  ButtonData:>"palette"],
 
 CounterBox["Section", "palette"],
 " below."
}], "Text"],

Cell[TextData[{
 "Access to the packages has been simplified thanks to changes in the CERN \
computer systems and \"",
 ButtonBox["User's Guide and Examples",
  BaseStyle->"Hyperlink",
  ButtonData:>"Examples section"],
 "\" below have been enhanced."
}], "Text"],

Cell[TextData[{
 StyleBox["It is very likely that further functions will be added in future \
versions of the package.  ",
  FontSlant->"Italic"],
 "Therefore it is always worth checking the latest version of this notebook \
at the Madtomma Web site"
}], "Text"],

Cell[TextData[ButtonBox["http://wwwslap.cern.ch/jowett/Madtomma",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://wwwslap.cern.ch/jowett/Madtomma"], None}]], "Program"],

Cell[TextData[{
 "Simple and convenient access to the data in the ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " environment opens up an enormous range of possibilities for analysing (or \
\"post-processing\") the results of tracking with MAD.  A few simple examples \
are given in the Examples section  below. "
}], "Text"],

Cell[TextData[{
 "Since MAD itself can be run from ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " it is also easy to build high-level interactive or batch interfaces to MAD \
from ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " notebooks, e.g., to explore phase space interactively by adjusting initial \
conditions for tracking according to criteria arrived at by some analysis of \
tracking data that would be hard to implement in the MAD language.   "
}], "Text"],

Cell[TextData[{
 "The data should be initially read in as (or transformed into) a basic ",
 StyleBox["mfs", "Input"],
 " data object using the function ",
 StyleBox["tfsRead", "Input"],
 " (from the package ",
 StyleBox["Mfs", "Input"],
 " [",
 ButtonBox["4",
  BaseStyle->"Hyperlink",
  ButtonData:>"Mfs.nb"],
 "] which is automatically loaded by the present package).  To simplify the \
usage, the package extends the operation of functions on the basic ",
 StyleBox["Mfs", "Input"],
 " objects to deal with ",
 StyleBox["TrackTable", "Input"],
 " data objects in natural ways.  This keeps the set of defined functions \
small and makes life easier for the user."
}], "Text"],

Cell[TextData[{
 "These packages and others relating to the use of MAD will all be made \
available in the context ",
 StyleBox["Madtomma", "Input"],
 "  (the word ",
 StyleBox["context",
  FontSlant->"Italic"],
 " is used in a special sense in ",
 StyleBox["Mathematica).  ",
  FontSlant->"Italic"],
 "Preliminary versions of some are already available; documentation will be \
released as it is prepared."
}], "Text"],

Cell[TextData[{
 "This notebook adheres to the conventions for ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " package structure and documentation set out in [",
 ButtonBox["2",
  BaseStyle->"Hyperlink",
  ButtonData:>"Meader book"],
 "].  As such it serves as the development medium for the package itself.  ",
 StyleBox["For this reason , some sections of the printed versions of this \
document are hidden.  ",
  FontWeight->"Bold"],
 "They contain the definitions (\"code\") of the functions.  The visible \
sections contain the documentation and examples of interest to users."
}], "Text"],

Cell[TextData[{
 "To make the package available, you need only copy a couple of commands from \
the \"",
 ButtonBox["Setup",
  BaseStyle->"Hyperlink",
  ButtonData:>"Setup section"],
 "\" section.  The \"",
 ButtonBox["User's Guide and Examples",
  BaseStyle->"Hyperlink",
  ButtonData:>"Examples section"],
 "\" section illustrates basic use of the package.  A final subsection \
illustrating some less useful features is hidden."
}], "Text"],

Cell[TextData[{
 "This notebook is based on the template for package and notebook development \
by R. Maeder  and supplied with ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " 3.0.  If you are reading this document in the ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " Front End, you will see that it contains hypertext links within itself and \
to pages on the World-Wide Web."
}], "Text"],

Cell[CellGroupData[{

Cell["On programming paradigms", "Subsection"],

Cell[TextData[{
 "The ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " language supports most programming methodologies although ",
 StyleBox["functional",
  FontSlant->"Italic"],
 " programming is probably the most natural and powerful.   However, since ",
 StyleBox["object-oriented programming",
  FontSlant->"Italic"],
 " (OOP) is currently popular and familiar to many, it is worth describing \
the present implementation in its terms.  In fact, the functional programming \
paradigm, combined with pattern-matching, provides all the advantages of OOP \
- and much more besides - with very little effort."
}], "Text"],

Cell[TextData[{
 "In the terminology of OOP, the functions in this package can be thought of \
as ",
 StyleBox["methods",
  FontSlant->"Italic"],
 " for the ",
 StyleBox["TrackTable ", "Input"],
 "and",
 StyleBox[" SurvivalTable", "Input"],
 " data object  data objects, just as the functions in the ",
 StyleBox["Mfs", "Input"],
 " package [",
 ButtonBox["4",
  BaseStyle->"Hyperlink",
  ButtonData:>"Mfs.nb"],
 "] were methods for the ",
 StyleBox["mfs", "Input"],
 " objects.  In fact, ",
 StyleBox["TrackTable ", "Input"],
 "objects (and others belonging to the same ",
 StyleBox["class",
  FontSlant->"Italic"],
 ")",
 StyleBox[" ", "Input"],
 "are a ",
 StyleBox["subtype",
  FontSlant->"Italic"],
 " of the more general  ",
 StyleBox["mfs", "Input"],
 " objects and therefore acquire many of their properties by ",
 StyleBox["inheritance",
  FontSlant->"Italic"],
 ".  This is reflected by the fact that functions in the ",
 StyleBox["Mfs", "Input"],
 " package are ",
 StyleBox["overloaded ",
  FontSlant->"Italic"],
 "(by pattern-matching on their arguments) to deal with ",
 StyleBox["TrackTable", "Input"],
 " objects.  A call to a function corresponds to ",
 StyleBox["message-passing.  ",
  FontSlant->"Italic"],
 "Thus some of the basic functions of the ",
 StyleBox["Mfs ", "Input"],
 "package (e.g. ",
 StyleBox["mfsColumn", "Input"],
 ") become ",
 StyleBox["polymorphic",
  FontSlant->"Italic"],
 " in this package."
}], "Text"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Reference", "Section"],

Cell[CellGroupData[{

Cell["Title", "Subsubsection"],

Cell[TextData[StyleBox["Tracking data from MAD\t\t",
 FontSlant->"Italic"]], "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Authors", "Subsubsection"],

Cell["Krzysztof Goral, John M. Jowett", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Summary", "Subsubsection"],

Cell["\<\
This notebook provides functions to read and manipulate tracking data saved \
in files by the program MAD.
These tables are usually saved using the command\
\>", "Text"],

Cell["ARCHIVE,table=\"TRACK\",filename=\"somefile.tfs\"", "Program"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Copyright", "Subsubsection"],

Cell[TextData[{
 "\[Copyright] Copyright ",
 StyleBox["CERN.1997",
  FontSlant->"Italic"],
 "\n\n",
 "The copyright and all other rights relating to this computer software, in \
whatever form, including but not\nlimited to the source code, the object code \
and user documentation, are vested in CERN. \n\nCERN, on a royalty-free and \
non-exclusive basis, hereby grants permission to use, copy, change, modify,\n\
translate, display, distribute and make available this computer software, \
subject to the following conditions:\n\n(1) this computer software is \
provided on an as-is basis and CERN provides no express or implied\n\
warranties of any kind, including but not limited to those of \
merchantability, fitness for a particular purpose\nand non-infringement of \
the proprietary rights, such as copyrights, patents and trade secrets, of \
third\nparties. CERN accepts no liability whatsoever for or in connection \
with the use of this computer software; \n\n(2) all copies made of this \
computer software or of parts thereof shall include this copyright statement \
in\nfull; \n\n(3) however, if this computer software or parts thereof are \
made available in any other form than their\noriginal form, or are included \
in any other computer software, the following short acknowledgement only\n\
must be mentioned in the copyright statement and in the user documentation \
(or, in the absence thereof, in\nany other appropriate place) concerning the \
computer software thus made available or created: \n\n\"This product includes \
computer software created and made available by CERN. This acknowledgement\n\
shall be mentioned in full in any product which includes the CERN computer \
software included herein or\nparts thereof.\" "
}], "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Notebook Version", "Subsubsection"],

Cell["3.2", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " Version"
}], "Subsubsection"],

Cell["3.0 (but should also work with earlier versions)", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["History", "Subsubsection"],

Cell["Version 1.0, KG & JMJ  29 August 1997", "Text"],

Cell[TextData[{
 "Version 1.1, 7 April 1998, JMJ  bug in toActionAngle fixed, function made \
more compact.\nVersion 1.2, 24 April 1998, JMJ improved handling of $Path.\n\
Version 2.0, 21 January 1999, JMJ addition of palette, SurvivalTable data and \
functions.\nVersion 3.0, 14 September 1999, JMJ  made compatible with Version \
2.0 of mfs package.\nVersion 3.1, 22 March 2000, JMJ importing package for \
algebra of symplectic matrices, so removing functions from this package.  The \
function ",
 StyleBox["symplecticJ", "Input"],
 "  changed its name to ",
 StyleBox["SymplecticJ", "Input"],
 ".\nVersion 3.2, 16 August 2000 JMJ added phaseSpectrum"
}], "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Keywords", "Subsubsection"],

Cell["\<\
Track, dynamics, TFS, MAD, data, table, optics, post-processing, power \
spectrum\
\>", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Warnings", "Subsubsection",
 CellTags->"Warnings"],

Cell[TextData[{
 "Note: all cells marked as \"InitializationCell\" will be written to the \
Auto-Save package. This package can then be read in programs that use it with \
",
 StyleBox["Needs[\"Madtomma`Mfs`Mfs`\"]", "Input"],
 ". Cells not intended to belong to the package should not have this property."
}], "Text",
 CellTags->"Reference section"],

Cell["\<\
Present versions of MAD Version 8 do not include the last two components of \
the closed orbit in the header block of the TRACK table.   This results in \
error messages when TRACK tables are read in.  This package anticipates the \
correction of this problem but will work without it.\
\>", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Discussion", "Subsubsection"],

Cell[TextData[{
 "Here we provide the internal specification of ",
 StyleBox["TrackTable", "Input"],
 " data objects.  Most users may skip it."
}], "Text"],

Cell[TextData[{
 "A TRACK table file from MAD can be read directly into an ",
 StyleBox["Mfs", "Input"],
 " data object [",
 ButtonBox["4",
  BaseStyle->"Hyperlink",
  ButtonData:>"Mfs.nb"],
 "].  However this representation is not very convenient as the main data \
block starts with the coordinates of all particles on the first turn, \
followed by those of all ",
 StyleBox["surviving",
  FontSlant->"Italic"],
 " particles on the second turn and so on.  As particles are lost, the number \
of rows corresponding to each turn diminishes.   The main purpose of the \
function ",
 StyleBox["makeTrackTable", "Input"],
 " is to transform this flat 2-dimensional list into a 3-dimensional list in \
which coordinates of different particles are separated."
}], "Text"],

Cell[TextData[{
 "A ",
 StyleBox["TrackTable", "Input"],
 " data object consists of three parts. The first two of them are similar to \
those of the corresponding ",
 StyleBox["mfs", "Input"],
 " object [",
 ButtonBox["4",
  BaseStyle->"Hyperlink",
  ButtonData:>"Mfs.nb"],
 "]. The first one is a list of descriptors and their values. The second one \
provides the labels for the data columns grouped in the third part. The third \
part contain the main data block and is in the form of a nested list. Lists \
of the first level correspond to turns done by particles in the storage ring \
whereas the second level is indexed by the particles."
}], "Text"],

Cell[TextData[{
 StyleBox["Mfs", "Input"],
 " functions operating on the first two parts of a ",
 StyleBox["TrackTable", "Input"],
 " data object require only a slight redefinition as the structure is \
preserved. For the main data block the structure changes substantially and \
the functions manipulating it have a new shape."
}], "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Requirements", "Subsubsection"],

Cell[TextData[{
 "Uses a basic package for reading TFS data files and creating ",
 StyleBox["mfs", "Input"],
 " data objects."
}], "Text"],

Cell[TextData[{
 "Madtomma`Mfs`Mfs ",
 "[",
 ButtonBox["4",
  BaseStyle->"Hyperlink",
  ButtonData:>"Mfs.nb"],
 "]"
}], "Text",
 FontWeight->"Bold",
 FontSlant->"Italic"],

Cell[TextData[{
 "This in turn uses one of the Standard Packages (supplied with ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 ")  for column manipulations, etc."
}], "Text"],

Cell["Statistics`DataManipulation`", "Text",
 FontWeight->"Bold",
 FontSlant->"Italic"],

Cell["Imports a standard package for handling physical units.", "Text"],

Cell["Miscellaneous`SIUnits`", "Text",
 FontWeight->"Bold",
 FontSlant->"Italic"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Setup", "Section",
 CellTags->"Setup section"],

Cell["\<\
This section contains commands needed to load the corresponding package file. \
 The contents of this file are equivalent to the following sections \
(Interface, Implementation, Epilog) in which the package is developed. \
\>", "Text",
 CellTags->"Setup section"],

Cell[CellGroupData[{

Cell["Search Path (ESSENTIAL!)", "Subsection",
 CellTags->"Setup section"],

Cell["\<\
To have access to my packages, you may need to add my packages directory to \
your search path.  This is system-dependent and the latest information about \
arranging it on CERN computer systems can be found at\
\>", "Text"],

Cell[TextData[ButtonBox["http://wwwslap.cern.ch/~jowett/Madtomma/AboutFiles.\
html",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://wwwslap.cern.ch/~jowett/Madtomma/AboutFiles.html"], 
   None}]], "Program"],

Cell[TextData[{
 "and is not reproduced here.  I strongly recommend that you modify your \
kernel initialisation file once and for all as explained on this page.  Then \
all my packages will be found as easily as the Standard Packages that come \
with ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 "."
}], "Text",
 CellTags->"Setup section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Loading the Package", "Subsection",
 CellTags->"Setup section"],

Cell[TextData[{
 "Once the package directory is on your search path, the ",
 StyleBox["Mfs", "Input"],
 " package can be loaded by evaluating the following cell. ",
 StyleBox["If you are using a copy of this notebook in order to work through \
the examples and you are invited to  evaluate all the initialisation cells in \
it, you should click \"NO\" and then go straight to the ",
  FontSlant->"Italic",
  FontColor->RGBColor[1, 0, 0]],
 StyleBox["\"",
  FontSlant->"Italic"],
 StyleBox[ButtonBox["User's Guide and Examples",
  BaseStyle->"Hyperlink",
  ButtonData:>"Examples section"],
  FontSlant->"Italic"],
 StyleBox["\" ",
  FontSlant->"Italic"],
 StyleBox["without evaluating the intermediate sections.",
  FontSlant->"Italic",
  FontColor->RGBColor[1, 0, 0]],
 " Normally this will not happen."
}], "Text",
 CellTags->"Setup section"],

Cell[BoxData[
 StyleBox[
  RowBox[{"Needs", "[", "\"\<Madtomma`Mfs`TrackTable`\>\"", "]"}], 
  "Input"]], "InputOnly",
 CellTags->"Setup section"],

Cell[TextData[{
 "This is all you need to start using the package in your own applications.   \
In interactive sessions, you will normally see a palette of buttons appearing \
on your screen.   This makes it easier to use the package: see ",
 ButtonBox["Section ",
  BaseStyle->"Hyperlink",
  ButtonData:>"palette"],
 
 CounterBox["Section", "palette"],
 " below."
}], "Text",
 CellTags->"Setup section"],

Cell[TextData[{
 "These following sections are hidden when this notebook is used as the \
package documentation but may be inspected in the online copy that can be \
found in the appropriate  sub-directory of the directory added to the ",
 StyleBox["$Path", "Input"],
 " variable above."
}], "Text",
 CellTags->"Setup section"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Interface", "Section",
 InitializationCell->True],

Cell["\<\
This part declares the publicly visible functions, options, and values.\
\>", "Text",
 InitializationCell->True],

Cell[CellGroupData[{

Cell["Set up the package context, including public imports", "Subsection",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{"BeginPackage", "[", 
  RowBox[{"\"\<Madtomma`Mfs`TrackTable`\>\"", ",", "\[IndentingNewLine]", 
   RowBox[{"{", 
    RowBox[{"\"\<Madtomma`Mfs`Mfs`\>\"", ",", "\[IndentingNewLine]", 
     FormBox["\"\<Madtomma`Algebra`Symplectic`\>\"",
      InputForm], ",", "\[IndentingNewLine]", 
     "\"\<Miscellaneous`SIUnits`\>\"", ",", "\[IndentingNewLine]", 
     "\"\<Statistics`DataManipulation`\>\""}], "}"}]}], "]"}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Usage messages for the exported functions and the context itself\
\>", "Subsection",
 InitializationCell->True],

Cell["\<\
TrackTable::usage = \"TrackTable.m is a package for working with TRACK tables \
saved by MAD. The complete contents of such tables are held in TrackTable[] \
objects.\";\
\>", "Input",
 InitializationCell->True],

Cell["\<\
SurvivalTable::usage = \"SurvivalTable[] objects contain information on the \
initial conditions of tracked particles and the number of turns they survive. \
 They are often derived from TrackTable[] objects.\";\
\>", "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"makeTrackTable", "::", "usage"}], "=", 
   "\"\<makeTrackTable[mfsdata] transforms an mfs data object created from a \
MAD TRACK table into a trackTable data object.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"sJ3", "::", "usage"}], " ", "=", 
   "\"\<sJ3 is the 6 by 6 symplectic unit matrix in 3 dimensions.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsColumn", "::", "usage"}], " ", "=", 
   RowBox[{
    RowBox[{"ToString", "[", 
     RowBox[{"mfsColumn", "::", "usage"}], "]"}], "<>", "\n", "\t\t", 
    "\"\<\\n mfsColumn[TrackTabledata,n,colname] extracts a list of \
coordinates of particle n labelled by the string colname from a TrackTable \
data object. A list of colnames may also be given to return a set of lists.  \
If colname is absent the entire block of coordinates is returned. If the \
particle number is absent a list of the requested column for all the \
particles is returned.\\n mfsColumn[SurvivalData,colname], \
mfsColumn[SurvivalData,particle,colname], mfsColumn[SurvivalData] are the \
obvious extensions to SurvivalTable objects.\>\""}]}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"notLost", "::", "usage"}], " ", "=", 
   "\"\<notLost[list] takes elements from the beginning of list until a \
non-numerical item is encountered.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"strobe", "::", "usage"}], " ", "=", 
   "\"\<strobe[list,{int1,int2}] samples list giving every int1-th element \
starting from the element number int2.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"intensity", "::", "usage"}], " ", "=", 
   "\"\<intensity[TrackTabledata] returns a list of fractions of +the initial \
number of particles left after each turn.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"turnsSurvived", "::", "usage"}], " ", "=", 
   "\"\<turnsSurvived[TrackTabledata,particle] returns the number of turns \
made by the particle before being lost.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"toNormalCoords", "::", "usage"}], " ", "=", 
   "\"\<toNormalCoords[TrackTabledata] transforms a TrackTable data object \
into another TrackTable data object with normalised coordinates (projections \
on the eigenmodes). Each coordinate then comes in units of \
\!\(\*SqrtBox[\(Meter\)]\).\\n toNormalCoords also transforms SurvivalTable \
objects analogously.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"toActionAngle", "::", "usage"}], " ", "=", 
   "\"\<toActionAngle[TrackTabledata] transforms a TrackTable data object \
into another TrackTable data object with action-angle \
coordinates.\\ntoActionAngle also transforms SurvivalTable objects \
analogously.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"toSurvival", "::", "usage"}], " ", "=", 
   "\"\<toSurvival[TrackTabledata] transforms a TrackTable data object into a \
SurvivalTable object, containing only the initial conditions and numbers of \
turns survived.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"centreOfGravity", "::", "usage"}], "=", 
   "\"\<centreOfGravity[TrackTabledata,colname] returns a list of coordinates \
of the centre-of-gravity motion labelled by the string colname. \>\""}], 
  ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"powerSpectrum", "::", "usage"}], "=", 
   "\"\<powerSpectrum[TrackTabledata,particle,colname] returns a power \
spectrum of particle coordintes labelled by colname in a TrackTabledata \
object. A list of colnames may also be given to return a set of lists.\\n\n\t\
\tpowerSpectrum[list] returns a power spectrum of a one-dimensional \
list.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
    FormBox["phaseSpectrum",
     InputForm], "::", "usage"}], "=", 
   "\"\<phaseSpectrum[TrackTabledata,particle,colname] returns a phase \
spectrum of particle coordintes labelled by colname in a TrackTabledata \
object. A list of colnames may also be given to return a set of lists.\\n\n\t\
\tpowerSpectrum[list] returns a phase spectrum of a one-dimensional \
list.\>\""}], ";"}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Error messages for the exported objects", "Subsection",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"toNormalCoords", "::", "warning"}], " ", "=", 
   "\"\<The data already in normalised coordinates.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"toNormalCoords", "::", "badarg"}], " ", "=", 
   "\"\<Wrong data type (action-angle coordinates).\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"toActionAngle", "::", "warning"}], " ", "=", 
   "\"\<The data is already in action-angle coordinates.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Implementation", "Section",
 InitializationCell->True],

Cell["\<\
This part contains the actual definitions and any auxiliary functions that \
should not be visible outside.\
\>", "Text"],

Cell[CellGroupData[{

Cell["Begin the private context (implementation part)", "Subsection",
 InitializationCell->True],

Cell["Begin[\"`Private`\"]", "Input",
 InitializationCell->True]
}, Open  ]],

Cell["Read in any hidden imports", "Subsection",
 InitializationCell->True],

Cell[CellGroupData[{

Cell["Unprotect functions for which new definitions will be made", \
"Subsection",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"protected", " ", "=", 
   RowBox[{"Unprotect", "[", 
    RowBox[{
    "mfsTypes", ",", "mfsKeyValue", ",", "mfsKeyNames", ",", "mfsColumnNames",
      ",", "mfsInterpretKeys", ",", "mfsAddKey", ",", "mfsColumn"}], "]"}]}], 
  ";"}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Definition of auxiliary functions and local (static) variables\
\>", "Subsection",
 InitializationCell->True],

Cell["A template for the closed orbit at the observation point.", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"orbtemplate", " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X\>\"", ",", "\"\<PX\>\"", ",", "\"\<Y\>\"", ",", "\"\<PY\>\"", ",", 
     "\"\<T\>\"", ",", "\"\<PT\>\""}], "}"}]}], ";"}]], "Input",
 InitializationCell->True],

Cell["and for the emittances", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"emittemplate", "=", 
   RowBox[{"{", 
    RowBox[{"\"\<EX\>\"", ",", "\"\<EY\>\"", ",", "\"\<ET\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True],

Cell["\<\
A template for the matrix of eigenvectors.  Relies on the fact that the TFS \
descriptors in a TRACK table contain the eigenvector components as \"E11\", \
\"E12\", etc.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"eigtemplate", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"\"\<E\>\"", " ", "<>", " ", 
      RowBox[{"ToString", "[", "i", "]"}], " ", "<>", " ", 
      RowBox[{"ToString", "[", " ", "j", "]"}]}], "  ", ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", "1", ",", "6"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"j", ",", "1", ",", "6"}], "}"}]}], "]"}]}], ";"}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Definition of the exported functions", "Subsection",
 InitializationCell->True],

Cell[CellGroupData[{

Cell["Transform an mfs data object into a trackTable object", "Subsubsection"],

Cell[TextData[{
 "Create a trackTable object from an ",
 StyleBox["mfs", "Input"],
 " data object whose TYPE descriptor is \"TRACK\". The second definition \
deals with unrecognised cases.\nThe calculation involves counting the number \
of particles and the maximum number of turns that some particle survives.\n\
The 2D block of tracking data is converted into a 3D form using the particle \
number as the 3rd index.  After a particle is lost, its coordinates are \
filled up with Nulls. \nThe closed orbit vector is padded with Nulls if some \
coordinates are missing.\nThe matrices of strings ",
 StyleBox["orbtemplate", "Input"],
 ", ",
 StyleBox["emitttemplate", "Input"],
 " and ",
 StyleBox["eigtemplate ", "Input"],
 "are used as an argument to mfsKeyValue to build the closed orbit, emittance \
vector and matrix of eigenvectors.\nThe descriptors for the individual \
components are replaced by these higher-dimensional objects."
}], "Text"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"makeTrackTable", "[", "qpmfs_mfs", "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"qpcol", ",", "turns", ",", "particles"}], "}"}], ",", "\n", 
     "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"mfsKeyValue", "[", 
         RowBox[{"qpmfs", ",", "\"\<TYPE\>\""}], "]"}], "==", 
        "\"\<TRACK\>\""}], ",", "\n", "\t\t\t", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"qpcol", " ", "=", " ", 
          RowBox[{"mfsColumn", "[", " ", "qpmfs", "]"}]}], ";", "\n", 
         "\t\t\t\t", 
         RowBox[{"turns", "=", 
          RowBox[{
           RowBox[{"Max", "[", 
            RowBox[{"First", "/@", "  ", "qpcol"}], "]"}], "+", "1"}]}], ";", 
         "\t\t", 
         RowBox[{"particles", "=", 
          RowBox[{"Max", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"#", "[", 
               RowBox[{"[", "2", "]"}], "]"}], ")"}], "&"}], " ", "/@", " ", 
            "qpcol"}], "]"}]}], ";", "\n", "\t\t\t\t", 
         RowBox[{"qp", "=", 
          RowBox[{"Table", "[", 
           RowBox[{"Null", ",", 
            RowBox[{"{", "turns", "}"}], ",", 
            RowBox[{"{", "particles", "}"}], ",", 
            RowBox[{"{", "6", "}"}]}], "]"}]}], ";", "\t\t", 
         RowBox[{
          RowBox[{
           RowBox[{"(", " ", 
            RowBox[{
             RowBox[{"qp", "[", 
              RowBox[{"[", "  ", 
               RowBox[{
                RowBox[{
                 RowBox[{"#", "[", 
                  RowBox[{"[", "1", "]"}], "]"}], "+", "1"}], " ", ",", " ", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "2", "]"}], "]"}]}], " ", "]"}], "]"}], "=", 
             RowBox[{"Drop", "[", 
              RowBox[{"#", ",", "2"}], "]"}]}], " ", ")"}], "&"}], " ", "/@", 
          " ", "qpcol"}], ";", "\n", "\t\t\t\t", 
         RowBox[{"TrackTable", "[", "\n", "\t\t\t\t\t", 
          RowBox[{
           RowBox[{"Join", "[", "\n", "\t\t\t\t\t\t", 
            RowBox[{
             RowBox[{"Select", "[", 
              RowBox[{
               RowBox[{"First", "[", "qpmfs", "]"}], ",", "\n", 
               "\t\t\t\t\t\t\t", 
               RowBox[{
                RowBox[{"Not", "[", 
                 RowBox[{"MemberQ", "[", 
                  RowBox[{
                   RowBox[{"Flatten", "[", 
                    RowBox[{
                    "eigtemplate", "\[Union]", " ", "orbtemplate", "\[Union]",
                     "emittemplate"}], "]"}], ",", 
                   RowBox[{"First", "[", "#", "]"}]}], "]"}], "]"}], "&"}]}], 
              "\n", "\t\t\t\t\t\t\t\t", "]"}], ",", "\n", "\t\t\t\t\t\t", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"\"\<TURNS\>\"", ",", "turns"}], "}"}], ",", "\n", 
               "\t\t\t\t\t\t\t", 
               RowBox[{"{", 
                RowBox[{"\"\<PARTICLES\>\"", ",", "particles"}], "}"}], ",", 
               "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"{", 
                RowBox[{"\"\<EMITTANCES\>\"", ",", 
                 RowBox[{
                  RowBox[{"mfsKeyValue", "[", 
                   RowBox[{"qpmfs", ",", "emittemplate"}], "]"}], " ", 
                  "Meter"}]}], "}"}], ",", "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"{", 
                RowBox[{"\"\<ORBIT\>\"", ",", 
                 RowBox[{"mfsKeyValue", "[", 
                  RowBox[{"qpmfs", ",", "orbtemplate"}], "]"}]}], "}"}], ",", 
               "\n", "\t\t\t\t\t\t\t", 
               RowBox[{"{", 
                RowBox[{"\"\<EIGENVECTORS\>\"", ",", 
                 RowBox[{"mfsKeyValue", "[", 
                  RowBox[{"qpmfs", ",", "eigtemplate"}], "]"}]}], "}"}]}], 
              "\n", "\t\t\t\t\t\t", "}"}]}], "\n", "\t\t\t\t\t", "]"}], ",", 
           "\n", "\t\t\t\t\t", 
           RowBox[{"Drop", "[", 
            RowBox[{
             RowBox[{"qpmfs", "[", 
              RowBox[{"[", "2", "]"}], "]"}], ",", "2"}], "]"}], ",", "\n", 
           "\t\t\t\t\t", "qp"}], "\n", "\t\t\t\t\t", "]"}]}], "\n", 
        "\t\t\t\t", ")"}], "\n", "\t\t\t", ",", "Null"}], "]"}]}], "\n", 
    "\t\t", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"makeTrackTable", "[", "qp_", "]"}], ":=", "Null"}]}], "Input",
 InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{

Cell["Symplectic matrices", "Subsubsection"],

Cell["\<\
This earlier version causes Mathematica 3.0.1.1x to crash.  See email to \
Mathgroup.\
\>", "Commentary"],

Cell[BoxData[
 RowBox[{"(*", " ", 
  RowBox[{
   RowBox[{"symplecticJ", "[", "n_Integer", "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "s", "}"}], ",", 
     RowBox[{
      RowBox[{"s", "=", 
       RowBox[{"Table", "[", 
        RowBox[{"0", ",", 
         RowBox[{"{", 
          RowBox[{"2", "n"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"2", "n"}], "}"}]}], "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"Do", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"s", "[", 
          RowBox[{"[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"k", "+", "1"}], ",", 
              RowBox[{"k", "+", "2"}]}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"k", "+", "1"}], ",", 
              RowBox[{"k", "+", "2"}]}], "}"}]}], "]"}], "]"}], "=", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{"0", ",", "1"}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"-", "1"}], ",", "0"}], "}"}]}], "}"}]}], ",", 
        RowBox[{"{", 
         RowBox[{"k", ",", "0", ",", 
          RowBox[{
           RowBox[{"2", "n"}], "-", "2"}], ",", "2"}], "}"}]}], "]"}], ";", 
      "s"}]}], "]"}]}], " ", "*)"}]], "Input"],

Cell[BoxData[
 RowBox[{"(*", " ", 
  RowBox[{
   RowBox[{"symplecticJ", "[", 
    RowBox[{"n_Integer", "/;", 
     RowBox[{"(", 
      RowBox[{"n", ">", "0"}], ")"}]}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "s", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"s", "=", 
       RowBox[{"Table", "[", 
        RowBox[{"0", ",", 
         RowBox[{"{", 
          RowBox[{"2", "n"}], "}"}], ",", 
         RowBox[{"{", 
          RowBox[{"2", "n"}], "}"}]}], "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"s", "=", 
       RowBox[{"ReplacePart", "[", 
        RowBox[{"s", ",", "1", ",", 
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"{", 
            RowBox[{
             RowBox[{
              RowBox[{"2", "k"}], "-", "1"}], ",", 
             RowBox[{"2", "k"}]}], "}"}], ",", 
           RowBox[{"{", 
            RowBox[{"k", ",", "1", ",", "n"}], "}"}]}], "]"}]}], "]"}]}], ";",
       "\n", "\t\t", 
      RowBox[{"ReplacePart", "[", 
       RowBox[{"s", ",", 
        RowBox[{"-", "1"}], ",", 
        RowBox[{"Table", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"2", "k"}], ",", 
            RowBox[{
             RowBox[{"2", "k"}], "-", "1"}]}], "}"}], ",", 
          RowBox[{"{", 
           RowBox[{"k", ",", "1", ",", "n"}], "}"}]}], "]"}]}], "]"}]}]}], 
    "\n", "\t", "]"}]}], "*)"}]], "Input",
 InitializationCell->True],

Cell["\<\
Above function removed from this package22/3/2000 since it is now imported \
from another package.  Keep the following for backwards compatibility.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"(*", " ", 
   RowBox[{"sJ3", "=", 
    RowBox[{"SymplecticJ", "[", "3", "]"}]}], " ", "*)"}], "\n", 
  RowBox[{"sJ3", "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"0", ",", "1", ",", "0", ",", "0", ",", "0", ",", "0"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"-", "1"}], ",", "0", ",", "0", ",", "0", ",", "0", ",", "0"}],
       "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "1", ",", "0", ",", "0"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", 
       RowBox[{"-", "1"}], ",", "0", ",", "0", ",", "0"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "1"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"0", ",", "0", ",", "0", ",", "0", ",", 
       RowBox[{"-", "1"}], ",", "0"}], "}"}]}], "}"}]}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Standard Canonical Transformations", "Subsubsection"],

Cell["\<\
Two useful coordinate transformations - to normalised coordinates and to \
action-angle ones.\
\>", "Text"],

Cell[TextData[{
 "Should make a version of this function dealing with simple lists first, as \
for ",
 StyleBox["toActionAngle", "Input"],
 " below.  It will need the eigenvector matrix as second argument."
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"toNormalCoords", "[", "qp_TrackTable", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "ieigenvect", "}"}], ",", "\n", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"qp", "[", 
        RowBox[{"[", 
         RowBox[{"2", ",", "1"}], "]"}], "]"}], "==", "\"\<X\>\""}], ",", 
      "\n", "\t\t\t\t", 
      RowBox[{"(", "\n", "\t\t\t\t", 
       RowBox[{
        RowBox[{"ieigenvect", "=", 
         RowBox[{
          RowBox[{"Transpose", "[", "sJ3", "]"}], ".", 
          RowBox[{"Transpose", "[", 
           RowBox[{"mfsKeyValue", "[", 
            RowBox[{"qp", ",", "\"\<EIGENVECTORS\>\""}], "]"}], "]"}], ".", 
          "sJ3"}]}], ";", "\n", "\t\t", 
        RowBox[{"TrackTable", "[", "\n", "\t\t\t", 
         RowBox[{
          RowBox[{"First", "[", "qp", "]"}], ",", "\n", "\t\t\t", 
          RowBox[{"{", 
           RowBox[{
           "\"\<XN\>\"", ",", "\"\<PXN\>\"", ",", "\"\<YN\>\"", ",", 
            "\"\<PYN\>\"", ",", "\"\<TN\>\"", ",", "\"\<PTN\>\""}], "}"}], 
          ",", "\n", "\t\t\t", 
          RowBox[{"Map", "[", "\n", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"First", "[", "#", "]"}], "=!=", "Null"}], ",", "\n",
                 "\t\t\t\t\t", 
                RowBox[{"(", 
                 RowBox[{"ieigenvect", ".", "#"}], ")"}], ",", "#"}], "]"}], 
              ")"}], "&"}], ",", "\n", "\t\t\t\t", 
            RowBox[{"Last", "[", "qp", "]"}], ",", 
            RowBox[{"{", "2", "}"}]}], "]"}]}], "\n", "\t\t", "]"}]}], "\n", 
       "\t\t\t\t", ")"}], ",", "\n", "\t\t\t\t", 
      RowBox[{"(", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"qp", "[", 
           RowBox[{"[", 
            RowBox[{"2", ",", "1"}], "]"}], "]"}], "==", "\"\<XN\>\""}], ",", 
         "\n", "\t\t\t\t\t", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Message", "[", 
            RowBox[{"toNormalCoords", "::", "warning"}], "]"}], ";", "qp"}], 
          ")"}], ",", "\n", "\t\t\t\t\t", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Message", "[", 
            RowBox[{"toNormalCoords", "::", "badarg"}], "]"}], ";", "Null"}], 
          ")"}]}], "\n", "\t\t\t\t", "]"}], "\n", "\t\t\t\t\t", ")"}]}], "\n",
      "\t\t\t\t", "]"}]}], "\n", "\t", "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"toNormalCoords", "[", "qp_SurvivalTable", "]"}], ":=", 
  "\[IndentingNewLine]", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "ieigenvect", "}"}], ",", 
    RowBox[{
     RowBox[{"ieigenvect", "=", 
      RowBox[{
       RowBox[{"Transpose", "[", "sJ3", "]"}], ".", 
       RowBox[{"Transpose", "[", 
        RowBox[{"mfsKeyValue", "[", 
         RowBox[{"qp", ",", "\"\<EIGENVECTORS\>\""}], "]"}], "]"}], ".", 
       "sJ3"}]}], ";", 
     RowBox[{"Which", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"qp", "\[LeftDoubleBracket]", 
         RowBox[{"2", ",", "1"}], "\[RightDoubleBracket]"}], "==", 
        "\"\<X\>\""}], ",", 
       RowBox[{"SurvivalTable", "[", 
        RowBox[{
         RowBox[{"First", "[", "qp", "]"}], ",", 
         RowBox[{"{", 
          RowBox[{
          "\"\<XN\>\"", ",", "\"\<PXN\>\"", ",", "\"\<YN\>\"", ",", 
           "\"\<PYN\>\"", ",", "\"\<TN\>\"", ",", "\"\<PTN\>\"", ",", 
           "\"\<SURVIVED\>\""}], "}"}], ",", 
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"ieigenvect", ".", 
                RowBox[{"Take", "[", 
                 RowBox[{"#1", ",", "6"}], "]"}]}], ",", 
               RowBox[{"Last", "[", "#1", "]"}]}], "}"}], "]"}], "&"}], ")"}],
           "/@", 
          RowBox[{"Last", "[", "qp", "]"}]}]}], "]"}], ",", 
       RowBox[{
        RowBox[{"qp", "\[LeftDoubleBracket]", 
         RowBox[{"2", ",", "1"}], "\[RightDoubleBracket]"}], "==", 
        "\"\<XN\>\""}], ",", "True"}], "]"}]}]}], "]"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
Deal with simple lists first and then overload to more complicated objects\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"toActionAngle", "[", 
   RowBox[{"{", 
    RowBox[{"x_", ",", "px_"}], "}"}], "]"}], ":=", 
  RowBox[{"{", 
   RowBox[{
    FractionBox[
     RowBox[{
      SuperscriptBox["x", "2"], "+", 
      SuperscriptBox["px", "2"]}], "2"], ",", 
    RowBox[{"-", 
     FractionBox[
      RowBox[{"ArcTan", "[", 
       RowBox[{"x", ",", "px"}], "]"}], 
      RowBox[{"2", "\[Pi]"}]]}]}], "}"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"toActionAngle", "[", 
   RowBox[{"xpx_List", "/;", 
    RowBox[{"EvenQ", "[", 
     RowBox[{"Length", "[", "xpx", "]"}], "]"}]}], "]"}], ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{"toActionAngle", "/@", 
    RowBox[{"Partition", "[", 
     RowBox[{"xpx", ",", "2"}], "]"}]}], "]"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
When there is an extra element, leave it alone (for survival data).\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"toActionAngle", "[", 
   RowBox[{"xpx_List", "/;", 
    RowBox[{"OddQ", "[", 
     RowBox[{"Length", "[", "xpx", "]"}], "]"}]}], "]"}], ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"toActionAngle", "[", 
      RowBox[{"Drop", "[", 
       RowBox[{"xpx", ",", 
        RowBox[{"-", "1"}]}], "]"}], "]"}], ",", 
     RowBox[{"Last", "[", "xpx", "]"}]}], "}"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
This is the original version by KG.  Should be rewritten exploiting above but \
it's OK for now.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"toActionAngle", "[", "qp_TrackTable", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "qptemp", "}"}], ",", "\n", "\t\t", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"qp", "[", 
        RowBox[{"[", 
         RowBox[{"2", ",", "1"}], "]"}], "]"}], "!=", "\"\<IX\>\""}], ",", 
      "\n", "\t\t\t", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"qptemp", "=", 
         RowBox[{"Last", "[", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"qp", "[", 
              RowBox[{"[", 
               RowBox[{"2", ",", "1"}], "]"}], "]"}], "==", "\"\<XN\>\""}], 
            ",", "qp", ",", 
            RowBox[{"toNormalCoords", "[", "qp", "]"}]}], "]"}], "]"}]}], ";",
         "\n", "\t\t\t\t", 
        RowBox[{"qptemp", "=", 
         RowBox[{"Map", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{"Partition", "[", 
              RowBox[{"#", ",", "2"}], "]"}], ")"}], "&"}], ",", "qptemp", 
           ",", 
           RowBox[{"{", "2", "}"}]}], "]"}]}], ";", "\n", "\t\t\t\t", 
        RowBox[{"TrackTable", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"First", "[", "qp", "]"}], ",", "\n", "\t\t\t\t\t", 
          RowBox[{"{", 
           RowBox[{
           "\"\<IX\>\"", ",", "\"\<PHIX\>\"", ",", "\"\<IY\>\"", ",", 
            "\"\<PHIY\>\"", ",", "\"\<IT\>\"", ",", "\"\<PHIT\>\""}], "}"}], 
          ",", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"qptemp", "=", 
             RowBox[{"Map", "[", 
              RowBox[{
               RowBox[{
                RowBox[{"(", 
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"First", "[", "#", "]"}], "=!=", "Null"}], ",", 
                   "\n", "\t\t\t\t\t\t\t", 
                   RowBox[{"{", 
                    RowBox[{
                    FractionBox[
                    RowBox[{"(", 
                    RowBox[{"Plus", "@@", 
                    RowBox[{"(", 
                    RowBox[{"#", "^", "2"}], ")"}]}], ")"}], "2"], ",", 
                    FractionBox[
                    RowBox[{"-", 
                    RowBox[{"ArcTan", "@@", "#"}]}], 
                    RowBox[{"2", "\[Pi]"}]]}], "}"}], ",", "#"}], "]"}], 
                 ")"}], "&"}], ",", "\n", "\t\t\t\t\t\t\t", "qptemp", ",", 
               RowBox[{"{", "3", "}"}]}], "]"}]}], ";", "\n", "\t\t\t\t\t\t", 
            
            RowBox[{"Map", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{"Join", "[", " ", 
                 RowBox[{
                  RowBox[{"#", "[", 
                   RowBox[{"[", "1", "]"}], "]"}], ",", 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "2", "]"}], "]"}], ",", 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "3", "]"}], "]"}]}], " ", "]"}], ")"}], "&"}],
               ",", "qptemp", ",", 
              RowBox[{"{", "2", "}"}]}], "]"}]}], "\n", "\t\t", ")"}]}], "\n",
          "\t\t", "]"}]}], "\n", "\t\t", ")"}], ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"Message", "[", 
        RowBox[{"toActionAngle", "::", "warning"}], "]"}], ";", "qp"}]}], 
     "\n", "\t\t", "]"}]}], "\n", "\t", "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"toActionAngle", "[", "qp_SurvivalTable", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\n", "\t\t", 
    RowBox[{"Which", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{
       RowBox[{"qp", "[", 
        RowBox[{"[", 
         RowBox[{"2", ",", "1"}], "]"}], "]"}], "==", "\"\<X\>\""}], ",", 
      RowBox[{"toActionAngle", "[", 
       RowBox[{"toNormalCoords", "[", "qp", "]"}], "]"}], ",", "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"qp", "[", 
        RowBox[{"[", 
         RowBox[{"2", ",", "1"}], "]"}], "]"}], "==", "\"\<XN\>\""}], ",", 
      RowBox[{"SurvivalTable", "[", 
       RowBox[{
        RowBox[{"First", "[", "qp", "]"}], ",", 
        RowBox[{"{", 
         RowBox[{
         "\"\<IX\>\"", ",", "\"\<PHIX\>\"", ",", "\"\<IY\>\"", ",", 
          "\"\<PHIY\>\"", ",", "\"\<IT\>\"", ",", "\"\<PHIT\>\"", ",", 
          "\"\<SURVIVED\>\""}], "}"}], ",", "\n", "\t\t\t\t", 
        RowBox[{"toActionAngle", "/@", 
         RowBox[{"Last", "[", "qp", "]"}]}]}], "\n", "\t\t\t", "]"}], ",", 
      "\n", "\t\t\t", 
      RowBox[{
       RowBox[{"qp", "\[LeftDoubleBracket]", 
        RowBox[{"2", ",", "1"}], "\[RightDoubleBracket]"}], "==", 
       "\"\<IX\>\""}], ",", "qp", ",", "\n", "\t\t\t", "True", ",", 
      RowBox[{"(*", " ", 
       RowBox[{"message", ",", " ", 
        RowBox[{"leave", " ", "alone"}]}], " ", "*)"}], "\t", "qp"}], "\t\t", 
     "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}]], "Input",
 InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{

Cell["Power Spectra and phase spectra", "Subsubsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"powerSpectrum", "[", "data_List", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "trans", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"trans", "=", 
      RowBox[{
       RowBox[{"Abs", "[", 
        RowBox[{"Fourier", "[", 
         RowBox[{"notLost", "@", "data"}], "]"}], "]"}], "^", "2"}]}], ";", 
     "\n", "\t\t", 
     RowBox[{"trans", "=", 
      RowBox[{"Transpose", "[", 
       RowBox[{"{", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"f", "/", 
            RowBox[{"Length", "[", "trans", "]"}]}], ",", 
           RowBox[{"{", 
            RowBox[{"f", ",", "0", ",", 
             RowBox[{
              RowBox[{"Length", "[", "trans", "]"}], "-", "1"}]}], "}"}]}], 
          "]"}], ",", "\n", "\t\t\t\t\t", "trans"}], "}"}], "]"}]}], ";", 
     "\n", "\t\t\t\t", 
     RowBox[{"Take", "[", 
      RowBox[{"trans", ",", 
       RowBox[{"IntegerPart", "[", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "trans", "]"}], "/", "2"}], "+", "1"}], 
        "]"}]}], "]"}]}]}], "\n", "\t\t", "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"powerSpectrum", "[", 
   RowBox[{"qp_TrackTable", ",", "particle_Integer", ",", "key_String"}], 
   "]"}], ":=", 
  RowBox[{"powerSpectrum", "[", 
   RowBox[{"notLost", "@", 
    RowBox[{"mfsColumn", "[", 
     RowBox[{"qp", ",", "particle", ",", "key"}], "]"}]}], "]"}]}]], "Input",
 InitializationCell->True],

Cell["Following added for completeness, 16 Aug 2000, JMJ.", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"phaseSpectrum", "[", "data_List", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "trans", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"trans", "=", 
      RowBox[{
       RowBox[{"Arg", "[", 
        RowBox[{"Fourier", "[", 
         RowBox[{"notLost", "@", "data"}], "]"}], "]"}], "^", "2"}]}], ";", 
     "\n", "\t\t", 
     RowBox[{"trans", "=", 
      RowBox[{"Transpose", "[", 
       RowBox[{"{", "\n", "\t\t\t\t\t", 
        RowBox[{
         RowBox[{"Table", "[", 
          RowBox[{
           RowBox[{"f", "/", 
            RowBox[{"Length", "[", "trans", "]"}]}], ",", 
           RowBox[{"{", 
            RowBox[{"f", ",", "0", ",", 
             RowBox[{
              RowBox[{"Length", "[", "trans", "]"}], "-", "1"}]}], "}"}]}], 
          "]"}], ",", "\n", "\t\t\t\t\t", "trans"}], "}"}], "]"}]}], ";", 
     "\n", "\t\t\t\t", 
     RowBox[{"Take", "[", 
      RowBox[{"trans", ",", 
       RowBox[{"IntegerPart", "[", " ", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", "trans", "]"}], "/", "2"}], "+", "1"}], 
        "]"}]}], "]"}]}]}], "\n", "\t\t", "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"phaseSpectrum", "[", 
   RowBox[{"qp_TrackTable", ",", "particle_Integer", ",", "key_String"}], 
   "]"}], ":=", 
  RowBox[{"phaseSpectrum", "[", 
   RowBox[{"notLost", "@", 
    RowBox[{"mfsColumn", "[", 
     RowBox[{"qp", ",", "particle", ",", "key"}], "]"}]}], "]"}]}]], "Input",
 InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{

Cell["Strobing an orbit", "Subsubsection"],

Cell["\<\
This function probes an input list and thus can be useful for visualisation \
of long lists of data.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"strobe", "[", 
   RowBox[{"ll_List", ",", 
    RowBox[{"{", 
     RowBox[{"m_Integer", ",", "n_Integer"}], "}"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{"Transpose", "[", 
    RowBox[{"Partition", "[", 
     RowBox[{"ll", ",", "m"}], "]"}], " ", "]"}], " ", "[", 
   RowBox[{"[", " ", 
    RowBox[{
     RowBox[{"Mod", "[", 
      RowBox[{
       RowBox[{"n", "-", "1"}], ",", "m"}], "]"}], "+", "1"}], "]"}], 
   "]"}]}]], "Input",
 InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{

Cell["Beam intensity and losses", "Subsubsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"notLost", "[", "x_List", "]"}], ":=", 
  RowBox[{"TakeWhile", "[", 
   RowBox[{"x", ",", "NumberQ"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
The number of turns a particle survives in a storage ring is one of the \
important parameters (listable).\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"turnsSurvived", "[", 
   RowBox[{"qp_TrackTable", ",", "particle_Integer"}], "]"}], ":=", 
  RowBox[{"Length", "[", 
   RowBox[{"notLost", "@", 
    RowBox[{"mfsColumn", "[", 
     RowBox[{"qp", ",", "particle", ",", "\"\<X\>\""}], "]"}]}], 
   "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"turnsSurvived", "[", 
   RowBox[{"qp_TrackTable", ",", "particles_List"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"(", 
     RowBox[{"Length", "[", 
      RowBox[{"notLost", "@", 
       RowBox[{"mfsColumn", "[", 
        RowBox[{"qp", ",", "#", ",", "\"\<X\>\""}], "]"}]}], "]"}], ")"}], 
    "&"}], "/@", "particles"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
The function returning a list of fractions of the initial beam intensity.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"intensity", "[", "qp_TrackTable", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"ll", ",", "ptcles"}], "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"ptcles", "=", 
      RowBox[{"mfsKeyValue", "[", 
       RowBox[{"qp", ",", "\"\<PARTICLES\>\""}], "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"ll", "=", 
      RowBox[{"Map", "[", "\n", "\t", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"First", "[", "#", "]"}], "=!=", "Null"}], ",", 
            RowBox[{"First", "[", "#", "]"}], ",", "Null"}], "]"}], "\n", 
          "\t\t", ")"}], "&"}], ",", 
        RowBox[{"Last", "[", "qp", "]"}], ",", 
        RowBox[{"{", "2", "}"}]}], "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"ll", "=", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"Select", "[", 
           RowBox[{"#", ",", "NumberQ"}], "]"}], ")"}], "&"}], ",", "ll", ",", 
        RowBox[{"{", "1", "}"}]}], "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"Map", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Length", "[", "#", "]"}], "/", "ptcles"}], ")"}], "&"}], 
       ",", "ll"}], "]"}]}]}], "\n", "\t\t", "]"}]}]], "Input",
 InitializationCell->True],

Cell[TextData[{
 "Transform a ",
 StyleBox["TrackTable", "Input"],
 " object into a ",
 StyleBox["SurvivalTable", "Input"],
 " object."
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"toSurvival", "[", "qp_TrackTable", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"np", ",", "turns"}], "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"np", "=", 
      RowBox[{"mfsKeyValue", "[", 
       RowBox[{"qp", ",", "\"\<PARTICLES\>\""}], "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"turns", "=", 
      RowBox[{"mfsKeyValue", "[", 
       RowBox[{"qp", ",", "\"\<TURNS\>\""}], "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"SurvivalTable", "[", 
      RowBox[{
       RowBox[{"First", "[", "qp", "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"Append", "[", 
        RowBox[{
         RowBox[{"Part", "[", 
          RowBox[{"qp", ",", "2"}], "]"}], ",", "\"\<SURVIVED\>\""}], "]"}], 
       ",", "\n", "\t\t\t", 
       RowBox[{"Transpose", "[", 
        RowBox[{"Join", "[", "\n", "\t\t\t\t\t", 
         RowBox[{
          RowBox[{"Transpose", "[", 
           RowBox[{"First", "[", 
            RowBox[{"mfsColumn", "[", "qp", "]"}], "]"}], "]"}], ",", "\n", 
          "\t\t\t\t\t", 
          RowBox[{"{", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"turnsSurvived", "[", 
               RowBox[{"qp", ",", "#"}], "]"}], "&"}], " ", "/@", " ", 
             RowBox[{"Range", "[", 
              RowBox[{"1", ",", "np"}], "]"}]}], ")"}], "}"}]}], "\n", 
         "\t\t\t\t", "]"}], "\n", "\t\t\t", "]"}]}], "\n", "\t\t", "]"}]}]}], 
   "\n", "\t", "]"}]}]], "Input",
 InitializationCell->True]
}, Closed]],

Cell[CellGroupData[{

Cell["Coherent  motion", "Subsubsection"],

Cell[BoxData[
 RowBox[{
  RowBox[{"centreOfGravity", "[", 
   RowBox[{"qp_TrackTable", ",", "key_String"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"Plus", " ", "@@", " ", "#"}], ")"}], "&"}], " ", "/@", " ", 
    RowBox[{"Transpose", "[", 
     RowBox[{
      RowBox[{"mfsColumn", "[", 
       RowBox[{"qp", ",", "key"}], "]"}], "/.", 
      RowBox[{"Null", "->", "0"}]}], "]"}]}], "/", 
   RowBox[{"mfsKeyValue", "[", 
    RowBox[{"qp", ",", "\"\<PARTICLES\>\""}], "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"centreOfGravity", "[", 
   RowBox[{"qp_TrackTable", ",", "keys_List"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"centreOfGravity", "[", 
     RowBox[{"qp", ",", "#"}], "]"}], "&"}], "/@", "keys"}]}]], "Input",
 InitializationCell->True]
}, Closed]]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Additional definitions for  functions in the basic mfs package\
\>", "Subsection",
 InitializationCell->True],

Cell[TextData[{
 "The ",
 StyleBox["trackTable", "Input"],
 " data structure has logical features in common with the basic ",
 StyleBox["mfs", "Input"],
 " data type.  In many cases the internal structure is also similar.  This \
allows us to implement some functions on ",
 StyleBox["trackTable", "Input"],
 " objects using the code developed for ",
 StyleBox["mfs", "Input"],
 " objects and simply replacing the Head of the object by mfs.  These \
functions are unprotected and then re-protected in this package."
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsTypes", "=", 
   RowBox[{"Union", "[", 
    RowBox[{"mfsTypes", ",", 
     RowBox[{"{", 
      RowBox[{"TrackTable", ",", "SurvivalTable"}], "}"}]}], "]"}]}], 
  ";"}]], "Input",
 InitializationCell->True],

Cell["\<\
It is worth noting that mfsKeyValue works on lists (and lists of lists) of \
keys.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsKeyValue", "[", 
   RowBox[{"qp_TrackTable", ",", "keyss_"}], "]"}], ":=", 
  RowBox[{"mfsKeyValue", "[", 
   RowBox[{
    RowBox[{"mfs", " ", "@@", " ", "qp"}], ",", "keyss"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsKeyValue", "[", 
   RowBox[{"qp_SurvivalTable", ",", "keyss_"}], "]"}], ":=", 
  RowBox[{"mfsKeyValue", "[", 
   RowBox[{
    RowBox[{"mfs", " ", "@@", " ", "qp"}], ",", "keyss"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsKeyNames", "[", "qp_TrackTable", "]"}], ":=", 
  RowBox[{"mfsKeyNames", "[", 
   RowBox[{"mfs", " ", "@@", " ", "qp"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsKeyNames", "[", "qp_SurvivalTable", "]"}], ":=", 
  RowBox[{"mfsKeyNames", "[", 
   RowBox[{"mfs", " ", "@@", " ", "qp"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumnNames", "[", "qp_TrackTable", "]"}], ":=", 
  RowBox[{"mfsColumnNames", "[", 
   RowBox[{"mfs", "@@", "qp"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumnNames", "[", "qp_SurvivalTable", "]"}], ":=", 
  RowBox[{"mfsColumnNames", "[", 
   RowBox[{"mfs", "@@", "qp"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsInterpretKeys", "[", "qp_TrackTable", "]"}], ":=", 
  RowBox[{"mfsInterpretKeys", "[", 
   RowBox[{"mfs", " ", "@@", " ", "qp"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsInterpretKeys", "[", "qp_SurvivalTable", "]"}], ":=", 
  RowBox[{"mfsInterpretKeys", "[", 
   RowBox[{"mfs", " ", "@@", " ", "qp"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsAddKey", "[", 
   RowBox[{"qp_TrackTable", ",", 
    RowBox[{"{", 
     RowBox[{"key_String", ",", "value_"}], "}"}]}], "]"}], ":=", 
  RowBox[{"TrackTable", "@@", " ", 
   RowBox[{"mfsAddKey", "[", 
    RowBox[{
     RowBox[{"mfs", " ", "@@", " ", "qp"}], ",", 
     RowBox[{"{", 
      RowBox[{"key", ",", "value"}], "}"}]}], "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsAddKey", "[", 
   RowBox[{"qp_SurvivalTable", ",", 
    RowBox[{"{", 
     RowBox[{"key_String", ",", "value_"}], "}"}]}], "]"}], ":=", 
  RowBox[{"SurvivalTable", "@@", "\n", 
   RowBox[{"mfsAddKey", "[", 
    RowBox[{
     RowBox[{"mfs", " ", "@@", " ", "qp"}], ",", 
     RowBox[{"{", 
      RowBox[{"key", ",", "value"}], "}"}]}], "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qp_TrackTable", ",", "particle_Integer", ",", "key_String"}], 
   "]"}], ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"(", 
      RowBox[{"#", "[", 
       RowBox[{"[", 
        RowBox[{"particle", ",", 
         RowBox[{"Flatten", "[", 
          RowBox[{"Position", "[", 
           RowBox[{
            RowBox[{"mfsColumnNames", "[", "qp", "]"}], ",", "key"}], "]"}], 
          "]"}]}], "]"}], "]"}], ")"}], "&"}], " ", "/@", 
    RowBox[{"Last", "[", "qp", "]"}]}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qp_SurvivalTable", ",", "key_String"}], "]"}], ":=", 
  RowBox[{"mfsColumn", "[", 
   RowBox[{
    RowBox[{"mfs", "@@", "qp"}], ",", "key"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qp_SurvivalTable", ",", "particle_Integer", ",", "key_String"}], 
   "]"}], ":=", 
  RowBox[{
   RowBox[{"mfsColumn", "[", 
    RowBox[{
     RowBox[{"mfs", "@@", "qp"}], ",", "key"}], "]"}], "\[LeftDoubleBracket]",
    "particle", "\[RightDoubleBracket]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qp_TrackTable", ",", "particle_Integer", ",", "keys_List"}], 
   "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"mfsColumn", "[", 
     RowBox[{"qp", ",", "particle", ",", "#"}], "]"}], "&"}], " ", "/@", " ", 
   "keys"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qp_SurvivalTable", ",", "keys_List"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"mfsColumn", "[", 
     RowBox[{"qp", ",", "#"}], "]"}], "&"}], " ", "/@", " ", 
   "keys"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qp_SurvivalTable", ",", "particle_Integer", ",", "keys_List"}], 
   "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"mfsColumn", "[", 
     RowBox[{"qp", ",", "particle", ",", "#"}], "]"}], "&"}], " ", "/@", " ", 
   "keys"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qp_TrackTable", ",", "key_String"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"mfsColumn", "[", 
     RowBox[{"qp", ",", "#", ",", "key"}], "]"}], "&"}], "/@", 
   RowBox[{"Table", "[", 
    RowBox[{"i", ",", 
     RowBox[{"{", 
      RowBox[{"i", ",", 
       RowBox[{"mfsKeyValue", "[", 
        RowBox[{"qp", ",", "\"\<PARTICLES\>\""}], "]"}]}], "}"}]}], 
    "]"}]}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", "qp_TrackTable", "]"}], ":=", 
  RowBox[{"Last", "[", "qp", "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", "qp_SurvivalTable", "]"}], ":=", 
  RowBox[{"Last", "[", "qp", "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Restore protection of redefined symbols", "Subsection",
 InitializationCell->True],

Cell["Protect[ Evaluate[protected] ];", "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["End the private context", "Subsection",
 InitializationCell->True],

Cell["End[ ]", "Input",
 InitializationCell->True]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Epilog", "Section",
 InitializationCell->True],

Cell["This section protects exported symbols and ends the package.", "Text"],

Cell[CellGroupData[{

Cell["Protect exported symbol", "Subsection",
 InitializationCell->True],

Cell["\<\
Protect[makeTrackTable,notLost,strobe,intensity,turnsSurvived,toNormalCoords,\
toActionAngle,centreOfGravity,powerSpectrum];\
\>", "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["End the package context", "Subsection",
 InitializationCell->True],

Cell["EndPackage[ ]", "Input",
 InitializationCell->True],

Cell["\<\
Open the palette to make it easy.  This has to be done outside the package \
context.\
\>", "Text"],

Cell[BoxData[
 RowBox[{"If", "[", 
  RowBox[{"$Remote", ",", "Null", ",", 
   RowBox[{"NotebookOpen", "[", 
    RowBox[{"ToFileName", "[", 
     RowBox[{
      RowBox[{"packageSourceDirectory", "[", "\"\<TrackTable\>\"", "]"}], 
      ",", "\"\<TrackTablePalette.nb\>\""}], "]"}], "]"}]}], "]"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{"Print", "[", 
  "\"\<Version 3.1 of Madtomma`Mfs`TrackTable` loaded.  Name change for \
symplecticJ->SymplecticJ\>\"", "]"}]], "Input",
 InitializationCell->True]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Basic documentation for TrackTable package", "Section"],

Cell["\<\
A quick way to document this small package is to list the names of the \
functions it exports [1]:\
\>", "Text"],

Cell[BoxData[
 RowBox[{"Names", "[", "\"\<Madtomma`Mfs`TrackTable`*\>\"", "]"}]], "Input",
 CellTags->"Setup section"],

Cell["\<\
and then print their usage messages that say what they do.  Normally these \
messages are accessible by typing, e.g., \
\>", "Text"],

Cell[BoxData[
 RowBox[{"?", "intensity"}]], "Input"],

Cell["\<\
but the following utility function generates the same information in \
formatted form (the following subsections!).\
\>", "Text"],

Cell[BoxData[
 RowBox[{"UsageCells", "[", 
  RowBox[{"Names", "[", "\"\<Madtomma`Mfs`TrackTable`*\>\"", "]"}], 
  "]"}]], "Input"]
}, Closed]],

Cell[CellGroupData[{

Cell["Basic documentation for Mfs package", "Section"],

Cell[TextData[{
 "The TrackTable package loads and is based on the ",
 ButtonBox["basic Mfs package",
  BaseStyle->"Hyperlink",
  ButtonData:>"Mfs.nb"],
 " so it may be convenient to generate its usage messages here."
}], "Text"],

Cell[BoxData[
 RowBox[{"UsageCells", "[", 
  RowBox[{"Names", "[", "\"\<Madtomma`Mfs`Mfs`*\>\"", "]"}], "]"}]], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["User's Guide and Examples", "Section",
 CellTags->"Examples section"],

Cell[TextData[{
 "This section runs through the basic capabilities of the package using a \
small sample data file (based on very-short term tracking of a kicked beam in \
LEP).  The operations performed are also kept rather simple applying one or \
two functions at a time. A realistic application may deal with many much \
larger data files.  If required, the functions may be combined in arbitrarily \
complex ways, both with each other and with the many other functions \
available in the ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " environment."
}], "Text"],

Cell[CellGroupData[{

Cell["Creation of a TrackTable object", "Subsection",
 CellTags->"Examples section"],

Cell["\<\
The following expression finds the sample data file on any computer system \
(no need to understand it)\
\>", "Text"],

Cell[BoxData[
 RowBox[{"sampleFile", "=", 
  RowBox[{"ToFileName", "[", 
   RowBox[{
    RowBox[{"Flatten", "[", 
     RowBox[{"{", 
      RowBox[{
       RowBox[{"packageSourceDirectory", "[", "\"\<TrackTable\>\"", "]"}], 
       ",", "\"\<Examples\>\""}], "}"}], "]"}], ",", "\"\<qkick.tfs\>\""}], 
   "]"}]}]], "Input"],

Cell["\<\
Create and move to a directory of your own to use as working space for the \
examples, e.g., \
\>", "Text"],

Cell[BoxData[
 RowBox[{"workDir", "=", 
  RowBox[{"ToFileName", "[", 
   RowBox[{"{", 
    RowBox[{"$TemporaryPrefix", ",", "\"\<TrackTableWorkspace\>\""}], "}"}], 
   "]"}]}]], "Input"],

Cell[BoxData[
 RowBox[{"CreateDirectory", "[", "workDir", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"SetDirectory", "[", "workDir", "]"}]], "Input"],

Cell[TextData[{
 "To create a ",
 StyleBox["TrackTable", "Input"],
 " data object from a file, first create an ",
 StyleBox["mfs", "Input"],
 " object with the function ",
 StyleBox["tfsRead ", "Input"],
 "[",
 ButtonBox["4",
  BaseStyle->"Hyperlink",
  ButtonData:>"Mfs.nb"],
 "], then apply ",
 StyleBox["makeTrackTable", "Input"],
 " to it."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qpt", "=", 
   RowBox[{"makeTrackTable", "[", 
    RowBox[{"tfsRead", "[", 
     RowBox[{"sampleFile", ",", 
      RowBox[{"Verbose", "\[Rule]", "False"}]}], "]"}], "]"}]}], 
  ";"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "The error messages are harmless and explained in \"",
 ButtonBox["Warnings",
  BaseStyle->"Hyperlink",
  ButtonData:>"Warnings"],
 "\" above."
}], "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Extracting information", "Subsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "Show the list of data types in the ",
 StyleBox["Mfs", "Input"],
 " class:"
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData["mfsTypes"], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "Now most of function defined in the ",
 StyleBox["Mfs.m", "Input"],
 " package can be used for all ",
 StyleBox["mfsTypes", "Input"],
 " data objects. This is also indicated in thier usage messages.  For \
example, the usage message for ",
 StyleBox["mfsColumn", "Input"],
 " is now longer:"
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"?", "mfsColumn"}]], "Input",
 CellTags->"Examples section"],

Cell["Find out what is in the object used for the examples.", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfsKeyNames", "[", "qpt", "]"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "Note that this list is different from that of the intermediate ",
 StyleBox["mfs", "Input"],
 " object because the closed orbit, eigenvector components and emittances \
have been combined into vectors and matrices."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfsKeyNames", "[", 
  RowBox[{"tfsRead", "[", 
   RowBox[{"sampleFile", ",", 
    RowBox[{"Verbose", "\[Rule]", "False"}]}], "]"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
There is information about the number of particles and the maximum number of \
turns survived by any of them.\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfsKeyValue", "[", 
  RowBox[{"qpt", ",", 
   RowBox[{"{", 
    RowBox[{"\"\<PARTICLES\>\"", ",", "\"\<TURNS\>\""}], "}"}]}], 
  "]"}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
and the emittances that may have been used to define units for the initial \
conditions:\
\>", "Text"],

Cell[BoxData[
 RowBox[{"mfsKeyValue", "[", 
  RowBox[{"qpt", ",", "\"\<EMITTANCES\>\""}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "Alternatively, as with ",
 StyleBox["mfs", "Input"],
 " objects, we can create variables from the TFS header block (this may be \
convenient when we have only one ",
 StyleBox["TrackTable", "Input"],
 " object to deal with)."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsInterpretKeys", "[", "qpt", "]"}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell["These can then be used in calculations", "Text",
 CellTags->"Examples section"],

Cell[BoxData["EMITTANCES"], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "Show the names of the data columns in our example ",
 StyleBox["TrackTable", "Input"],
 " object ",
 StyleBox["qpt", "Input"],
 "."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfsColumnNames", "[", "qpt", "]"}]], "Input",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Closed orbit", "Subsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "This does not work now, although it would have worked with the ",
 StyleBox["mfs", "Input"],
 " object from which the ",
 StyleBox["TrackTable", "Input"],
 " object was derived."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfsKeyValue", "[", 
  RowBox[{"qpt", ",", "\"\<{X,PX}\>\""}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell["Instead, now we have to work with vectors.", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfsKeyValue", "[", 
  RowBox[{"qpt", ",", "\"\<ORBIT\>\""}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
The MAD Version used to create the sample file, has a known inconsistency in \
that the last two components of the closed orbit are not transmitted to the \
TRACK table file. This should be fixed in later versions.\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfsKeyValue", "[", 
  RowBox[{"qpt", ",", "\"\<ORIGIN\>\""}], "]"}]], "Input",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Phase Space Coordinates", "Subsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "Extract data from qpt, for example plot the ",
 Cell[BoxData[
  FormBox["x", TraditionalForm]]],
 "-coordinate of the trajectory of particle number 3."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"mfsColumn", "[", 
    RowBox[{"qpt", ",", "3", ",", "\"\<X\>\""}], "]"}], ",", 
   RowBox[{"PlotJoined", "\[Rule]", "True"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "The ",
 StyleBox["mfsColumn", "Input"],
 " function is listable in the sense that it can operates on lists of column \
names as its second argument.  We can get the coordinates in synchrotron \
phase space from"
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"tpt", "=", 
   RowBox[{"mfsColumn", "[", 
    RowBox[{"qpt", ",", "3", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<T\>\"", ",", "\"\<DELTAP\>\""}], "}"}]}], "]"}]}], 
  ";"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "and plot them with the help of another package [",
 ButtonBox["5",
  BaseStyle->"Hyperlink",
  ButtonData:>"ColorListPlot.nb"],
 "]"
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<Madtomma`Mfs`ColorListPlot`\>\"", "]"}]], "Input",\

 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"colorListPlot", "[", 
  RowBox[{
   RowBox[{"Transpose", "[", "tpt", "]"}], ",", 
   RowBox[{"Prolog", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"PointSize", "[", "0.02", "]"}], "}"}]}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}], ",", 
   RowBox[{"PlotJoined", "\[Rule]", "True"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
The particles were all started off on the closed orbit except for a radial \
kick. This picture shows the effect of Radiative Beta-synchrotron Coupling \
(RBSC) into the longitudinal plane (including quantum fluctuations).  \
\>", "Text",
 CellTags->{"Examples section", "RBSC"}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Spectral analysis", "Subsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "The ",
 StyleBox["powerSpectrum ", "Input"],
 "function calculates the power spectrum Fourier transform of coordinates for \
a given particle coordinate and automatically truncates the upper \
(reflection) part of the spectrum. Here we use it for the ",
 Cell[BoxData[
  FormBox["x", TraditionalForm]]],
 " coordinate of particle number 3."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"powerx", "=", 
   RowBox[{"powerSpectrum", "[", 
    RowBox[{"qpt", ",", "3", ",", "\"\<X\>\""}], "]"}]}], ";"}], "\n", 
 RowBox[{"Short", "[", "powerx", "]"}]}], "Input",
 CellTags->"Examples section"],

Cell["\<\
This abbreviated form of the output shows it is a list of ordered pairs of \
\"tune\" values and spectral densities.\
\>", "Text"],

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{"powerx", ",", 
   RowBox[{"PlotJoined", "\[Rule]", "True"}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
The width of the peaks reflects the fact that the orbits in this example are \
short and strongly damped.\
\>", "Text"],

Cell[TextData[{
 "Like many other functions in the package, ",
 StyleBox["powerSpectrum", "Input"],
 " also works, quite naturally, on simple lists."
}], "Text"],

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"powerSpectrum", "[", 
    RowBox[{"Table", "[", 
     RowBox[{
      RowBox[{
       SuperscriptBox[
        RowBox[{"Random", "[", "]"}], "6"], " ", 
       RowBox[{"Cos", "[", 
        RowBox[{"0.3", " ", 
         RowBox[{"(", 
          RowBox[{"2", " ", "\[Pi]", " ", "k"}], ")"}]}], "]"}]}], ",", 
      RowBox[{"{", 
       RowBox[{"k", ",", "1", ",", "100"}], "}"}]}], "]"}], "]"}], ",", 
   RowBox[{"PlotJoined", "\[Rule]", "True"}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}]], "Input"],

Cell[TextData[{
 "The function ",
 StyleBox["phaseSpectrum", "Input"],
 " does a similar job for the phases."
}], "Text"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"phasex", "=", 
   RowBox[{"phaseSpectrum", "[", 
    RowBox[{"qpt", ",", "3", ",", "\"\<X\>\""}], "]"}]}], ";"}], "\n", 
 RowBox[{"Short", "[", "phasex", "]"}]}], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{"phasex", ",", 
   RowBox[{"PlotJoined", "\[Rule]", "True"}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}]], "Input",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Eigenvectors and symplectic transformation matrix", "Subsection",
 CellTags->"Examples section"],

Cell["\<\
The matrix formed from the eigenvectors gives the transformation from \
normalised variables to the usual canonical variables relative to the closed \
orbit.  Here we print the result with reduced precision just for  the sake of \
readability.\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"eM", "=", 
   RowBox[{"mfsKeyValue", "[", 
    RowBox[{"qpt", ",", "\"\<EIGENVECTORS\>\""}], "]"}]}], ";"}], "\n", 
 RowBox[{"MatrixForm", "[", 
  RowBox[{"N", "[", 
   RowBox[{
    RowBox[{"Chop", "[", "eM", "]"}], ",", "4"}], "]"}], "]"}]}], "Input",
 CellTags->"Examples section"],

Cell["This matrix has unit determinant:", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"Det", "[", "eM", "]"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "The package loads a function to construct symplectic unit matrices (this \
actually comes from the ",
 StyleBox["Madtomma`Algebra`Symplectic`", "Input"],
 "  package."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"?", "SymplecticJ"}]], "Input"],

Cell["\<\
and, in particular, the symplectic unit matrix for 3 degrees of freedom.\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"?", "sJ3"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"sJ3", " ", "//", "MatrixForm"}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
We can check symplecticity of the eigenvector matrix.  See the documentation \
for the package Madtomma`Algebra`Symplectic` for further details.\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"SetOptions", "[", 
  RowBox[{"SymplecticQ", ",", 
   RowBox[{"SymplecticTolerance", "\[Rule]", 
    FractionBox["1", 
     SuperscriptBox["10", "10"]]}]}], "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"SymplecticQ", "[", "eM", "]"}]], "Input"],

Cell["Compute the inverse of the transformation:", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"MatrixForm", "[", 
  RowBox[{"eMi", "=", 
   RowBox[{"Chop", "[", 
    RowBox[{"SymplecticInverse", "[", "eM", "]"}], "]"}]}], "]"}]], "Input"],

Cell["\<\
Of course, this is the matrix used in the transformation from the original \
physical  coordinates to the normalised coordinates.  We can verify the \
inversion with\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"MatrixForm", "[", 
  RowBox[{"Chop", "[", 
   RowBox[{"eMi", ".", "eM"}], "]"}], "]"}]], "Input",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Standard Canonical Transformations", "Subsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "The function ",
 StyleBox["toNormalCoords ", "Input"],
 "performs a transformation into normalized coordinates (projections on the \
eigenvectors), returning a new ",
 StyleBox["TrackTable", "Input"],
 " object.  Note that, in this representation, all coordinates and momenta \
are in units of ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SqrtBox[
     StyleBox["Meter", "Input",
      FontFamily->"Times New Roman"]], "."}], TraditionalForm]]]
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qptN", "=", 
   RowBox[{"toNormalCoords", "[", "qpt", "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell["The column names have changed suitably.", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfsColumnNames", "[", "qptN", "]"}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
Now one can investigate particle trajectories in transfomed coordinates.\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"mfsColumn", "[", 
    RowBox[{"qptN", ",", "3", ",", "\"\<TN\>\""}], "]"}], ",", 
   RowBox[{"PlotJoined", "\[Rule]", "True"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
A similar function transforms the data into the action-angle variables of the \
linearised motion:\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qptAA", "=", 
   RowBox[{"toActionAngle", "[", "qptN", "]"}]}], ";"}]], "Input",
 CellTags->{"Examples section", "Examples7.6"}],

Cell["Again, the column names are changed.", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfsColumnNames", "[", "qptAA", "]"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "With ",
 ButtonBox["RBSC",
  BaseStyle->"Hyperlink",
  ButtonData:>"RBSC"],
 ", the synchrotron phase behaves quite unlike that of a harmonic oscillator"
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"mfsColumn", "[", 
    RowBox[{"qptAA", ",", "3", ",", "\"\<PHIT\>\""}], "]"}], ",", 
   RowBox[{"PlotJoined", "\[Rule]", "True"}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
The action variable for horizontal betatron motion decays, more-or-less \
exponentially\
\>", "Text"],

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"mfsColumn", "[", 
    RowBox[{"qptAA", ",", "3", ",", "\"\<IX\>\""}], "]"}], ",", 
   RowBox[{"PlotJoined", "\[Rule]", "True"}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}]], "Input"],

Cell[TextData[{
 "It is sometimes helpful to combine coordinates from two different \
representations.  Here we plot the first action variable against the \
synchrotron coordinate ",
 StyleBox["T", "Input"],
 ", using colour to see how the motion evolves."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"colorListPlot", "[", 
  RowBox[{
   RowBox[{"Transpose", "[", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"mfsColumn", "[", 
       RowBox[{"qpt", ",", "3", ",", "\"\<T\>\""}], "]"}], ",", 
      RowBox[{"mfsColumn", "[", 
       RowBox[{"qptAA", ",", "3", ",", "\"\<IX\>\""}], "]"}]}], "}"}], "]"}], 
   ",", 
   RowBox[{"PlotJoined", "\[Rule]", "True"}]}], "]"}]], "Input",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Lost particles and beam intensity", "Subsection",
 CellTags->"Examples section"],

Cell["\<\
Typically, tracked particles are considered independently of each other (e.g. \
when finding a dynamic aperture).  At other times, it is useful to consider \
the ensemble of tracked particles in a TRACK table as a whole, representing \
the evolution of a \"beam\".    Here we provide some functions relating to \
the intensity and particle losses that may be useful in such applications.\
\>", "Text"],

Cell[TextData[{
 "The examples up to here relied on particle 3 because it was the only one to \
survive to the end of the tracking.   When a particle is lost, its \
coordinates are replaced by ",
 StyleBox["Null", "Input"]
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfsColumn", "[", 
  RowBox[{"qptAA", ",", "15", ",", "\"\<IX\>\""}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "This can be inconvenient, e.g., when plotting, so the function ",
 StyleBox["notLost", "Input"],
 " is provided to extract the orbit up to the turn where the particle is lost:"
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"notLost", "[", 
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qptAA", ",", "15", ",", "\"\<IX\>\""}], "]"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
Another function returns the number of turns particle 4 did before being lost:\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"turnsSurvived", "[", 
  RowBox[{"qpt", ",", "4"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "We can also get the fraction of the original number of particles surviving \
at each turn.  The function ",
 StyleBox["intensity", "Input"],
 " gives the fraction of particles surviving on each turn"
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"Short", "[", 
  RowBox[{
   RowBox[{"decay", "=", 
    RowBox[{"intensity", "[", "qpt", "]"}]}], ",", "6"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell["and makes it easy to plot the \"decay of the beam\"", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{"decay", ",", 
   RowBox[{"PlotJoined", "\[Rule]", "True"}], ",", 
   RowBox[{"ImageSize", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"400", ",", "300"}], "}"}]}], ",", 
   RowBox[{"PlotRange", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"0", ",", "1"}], "}"}]}]}], "]"}]], "Input",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Survival data", "Subsection"],

Cell[TextData[{
 "For many purposes it is not necessary to use all the data on turn-by-turn \
particle coordinates in a ",
 StyleBox["TrackTable", "Input"],
 " object.   It may be enough to know how many turns particles survived for.  \
This the role of the  corresponding ",
 StyleBox["SurvivalTable", "Input"],
 " object created by the function ",
 StyleBox["toSurvival", "Input"],
 ":"
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qps", "=", 
   RowBox[{"toSurvival", "[", "qpt", "]"}]}], ";"}]], "Input"],

Cell["\<\
It contains the same header information but only the initial conditions and \
the number of turns survived.  These are extracted in similar ways.  In our \
example all particles have identical initial conditions\
\>", "Text"],

Cell[BoxData[
 RowBox[{"mfsColumn", "[", 
  RowBox[{"qps", ",", "\"\<PX\>\""}], "]"}]], "Input"],

Cell["\<\
A new column name has been added for the number of turns survived.\
\>", "Text"],

Cell[BoxData[
 RowBox[{"mfsColumn", "[", 
  RowBox[{"qps", ",", "\"\<SURVIVED\>\""}], "]"}]], "Input"],

Cell["\<\
In deterministic tracking this can used to produce many kinds of \"survival \
plots\".  Here, with the help of some standard packages, we can make a plot \
of the \"lifetime distribution\"\
\>", "Text"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<Graphics`Graphics`\>\"", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"Needs", "[", "\"\<Statistics`DataManipulation`\>\"", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"midpoints", "=", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"k", "+", "5"}], ",", 
     RowBox[{"{", 
      RowBox[{"k", ",", "0", ",", "100", ",", "10"}], "}"}]}], "]"}]}], 
  ";"}]], "Input"],

Cell[BoxData[
 RowBox[{"BarChart", "[", 
  RowBox[{"Transpose", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"BinCounts", "[", 
      RowBox[{
       RowBox[{"mfsColumn", "[", 
        RowBox[{"qps", ",", "\"\<SURVIVED\>\""}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"0", ",", "110", ",", "10"}], "}"}]}], "]"}], ",", 
     "midpoints"}], "}"}], "]"}], "]"}]], "Input"],

Cell["\<\
It is often useful to combine survival data from many tracking jobs to \
compile a picture of the dynamic aperture.\
\>", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Strobing", "Subsection",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"?", "strobe"}]], "Input"],

Cell["Take a list of momenta of particle number 4:", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"px", "=", 
  RowBox[{"notLost", "[", 
   RowBox[{"mfsColumn", "[", 
    RowBox[{"qpt", ",", "4", ",", "\"\<PX\>\""}], "]"}], "]"}]}]], "Input",
 CellTags->"Examples section"],

Cell["\<\
We can extract extract every 3rd element of it starting from element number 1.\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"strobe", "[", 
  RowBox[{"px", ",", 
   RowBox[{"{", 
    RowBox[{"3", ",", "1"}], "}"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell["This can be useful when studying resonant phenomena.", "Text",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Centre of gravity motion", "Subsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "To compare with experiment it is useful to calculate the centre-of-gravity \
motion of an ensemble of particles.  If some of them are lost in the process, \
they will carry zero weight.  Thus it is appropriate to substitute zeros for \
the Nulls corresponding to lost particles.  These operations are included in \
the function ",
 StyleBox["centreOfGravity", "Input"],
 ".  Calculate the ",
 Cell[BoxData[
  FormBox["y", TraditionalForm]]],
 " coordiante of the centre-of-gravity motion."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"cgpy", "=", 
   RowBox[{"centreOfGravity", "[", 
    RowBox[{"qpt", ",", "\"\<Y\>\""}], "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"colorListPlot", "[", 
  RowBox[{"cgpy", ",", 
   RowBox[{"PlotRange", "->", "All"}], ",", 
   RowBox[{"Prolog", "->", 
    RowBox[{"{", 
     RowBox[{"PointSize", "[", "0.02", "]"}], "}"}]}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "You can also call this function with a list of column names, eg. x and ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["p", "x"], TraditionalForm]]],
 "."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"cgxpx", "=", 
   RowBox[{"centreOfGravity", "[", 
    RowBox[{"qpt", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<X\>\"", ",", "\"\<PX\>\""}], "}"}]}], "]"}]}], 
  ";"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"colorListPlot", "[", 
  RowBox[{
   RowBox[{"Transpose", "[", "cgxpx", "]"}], ",", 
   RowBox[{"Prolog", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{"PointSize", "[", "0.02", "]"}], "}"}]}], ",", 
   RowBox[{"PlotRange", "\[Rule]", "All"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "Now calculate the centre-of-gravity motion for the action variable (see ",
 ButtonBox["Examples7.6",
  BaseStyle->"Hyperlink",
  ButtonData:>"Examples7.6"],
 ")."
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"cgIX", "=", 
   RowBox[{"centreOfGravity", "[", 
    RowBox[{"qptAA", ",", "\"\<IX\>\""}], "]"}]}], ";"}]], "Input"],

Cell[BoxData[
 RowBox[{"plot1", "=", 
  RowBox[{"ListPlot", "[", 
   RowBox[{"cgIX", ",", 
    RowBox[{"PlotRange", "\[Rule]", "All"}], ",", 
    RowBox[{"Prolog", "\[Rule]", 
     RowBox[{"{", 
      RowBox[{"PointSize", "[", "0.02", "]"}], "}"}]}]}], "]"}]}]], "Input"],

Cell[TextData[{
 "Using the standard function ",
 StyleBox["Fit", "Input"],
 ", you can try to fit the data to an exponential decay  and extract a \
damping time:"
}], "Text"],

Cell[BoxData[
 RowBox[{"th", "=", 
  RowBox[{"Fit", "[", 
   RowBox[{
    RowBox[{"Log", "[", "cgIX", "]"}], ",", 
    RowBox[{"{", 
     RowBox[{"1", ",", "turn"}], "}"}], ",", "turn"}], "]"}]}]], "Input"],

Cell[BoxData[
 RowBox[{"dampingTime", "=", 
  RowBox[{"-", 
   FractionBox["1", 
    RowBox[{"Coefficient", "[", 
     RowBox[{"th", ",", "turn"}], "]"}]]}]}]], "Input"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"plot2", "=", 
   RowBox[{"Plot", "[", 
    RowBox[{
     SuperscriptBox["\[ExponentialE]", "th"], ",", 
     RowBox[{"{", 
      RowBox[{"turn", ",", "1", ",", "109"}], "}"}], ",", 
     RowBox[{"DisplayFunction", "\[Rule]", "Identity"}]}], "]"}]}], 
  ";"}], "\n", 
 RowBox[{"Show", "[", 
  RowBox[{"plot1", ",", "plot2"}], "]"}]}], "Input"],

Cell["\<\
Clearly, the fit to an exponential decay was not really justified in this \
case because of resonant behaviour.\
\>", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Saving TrackTable objects", "Subsection",
 CellTags->"Examples section"],

Cell["\<\
We can save the data in the new form as an alternative to the original TFS \
file.  This will load faster but takes up some more disk space.\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"Save", "[", 
  RowBox[{"\"\<qpt.m\>\"", ",", "qpt"}], "]"}]], "Input",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Avoiding typing and remembering commands", "Subsection",
 CellTags->"palette"],

Cell[TextData[{
 "Mathematica's palettes provide a convenient way to input commands without \
having to remember their names or  syntax. They also help considerably to \
reduce syntax errors when you build up complex expressions. By selecting it \
ant then using the ",
 StyleBox["File/Generate Palette from Selection",
  FontWeight->"Bold"],
 " command, the following input cell can be transformed into a palette \
containing templates for the most useful commands in this package.  "
}], "Text"],

Cell[BoxData[GridBox[{
   {
    ButtonBox[
     RowBox[{"tfsRead", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox[
     RowBox[{"makeTrackTable", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsColumn", "[", 
      RowBox[{
      "\[SelectionPlaceholder]", ",", "\[Placeholder]", ",", 
       "\[Placeholder]"}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsColumn", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", "\[Placeholder]", ",", 
       RowBox[{"{", 
        RowBox[{"\[Placeholder]", ",", "\[Placeholder]"}], "}"}]}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"notLost", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox["sJ3"]},
   {
    ButtonBox[
     RowBox[{"toSurvival", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox[
     RowBox[{"toNormalCoords", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox[
     RowBox[{"toActionAngle", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox[
     RowBox[{"strobe", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", 
       RowBox[{"{", 
        RowBox[{"\[Placeholder]", ",", "\[Placeholder]"}], "}"}]}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"intensity", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox[
     RowBox[{"turnsSurvived", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", "\[Placeholder]"}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"centreOfGravity", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", "\[Placeholder]"}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"powerSpectrum", "[", 
      RowBox[{
      "\[SelectionPlaceholder]", ",", "\[Placeholder]", ",", 
       "\[Placeholder]"}], "]"}]]}
  },
  GridBoxSpacings->{"Columns" -> {
      Offset[0.27999999999999997`], {
       Offset[0.]}, 
      Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
      Offset[0.2], {
       Offset[0.]}, 
      Offset[0.2]}, "RowsIndexed" -> {}},
  GridDefaultElement:>ButtonBox["\\[Placeholder]"]]], "Input"],

Cell[TextData[{
 "The option ",
 StyleBox["ShowGroupOpenCloseIcon->True ", "Input"],
 "is useful in palettes."
}], "Text"],

Cell[TextData[{
 "Note that the palette buttons are most useful if you first select a part of \
an expression on your screen to which you want to apply  them..  For example \
(in Windows, place the cursor anywhere in the word \"",
 StyleBox["mfsColumn", "Input"],
 "\" and press Ctrl-. twice) selecting the whole expression  ",
 StyleBox["mfsColumn[toNormalCoords[qpt],3,\"XN\"]", "Input"],
 " in "
}], "Text"],

Cell[BoxData[
 RowBox[{"colorListPlot", "[", 
  RowBox[{"notLost", "[", 
   RowBox[{"mfsColumn", "[", 
    RowBox[{
     RowBox[{"toNormalCoords", "[", "qpt", "]"}], ",", "3", ",", 
     "\"\<XN\>\""}], "]"}], "]"}], "]"}]], "Input"],

Cell[TextData[{
 "adn then clicking the",
 Cell[BoxData[
  StyleBox[
   ButtonBox[
    RowBox[{"strobe", "[", 
     RowBox[{"\[SelectionPlaceholder]", ",", 
      RowBox[{"{", 
       RowBox[{"\[Placeholder]", ",", "\[Placeholder]"}], "}"}]}], "]"}]],
   FontWeight->"Bold"]]],
 " button, will wrap the function around it (at the position of the selection \
placeholder \[SelectionPlaceholder]`) to give"
}], "Text"],

Cell[BoxData[
 RowBox[{"colorListPlot", "[", 
  RowBox[{"notLost", "[", 
   RowBox[{"strobe", "[", 
    RowBox[{
     RowBox[{"mfsColumn", "[", 
      RowBox[{
       RowBox[{"toNormalCoords", "[", "qpt", "]"}], ",", "3", ",", 
       "\"\<XN\>\""}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"\[Placeholder]", ",", "\[Placeholder]"}], "}"}]}], "]"}], 
   "]"}], "]"}]], "Input"],

Cell["\<\
with the selection already moved to the next argument slot \[Placeholder].  \
The last two arguments can then be filled in (moving between them with the \
TAB key)\
\>", "Text"],

Cell[BoxData[
 RowBox[{"colorListPlot", "[", 
  RowBox[{"notLost", "[", 
   RowBox[{"strobe", "[", 
    RowBox[{
     RowBox[{"mfsColumn", "[", 
      RowBox[{
       RowBox[{"toNormalCoords", "[", "qpt", "]"}], ",", "3", ",", 
       "\"\<XN\>\""}], "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"3", ",", "1"}], "}"}]}], "]"}], "]"}], "]"}]], "Input"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Bibliography", "Section"],

Cell[TextData[{
 StyleBox["[1] Stephen Wolfram, ", "SR"],
 StyleBox["The Mathematica Book", "SO",
  FontSlant->"Italic"],
 StyleBox[", 3rd ed., Wolfram Media/Cambridge University Press, 1996.", "SR"]
}], "Text",
 CellTags->"Wolfram book"],

Cell[TextData[{
 "[2]  Roman Maeder, ",
 StyleBox["Programming in Mathematica",
  FontSlant->"Italic"],
 ", 3rd ed. Addison-Wesley, 1996 and"
}], "Text",
 CellTags->"Meader book"],

Cell[TextData[ButtonBox["\thttp://www.wolfram.com/~maeder/ProgInMath/",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://www.wolfram.com/~maeder/ProgInMath/"], None}]], "Program"],

Cell["\<\
[3] Hans Grote, F. Christoph Iselin, The MAD Program, User's Reference \
Manual, CERN/SL/90-13 (AP), and \
\>", "Text",
 CellTags->"MAD manual"],

Cell[TextData[ButtonBox["\thttp://wwwslap.cern.ch/~fci/mad/mad.html",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://wwwslap.cern.ch/~fci/mad/mad.html"], None}]], "Program"],

Cell[TextData[{
 "[4] J.M. Jowett, ",
 StyleBox["Basic MAD Tables in Mathematica",
  FontSlant->"Italic"],
 ", CERN SL Note 97-55   (1997) and"
}], "Text",
 CellTags->"Mfs.nb"],

Cell[TextData[ButtonBox["\t\
http://wwwslap.cern.ch/~jowett/Madtomma/Mfs/Mfs.html",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://wwwslap.cern.ch/~jowett/Madtomma/Mfs/Mfs.html"], 
   None}]], "Program"],

Cell[TextData[{
 "[5] K. Goral and J.M. Jowett, ",
 StyleBox["Time Evolution and Colour",
  FontSlant->"Italic"],
 ", CERN SL Note 97-56  (1997) and"
}], "Text",
 CellTags->"ColorListPlot.nb"],

Cell[TextData[ButtonBox["\t\
http://wwwslap.cern.ch/~jowett/Madtomma/Mfs/ColorListPlot.html",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://wwwslap.cern.ch/~jowett/Madtomma/Mfs/ColorListPlot.html"], 
   None}]], "Program"]
}, Open  ]]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
ScreenStyleEnvironment->"Working",
WindowToolbars->{"RulerBar", "EditBar"},
InitializationCellEvaluation->False,
CellGrouping->Automatic,
WindowSize->{728, 668},
WindowMargins->{{123, Automatic}, {Automatic, 0}},
DockedCells->FEPrivate`FrontEndResource[
 "FEExpressions", "CompatibilityToolbar"],
PrintingCopies->1,
PrintingPageRange->{Automatic, Automatic},
PrivateNotebookOptions->{"ColorPalette"->{RGBColor, 128}},
ShowCellLabel->True,
RenderingOptions->{"ObjectDithering"->True,
"RasterDithering"->False},
PrivateFontOptions->{"FontType"->"Outline"},
FrontEndVersion->"8.0 for Microsoft Windows (32-bit) (February 23, 2011)",
StyleDefinitions->Notebook[{
   Cell[
    CellGroupData[{
      Cell["Style Definitions", "Subtitle"], 
      Cell[
      "Modify the definitions below to change the default appearance of all \
cells in a given style.\nMake modifications to any definition using commands \
in the Format menu.", "Text"], 
      Cell[
       CellGroupData[{
         Cell["Style Environment Names", "Section"], 
         Cell[
          StyleData[All, "Working"], PageWidth -> WindowWidth, 
          CellBracketOptions -> {"Color" -> RGBColor[0.4, 0, 0.239994]}, 
          ScriptMinSize -> 9, Background -> None], 
         Cell[
          StyleData[All, "Presentation"], PageWidth -> PaperWidth, 
          CellBracketOptions -> {"Color" -> RGBColor[0, 0, 1]}, ScriptMinSize -> 
          9], 
         Cell[
          StyleData[All, "Printout"], PageWidth -> PaperWidth, ShowCellLabel -> 
          False, ImageSize -> {200, 200}, 
          PrivateFontOptions -> {"FontType" -> "Outline"}]}, Open]], 
      Cell[
       CellGroupData[{
         Cell["Notebook Options", "Section"], 
         Cell[
         "The options defined for the style below will be used at the \
Notebook level.", "Text"], 
         Cell[
          StyleData["Notebook"], PageHeaders -> {{
             Cell[
              TextData[{
                CounterBox["Page"]}], "PageNumber"], None, 
             Cell[
              TextData[{
                ValueBox["FileName"]}], "Header"]}, {
             Cell[
              TextData[{
                ValueBox["FileName"]}], "Header"], None, 
             Cell[
              TextData[{
                CounterBox["Page"]}], "PageNumber"]}}, CellFrameLabelMargins -> 
          6, StyleMenuListing -> None]}, Open]], 
      Cell[
       CellGroupData[{
         Cell["Styles for Headings", "Section"], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Title"], CellFrame -> {{0, 0}, {0, 0.25}}, 
             CellMargins -> {{18, 10}, {0, 20}}, 
             CellGroupingRules -> {"TitleGrouping", 0}, PageBreakBelow -> 
             False, CellFrameMargins -> 6, CellFrameColor -> GrayLevel[0], 
             LineSpacing -> {0.95, 0}, 
             CounterAssignments -> {{"Section", 0}, {"Equation", 0}, {
               "Figure", 0}}, FontFamily -> "Helvetica", FontSize -> 36, 
             FontWeight -> "Bold", FontColor -> RGBColor[0.4, 0, 0.239994]], 
            Cell[
             StyleData["Title", "Presentation"], 
             CellMargins -> {{20, 10}, {2, 20}}, CellFrameMargins -> 5, 
             FontColor -> RGBColor[0, 0, 1]], 
            Cell[
             StyleData["Title", "Printout"], 
             CellMargins -> {{18, 30}, {0, 0}}, CellFrameMargins -> 4, 
             FontSize -> 24]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Subtitle"], CellMargins -> {{20, 30}, {2, 10}}, 
             CellGroupingRules -> {"TitleGrouping", 10}, PageBreakBelow -> 
             False, CellFrameMargins -> {{0, 4}, {8, 4}}, 
             LineSpacing -> {1, 0}, 
             CounterAssignments -> {{"Section", 0}, {"Equation", 0}, {
               "Figure", 0}}, FontFamily -> "Helvetica", FontSize -> 24], 
            Cell[
             StyleData["Subtitle", "Presentation"], 
             CellMargins -> {{20, 10}, {2, 10}}], 
            Cell[
             StyleData["Subtitle", "Printout"], 
             CellMargins -> {{18, 30}, {0, 10}}, FontSize -> 18]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Section 1"], CellFrame -> {{0, 0}, {0, 3}}, 
             CellMargins -> {{18, 10}, {10, 30}}, 
             CellGroupingRules -> {"SectionGrouping", 40}, PageBreakBelow -> 
             False, CellFrameMargins -> {{0, 4}, {8, 4}}, CellFrameColor -> 
             RGBColor[0.4, 0, 0.239994], CounterIncrements -> "Section", 
             CounterAssignments -> {{"Subsection", 0}, {"Subsubsection", 0}}, 
             FontFamily -> "Helvetica", FontSize -> 18, FontWeight -> "Bold"], 
            Cell[
             StyleData["Section 1", "Presentation"], 
             CellMargins -> {{20, 10}, {6, 30}}, CellFrameMargins -> 5], 
            Cell[
             StyleData["Section 1", "Printout"], 
             CellMargins -> {{18, 30}, {4, 30}}, CellFrameMargins -> 4, 
             FontSize -> 14]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Section"], CellFrame -> False, 
             CellMargins -> {{18, 10}, {10, 30}}, 
             CellGroupingRules -> {"SectionGrouping", 40}, PageBreakBelow -> 
             False, CellFrameMargins -> 4, CellFrameLabels -> {{
                Cell[
                 TextData[{
                   CounterBox["Section"]}]], None}, {None, None}}, 
             CounterIncrements -> "Section", 
             CounterAssignments -> {{"Subsection", 0}, {"Subsubsection", 0}}, 
             FontFamily -> "Helvetica", FontSize -> 18, FontWeight -> "Bold"], 
            Cell[
             StyleData["Section", "Presentation"], 
             CellMargins -> {{20, 10}, {0, 30}}], 
            Cell[
             StyleData["Section", "Printout"], 
             CellMargins -> {{18, 30}, {0, 30}}, CellFrameMargins -> 5, 
             FontSize -> 14]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Subsection"], CellDingbat -> None, 
             CellMargins -> {{38, 30}, {2, 20}}, 
             CellGroupingRules -> {"SectionGrouping", 50}, PageBreakBelow -> 
             False, CellFrameLabels -> {{
                Cell[
                 TextData[{
                   CounterBox["Section"], ".", 
                   CounterBox["Subsection"]}]], None}, {None, None}}, 
             CounterIncrements -> "Subsection", 
             CounterAssignments -> {{"Subsubsection", 0}}, FontFamily -> 
             "Times", FontSize -> 14, FontWeight -> "Bold"], 
            Cell[
             StyleData["Subsection", "Presentation"], 
             CellMargins -> {{35, 30}, {0, 20}}], 
            Cell[
             StyleData["Subsection", "Printout"], 
             CellMargins -> {{18, 30}, {0, 10}}, FontSize -> 12]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Subsubsection"], CellDingbat -> None, 
             CellMargins -> {{55, 30}, {4, 10}}, 
             CellGroupingRules -> {"SectionGrouping", 60}, PageBreakBelow -> 
             False, CellFrameLabels -> {{
                Cell[
                 TextData[{
                   CounterBox["Section"], ".", 
                   CounterBox["Subsection"], ".", 
                   CounterBox["Subsubsection"]}]], None}, {None, None}}, 
             CounterIncrements -> "Subsubsection", FontFamily -> "Times", 
             FontSize -> 12, FontWeight -> "Bold"], 
            Cell[
             StyleData["Subsubsection", "Presentation"], 
             CellMargins -> {{31, 30}, {0, 12}}], 
            Cell[
             StyleData["Subsubsection", "Printout"], 
             CellMargins -> {{18, 30}, {0, 12}}, FontSize -> 10]}, Open]]}, 
        Open]], 
      Cell[
       CellGroupData[{
         Cell["Styles for Body Text", "Section"], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Text"], CellMargins -> {{55, 10}, {6, 6}}, 
             TextJustification -> 1, LineSpacing -> {1, 2}, FontFamily -> 
             "Times"], 
            Cell[
             StyleData["Text", "Presentation"], 
             CellMargins -> {{20, 10}, {6, 6}}, TextAlignment -> Left, 
             TextJustification -> 0, LineSpacing -> {1.3, 0}, FontSize -> 14], 
            Cell[
             StyleData["Text", "Printout"], CellMargins -> {{18, 4}, {4, 4}}, 
             LineSpacing -> {1, 3}, FontSize -> 10]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Commentary"], CellMargins -> {{55, 10}, {2, 6}}, 
             TextJustification -> 1, LineSpacing -> {1, 2}, FontFamily -> 
             "Helvetica", FontSize -> 10, FontColor -> RGBColor[0, 0, 0.4]], 
            Cell[
             StyleData["Commentary", "Presentation"], 
             CellMargins -> {{60, 30}, {2, 6}}, TextJustification -> 1, 
             LineSpacing -> {1.3, 0}, FontSize -> 12], 
            Cell[
             StyleData["Commentary", "Printout"], 
             CellMargins -> {{18, 30}, {3, 0}}, LineSpacing -> {1, 3}, 
             FontFamily -> "Times", FontSize -> 10]}, Open]]}, Closed]], 
      Cell[
       CellGroupData[{
         Cell["Styles for Input/Output", "Section"], 
         Cell[
         "The cells in this section define styles used for input and output \
to the kernel.  Be careful when modifying, renaming, or removing these \
styles, because the front end associates special meanings with these style \
names.", "Text"], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Input"], CellFrame -> {{1, 1}, {0, 1}}, 
             CellMargins -> {{55, 10}, {0, 0}}, Evaluatable -> True, 
             CellGroupingRules -> "InputGrouping", CellHorizontalScrolling -> 
             True, PageBreakWithin -> False, GroupPageBreakWithin -> False, 
             CellLabelPositioning -> Automatic, 
             CellLabelMargins -> {{23, Inherited}, {Inherited, Inherited}}, 
             DefaultFormatType -> DefaultInputFormatType, FormatType -> 
             InputForm, ShowStringCharacters -> True, NumberMarks -> True, 
             FontSize -> 12, FontWeight -> "Bold", Background -> None], 
            Cell[
             StyleData["Input", "Presentation"], 
             CellMargins -> {{60, 10}, {0, 10}}, Background -> None], 
            Cell[
             StyleData["Input", "Printout"], 
             CellMargins -> {{55, 10}, {0, 10}}, FontSize -> 10, Background -> 
             None]}, Open]], 
         Cell[
          StyleData["InlineInput"], Evaluatable -> True, CellGroupingRules -> 
          "InputGrouping", CellHorizontalScrolling -> True, PageBreakWithin -> 
          False, GroupPageBreakWithin -> False, DefaultFormatType -> 
          DefaultInputFormatType, AutoItalicWords -> {}, FormatType -> 
          InputForm, ShowStringCharacters -> True, NumberMarks -> True, 
          CounterIncrements -> "Input", FontWeight -> "Bold"], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Output"], CellFrame -> {{1, 1}, {1, 0}}, 
             CellMargins -> {{55, 10}, {15, 0}}, CellEditDuplicate -> True, 
             CellGroupingRules -> "OutputGrouping", CellHorizontalScrolling -> 
             True, PageBreakWithin -> False, GroupPageBreakWithin -> False, 
             GeneratedCell -> True, CellAutoOverwrite -> True, 
             CellLabelMargins -> {{23, Inherited}, {Inherited, Inherited}}, 
             DefaultFormatType -> DefaultOutputFormatType, FormatType -> 
             InputForm, FontSize -> 12, Background -> None], 
            Cell[
             StyleData["Output", "Presentation"], 
             CellMargins -> {{60, Inherited}, {10, 0}}, Background -> None], 
            Cell[
             StyleData["Output", "Printout"], 
             CellMargins -> {{55, Inherited}, {10, 0}}, FontSize -> 10, 
             Background -> None]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["InputOnly"], CellFrame -> 1, 
             CellMargins -> {{55, 10}, {15, 0}}, Evaluatable -> True, 
             CellGroupingRules -> "InputGrouping", CellHorizontalScrolling -> 
             True, PageBreakWithin -> False, GroupPageBreakWithin -> False, 
             CellLabelPositioning -> Automatic, 
             CellLabelMargins -> {{23, Inherited}, {Inherited, Inherited}}, 
             DefaultFormatType -> DefaultInputFormatType, FormatType -> 
             InputForm, ShowStringCharacters -> True, NumberMarks -> True, 
             FontSize -> 12, FontWeight -> "Bold", Background -> 
             GrayLevel[0.966674]], 
            Cell[
             StyleData["InputOnly", "Presentation"], 
             CellMargins -> {{60, Inherited}, {10, 10}}], 
            Cell[
             StyleData["InputOnly", "Printout"], 
             CellMargins -> {{55, Inherited}, {10, 10}}, FontSize -> 10]}, 
           Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Message"], CellFrame -> {{1, 1}, {0, 0}}, CellDingbat -> 
             "\[LongDash]", CellMargins -> {{55, 10}, {0, 0}}, 
             CellGroupingRules -> "OutputGrouping", PageBreakWithin -> False, 
             GroupPageBreakWithin -> False, GeneratedCell -> True, 
             CellAutoOverwrite -> True, ShowCellLabel -> False, 
             CellLabelMargins -> {{23, Inherited}, {Inherited, Inherited}}, 
             DefaultFormatType -> DefaultOutputFormatType, FormatType -> 
             InputForm, StyleMenuListing -> None, FontFamily -> "Helvetica", 
             FontSize -> 10, FontSlant -> "Oblique", FontColor -> 
             GrayLevel[0], Background -> GrayLevel[1]], 
            Cell[
             StyleData["Message", "Presentation"], 
             CellMargins -> {{60, Inherited}, {Inherited, Inherited}}, 
             LineSpacing -> {1, 0}], 
            Cell[
             StyleData["Message", "Printout"], 
             CellMargins -> {{55, Inherited}, {0, 0}}, FontSize -> 8]}, 
           Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Print"], CellFrame -> True, 
             CellMargins -> {{55, 26}, {1, 6}}, CellGroupingRules -> 
             "OutputGrouping", CellHorizontalScrolling -> True, 
             PageBreakWithin -> False, GroupPageBreakWithin -> False, 
             GeneratedCell -> True, CellAutoOverwrite -> True, ShowCellLabel -> 
             False, CellLabelMargins -> {{23, Inherited}, {
               Inherited, Inherited}}, DefaultFormatType -> 
             DefaultOutputFormatType, TextAlignment -> Left, FormatType -> 
             InputForm, StyleMenuListing -> None, FontSize -> 9, Background -> 
             GrayLevel[0.849989]], 
            Cell[
             StyleData["Print", "Presentation"], CellFrame -> True, 
             CellMargins -> {{60, Inherited}, {10, 2}}, Background -> 
             GrayLevel[0.849989]], 
            Cell[
             StyleData["Print", "Printout"], CellFrame -> True, 
             CellMargins -> {{54, Inherited}, {2, 6}}, FontSize -> 10, 
             Background -> GrayLevel[0.849989]]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Graphics"], CellFrame -> {{1, 1}, {0, 0}}, 
             CellMargins -> {{55, 10}, {0, 0}}, CellGroupingRules -> 
             "GraphicsGrouping", CellHorizontalScrolling -> True, 
             PageBreakWithin -> False, GeneratedCell -> True, 
             CellAutoOverwrite -> True, ShowCellLabel -> False, 
             DefaultFormatType -> DefaultOutputFormatType, FormatType -> 
             InputForm, ImageSize -> {288, 288}, 
             ImageMargins -> {{35, Inherited}, {Inherited, 0}}, 
             StyleMenuListing -> None, Background -> GrayLevel[1]], 
            Cell[
             StyleData["Graphics", "Presentation"], 
             CellMargins -> {{60, Inherited}, {0, 0}}, 
             ImageMargins -> {{10, 10}, {10, 10}}], 
            Cell[
             StyleData["Graphics", "Printout"], 
             CellMargins -> {{55, Inherited}, {0, 0}}, 
             ImageSize -> {288, 288}]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["CellLabel"], StyleMenuListing -> None, FontFamily -> 
             "Helvetica", FontSize -> 10, FontSlant -> "Oblique", FontColor -> 
             RGBColor[0, 0, 1]], 
            Cell[
             StyleData["CellLabel", "Presentation"], 
             CellMargins -> {{18, Inherited}, {Inherited, Inherited}}], 
            Cell[
             StyleData["CellLabel", "Printout"], 
             CellMargins -> {{0, Inherited}, {Inherited, Inherited}}, 
             FontSize -> 8]}, Open]]}, Open]], 
      Cell[
       CellGroupData[{
         Cell["Unique Styles", "Section"], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Author"], CellMargins -> {{20, 30}, {45, 5}}, 
             CellGroupingRules -> {"TitleGrouping", 20}, PageBreakBelow -> 
             False, CellFrameMargins -> {{0, 4}, {8, 4}}, 
             LineSpacing -> {1, 0}, 
             CounterAssignments -> {{"Section", 0}, {"Equation", 0}, {
               "Figure", 0}}, FontFamily -> "Helvetica", FontSize -> 16, 
             FontSlant -> "Italic"], 
            Cell[
             StyleData["Author", "Presentation"], 
             CellMargins -> {{20, 30}, {45, 10}}, FontSize -> 18], 
            Cell[
             StyleData["Author", "Printout"], 
             CellMargins -> {{18, 30}, {45, 5}}, FontSize -> 16]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Abstract"], CellFrame -> False, 
             CellMargins -> {{18, 140}, {4, 30}}, LineSpacing -> {0.9, 0}, 
             FontFamily -> "Times", FontSize -> 12], 
            Cell[
             StyleData["Abstract", "Presentation"], CellFrame -> True, 
             CellMargins -> {{20, 10}, {Inherited, 30}}], 
            Cell[
             StyleData["Abstract", "Printout"], LineSpacing -> {1, 2}, 
             FontSize -> 10]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Caption"], CellMargins -> {{55, 10}, {5, 3}}, 
             FontFamily -> "Helvetica", FontSize -> 9], 
            Cell[
             StyleData["Caption", "Presentation"], 
             CellMargins -> {{60, 65}, {6, 4}}, FontSize -> 10], 
            Cell[
             StyleData["Caption", "Printout"], 
             CellMargins -> {{55, 55}, {5, 4}}, LineSpacing -> {1, 2}, 
             FontSize -> 8]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Reference"], CellMargins -> {{24, 40}, {6, 6}}, 
             TextJustification -> 1, LineSpacing -> {1, 0}, FontFamily -> 
             "Times"], 
            Cell[
             StyleData["Reference", "Presentation"], 
             CellMargins -> {{20, 40}, {Inherited, 6}}, TextJustification -> 
             0, LineSpacing -> {1, 4}, FontSize -> 12], 
            Cell[
             StyleData["Reference", "Printout"], 
             CellMargins -> {{18, 4}, {4, 4}}, FontSize -> 9]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["PictureGroup"], CellFrame -> {{1, 1}, {0, 0}}, 
             CellMargins -> {{55, Inherited}, {0, 0}}, CellGroupingRules -> 
             "GraphicsGrouping", CellHorizontalScrolling -> True, 
             PageBreakWithin -> False, ShowCellLabel -> False, 
             ImageMargins -> {{35, Inherited}, {Inherited, 0}}, 
             StyleMenuListing -> None, Background -> None], 
            Cell[
             StyleData["PictureGroup", "Presentation"], 
             CellMargins -> {{60, Inherited}, {0, 0}}, 
             ImageMargins -> {{10, 10}, {10, 10}}, Background -> None], 
            Cell[
             StyleData["PictureGroup", "Printout"], 
             CellMargins -> {{55, Inherited}, {0, 0}}, 
             ImageSize -> {288, 288}, Background -> None]}, Open]]}, Open]], 
      Cell[
       CellGroupData[{
         Cell["Formulas and Programming", "Section"], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["DisplayFormula"], 
             CellMargins -> {{55, Inherited}, {Inherited, Inherited}}, 
             CellHorizontalScrolling -> True, ScriptLevel -> 0, 
             SingleLetterItalics -> True, StyleMenuListing -> None, 
             UnderoverscriptBoxOptions -> {LimitsPositioning -> True}], 
            Cell[
             StyleData["DisplayFormula", "Presentation"], 
             CellMargins -> {{60, 10}, {Inherited, 6}}, 
             LineSpacing -> {1, 5}], 
            Cell[
             StyleData["DisplayFormula", "Printout"], 
             CellMargins -> {{18, 4}, {4, 4}}]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["ChemicalFormula"], 
             CellMargins -> {{55, 10}, {Inherited, 0}}, 
             CellHorizontalScrolling -> True, TextJustification -> 1, 
             AutoSpacing -> False, ScriptBaselineShifts -> {0.6, Automatic}, 
             ScriptLevel -> 1, SingleLetterItalics -> False, ZeroWidthTimes -> 
             True], 
            Cell[
             StyleData["ChemicalFormula", "Presentation"], 
             CellMargins -> {{60, 10}, {Inherited, 6}}], 
            Cell[
             StyleData["ChemicalFormula", "Printout"], 
             CellMargins -> {{18, 4}, {4, 4}}, LineSpacing -> {1, 3}, 
             FontSize -> 10]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["Program"], CellMargins -> {{55, 10}, {Inherited, 0}}, 
             CellHorizontalScrolling -> True, FontFamily -> "Courier"], 
            Cell[
             StyleData["Program", "Presentation"], 
             CellMargins -> {{60, 10}, {Inherited, 6}}], 
            Cell[
             StyleData["Program", "Printout"], 
             CellMargins -> {{18, 4}, {4, 4}}, LineSpacing -> {1, 3}, 
             FontSize -> 9.5]}, Open]]}, Closed]], 
      Cell[
       CellGroupData[{
         Cell["Styles for Automatic Numbering", "Section"], 
         Cell[
         "The following styles are useful for numbered equations, figures, \
etc.  They automatically give the cell a FrameLabel containing a reference to \
a particular counter, and also increment that counter.", "Text"], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["NumberedEquation"], 
             CellMargins -> {{55, 85}, {Inherited, Inherited}}, 
             CellFrameLabels -> {{None, 
                Cell[
                 TextData[{"(", 
                   CounterBox["NumberedEquation"], ")"}]]}, {None, None}}, 
             DefaultFormatType -> DefaultInputFormatType, CounterIncrements -> 
             "NumberedEquation", FormatTypeAutoConvert -> False, FontFamily -> 
             "Times"], 
            Cell[
             StyleData["NumberedEquation", "Presentation"], 
             CellMargins -> {{60, 10}, {Inherited, 6}}, 
             LineSpacing -> {1, 0}], 
            Cell[
             StyleData["NumberedEquation", "Printout"], 
             CellMargins -> {{18, 4}, {4, 4}}, FontSize -> 8]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["NumberedFigure"], 
             CellMargins -> {{55, 95}, {Inherited, Inherited}}, 
             CellFrameLabels -> {{None, None}, {
                Cell[
                 TextData[{"Figure ", 
                   CounterBox["NumberedFigure"]}], FontWeight -> "Bold"], 
                None}}, CounterIncrements -> "NumberedFigure", 
             FormatTypeAutoConvert -> False, FontFamily -> "Times"], 
            Cell[
             StyleData["NumberedFigure", "Presentation"], 
             CellMargins -> {{60, 80}, {Inherited, 6}}, 
             LineSpacing -> {1, 0}], 
            Cell[
             StyleData["NumberedFigure", "Printout"], 
             CellMargins -> {{18, 80}, {4, 4}}, FontSize -> 8]}, Open]], 
         Cell[
          CellGroupData[{
            Cell[
             StyleData["NumberedTable"], 
             CellMargins -> {{55, 95}, {Inherited, Inherited}}, 
             CellFrameLabels -> {{None, None}, {
                Cell[
                 TextData[{"Table ", 
                   CounterBox["NumberedTable"]}], FontWeight -> "Bold"], 
                None}}, TextAlignment -> Center, CounterIncrements -> 
             "NumberedTable", FormatTypeAutoConvert -> False, FontFamily -> 
             "Times"], 
            Cell[
             StyleData["NumberedTable", "Presentation"], 
             CellMargins -> {{60, 80}, {Inherited, 6}}, 
             LineSpacing -> {1, 0}], 
            Cell[
             StyleData["NumberedTable", "Printout"], 
             CellMargins -> {{18, 80}, {4, 4}}, FontSize -> 8]}, Open]]}, 
        Open]], 
      Cell[
       CellGroupData[{
         Cell["Styles for Headers and Footers", "Section"], 
         Cell[
          StyleData["Header"], StyleMenuListing -> None, FontFamily -> 
          "Helvetica", FontSize -> 9], 
         Cell[
          StyleData["PageNumber"], StyleMenuListing -> None, FontFamily -> 
          "Helvetica", FontSize -> 9, FontWeight -> "Bold"], 
         Cell[
          StyleData["Footer"], TextAlignment -> Center, StyleMenuListing -> 
          None, FontFamily -> "Helvetica", FontSize -> 9]}, Closed]]}, 
     Open]]}, Visible -> False, FrontEndVersion -> 
  "8.0 for Microsoft Windows (32-bit) (February 23, 2011)", StyleDefinitions -> 
  "Default.nb"]
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "Warnings"->{
  Cell[13541, 436, 56, 1, 28, "Subsubsection",
   CellTags->"Warnings"]},
 "Reference section"->{
  Cell[13600, 439, 350, 7, 60, "Text",
   CellTags->"Reference section"]},
 "Setup section"->{
  Cell[17131, 555, 52, 1, 62, "Section",
   CellTags->"Setup section"],
  Cell[17186, 558, 273, 5, 43, "Text",
   CellTags->"Setup section"],
  Cell[17484, 567, 74, 1, 39, "Subsection",
   CellTags->"Setup section"],
  Cell[18016, 583, 348, 9, 43, "Text",
   CellTags->"Setup section"],
  Cell[18401, 597, 69, 1, 39, "Subsection",
   CellTags->"Setup section"],
  Cell[18473, 600, 843, 22, 73, "Text",
   CellTags->"Setup section"],
  Cell[19319, 624, 146, 4, 48, "InputOnly",
   CellTags->"Setup section"],
  Cell[19468, 630, 404, 11, 43, "Text",
   CellTags->"Setup section"],
  Cell[19875, 643, 327, 7, 44, "Text",
   CellTags->"Setup section"],
  Cell[68030, 2143, 118, 2, 24, "Input",
   CellTags->"Setup section"]},
 "Examples section"->{
  Cell[69106, 2185, 75, 1, 62, "Section",
   CellTags->"Examples section"],
  Cell[69782, 2203, 84, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[70784, 2240, 387, 15, 45, "Text",
   CellTags->"Examples section"],
  Cell[71174, 2257, 259, 8, 24, "Input",
   CellTags->"Examples section"],
  Cell[71645, 2278, 75, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[71723, 2281, 136, 5, 28, "Text",
   CellTags->"Examples section"],
  Cell[71862, 2288, 65, 1, 24, "Input",
   CellTags->"Examples section"],
  Cell[71930, 2291, 352, 10, 45, "Text",
   CellTags->"Examples section"],
  Cell[72285, 2303, 83, 2, 24, "Input",
   CellTags->"Examples section"],
  Cell[72371, 2307, 100, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[72474, 2310, 97, 2, 24, "Input",
   CellTags->"Examples section"],
  Cell[72574, 2314, 276, 6, 44, "Text",
   CellTags->"Examples section"],
  Cell[72853, 2322, 203, 5, 24, "Input",
   CellTags->"Examples section"],
  Cell[73059, 2329, 164, 4, 27, "Text",
   CellTags->"Examples section"],
  Cell[73226, 2335, 200, 6, 24, "Input",
   CellTags->"Examples section"],
  Cell[73544, 2348, 137, 3, 24, "Input",
   CellTags->"Examples section"],
  Cell[73684, 2353, 286, 8, 45, "Text",
   CellTags->"Examples section"],
  Cell[73973, 2363, 120, 3, 24, "Input",
   CellTags->"Examples section"],
  Cell[74096, 2368, 85, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[74184, 2371, 67, 1, 24, "Input",
   CellTags->"Examples section"],
  Cell[74254, 2374, 192, 7, 28, "Text",
   CellTags->"Examples section"],
  Cell[74449, 2383, 100, 2, 24, "Input",
   CellTags->"Examples section"],
  Cell[74586, 2390, 65, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[74654, 2393, 239, 7, 44, "Text",
   CellTags->"Examples section"],
  Cell[74896, 2402, 133, 3, 24, "Input",
   CellTags->"Examples section"],
  Cell[75032, 2407, 89, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[75124, 2410, 132, 3, 24, "Input",
   CellTags->"Examples section"],
  Cell[75259, 2415, 269, 5, 43, "Text",
   CellTags->"Examples section"],
  Cell[75531, 2422, 133, 3, 24, "Input",
   CellTags->"Examples section"],
  Cell[75701, 2430, 76, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[75780, 2433, 212, 6, 27, "Text",
   CellTags->"Examples section"],
  Cell[75995, 2441, 239, 6, 24, "Input",
   CellTags->"Examples section"],
  Cell[76237, 2449, 272, 7, 44, "Text",
   CellTags->"Examples section"],
  Cell[76512, 2458, 251, 8, 24, "Input",
   CellTags->"Examples section"],
  Cell[76766, 2468, 193, 7, 27, "Text",
   CellTags->"Examples section"],
  Cell[76962, 2477, 125, 3, 24, "Input",
   CellTags->"Examples section"],
  Cell[77090, 2482, 363, 9, 41, "Input",
   CellTags->"Examples section"],
  Cell[77456, 2493, 289, 5, 43, "Text",
   CellTags->{"Examples section", "RBSC"}],
  Cell[77782, 2503, 70, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[77855, 2506, 401, 10, 60, "Text",
   CellTags->"Examples section"],
  Cell[78259, 2518, 238, 6, 41, "Input",
   CellTags->"Examples section"],
  Cell[78643, 2531, 212, 5, 24, "Input",
   CellTags->"Examples section"],
  Cell[79856, 2573, 238, 6, 41, "Input",
   CellTags->"Examples section"],
  Cell[80097, 2581, 212, 5, 24, "Input",
   CellTags->"Examples section"],
  Cell[80346, 2591, 102, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[80451, 2594, 298, 6, 43, "Text",
   CellTags->"Examples section"],
  Cell[80752, 2602, 319, 9, 41, "Input",
   CellTags->"Examples section"],
  Cell[81074, 2613, 80, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[81157, 2616, 88, 2, 24, "Input",
   CellTags->"Examples section"],
  Cell[81248, 2620, 228, 6, 45, "Text",
   CellTags->"Examples section"],
  Cell[81536, 2631, 127, 3, 27, "Text",
   CellTags->"Examples section"],
  Cell[81666, 2636, 77, 2, 24, "Input",
   CellTags->"Examples section"],
  Cell[81746, 2640, 97, 2, 24, "Input",
   CellTags->"Examples section"],
  Cell[81846, 2644, 199, 4, 43, "Text",
   CellTags->"Examples section"],
  Cell[82315, 2660, 89, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[82577, 2669, 220, 5, 43, "Text",
   CellTags->"Examples section"],
  Cell[82800, 2676, 152, 4, 24, "Input",
   CellTags->"Examples section"],
  Cell[82989, 2685, 87, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[83079, 2688, 505, 15, 45, "Text",
   CellTags->"Examples section"],
  Cell[83587, 2705, 145, 4, 24, "Input",
   CellTags->"Examples section"],
  Cell[83735, 2711, 86, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[83824, 2714, 101, 2, 24, "Input",
   CellTags->"Examples section"],
  Cell[83928, 2718, 127, 3, 27, "Text",
   CellTags->"Examples section"],
  Cell[84058, 2723, 241, 6, 24, "Input",
   CellTags->"Examples section"],
  Cell[84302, 2731, 153, 4, 27, "Text",
   CellTags->"Examples section"],
  Cell[84458, 2737, 163, 4, 24, "Input",
   CellTags->{"Examples section", "Examples7.6"}],
  Cell[84624, 2743, 83, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[84710, 2746, 102, 2, 24, "Input",
   CellTags->"Examples section"],
  Cell[84815, 2750, 214, 7, 27, "Text",
   CellTags->"Examples section"],
  Cell[85032, 2759, 294, 7, 24, "Input",
   CellTags->"Examples section"],
  Cell[85707, 2781, 299, 7, 44, "Text",
   CellTags->"Examples section"],
  Cell[86009, 2790, 433, 12, 41, "Input",
   CellTags->"Examples section"],
  Cell[86479, 2807, 86, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[86982, 2818, 265, 6, 44, "Text",
   CellTags->"Examples section"],
  Cell[87250, 2826, 140, 3, 24, "Input",
   CellTags->"Examples section"],
  Cell[87393, 2831, 237, 5, 44, "Text",
   CellTags->"Examples section"],
  Cell[87633, 2838, 175, 4, 24, "Input",
   CellTags->"Examples section"],
  Cell[87811, 2844, 133, 3, 27, "Text",
   CellTags->"Examples section"],
  Cell[87947, 2849, 122, 3, 24, "Input",
   CellTags->"Examples section"],
  Cell[88072, 2854, 260, 6, 44, "Text",
   CellTags->"Examples section"],
  Cell[88335, 2862, 180, 5, 24, "Input",
   CellTags->"Examples section"],
  Cell[88518, 2869, 98, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[88619, 2872, 363, 10, 24, "Input",
   CellTags->"Examples section"],
  Cell[91307, 2967, 61, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[91423, 2973, 91, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[91517, 2976, 198, 5, 24, "Input",
   CellTags->"Examples section"],
  Cell[91718, 2983, 133, 3, 27, "Text",
   CellTags->"Examples section"],
  Cell[91854, 2988, 163, 5, 24, "Input",
   CellTags->"Examples section"],
  Cell[92020, 2995, 99, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[92156, 3001, 77, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[92236, 3004, 550, 12, 75, "Text",
   CellTags->"Examples section"],
  Cell[92789, 3018, 179, 5, 24, "Input",
   CellTags->"Examples section"],
  Cell[92971, 3025, 265, 7, 24, "Input",
   CellTags->"Examples section"],
  Cell[93239, 3034, 212, 7, 27, "Text",
   CellTags->"Examples section"],
  Cell[93454, 3043, 245, 8, 24, "Input",
   CellTags->"Examples section"],
  Cell[93702, 3053, 313, 8, 24, "Input",
   CellTags->"Examples section"],
  Cell[95753, 3129, 78, 1, 39, "Subsection",
   CellTags->"Examples section"],
  Cell[95834, 3132, 195, 4, 43, "Text",
   CellTags->"Examples section"],
  Cell[96032, 3138, 125, 3, 24, "Input",
   CellTags->"Examples section"]},
 "RBSC"->{
  Cell[77456, 2493, 289, 5, 43, "Text",
   CellTags->{"Examples section", "RBSC"}]},
 "Examples7.6"->{
  Cell[84458, 2737, 163, 4, 24, "Input",
   CellTags->{"Examples section", "Examples7.6"}]},
 "palette"->{
  Cell[96194, 3146, 84, 1, 39, "Subsection",
   CellTags->"palette"]},
 "Wolfram book"->{
  Cell[100989, 3301, 238, 6, 27, "Text",
   CellTags->"Wolfram book"]},
 "Meader book"->{
  Cell[101230, 3309, 179, 6, 27, "Text",
   CellTags->"Meader book"]},
 "MAD manual"->{
  Cell[101600, 3322, 154, 4, 27, "Text",
   CellTags->"MAD manual"]},
 "Mfs.nb"->{
  Cell[101941, 3333, 176, 6, 27, "Text",
   CellTags->"Mfs.nb"]},
 "ColorListPlot.nb"->{
  Cell[102334, 3348, 192, 6, 27, "Text",
   CellTags->"ColorListPlot.nb"]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"Warnings", 128609, 3922},
 {"Reference section", 128707, 3925},
 {"Setup section", 128802, 3928},
 {"Examples section", 129547, 3949},
 {"RBSC", 137006, 4148},
 {"Examples7.6", 137109, 4151},
 {"palette", 137216, 4154},
 {"Wolfram book", 137306, 4157},
 {"Meader book", 137396, 4160},
 {"MAD manual", 137484, 4163},
 {"Mfs.nb", 137567, 4166},
 {"ColorListPlot.nb", 137656, 4169}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 63, 1, 25, "Text"],
Cell[623, 23, 26, 4, 57, "Text"],
Cell[CellGroupData[{
Cell[674, 31, 113, 5, 107, "Title"],
Cell[790, 38, 328, 11, 86, "Author"],
Cell[CellGroupData[{
Cell[1143, 53, 31, 0, 61, "Section"],
Cell[1177, 55, 922, 29, 74, "Text"],
Cell[2102, 86, 152, 3, 41, "Text"],
Cell[2257, 91, 403, 6, 57, "Text"],
Cell[2663, 99, 474, 10, 59, "Text"],
Cell[3140, 111, 358, 12, 40, "Text"],
Cell[3501, 125, 263, 7, 40, "Text"],
Cell[3767, 134, 262, 6, 43, "Text"],
Cell[4032, 142, 175, 3, 17, "Program"],
Cell[4210, 147, 332, 7, 59, "Text"],
Cell[4545, 156, 481, 11, 59, "Text"],
Cell[5029, 169, 677, 18, 77, "Text"],
Cell[5709, 189, 419, 12, 60, "Text"],
Cell[6131, 203, 601, 14, 75, "Text"],
Cell[6735, 219, 443, 12, 43, "Text"],
Cell[7181, 233, 405, 10, 59, "Text"],
Cell[CellGroupData[{
Cell[7611, 247, 46, 0, 39, "Subsection"],
Cell[7660, 249, 628, 14, 75, "Text"],
Cell[8291, 265, 1446, 50, 126, "Text"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[9786, 321, 28, 0, 62, "Section"],
Cell[CellGroupData[{
Cell[9839, 325, 30, 0, 28, "Subsubsection"],
Cell[9872, 327, 84, 1, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[9993, 333, 32, 0, 28, "Subsubsection"],
Cell[10028, 335, 47, 0, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[10112, 340, 32, 0, 28, "Subsubsection"],
Cell[10147, 342, 179, 4, 43, "Text"],
Cell[10329, 348, 68, 0, 17, "Program"]
}, Open  ]],
Cell[CellGroupData[{
Cell[10434, 353, 34, 0, 28, "Subsubsection"],
Cell[10471, 355, 1759, 27, 390, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12267, 387, 41, 0, 28, "Subsubsection"],
Cell[12311, 389, 19, 0, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12367, 394, 97, 4, 28, "Subsubsection"],
Cell[12467, 400, 64, 0, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[12568, 405, 32, 0, 28, "Subsubsection"],
Cell[12603, 407, 53, 0, 27, "Text"],
Cell[12659, 409, 667, 12, 123, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13363, 426, 33, 0, 28, "Subsubsection"],
Cell[13399, 428, 105, 3, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13541, 436, 56, 1, 28, "Subsubsection",
 CellTags->"Warnings"],
Cell[13600, 439, 350, 7, 60, "Text",
 CellTags->"Reference section"],
Cell[13953, 448, 309, 5, 59, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14299, 458, 35, 0, 28, "Subsubsection"],
Cell[14337, 460, 155, 4, 28, "Text"],
Cell[14495, 466, 766, 18, 92, "Text"],
Cell[15264, 486, 656, 15, 75, "Text"],
Cell[15923, 503, 340, 7, 44, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[16300, 515, 37, 0, 28, "Subsubsection"],
Cell[16340, 517, 138, 4, 28, "Text"],
Cell[16481, 523, 170, 9, 27, "Text"],
Cell[16654, 534, 180, 5, 27, "Text"],
Cell[16837, 541, 87, 2, 27, "Text"],
Cell[16927, 545, 71, 0, 27, "Text"],
Cell[17001, 547, 81, 2, 27, "Text"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[17131, 555, 52, 1, 62, "Section",
 CellTags->"Setup section"],
Cell[17186, 558, 273, 5, 43, "Text",
 CellTags->"Setup section"],
Cell[CellGroupData[{
Cell[17484, 567, 74, 1, 39, "Subsection",
 CellTags->"Setup section"],
Cell[17561, 570, 234, 4, 43, "Text"],
Cell[17798, 576, 215, 5, 17, "Program"],
Cell[18016, 583, 348, 9, 43, "Text",
 CellTags->"Setup section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[18401, 597, 69, 1, 39, "Subsection",
 CellTags->"Setup section"],
Cell[18473, 600, 843, 22, 73, "Text",
 CellTags->"Setup section"],
Cell[19319, 624, 146, 4, 48, "InputOnly",
 CellTags->"Setup section"],
Cell[19468, 630, 404, 11, 43, "Text",
 CellTags->"Setup section"],
Cell[19875, 643, 327, 7, 44, "Text",
 CellTags->"Setup section"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[20251, 656, 55, 1, 62, "Section",
 InitializationCell->True],
Cell[20309, 659, 122, 3, 27, "Text",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[20456, 666, 101, 1, 39, "Subsection",
 InitializationCell->True],
Cell[20560, 669, 474, 9, 92, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[21071, 683, 121, 3, 39, "Subsection",
 InitializationCell->True],
Cell[21195, 688, 221, 5, 52, "Input",
 InitializationCell->True],
Cell[21419, 695, 263, 5, 52, "Input",
 InitializationCell->True],
Cell[21685, 702, 264, 6, 41, "Input",
 InitializationCell->True],
Cell[21952, 710, 201, 6, 24, "Input",
 InitializationCell->True],
Cell[22156, 718, 807, 15, 160, "Input",
 InitializationCell->True],
Cell[22966, 735, 245, 6, 41, "Input",
 InitializationCell->True],
Cell[23214, 743, 251, 6, 41, "Input",
 InitializationCell->True],
Cell[23468, 751, 260, 6, 41, "Input",
 InitializationCell->True],
Cell[23731, 759, 259, 6, 41, "Input",
 InitializationCell->True],
Cell[23993, 767, 459, 9, 94, "Input",
 InitializationCell->True],
Cell[24455, 778, 356, 8, 75, "Input",
 InitializationCell->True],
Cell[24814, 788, 313, 7, 58, "Input",
 InitializationCell->True],
Cell[25130, 797, 287, 7, 58, "Input",
 InitializationCell->True],
Cell[25420, 806, 439, 9, 92, "Input",
 InitializationCell->True],
Cell[25862, 817, 469, 11, 92, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[26368, 833, 88, 1, 39, "Subsection",
 InitializationCell->True],
Cell[26459, 836, 197, 5, 24, "Input",
 InitializationCell->True],
Cell[26659, 843, 196, 5, 24, "Input",
 InitializationCell->True],
Cell[26858, 850, 204, 6, 24, "Input",
 InitializationCell->True]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[27111, 862, 60, 1, 36, "Section",
 InitializationCell->True],
Cell[27174, 865, 131, 3, 27, "Text"],
Cell[CellGroupData[{
Cell[27330, 872, 96, 1, 39, "Subsection",
 InitializationCell->True],
Cell[27429, 875, 64, 1, 23, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[27508, 879, 75, 1, 39, "Subsection",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[27608, 884, 109, 2, 39, "Subsection",
 InitializationCell->True],
Cell[27720, 888, 304, 8, 41, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[28061, 901, 119, 3, 39, "Subsection",
 InitializationCell->True],
Cell[28183, 906, 73, 0, 27, "Text"],
Cell[28259, 908, 265, 7, 24, "Input",
 InitializationCell->True],
Cell[28527, 917, 38, 0, 27, "Text"],
Cell[28568, 919, 194, 6, 24, "Input",
 InitializationCell->True],
Cell[28765, 927, 193, 4, 43, "Text"],
Cell[28961, 933, 453, 12, 24, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[29451, 950, 85, 1, 39, "Subsection",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[29561, 955, 78, 0, 28, "Subsubsection"],
Cell[29642, 957, 950, 18, 155, "Text"],
Cell[30595, 977, 4394, 106, 481, "Input",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[35026, 1088, 44, 0, 22, "Subsubsection"],
Cell[35073, 1090, 115, 3, 21, "Commentary"],
Cell[35191, 1095, 1307, 40, 41, "Input"],
Cell[36501, 1137, 1444, 44, 92, "Input",
 InitializationCell->True],
Cell[37948, 1183, 171, 3, 43, "Text"],
Cell[38122, 1188, 944, 27, 58, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[39103, 1220, 59, 0, 28, "Subsubsection"],
Cell[39165, 1222, 117, 3, 27, "Text"],
Cell[39285, 1227, 218, 5, 44, "Text"],
Cell[39506, 1234, 2500, 64, 363, "Input",
 InitializationCell->True],
Cell[42009, 1300, 1690, 45, 126, "Input",
 InitializationCell->True],
Cell[43702, 1347, 98, 2, 27, "Text"],
Cell[43803, 1351, 458, 16, 36, "Input",
 InitializationCell->True],
Cell[44264, 1369, 358, 10, 41, "Input",
 InitializationCell->True],
Cell[44625, 1381, 91, 2, 27, "Text"],
Cell[44719, 1385, 471, 14, 41, "Input",
 InitializationCell->True],
Cell[45193, 1401, 120, 3, 27, "Text"],
Cell[45316, 1406, 3427, 88, 357, "Input",
 InitializationCell->True],
Cell[48746, 1496, 1538, 37, 193, "Input",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[50321, 1538, 56, 0, 22, "Subsubsection"],
Cell[50380, 1540, 1204, 34, 126, "Input",
 InitializationCell->True],
Cell[51587, 1576, 345, 9, 41, "Input",
 InitializationCell->True],
Cell[51935, 1587, 67, 0, 27, "Text"],
Cell[52005, 1589, 1204, 34, 126, "Input",
 InitializationCell->True],
Cell[53212, 1625, 345, 9, 41, "Input",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[53594, 1639, 42, 0, 22, "Subsubsection"],
Cell[53639, 1641, 124, 3, 27, "Text"],
Cell[53766, 1646, 493, 16, 41, "Input",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[54296, 1667, 50, 0, 22, "Subsubsection"],
Cell[54349, 1669, 182, 5, 24, "Input",
 InitializationCell->True],
Cell[54534, 1676, 130, 3, 27, "Text"],
Cell[54667, 1681, 325, 9, 41, "Input",
 InitializationCell->True],
Cell[54995, 1692, 405, 12, 41, "Input",
 InitializationCell->True],
Cell[55403, 1706, 97, 2, 27, "Text"],
Cell[55503, 1710, 1393, 39, 143, "Input",
 InitializationCell->True],
Cell[56899, 1751, 147, 6, 28, "Text"],
Cell[57049, 1759, 1522, 39, 210, "Input",
 InitializationCell->True]
}, Closed]],
Cell[CellGroupData[{
Cell[58608, 1803, 41, 0, 22, "Subsubsection"],
Cell[58652, 1805, 557, 16, 58, "Input",
 InitializationCell->True],
Cell[59212, 1823, 280, 8, 24, "Input",
 InitializationCell->True]
}, Closed]]
}, Open  ]],
Cell[CellGroupData[{
Cell[59541, 1837, 119, 3, 39, "Subsection",
 InitializationCell->True],
Cell[59663, 1842, 527, 12, 77, "Text"],
Cell[60193, 1856, 243, 8, 24, "Input",
 InitializationCell->True],
Cell[60439, 1866, 106, 3, 27, "Text"],
Cell[60548, 1871, 261, 7, 24, "Input",
 InitializationCell->True],
Cell[60812, 1880, 264, 7, 24, "Input",
 InitializationCell->True],
Cell[61079, 1889, 203, 5, 24, "Input",
 InitializationCell->True],
Cell[61285, 1896, 206, 5, 24, "Input",
 InitializationCell->True],
Cell[61494, 1903, 199, 5, 24, "Input",
 InitializationCell->True],
Cell[61696, 1910, 202, 5, 24, "Input",
 InitializationCell->True],
Cell[61901, 1917, 213, 5, 24, "Input",
 InitializationCell->True],
Cell[62117, 1924, 216, 5, 24, "Input",
 InitializationCell->True],
Cell[62336, 1931, 413, 12, 41, "Input",
 InitializationCell->True],
Cell[62752, 1945, 420, 12, 41, "Input",
 InitializationCell->True],
Cell[63175, 1959, 608, 18, 41, "Input",
 InitializationCell->True],
Cell[63786, 1979, 252, 7, 24, "Input",
 InitializationCell->True],
Cell[64041, 1988, 362, 10, 41, "Input",
 InitializationCell->True],
Cell[64406, 2000, 328, 10, 41, "Input",
 InitializationCell->True],
Cell[64737, 2012, 285, 9, 24, "Input",
 InitializationCell->True],
Cell[65025, 2023, 331, 10, 41, "Input",
 InitializationCell->True],
Cell[65359, 2035, 483, 15, 41, "Input",
 InitializationCell->True],
Cell[65845, 2052, 157, 4, 24, "Input",
 InitializationCell->True],
Cell[66005, 2058, 160, 4, 24, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[66202, 2067, 88, 1, 39, "Subsection",
 InitializationCell->True],
Cell[66293, 2070, 75, 1, 23, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[66405, 2076, 72, 1, 39, "Subsection",
 InitializationCell->True],
Cell[66480, 2079, 50, 1, 23, "Input",
 InitializationCell->True]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[66579, 2086, 52, 1, 36, "Section",
 InitializationCell->True],
Cell[66634, 2089, 76, 0, 27, "Text"],
Cell[CellGroupData[{
Cell[66735, 2093, 72, 1, 39, "Subsection",
 InitializationCell->True],
Cell[66810, 2096, 176, 4, 38, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[67023, 2105, 72, 1, 39, "Subsection",
 InitializationCell->True],
Cell[67098, 2108, 57, 1, 23, "Input",
 InitializationCell->True],
Cell[67158, 2111, 109, 3, 27, "Text"],
Cell[67270, 2116, 333, 8, 41, "Input",
 InitializationCell->True],
Cell[67606, 2126, 186, 4, 41, "Input",
 InitializationCell->True]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[67841, 2136, 61, 0, 36, "Section"],
Cell[67905, 2138, 122, 3, 27, "Text"],
Cell[68030, 2143, 118, 2, 24, "Input",
 CellTags->"Setup section"],
Cell[68151, 2147, 142, 3, 27, "Text"],
Cell[68296, 2152, 52, 1, 24, "Input"],
Cell[68351, 2155, 139, 3, 27, "Text"],
Cell[68493, 2160, 130, 3, 24, "Input"]
}, Closed]],
Cell[CellGroupData[{
Cell[68660, 2168, 54, 0, 36, "Section"],
Cell[68717, 2170, 229, 6, 43, "Text"],
Cell[68949, 2178, 120, 2, 24, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[69106, 2185, 75, 1, 62, "Section",
 CellTags->"Examples section"],
Cell[69184, 2188, 573, 11, 75, "Text"],
Cell[CellGroupData[{
Cell[69782, 2203, 84, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[69869, 2206, 127, 3, 27, "Text"],
Cell[69999, 2211, 322, 9, 41, "Input"],
Cell[70324, 2222, 117, 3, 27, "Text"],
Cell[70444, 2227, 186, 5, 24, "Input"],
Cell[70633, 2234, 74, 1, 24, "Input"],
Cell[70710, 2237, 71, 1, 24, "Input"],
Cell[70784, 2240, 387, 15, 45, "Text",
 CellTags->"Examples section"],
Cell[71174, 2257, 259, 8, 24, "Input",
 CellTags->"Examples section"],
Cell[71436, 2267, 172, 6, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[71645, 2278, 75, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[71723, 2281, 136, 5, 28, "Text",
 CellTags->"Examples section"],
Cell[71862, 2288, 65, 1, 24, "Input",
 CellTags->"Examples section"],
Cell[71930, 2291, 352, 10, 45, "Text",
 CellTags->"Examples section"],
Cell[72285, 2303, 83, 2, 24, "Input",
 CellTags->"Examples section"],
Cell[72371, 2307, 100, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[72474, 2310, 97, 2, 24, "Input",
 CellTags->"Examples section"],
Cell[72574, 2314, 276, 6, 44, "Text",
 CellTags->"Examples section"],
Cell[72853, 2322, 203, 5, 24, "Input",
 CellTags->"Examples section"],
Cell[73059, 2329, 164, 4, 27, "Text",
 CellTags->"Examples section"],
Cell[73226, 2335, 200, 6, 24, "Input",
 CellTags->"Examples section"],
Cell[73429, 2343, 112, 3, 27, "Text"],
Cell[73544, 2348, 137, 3, 24, "Input",
 CellTags->"Examples section"],
Cell[73684, 2353, 286, 8, 45, "Text",
 CellTags->"Examples section"],
Cell[73973, 2363, 120, 3, 24, "Input",
 CellTags->"Examples section"],
Cell[74096, 2368, 85, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[74184, 2371, 67, 1, 24, "Input",
 CellTags->"Examples section"],
Cell[74254, 2374, 192, 7, 28, "Text",
 CellTags->"Examples section"],
Cell[74449, 2383, 100, 2, 24, "Input",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[74586, 2390, 65, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[74654, 2393, 239, 7, 44, "Text",
 CellTags->"Examples section"],
Cell[74896, 2402, 133, 3, 24, "Input",
 CellTags->"Examples section"],
Cell[75032, 2407, 89, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[75124, 2410, 132, 3, 24, "Input",
 CellTags->"Examples section"],
Cell[75259, 2415, 269, 5, 43, "Text",
 CellTags->"Examples section"],
Cell[75531, 2422, 133, 3, 24, "Input",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[75701, 2430, 76, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[75780, 2433, 212, 6, 27, "Text",
 CellTags->"Examples section"],
Cell[75995, 2441, 239, 6, 24, "Input",
 CellTags->"Examples section"],
Cell[76237, 2449, 272, 7, 44, "Text",
 CellTags->"Examples section"],
Cell[76512, 2458, 251, 8, 24, "Input",
 CellTags->"Examples section"],
Cell[76766, 2468, 193, 7, 27, "Text",
 CellTags->"Examples section"],
Cell[76962, 2477, 125, 3, 24, "Input",
 CellTags->"Examples section"],
Cell[77090, 2482, 363, 9, 41, "Input",
 CellTags->"Examples section"],
Cell[77456, 2493, 289, 5, 43, "Text",
 CellTags->{"Examples section", "RBSC"}]
}, Open  ]],
Cell[CellGroupData[{
Cell[77782, 2503, 70, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[77855, 2506, 401, 10, 60, "Text",
 CellTags->"Examples section"],
Cell[78259, 2518, 238, 6, 41, "Input",
 CellTags->"Examples section"],
Cell[78500, 2526, 140, 3, 27, "Text"],
Cell[78643, 2531, 212, 5, 24, "Input",
 CellTags->"Examples section"],
Cell[78858, 2538, 129, 3, 27, "Text"],
Cell[78990, 2543, 161, 4, 28, "Text"],
Cell[79154, 2549, 575, 16, 42, "Input"],
Cell[79732, 2567, 121, 4, 28, "Text"],
Cell[79856, 2573, 238, 6, 41, "Input",
 CellTags->"Examples section"],
Cell[80097, 2581, 212, 5, 24, "Input",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[80346, 2591, 102, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[80451, 2594, 298, 6, 43, "Text",
 CellTags->"Examples section"],
Cell[80752, 2602, 319, 9, 41, "Input",
 CellTags->"Examples section"],
Cell[81074, 2613, 80, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[81157, 2616, 88, 2, 24, "Input",
 CellTags->"Examples section"],
Cell[81248, 2620, 228, 6, 45, "Text",
 CellTags->"Examples section"],
Cell[81479, 2628, 54, 1, 24, "Input"],
Cell[81536, 2631, 127, 3, 27, "Text",
 CellTags->"Examples section"],
Cell[81666, 2636, 77, 2, 24, "Input",
 CellTags->"Examples section"],
Cell[81746, 2640, 97, 2, 24, "Input",
 CellTags->"Examples section"],
Cell[81846, 2644, 199, 4, 43, "Text",
 CellTags->"Examples section"],
Cell[82048, 2650, 196, 5, 33, "Input"],
Cell[82247, 2657, 65, 1, 24, "Input"],
Cell[82315, 2660, 89, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[82407, 2663, 167, 4, 24, "Input"],
Cell[82577, 2669, 220, 5, 43, "Text",
 CellTags->"Examples section"],
Cell[82800, 2676, 152, 4, 24, "Input",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[82989, 2685, 87, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[83079, 2688, 505, 15, 45, "Text",
 CellTags->"Examples section"],
Cell[83587, 2705, 145, 4, 24, "Input",
 CellTags->"Examples section"],
Cell[83735, 2711, 86, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[83824, 2714, 101, 2, 24, "Input",
 CellTags->"Examples section"],
Cell[83928, 2718, 127, 3, 27, "Text",
 CellTags->"Examples section"],
Cell[84058, 2723, 241, 6, 24, "Input",
 CellTags->"Examples section"],
Cell[84302, 2731, 153, 4, 27, "Text",
 CellTags->"Examples section"],
Cell[84458, 2737, 163, 4, 24, "Input",
 CellTags->{"Examples section", "Examples7.6"}],
Cell[84624, 2743, 83, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[84710, 2746, 102, 2, 24, "Input",
 CellTags->"Examples section"],
Cell[84815, 2750, 214, 7, 27, "Text",
 CellTags->"Examples section"],
Cell[85032, 2759, 294, 7, 24, "Input",
 CellTags->"Examples section"],
Cell[85329, 2768, 111, 3, 27, "Text"],
Cell[85443, 2773, 261, 6, 24, "Input"],
Cell[85707, 2781, 299, 7, 44, "Text",
 CellTags->"Examples section"],
Cell[86009, 2790, 433, 12, 41, "Input",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[86479, 2807, 86, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[86568, 2810, 411, 6, 59, "Text"],
Cell[86982, 2818, 265, 6, 44, "Text",
 CellTags->"Examples section"],
Cell[87250, 2826, 140, 3, 24, "Input",
 CellTags->"Examples section"],
Cell[87393, 2831, 237, 5, 44, "Text",
 CellTags->"Examples section"],
Cell[87633, 2838, 175, 4, 24, "Input",
 CellTags->"Examples section"],
Cell[87811, 2844, 133, 3, 27, "Text",
 CellTags->"Examples section"],
Cell[87947, 2849, 122, 3, 24, "Input",
 CellTags->"Examples section"],
Cell[88072, 2854, 260, 6, 44, "Text",
 CellTags->"Examples section"],
Cell[88335, 2862, 180, 5, 24, "Input",
 CellTags->"Examples section"],
Cell[88518, 2869, 98, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[88619, 2872, 363, 10, 24, "Input",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[89019, 2887, 35, 0, 39, "Subsection"],
Cell[89057, 2889, 400, 10, 61, "Text"],
Cell[89460, 2901, 109, 3, 24, "Input"],
Cell[89572, 2906, 235, 4, 43, "Text"],
Cell[89810, 2912, 96, 2, 24, "Input"],
Cell[89909, 2916, 90, 2, 27, "Text"],
Cell[90002, 2920, 102, 2, 24, "Input"],
Cell[90107, 2924, 212, 4, 43, "Text"],
Cell[90322, 2930, 83, 1, 24, "Input"],
Cell[90408, 2933, 93, 1, 24, "Input"],
Cell[90504, 2936, 238, 8, 24, "Input"],
Cell[90745, 2946, 383, 11, 41, "Input"],
Cell[91131, 2959, 139, 3, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[91307, 2967, 61, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[91371, 2970, 49, 1, 24, "Input"],
Cell[91423, 2973, 91, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[91517, 2976, 198, 5, 24, "Input",
 CellTags->"Examples section"],
Cell[91718, 2983, 133, 3, 27, "Text",
 CellTags->"Examples section"],
Cell[91854, 2988, 163, 5, 24, "Input",
 CellTags->"Examples section"],
Cell[92020, 2995, 99, 1, 27, "Text",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[92156, 3001, 77, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[92236, 3004, 550, 12, 75, "Text",
 CellTags->"Examples section"],
Cell[92789, 3018, 179, 5, 24, "Input",
 CellTags->"Examples section"],
Cell[92971, 3025, 265, 7, 24, "Input",
 CellTags->"Examples section"],
Cell[93239, 3034, 212, 7, 27, "Text",
 CellTags->"Examples section"],
Cell[93454, 3043, 245, 8, 24, "Input",
 CellTags->"Examples section"],
Cell[93702, 3053, 313, 8, 24, "Input",
 CellTags->"Examples section"],
Cell[94018, 3063, 192, 6, 27, "Text"],
Cell[94213, 3071, 151, 4, 24, "Input"],
Cell[94367, 3077, 271, 7, 24, "Input"],
Cell[94641, 3086, 175, 5, 28, "Text"],
Cell[94819, 3093, 206, 6, 24, "Input"],
Cell[95028, 3101, 169, 5, 35, "Input"],
Cell[95200, 3108, 378, 11, 42, "Input"],
Cell[95581, 3121, 135, 3, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[95753, 3129, 78, 1, 39, "Subsection",
 CellTags->"Examples section"],
Cell[95834, 3132, 195, 4, 43, "Text",
 CellTags->"Examples section"],
Cell[96032, 3138, 125, 3, 24, "Input",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[96194, 3146, 84, 1, 39, "Subsection",
 CellTags->"palette"],
Cell[96281, 3149, 497, 9, 75, "Text"],
Cell[96781, 3160, 2000, 64, 237, "Input"],
Cell[98784, 3226, 122, 4, 28, "Text"],
Cell[98909, 3232, 410, 8, 60, "Text"],
Cell[99322, 3242, 233, 6, 24, "Input"],
Cell[99558, 3250, 416, 12, 46, "Text"],
Cell[99977, 3264, 383, 11, 24, "Input"],
Cell[100363, 3277, 187, 4, 43, "Text"],
Cell[100553, 3283, 353, 10, 24, "Input"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[100955, 3299, 31, 0, 62, "Section"],
Cell[100989, 3301, 238, 6, 27, "Text",
 CellTags->"Wolfram book"],
Cell[101230, 3309, 179, 6, 27, "Text",
 CellTags->"Meader book"],
Cell[101412, 3317, 185, 3, 17, "Program"],
Cell[101600, 3322, 154, 4, 27, "Text",
 CellTags->"MAD manual"],
Cell[101757, 3328, 181, 3, 17, "Program"],
Cell[101941, 3333, 176, 6, 27, "Text",
 CellTags->"Mfs.nb"],
Cell[102120, 3341, 211, 5, 17, "Program"],
Cell[102334, 3348, 192, 6, 27, "Text",
 CellTags->"ColorListPlot.nb"],
Cell[102529, 3356, 231, 5, 17, "Program"]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)

