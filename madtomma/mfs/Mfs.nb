(* Content-type: application/mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 6.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       145,          7]
NotebookDataLength[    367840,      12745]
NotebookOptionsPosition[    297266,      10601]
NotebookOutlinePosition[    319644,      11215]
CellTagsIndexPosition[    319246,      11201]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell["CERN SL Note 97-55  (AP)", "Text",
 TextAlignment->Right],

Cell["\<\


\
\>", "Text"],

Cell[CellGroupData[{

Cell[TextData[{
 "Basic MAD Tables in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " "
}], "Title"],

Cell["\<\
John M. Jowett
18/8/1997, Revised 17/8/2000\
\>", "Subtitle"],

Cell[CellGroupData[{

Cell["Introduction", "Section",
 CellTags->"Intrduction section"],

Cell[TextData[{
 "This note is the documentation for a ",
 StyleBox["Mathematica ",
  FontSlant->"Italic"],
 "[",
 ButtonBox["1",
  BaseStyle->"Hyperlink",
  ButtonData:>"Wolfram book"],
 ",",
 ButtonBox["2",
  BaseStyle->"Hyperlink",
  ButtonData:>"Maeder book"],
 "] package designed to handle data in a form typical of a class of table \
files.  These include the ",
 ButtonBox["TFS",
  BaseStyle->"Hyperlink",
  ButtonData:>{
    URL["http://wwwslap.cern.ch/~fci/mad/mad8/tfs_desc.html"], None}],
 " files generated by certain ",
 ButtonBox["MAD",
  BaseStyle->"Hyperlink",
  ButtonData:>{
    URL["http://wwwslap.cern.ch/~fci/mad/mad.html"], None}],
 " [",
 ButtonBox["3",
  BaseStyle->"Hyperlink",
  ButtonData:>"MAD manual"],
 "] commands (TRACK, EIGEN, TWISS3, OPTICS, etc., possibly via MAD's ARCHIVE \
command) and a number of different types of files saved by application \
programs in the LEP control system.  Although some of these do not strictly \
adhere to the TFS conventions, their data is easily assimilated into a common \
data type ",
 StyleBox["mfs", "Input"],
 " in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 ". "
}], "Text",
 CellTags->"Intrduction section"],

Cell[TextData[{
 "Although not very interesting in itself, this package can be used in many \
ways.  Moreover it provides a basis for a number of other application \
packages  (such as ",
 StyleBox["TrackTable", "Input"],
 ")  that  extend its  functionality in various directions."
}], "Text",
 CellTags->"Intrduction section"],

Cell[TextData[{
 "These packages will allow you to operate ",
 StyleBox["directly",
  FontSlant->"Italic"],
 " with physically interesting quantities (eigenvectors, orbits, transfer \
matrices, maps,  etc.) and manipulate them in natural mathematical style, \
without having to worry about the technicalities of file and data formats.  \
While MAD itself provides an excellent framework for many kinds of beam \
optics and particle tracking calculations, I think it is fair to say that \
it's capabilities are still somewhat under-exploited because of the lack of \
tools for making sense of the abundance of results it can produce.   "
}], "Text",
 CellTags->"Intrduction section"],

Cell[TextData[{
 "There have been a number of attempts to fill this gap in recent years.  \
Personally I have found that the environment provided by ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " is particularly fruitful and easy to work in.  However my experience has \
shown that the speed with which applications can be developed tends to leave \
documentation far behind.  This series of packages, developed in \
collaboration with K. Goral, is being organised systematically according to \
established guidelines for package development.  This should make them robust \
and easy to use and maintain."
}], "Text",
 CellTags->"Intrduction section"],

Cell[TextData[{
 "These packages and others relating to the use of MAD will all be made \
available in the context ",
 StyleBox["Madtomma", "Input"],
 "  (the word ",
 StyleBox["context",
  FontSlant->"Italic"],
 " is used in a special sense in ",
 StyleBox["Mathematica).",
  FontSlant->"Italic"]
}], "Text",
 CellTags->"Intrduction section"],

Cell["\<\
The package has been thoroughly tested with tables from both MAD Version 8 \
and Version 9.\
\>", "Text"],

Cell[TextData[{
 "A useful feature is a ",
 StyleBox["palette",
  FontSlant->"Italic"],
 " of buttons that frees the user from most of the need to remember and type \
in the syntax of the functions in the package.  See ",
 ButtonBox["Section ",
  BaseStyle->"Hyperlink",
  ButtonData:>"palette"],
 
 CounterBox["Section", "palette"],
 " below."
}], "Text"],

Cell[TextData[{
 "Access to the packages has been simplified thanks to changes in the CERN \
computer systems and the \"",
 ButtonBox["User's Guide and Examples",
  BaseStyle->"Hyperlink",
  ButtonData:>"Examples section"],
 "\" below have been enhanced since the first version of the package."
}], "Text"],

Cell[TextData[{
 StyleBox["It is very likely that further functions will be added in future \
versions of the package.  ",
  FontSlant->"Italic"],
 "Therefore it is always worth checking the latest version of this notebook \
at the Madtomma Web site"
}], "Text"],

Cell[TextData[ButtonBox["\thttp://wwwslap.cern.ch/jowett/Madtomma",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://wwwslap.cern.ch/jowett/Madtomma"], None}]], "Program"],

Cell[TextData[{
 "This notebook adheres to the conventions for ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " package structure and documentation set out in [",
 ButtonBox["2",
  BaseStyle->"Hyperlink",
  ButtonData:>"Maeder book"],
 "].  As such it serves as the development medium for the package itself.  ",
 StyleBox["For this reason , some sections of the printed versions of this \
document are hidden.  ",
  FontWeight->"Bold"],
 "They contain the definitions (\"code\") of the functions.  The visible \
sections contain the documentation and examples of interest to users."
}], "Text",
 CellTags->"Intrduction section"],

Cell[TextData[{
 "To make the package available, you need only copy a couple of commands from \
the ",
 ButtonBox["\"Setup\"",
  BaseStyle->"Hyperlink",
  ButtonData:>"Setup section"],
 " section.  The \"",
 ButtonBox["Examples",
  BaseStyle->"Hyperlink",
  ButtonData:>"Examples section"],
 "\" section illustrates basic use of the package and is the best place to \
start learning how to use the package.  More elaborate \"real-life\" examples \
(e.g. applications to the LHC) can be found at the Web site."
}], "Text",
 CellTags->"Intrduction section"],

Cell["\<\
A final subsection illustrating some less useful features is hidden.\
\>", "Text"],

Cell[TextData[{
 "This notebook is based on the template for package and notebook development \
by R. Maeder  and supplied with ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " 3.0."
}], "Text",
 CellTags->"Intrduction section"],

Cell[CellGroupData[{

Cell["New in version 2.0", "Subsection"],

Cell[TextData[{
 "The names of several functions have been changed to make them more \
consistent and easier to guess or remember,The old function names are still \
accepted but generate warning messages.  A function ",
 StyleBox["mfsVersion2Update", "Input"],
 " has been provided to facilitate the updating of existing files."
}], "Text"],

Cell["The package is now compatible with MAD Versions 8 and 9.", "Text"],

Cell["\<\
New functions have been added to allow different TFS tables to be merged with \
checking that the merging is valid.\
\>", "Text"],

Cell["\<\
The notion of interpreting the data in the mfs object to assign values to new \
variables has been extended to both the keys in the headers and the data in \
the columns.\
\>", "Text"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["Reference", "Section",
 CellTags->"Reference section"],

Cell[CellGroupData[{

Cell["Title", "Subsubsection",
 CellTags->"Reference section"],

Cell[TextData[{
 "Basic MAD Tables in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"]
}], "Text",
 CellTags->"Reference section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Author", "Subsubsection",
 CellTags->"Reference section"],

Cell["John M. Jowett", "Text",
 CellTags->"Reference section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Summary", "Subsubsection",
 CellTags->"Reference section"],

Cell["\<\
This notebook provides functions for creating and manipulating the mfs data \
type created by various other packages.  In particular it creates mfs data \
itself from TFS data files saved by MAD and other programs. \
\>", "Text",
 CellTags->"Reference section"],

Cell["\<\
This package provides a basis for other packages that will be dependent upon \
it.\
\>", "Text",
 CellTags->"Reference section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Copyright", "Subsubsection"],

Cell[TextData[{
 "\[Copyright] Copyright ",
 StyleBox["CERN.1997, 1999",
  FontSlant->"Italic"],
 "\n\n",
 "The copyright and all other rights relating to this computer software, in \
whatever form, including but not\nlimited to the source code, the object code \
and user documentation, are vested in CERN. \n\nCERN, on a royalty-free and \
non-exclusive basis, hereby grants permission to use, copy, change, modify,\n\
translate, display, distribute and make available this computer software, \
subject to the following conditions:\n\n(1) this computer software is \
provided on an as-is basis and CERN provides no express or implied\n\
warranties of any kind, including but not limited to those of \
merchantability, fitness for a particular purpose\nand non-infringement of \
the proprietary rights, such as copyrights, patents and trade secrets, of \
third\nparties. CERN accepts no liability whatsoever for or in connection \
with the use of this computer software; \n\n(2) all copies made of this \
computer software or of parts thereof shall include this copyright statement \
in\nfull; \n\n(3) however, if this computer software or parts thereof are \
made available in any other form than their\noriginal form, or are included \
in any other computer software, the following short acknowledgement only\n\
must be mentioned in the copyright statement and in the user documentation \
(or, in the absence thereof, in\nany other appropriate place) concerning the \
computer software thus made available or created: \n\n\"This product includes \
computer software created and made available by CERN. This acknowledgement\n\
shall be mentioned in full in any product which includes the CERN computer \
software included herein or\nparts thereof.\" "
}], "Text"]
}, Closed]],

Cell[CellGroupData[{

Cell["Notebook Version", "Subsubsection",
 CellTags->"Reference section"],

Cell["2.21", "Text",
 CellTags->"Reference section"]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " Version"
}], "Subsubsection",
 CellTags->"Reference section"],

Cell["3.0", "Text",
 CellTags->"Reference section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["History", "Subsubsection",
 CellTags->"Reference section"],

Cell["\<\
Starting from ReadTrackTable.nb 12/6/97.
Added removeQuotes function to fix a bug, 13/8/97.
Added colValue, mfsSelect, mfsMemebr, mfsRange, mfsReverse functions 15/8/97.
Added keepTemporaryFile option to tfsRead, improved the setting of $Path and \
finding the example file 24/4/98.
Modified mfsRange to include the endpoints of the interval (< replaced by \
\[LessEqual], etc.), 18/9/98.
Added handling of %le format obtained when OPTION,DOUBLE is used in MAD, \
21/9/98.
Addition of palette, simplification of Setup section, etc. 3/2/1999.
Added %s format specifier used by MAD9 TFS output, 6/9/1999.
Modified tfsParseHeaderBlock to allow arbitrary order of header lines for \
MAD9, 7/9/1999.\
\>", "Text",
 CellTags->"Reference section"],

Cell[TextData[{
 "Version 2.0 created with major changes, 13/9/1999.  \nThe main motivation \
is compatibility with MAD9 but other improvements have been mae.\n",
 StyleBox["Several functions have been given new, more logical names, \
beginning \"mfs...\".  The list of changes that need to be made in any \
existing files is given as ",
  FontColor->RGBColor[1, 0, 0]],
 StyleBox["mfsVersion2UpdateRules", "Input",
  FontColor->RGBColor[1, 0, 0]],
 StyleBox[" and a function",
  FontColor->RGBColor[1, 0, 0]],
 StyleBox[" mfsVersion2Update", "Input",
  FontColor->RGBColor[1, 0, 0]],
 StyleBox[" has been provided to facilitate the updating of files.   The old \
names of functions will continue to work but generate a warning message. All \
cells containing code to facilitate the transition are coloured red in this \
notebook.  They may eventually be removed.",
  FontColor->RGBColor[1, 0, 0]],
 StyleBox["\n", "Input"],
 "The function ",
 StyleBox["mfsMerge", "Input"],
 " has been created to allow mfs objects to be merged.\nSome other editing \
functions also added."
}], "Text",
 CellTags->"Reference section"],

Cell[TextData[{
 "Version 2.1 added the ",
 StyleBox["stringRemoveLeadingTrailingBlanks", "Input"],
 " function so that makeEigenTable etc. work for MAD Version 9.\nVersion 2.2 \
22/3/2000, added change of name of symplecticJ here so as to take care of \
today's update to TrackTable package.\nVersion 2.21   17/8/2000 added %d \
format specifier for columns - perhaps to be taken out again later.  \n\t\
Added ",
 StyleBox["mfsInterpretColumns", "Input"],
 ",  ",
 StyleBox["mfsInterpret.\n\t", "Input"],
 "Changed Verbose to mfsVerbose because of clash with ",
 StyleBox["Mathematica4's ",
  FontSlant->"Italic"],
 "option on Import function.\n\tDeactivate ",
 StyleBox["tfsInterpretDescriptorLine", "Input"],
 "  function, since not useful.   Delete later. \n",
 StyleBox["\tSuch de-activated stuff marked for deletion in blue.",
  FontColor->RGBColor[0, 0, 1]],
 "\n\tConsider eliminating other stuff too."
}], "Text",
 CellTags->"Reference section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Keywords", "Subsubsection",
 CellTags->"Reference section"],

Cell["TFS, MAD, data, table, OPTICS, TRACK, mfs", "Text",
 CellTags->"Reference section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Source", "Subsubsection",
 CellTags->"Reference section"],

Cell["\<\
For a brief description of the TFS file format as used in MAD, see Appendix C \
of H. Grote, F.C. Iselin, \"The MAD Program, Version 8.16, User's Reference \
Manual\", CERN/SL/90-13 (AP) 1995, or \
\>", "Text",
 CellTags->"Reference section"],

Cell[TextData[ButtonBox["http://wwwslap.cern.ch/~fci/mad/mad8/user/tfs.html",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://wwwslap.cern.ch/~fci/mad/mad8/user/tfs.html"], 
   None}]], "Program",
 CellTags->"Reference section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Warnings", "Subsubsection",
 CellTags->"Reference section"],

Cell[TextData[{
 "Note: all cells marked as \"InitializationCell\" will be written to the \
Auto-Save package. This package can then be read in programs that use it with \
",
 StyleBox["Needs[\"Madtomma`Mfs`Mfs`\"]", "Input"],
 ". Cells not intended to belong to the package should not have this property."
}], "Text",
 CellTags->"Reference section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Discussion", "Subsubsection",
 CellTags->"Reference section"],

Cell[TextData[{
 "Here we provide the internal specification of ",
 StyleBox["mfs", "Input"],
 " data objects.  Normal users may skip it."
}], "Text",
 CellTags->"Reference section"],

Cell[TextData[{
 "Basically an mfs data object is a list with head ",
 StyleBox["mfs", "Input"],
 " and three or more elements."
}], "Text",
 CellTags->"Reference section"],

Cell[TextData[{
 "The ",
 StyleBox["first",
  FontSlant->"Italic"],
 " element is a list of keys.  Each ",
 "key",
 " consists of a descriptive string, usually in uppercase, such as ",
 StyleBox["\"QX\"", "Input"],
 " and a corresponding value, such as ",
 StyleBox["96.24", "Input"],
 ".  In TFS data files the value is either a number or a string.  In mfs \
data, it can be any kind of object definable in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 ", e.g., a matrix consisting of numerical and symbolic elements.  "
}], "Text",
 CellTags->"Reference section"],

Cell[TextData[{
 "The ",
 StyleBox["last",
  FontSlant->"Italic"],
 " element is a table, consisting of columns of data.  If the data comes from \
a TFS file, then the elements of a given  column are  all or the same type, \
either numbers or strings."
}], "Text",
 CellTags->"Reference section"],

Cell[TextData[{
 "The ",
 StyleBox["second-last",
  FontSlant->"Italic"],
 " element is a set of string labels, one for each of the columns in the last \
part."
}], "Text",
 CellTags->"Reference section"],

Cell["\<\
Additional parts between the first and the second-last may be used for other \
purposes.  \
\>", "Text",
 CellTags->"Reference section"],

Cell[TextData[{
 "Note that the first element of an mfs data object is actually an ",
 StyleBox["associative array",
  FontWeight->"Bold"],
 " in the sense used in various programming languages.  You can also think of \
the second-last and last elements combined as another associative array with \
the constraint that the values are all numerical lists of the same length.  \
This is necessary because there are cases where the key \"X\", for example, \
occurs both in the header block (as a closed-orbit component) and in the \
column names (as the name of a phase-space coordinate)."
}], "Text"],

Cell[TextData[{
 "If you like the ",
 StyleBox["object-oriented programming",
  FontWeight->"Bold"],
 " metaphor, you can think of ",
 StyleBox["mfs ", "Input"],
 "as a class and various functions in this package as the associated \
methods."
}], "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Requirements", "Subsubsection",
 CellTags->"Reference section"],

Cell["Uses a standard package for column manipulations, etc.", "Text",
 CellTags->"Reference section"],

Cell["Statistics`DataManipulation`", "Text",
 FontWeight->"Bold",
 FontSlant->"Italic",
 CellTags->"Reference section"],

Cell["\<\
The functions in this package are available once this one is loaded (and are \
often very useful - see the documentation for this package).\
\>", "Text",
 CellTags->"Reference section"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Setup", "Section",
 CellTags->"Setup section"],

Cell["\<\
This section contains commands needed to load the corresponding package file. \
 The contents of this file are equivalent to the following sections \
(Interface, Implementation, Epilog) in which the package is developed. \
\>", "Text",
 CellTags->"Setup section"],

Cell[CellGroupData[{

Cell["Search Path (ESSENTIAL!)", "Subsection",
 CellTags->"Setup section"],

Cell["\<\
To have access to my packages, you may need to add my packages directory to \
your search path.  This is system-dependent and the latest information about \
arranging it on CERN computer systems can be found at\
\>", "Text"],

Cell[TextData[ButtonBox["http://wwwslap.cern.ch/~jowett/Madtomma/AboutFiles.\
html",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://wwwslap.cern.ch/~jowett/Madtomma/AboutFiles.html"], 
   None}]], "Program"],

Cell[TextData[{
 "and is not reproduced here.  I strongly recommend that you modify your \
kernel initialisation file once and for all as explained on this page.  Then \
all my packages will be found as easily as the Standard Packages that come \
with ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 "."
}], "Text",
 CellTags->"Setup section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Loading the Package", "Subsection",
 CellTags->"Setup section"],

Cell[TextData[{
 "Once the package directory is on your search path, the ",
 StyleBox["Mfs", "Input"],
 " package can be loaded by evaluating the following cell. ",
 StyleBox["If you are using a copy of this notebook in order to work through \
the examples and you are invited to  evaluate all the initialisation cells in \
it, you should click \"NO\" and then go straight to the ",
  FontSlant->"Italic",
  FontColor->RGBColor[1, 0, 0]],
 StyleBox["\"",
  FontSlant->"Italic"],
 StyleBox[ButtonBox["User's Guide and Examples",
  BaseStyle->"Hyperlink",
  ButtonData:>"Examples section"],
  FontSlant->"Italic"],
 StyleBox["\" ",
  FontSlant->"Italic"],
 StyleBox["without evaluating the intermediate sections.",
  FontSlant->"Italic",
  FontColor->RGBColor[1, 0, 0]],
 StyleBox[" ",
  FontSlant->"Italic"],
 "However this should not normally happen."
}], "Text",
 CellTags->"Setup section"],

Cell[CellGroupData[{

Cell[BoxData[
 StyleBox[
  RowBox[{"Needs", "[", "\"\<Madtomma`Mfs`Mfs`\>\"", "]"}], 
  "Input"]], "InputOnly",
 CellTags->"Setup section"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Version 2.0 of Madtomma`Mfs`Mfs` loaded.  Note function name \
changes since Version 1.x:\\n\"\>", "\[InvisibleSpace]", 
   InterpretationBox[GridBox[{
      {
       RowBox[{"\<\"interpretDescriptors\"\>", 
        "\[Rule]", "\<\"mfsInterpretKeys\"\>"}]},
      {
       RowBox[{"\<\"keyValue\"\>", "\[Rule]", "\<\"mfsKeyValue\"\>"}]},
      {
       RowBox[{"\<\"columnNames\"\>", "\[Rule]", "\<\"mfsColumnNames\"\>"}]},
      {
       RowBox[{"\<\"descriptorNames\"\>", 
        "\[Rule]", "\<\"mfsKeyNames\"\>"}]},
      {
       RowBox[{"\<\"colValue\"\>", "\[Rule]", "\<\"mfsColumnValue\"\>"}]},
      {
       RowBox[{"\<\"addDescriptor\"\>", "\[Rule]", "\<\"mfsAddKey\"\>"}]},
      {
       RowBox[{"\<\"editDescriptor\"\>", "\[Rule]", "\<\"mfsEditKey\"\>"}]},
      {
       RowBox[{"\<\"deleteDescriptor\"\>", 
        "\[Rule]", "\<\"mfsDeleteKey\"\>"}]},
      {
       RowBox[{"\<\"symplecticJ\"\>", "\[Rule]", "\<\"SymplecticJ\"\>"}]}
     },
     GridBoxAlignment->{
      "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
       "RowsIndexed" -> {}},
     GridBoxSpacings->{"Columns" -> {
         Offset[0.27999999999999997`], {
          Offset[2.0999999999999996`]}, 
         Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
         Offset[0.2], {
          Offset[0.4]}, 
         Offset[0.2]}, "RowsIndexed" -> {}}],
    TableForm[{
     "interpretDescriptors" -> "mfsInterpretKeys", "keyValue" -> 
      "mfsKeyValue", "columnNames" -> "mfsColumnNames", "descriptorNames" -> 
      "mfsKeyNames", "colValue" -> "mfsColumnValue", "addDescriptor" -> 
      "mfsAddKey", "editDescriptor" -> "mfsEditKey", "deleteDescriptor" -> 
      "mfsDeleteKey", "symplecticJ" -> "SymplecticJ"}]]}],
  SequenceForm[
  "Version 2.0 of Madtomma`Mfs`Mfs` loaded.  Note function name changes since \
Version 1.x:\n", 
   TableForm[{
    "interpretDescriptors" -> "mfsInterpretKeys", "keyValue" -> "mfsKeyValue",
      "columnNames" -> "mfsColumnNames", "descriptorNames" -> "mfsKeyNames", 
     "colValue" -> "mfsColumnValue", "addDescriptor" -> "mfsAddKey", 
     "editDescriptor" -> "mfsEditKey", "deleteDescriptor" -> "mfsDeleteKey", 
     "symplecticJ" -> "SymplecticJ"}]],
  Editable->False]], "Print",
 GeneratedCell->False,
 CellAutoOverwrite->False]
}, Open  ]],

Cell[TextData[{
 "This is all you need to start using the package in your own applications.   \
In interactive sessions, you will normally see a palette of buttons appearing \
on your screen.   This makes it easier to use the package: see ",
 ButtonBox["Section ",
  BaseStyle->"Hyperlink",
  ButtonData:>"palette"],
 
 CounterBox["Section", "palette"],
 " below."
}], "Text",
 CellTags->"Setup section"],

Cell[TextData[{
 "These following sections are hidden when this notebook is used as the \
package documentation but may be inspected in the online copy that can be \
found in the appropriate  sub-directory of the directory added to the ",
 StyleBox["$Path", "Input"],
 " variable above."
}], "Text",
 CellTags->"Setup section"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Interface", "Section",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell["\<\
This part declares the publicly visible functions, options, and values.\
\>", "Text",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[CellGroupData[{

Cell["Set up the package context, including public imports", "Subsection",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[TextData[{
 "BeginPackage[\"",
 StyleBox["Madtomma`Mfs`Mfs`\",", "Input"],
 "\"JMJUtils`BumpEtc`\"]"
}], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.394275413450671*^9, 3.3942754140600305`*^9}},
 CellTags->"Interface section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
Usage messages for the exported functions and the context itself\
\>", "Subsection",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell["\<\
Mfs::usage = \"Mfs.m is a package for manipulating MFS data.\";\
\>", "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfs", "::", "usage"}], "=", " ", 
   "\"\<mfs is a data object type containing a set of scalar variables with \
values and a set of labelled columns of data; typically it can represent the \
data structures in TFS files.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsTypes", "::", "usage"}], "=", 
  "\"\<mfsTypes is a list of the types of data related to the basic mfs type. \
 Various mfs data functions will apply to the elements in the class.\>\""}]], \
"Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"tfsRead", "::", "usage"}], "=", 
  "\"\<tfsRead[file] returns an mfs data object containing all the \
information in a TFS file.\>\""}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"removeUnwantedLines", "::", "usage"}], ":=", 
   "\"\<removeUnwantedLines[infile,outfile,string] copies file infile to \
outfile, removing all lines containing string.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"removeQuotes", "::", "usage"}], ":=", 
   "\"\<removeQuotes[x] will remove any double quotes \\\" explicitly \
included in a string x.  If x is not a string then it is returned \
unchanged.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"stringRemoveLeadingTrailingBlanks", "::", "usage"}], "=", 
  "\"\<stringRemoveLeadingTrailingBlanks[string] removes leading and trailing \
blanks from a string.\>\""}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"tfsParseDescriptorLine", "::", "usage"}], "=", 
   "\"\<tfsParseDescriptorLine[string] takes a TFS descriptor line as a \
string and returns a list consisting of the TFS key and its value.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"interpretTagValue", "::", "usage"}], "=", 
   "\"\<interpretTagValue[{\\\"tag\\\",val}] creates a variable tag and \
assigms it the value val.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"tfsInterpretDescriptorLine", "::", "usage"}], "=", 
  "\"\<tfsInterpretDescriptorLine[string] takes a TFS descriptor line as a \
string, creates a variable from the key name and assigns it the \
value.\>\""}]], "Input",
 Evaluatable->False,
 FontColor->RGBColor[0, 0, 1],
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"tfsFormatRules", "::", "usage"}], "=", 
   "\"\<tfsFormatRules is an option of tfsRead and related functions like \
tfsParseHeaderBlock.  It gives a set of rules for transforming TFS column \
formats into Mathematica data types.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"tfsParseHeaderBlock", "::", "usage"}], "=", 
   "\"\<tfsParseHeaderBlock[file] returns the information in the header block \
of a TFS file as a structured list.  It is normally used inside readTfsTable.\
\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsInterpretKeys", "::", "usage"}], "=", 
   "\"\<mfsInterpretKeys[mfsdata] creates a set of variables with values from \
the keys in an mfs (or related) data object. Any existing values are \
over-written.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsInterpretColumns", "::", "usage"}], "=", 
   "\"\<mfsInterpretColumns[mfsdata] creates a set of variables with values \
from the columns in an mfs (or related) data object. Any existing values are \
over-written.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsInterpret", "::", "usage"}], "=", 
   "\"\<mfsInterpret[mfsdata] creates a set of variables with values from the \
keys and columns in an mfs (or related) data object. Any existing values are \
over-written.\\nmfsInterpret[\\\"filename\\\"] creates such variables using \
data from a TFS file.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"interpretDescriptors", "::", "usage"}], "=", 
   "\"\<Obsolete function name.  Please use mfsInterpretKeys.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0],
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsKeyValue", "::", "usage"}], "=", " ", 
   "\"\<mfsKeyValue[mfsdata,key] returns the value corresponding to a \
descriptor key (a string) in an mfs (or related) data object.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"keyValue", "::", "usage"}], "=", 
   "\"\<Obsolete function name.  Please use mfsKeyValue.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0],
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsColumnNames", "::", "usage"}], " ", "=", 
   "\"\<mfsColumnNames[mfsdata] returns the list of column names in an mfs \
data (or related) object.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"columnNames", "::", "usage"}], "=", 
   "\"\<Obsolete function name.  Please use mfsColumnNames.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0],
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsKeyNames", "::", "usage"}], "=", 
   "\"\<mfsKeyNames[mfsdata] returns the list of key names in the header \
block of an mfs (or related) data object.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"descriptorNames", "::", "usage"}], "=", 
   "\"\<Obsolete function name.  Please use mfsKeyNames.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0],
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsColumn", "::", "usage"}], "=", 
   "\"\<mfsColumn[mfsdata,colname] returns the column of data labelled by the \
string colname in an mfs (or related) data object. A list of colnames may \
also be given to return a set of columns.  If colname is absent the entire \
block of columns is returned.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsColumnValue", "::", "usage"}], "=", 
   "\"\<mfsColumnValue[mfsdata,row,key] extracts a value labelled by key in \
row from an mfsdata object.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"colValue", "::", "usage"}], "=", 
   "\"\<Obsolete function name.  Please use mfsColumnValue.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0],
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsSelect", "::", "usage"}], "=", 
   "\"\<mfsSelect[mfsdata,criterion] extracts rows satisfying criterion \
(function) from an mfsdata object.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsMember", "::", "usage"}], "=", 
   "\"\<mfsMember[mfsdata,key,targetset] extracts rows of an mfsdata object \
for which values labelled by key belong to targetset.\>\""}], ";"}]], "Input",\

 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsNotMember", "::", "usage"}], "=", 
   "\"\<mfsNotMember[mfsdata,key,targetset] extracts rows of an mfsdata \
object for which values labelled by key DO NOT belong to targetset.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsRange", "::", "usage"}], "=", 
   "\"\<mfsRange[mfsdata,key,{min,max}] extracts rows of an mfsdata object \
for which values labelled by key lie within min and max. NOTE : min must be \
smaller than max !!!\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsDrop", "::", "usage"}], " ", "=", " ", 
  "\"\<mfsDrop is an option for removeUnwantedLines, tfsParseHeaderBlock and \
tfsRead that specifieds whether informative messages should be \
printed.\>\""}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsVerbose", "::", "usage"}], " ", "=", " ", 
  "\"\<mfsVerbose is an option for removeUnwantedLines, tfsParseHeaderBlock \
and tfsRead that specifieds whether informative messages should be printed.\>\
\""}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"keepTemporaryFile", "::", "usage"}], "=", 
  "\"\<keepTemporaryFile is an option for tfsRead that causes a temporary \
file not to be deleted.\>\""}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"DropNaN", "::", "usage"}], "=", 
  "\"\<DropNaN is an option for tfsRead that causes all occurences of NaN to \
be returned as 0.\>\""}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"VariablePrefix", "::", "usage"}], "=", 
  "\"\<VariablePrefix is an option for tfsRead that causes all column names \
to be prefixed with a string.\>\""}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.476089857211686*^9, 3.476089878539811*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsAddKey", "::", "usage"}], "=", 
   "\"\<mfsAddKey[mfsdata,{\\\"KEY\\\",value}] returns the mfs (or related) \
data object mfsdata with an additional key and value.\>\""}], ";"}]], "Input",\

 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"addDescriptor", "::", "usage"}], "=", 
   "\"\<Obsolete function name.  Please use mfsAddKey.\>\""}], ";"}]], "Input",\

 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0],
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsEditKey", "::", "usage"}], " ", "=", " ", 
  "\"\<mfsEditKey[mfsdata,{key,newValue}] returns the mfs (or related) data \
object mfsdata with the value corresponding to the descriptor key replaced by \
newValue.\>\"", " "}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"editDescriptor", "::", "usage"}], "=", 
   "\"\<Obsolete function name.  Please use mfsEditKey.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0],
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsDeleteKey", "::", "usage"}], " ", "=", " ", 
   "\"\<mfsDeleteKey[mfsdata,key] returns  the mfs (or related) data object \
mfsdata with the descriptor key removed.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"deleteDescriptor", "::", "usage"}], "=", 
   "\"\<Obsolete function name.  Please use mfsDeleteKey.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0],
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsDeleteColumn", "::", "usage"}], "=", 
   "\"\<mfsDeleteColumn[qp,\\\"colname\\\"] returns an mfs object equal to qp \
but with the column labelled colname removed. A list of column names can also \
be given.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsAddColumn", "::", "usage"}], "=", 
   "\"\<mfsAddColumn[qp,\\\"colname\\\",coldata] returns an mfs object equal \
to qp but with a new column labelled colname and containing data coldata \
added. A list of column names and columns of data can also be given.\>\""}], 
  ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsReverse", "::", "usage"}], "=", 
   "\"\<mfsReverse[mfsdata] returns the mfs object with the rows of the main \
block of columns in reverse order.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsColumnMatch", "::", "usage"}], "=", 
   "\"\<mfsColumnMatch[{qp1,qp2,...},{\\\"col1\\\",\\\"col2\\\",...}] tests \
whether a list of column namesmatch in all the mfs objects in which they \
appear.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsMerge", "::", "usage"}], "=", 
  "\"\<mfsMerge[{qp1,qp2,...}] nerges a list of mfs objects into a single one \
containing all the header and column information in each of them.  The column \
lengths must match.\>\""}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"matchColumns", "::", "usage"}], "=", 
   "\"\<matchColumns is an option for mfsMerge that gives a list of column \
names that must match in all the mfs objects in which they appear.  The value \
Automatic insists that all possible matches hold.\>\""}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsFixMAD8inconsistencies", "::", "usage"}], "=", 
  "\"\<mfsFixMAD8inconsistencies[qp] returns a new mfs object with \
corrections for inconsistencies that may arise from it's having been \
generated by MAD Version 8.\>\""}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsVersion2Update", "::", "usage"}], "=", 
  "\"\<mfsVersion2Update[oldfile,newfile] will create a new version of a file \
in which names of functions in Version 1.x of the Madtomma`Mfs`Mfs` package \
are changed to their equivalents in Version 2.x.\>\""}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsVersion2UpdateRules", "::", "usage"}], "=", 
   "\"\<mfsVersion2UpdateRules is a list of string replacement rules that \
will change names of functions in Version 1.x of the Madtomma`Mfs`Mfs` \
package to their equivalents in Version 2.x.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Error messages for the exported objects", "Subsection",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsKeyValue", "::", "notfound"}], " ", "=", " ", 
   "\"\<Descriptor `1` not found.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsKeyValue", "::", "notkey"}], " ", "=", " ", 
   "\"\<`1` is not a string, hence not a possible key.\>\""}], ";"}]], "Input",\

 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsColumn", "::", "notfound"}], " ", "=", " ", 
   "\"\<Column `1` not found.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsAddKey", "::", "badarg"}], " ", "=", " ", 
   "\"\<`1` not valid key-value pair\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsEditKey", "::", "badarg"}], " ", "=", " ", 
   "\"\<`1` not valid key-value pair\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsDeleteKey", "::", "badarg"}], " ", "=", " ", 
   "\"\<`1` not valid key-value pair\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsColumnValue", "::", "notfound"}], "=", 
   "\"\<`1` is not a proper column name.\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsRange", "::", "badarg"}], "=", 
   "\"\<The first element of a range specification (`1`) should be smaller \
than the second one (`2`).\>\""}], ";"}]], "Input",
 InitializationCell->True,
 CellTags->"Interface section"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsAddColumn", "::", "collength"}], "=", 
   "\"\<Columns with different column lengths cannot be merged into an mfs \
object.\>\""}], " ", ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfs", "::", "oldname"}], "=", 
   "\"\<`1` is an obsolete function name.  Please use `2` from now on.\>\""}],
   ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsMerge", "::", "badmatch"}], "=", 
  "\"\<Some columns specified by the matchColumns option do not \
match.\>\""}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsMerge", "::", "collength"}], "=", 
  "\"\<Not all columns have the same length. mfs objects cannot be \
merged.\>\""}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"interpretTagValue", "::", "changename"}], "=", 
   "\"\<Invalid variable name `1` changed to `2`\>\""}], ";"}]], "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Implementation", "Section",
 InitializationCell->True],

Cell["\<\
This part contains the actual definitions and any auxiliary functions that \
should not be visible outside.\
\>", "Text"],

Cell[CellGroupData[{

Cell["Begin the private context (implementation part)", "Subsection",
 InitializationCell->True],

Cell[CellGroupData[{

Cell["Begin[\"`Private`\"]", "Input",
 InitializationCell->True],

Cell[BoxData["\<\"Madtomma`Mfs`Private`\"\>"], "Output"]
}, Open  ]]
}, Open  ]],

Cell["Read in any hidden imports", "Subsection",
 InitializationCell->True],

Cell[CellGroupData[{

Cell["\<\
Definition of auxiliary functions and local (static) variables\
\>", "Subsection",
 InitializationCell->True],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsTypes", "=", 
  RowBox[{"{", "mfs", "}"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{"{", "mfs", "}"}]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Definition of the exported functions", "Subsection",
 InitializationCell->True],

Cell[CellGroupData[{

Cell["Removing unwanted lines from a file", "Subsubsection"],

Cell[TextData[{
 "A grep-like utility. It makes a copy of the file with all the lines \
containing a target string removed. Define a version using streams for output \
to allow use of a temporary file obtained from ",
 StyleBox["OpenTemporary", "Input"],
 "], e.g., in ",
 StyleBox["tfsRead", "Input"],
 " below."
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Options", "[", "removeUnwantedLines", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{"mfsVerbose", "\[Rule]", "False"}], "}"}]}]], "Input",
 CellChangeTimes->{{3.3942755536658316`*^9, 3.3942755543220644`*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"removeUnwantedLines", "[", 
   RowBox[{
   "rawFile_String", ",", "filteredFile_String", ",", "unwanted_String", ",", 
    "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "oo", "}"}], ",", 
    RowBox[{
     RowBox[{"oo", "=", 
      RowBox[{"OpenWrite", "[", "filteredFile", "]"}]}], ";", 
     RowBox[{"removeUnwantedLines", "[", 
      RowBox[{"rawFile", ",", "oo", ",", "unwanted", ",", "opts"}], "]"}], 
     ";", 
     RowBox[{"Close", "[", "oo", "]"}]}]}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"removeUnwantedLines", "[", 
   RowBox[{
   "rawFile_String", ",", "oo_OutputStream", ",", "unwanted_String", ",", 
    "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"tt", ",", "ll"}], "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"tt", "=", 
      RowBox[{"OpenRead", "[", "rawFile", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"verbose", "=", 
      RowBox[{
       RowBox[{"mfsVerbose", "/.", 
        RowBox[{"{", "opts", "}"}]}], " ", "/.", " ", 
       RowBox[{"Options", "[", "removeUnwantedLines", "]"}]}]}], ";", "\n", 
     "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{"verbose", ",", 
       RowBox[{"Print", "[", 
        RowBox[{
        "\"\<Input file: \>\"", ",", "tt", ",", "\"\<  Output file: \>\"", 
         ",", "oo"}], "]"}], ",", "Null"}], "]"}], ";", "\n", "\t\t", 
     RowBox[{"ll", "=", "\"\<0Segment0\>\""}], ";", "\n", "\t\t", 
     RowBox[{"While", "[", 
      RowBox[{
       RowBox[{"Not", "[", 
        RowBox[{"ll", "===", "EndOfFile"}], "]"}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"StringMatchQ", "[", 
           RowBox[{
            RowBox[{"ToLowerCase", "[", 
             RowBox[{"ToString", "[", "ll", "]"}], "]"}], ",", 
            RowBox[{"\"\<*\>\"", "<>", 
             RowBox[{"ToLowerCase", "[", "unwanted", "]"}], "<>", 
             "\"\<*\>\""}]}], "]"}], ",", "Null", ",", 
          RowBox[{"WriteString", "[", 
           RowBox[{"oo", ",", 
            RowBox[{"ll", "<>", "\"\<\\n\>\""}]}], "]"}]}], "]"}], ";", "\n", 
        "\t\t\t", 
        RowBox[{"ll", "=", 
         RowBox[{"Read", "[", 
          RowBox[{"tt", ",", "Record"}], "]"}]}]}]}], "]"}], ";", "\n", 
     "\t\t", 
     RowBox[{"Close", "[", "tt", "]"}], ";"}]}], "\n", "\t", "]"}]}]], "Input",\

 InitializationCell->True,
 CellChangeTimes->{{3.436085558228759*^9, 3.436085559181896*^9}, {
  3.4360857478093104`*^9, 3.4360857931223907`*^9}, {3.4360858472793336`*^9, 
  3.436085849388736*^9}, {3.4360858993893757`*^9, 3.436085922702174*^9}}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Removing quotes from strings", "Subsubsection"],

Cell["\<\
Since MAD8's TFS files have the strings delimited by quotes, ReadList returns \
strings containing quoted quotes (\"\\\"\").  We need to remove these from \
the columns of data, e.g., for the names of elements.  The following function \
will do it and leave numbers alone.  The order of pattern matching is for \
efficiency since we encounter Reals most often.\
\>", "Text"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"removeQuotes", "[", "x_Real", "]"}], ":=", "x"}], ";"}], "\n", 
 RowBox[{
  RowBox[{
   RowBox[{"removeQuotes", "[", "x_String", "]"}], ":=", 
   RowBox[{"StringReplace", "[", 
    RowBox[{"x", ",", 
     RowBox[{"\"\<\\\"\>\"", "->", "\"\<\>\""}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"removeQuotes", "[", "x_", "]"}], ":=", "x"}]}], "Input",
 InitializationCell->True],

Cell["\<\
MAD9 no longer puts the quotes around the element names, so this is no longer \
necessary.  However it does not create any problems either.\
\>", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Removing leading and trailing blanks", "Subsubsection"],

Cell["\<\
Necessary for MAD9 descriptor lines since most quotes have been suppressed.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"stringRemoveLeadingTrailingBlanks", "[", "str_", "]"}], ":=", "\n",
   "\t", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"after", ",", "before"}], "}"}], ",", "\n", "\t\t", 
    RowBox[{"StringJoin", "[", "\n", "\t\t\t", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Characters", "[", "str", "]"}], "\n", "\t\t\t\t\t\t", "//.", 
        
        RowBox[{
         RowBox[{"{", 
          RowBox[{"\"\< \>\"", ",", "after___"}], "}"}], "\[Rule]", 
         RowBox[{"{", "after", "}"}]}]}], "\n", "\t\t\t", ")"}], "//.", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"before___", ",", "\"\< \>\""}], "}"}], "\[Rule]", 
       RowBox[{"{", "before", "}"}]}]}], "\n", "\t\t", "]"}]}], "\n", "\t", 
   "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Functions for the header section", "Subsubsection"],

Cell["\<\
Parse a header line from a MAD TFS table, returning only the tag and its \
value.  The last character of the second word in the line, describing the \
format,  is used only to determine whether the last word is to be interpreted \
as a Fortran-form number or left as a string. In the latter case, double \
quotes are removed.  The three rules for substituting for the quotes seem to \
be necessary to avoid leading and trailing blanks on strings.  I don't quite \
understand this.\
\>", "Text"],

Cell[TextData[{
 "1/10/1999 now I do understand and had to add the ",
 StyleBox["stringRemoveLeadingTrailingBlanks", "Input"],
 " function to deal with it for MAD9 tables."
}], "Text"],

Cell["\<\
tfsParseDescriptorLine[str_String]:=Module[{tp,tp2,tp3,data1,data2},tp=First[\
ReadList[(data1=StringToStream[str]),{Word,Word,String},WordSeparators\[Rule]{\
\" \",\"\\\"\",\"\\t\",\"@\"}]];
    tp2=Flatten[{First[tp],If[StringTake[tp\[LeftDoubleBracket]2\
\[RightDoubleBracket],{-1}]\[Equal]\"s\",StringReplace[\
stringRemoveLeadingTrailingBlanks[Last[tp]],{\"\\\" \"\[Rule]\"\",\" \\\"\"\
\[Rule]\"\",\"\\\"\"\[Rule]\"\"}],tp3=ReadList[(data2=StringToStream[Last[tp]]\
),Number];Close[data2];tp3]}];Close[data1];tp2]\
\>", "Text",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"tfsParseDescriptorLine", "[", "str_String", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"tp", ",", "tp2", ",", "tp3", ",", "data1", ",", "data2"}], 
     "}"}], ",", 
    RowBox[{
     RowBox[{"tp", "=", 
      RowBox[{"First", "[", 
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"data1", "=", 
           RowBox[{"StringToStream", "[", "str", "]"}]}], ")"}], ",", 
         RowBox[{"{", 
          RowBox[{"Word", ",", "Word", ",", "String"}], "}"}], ",", 
         RowBox[{"WordSeparators", "\[Rule]", 
          RowBox[{"{", 
           RowBox[{
           "\"\< \>\"", ",", "\"\<\\\"\>\"", ",", "\"\<\\t\>\"", ",", 
            "\"\<@\>\""}], "}"}]}]}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"tp2", "=", 
      RowBox[{"Flatten", "[", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"First", "[", "tp", "]"}], ",", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"StringTake", "[", 
             RowBox[{
              RowBox[{
              "tp", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
              ",", 
              RowBox[{"{", 
               RowBox[{"-", "1"}], "}"}]}], "]"}], "\[Equal]", "\"\<s\>\""}], 
           ",", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"stringRemoveLeadingTrailingBlanks", "[", 
              RowBox[{"Last", "[", "tp", "]"}], "]"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"\"\<\\\" \>\"", "\[Rule]", "\"\<\>\""}], ",", 
               RowBox[{"\"\< \\\"\>\"", "\[Rule]", "\"\<\>\""}], ",", 
               RowBox[{"\"\<\\\"\>\"", "\[Rule]", "\"\<\>\""}]}], "}"}]}], 
            "]"}], ",", 
           RowBox[{
            RowBox[{"tp3", "=", 
             RowBox[{"ReadList", "[", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"data2", "=", 
                 RowBox[{"StringToStream", "[", 
                  RowBox[{"Last", "[", "tp", "]"}], "]"}]}], ")"}], ",", 
               "Number"}], "]"}]}], ";", "\[IndentingNewLine]", 
            RowBox[{"Close", "[", "data2", "]"}], ";", "tp3"}]}], "]"}]}], 
        "}"}], "]"}]}], ";", 
     RowBox[{"Close", "[", "data1", "]"}], ";", "tp2"}]}], "]"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
This function returns a list of three items from the header block in a TFS \
file.  The first item is a list of tags and values , the second is the names \
of the columns in the main data block and the last is the position in the \
file where the header block ends.  This can be used later to read the main \
data block.\
\>", "Text"],

Cell["\<\
We need a set of rules for transforming the TFS formats for ReadList.  Only \
necessary in order to read strings given in quotes, e.g., element names from \
MAD.  This will not work if the strings contain blanks.\
\>", "Text"],

Cell["\<\
17/8/2000 Added %d format that I just found in a new MAD8 SURVEY TFS output \
although it's probably meant to be %hd.  See email to Hans Grote today.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "tfsParseHeaderBlock", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"mfsVerbose", "\[Rule]", "False"}], ",", 
     RowBox[{"tfsFormatRules", "->", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"\"\<%e\>\"", "\[Rule]", "Number"}], ",", 
        RowBox[{"\"\<%hd\>\"", "->", "Number"}], ",", 
        RowBox[{"\"\<%d\>\"", "->", "Number"}], ",", 
        RowBox[{"\"\<%lf\>\"", "->", "Number"}], ",", 
        RowBox[{"\"\<%f\>\"", "->", "Number"}], ",", 
        RowBox[{"\"\<%le\>\"", "\[Rule]", "Number"}], ",", 
        RowBox[{"\"\<%s\>\"", "->", "Word"}], ",", 
        RowBox[{"\"\<%16s\>\"", "->", "Word"}], ",", 
        RowBox[{"\"\<%32s\>\"", "->", "Word"}], ",", 
        RowBox[{"\"\<~\>\"", "->", "Word"}]}], "}"}]}]}], "}"}]}], 
  ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"tfsParseHeaderBlock", "[", 
   RowBox[{"tfsFile_String", ",", " ", "opts___Rule"}], "]"}], " ", ":=", " ", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "tt", ",", " ", "headers", ",", " ", "keyvals", ",", " ", "lastKeyPos", 
      ",", " ", "fmtrules", ",", " ", "data", ",", " ", "data2", ",", " ", 
      "verbose", ",", " ", "ll", ",", " ", "fmts"}], "}"}], ",", "\n", 
    "  \t\t\t", 
    RowBox[{
     RowBox[{"verbose", " ", "=", " ", 
      RowBox[{
       RowBox[{"mfsVerbose", " ", "/.", " ", 
        RowBox[{"{", "opts", "}"}]}], " ", "/.", " ", 
       RowBox[{"Options", "[", "tfsParseHeaderBlock", "]"}]}]}], ";", "\n", 
     "  \t\t", 
     RowBox[{"fmtrules", " ", "=", " ", 
      RowBox[{
       RowBox[{"tfsFormatRules", " ", "/.", " ", 
        RowBox[{"{", "opts", "}"}]}], "  ", "/.", " ", 
       RowBox[{"Options", "[", "tfsParseHeaderBlock", "]"}]}]}], ";", "\n", 
     "  \t\t", 
     RowBox[{"tt", " ", "=", " ", 
      RowBox[{"OpenRead", "[", "tfsFile", "]"}]}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{"get", " ", "column", " ", "header", " ", "info"}], " ", "*)"}],
      "\n", "                ", 
     RowBox[{"ll", " ", "=", " ", 
      RowBox[{"Find", "[", 
       RowBox[{"tt", ",", " ", "\"\<*\>\"", ",", " ", 
        RowBox[{"AnchoredSearch", " ", "->", " ", "True"}]}], "]"}]}], ";", 
     "\n", "  \t\t", 
     RowBox[{"headers", " ", "=", " ", 
      RowBox[{"ReadList", "[", 
       RowBox[{
        RowBox[{"(", 
         RowBox[{"data", " ", "=", " ", 
          RowBox[{"StringToStream", "[", "ll", "]"}]}], ")"}], ",", " ", 
        "Word", ",", " ", 
        RowBox[{"WordSeparators", " ", "->", " ", 
         RowBox[{"{", 
          RowBox[{"\"\< \>\"", ",", " ", "\"\<*\>\"", ",", " ", "\"\<,\>\""}],
           "}"}]}]}], "]"}]}], ";", "\n", "  \t\t", 
     RowBox[{"Close", "[", "tt", "]"}], ";", " ", 
     RowBox[{"Close", "[", "data", "]"}], ";", "\n", "  \t\t", 
     RowBox[{"tt", " ", "=", " ", 
      RowBox[{"OpenRead", "[", "tfsFile", "]"}]}], ";", " ", 
     RowBox[{"(*", " ", 
      RowBox[{"get", " ", "column", " ", "format", " ", "info"}], " ", "*)"}],
      "\n", "  \t\t", 
     RowBox[{"ll", " ", "=", " ", 
      RowBox[{"Find", "[", 
       RowBox[{"tt", ",", " ", "\"\<$\>\"", ",", " ", 
        RowBox[{"AnchoredSearch", " ", "->", " ", "True"}]}], "]"}]}], ";", 
     "\n", "  \t\t", 
     RowBox[{"fmts", " ", "=", " ", 
      RowBox[{
       RowBox[{"ReadList", "[", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"data2", " ", "=", " ", 
           RowBox[{"StringToStream", "[", "ll", "]"}]}], ")"}], ",", " ", 
         "Word", ",", " ", 
         RowBox[{"WordSeparators", " ", "->", " ", 
          RowBox[{"{", 
           RowBox[{
           "\"\< \>\"", ",", " ", "\"\<$\>\"", ",", " ", "\"\<,\>\""}], 
           "}"}]}]}], "]"}], " ", "/.", " ", 
       RowBox[{"Flatten", "[", "fmtrules", "]"}]}]}], ";", " ", 
     RowBox[{"Close", "[", "data2", "]"}], ";", "\n", "  \t\t", 
     RowBox[{"If", "[", 
      RowBox[{"verbose", ",", " ", 
       RowBox[{"Print", "[", "fmts", "]"}]}], "]"}], ";", "\n", "  \t\t", 
     RowBox[{"Close", "[", "tt", "]"}], ";", "\n", "  \t\t", 
     RowBox[{"tt", " ", "=", " ", 
      RowBox[{"OpenRead", "[", "tfsFile", "]"}]}], ";", "\n", "  \t\t", 
     RowBox[{"ll", " ", "=", " ", "\"\<\>\""}], ";", " ", 
     RowBox[{"keyvals", " ", "=", " ", 
      RowBox[{"{", "}"}]}], ";", " ", 
     RowBox[{"lastKeyPos", " ", "=", " ", "0"}], ";", "\n", "  \t\t", 
     RowBox[{"While", "[", "\n", "   \t\t\t", 
      RowBox[{
       RowBox[{"Not", "[", 
        RowBox[{"ll", " ", "===", " ", "EndOfFile"}], "]"}], ",", "\n", 
       "   \t\t\t", 
       RowBox[{
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{"StringLength", "[", "ll", "]"}], " ", ">", " ", "0"}], 
           " ", "&&", " ", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{"StringTake", "[", 
              RowBox[{"ll", ",", " ", "1"}], "]"}], " ", "==", " ", 
             "\"\<@\>\""}], ")"}]}], ",", "\[IndentingNewLine]", "\t\t\t", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"keyvals", ",", " ", 
            RowBox[{"tfsParseDescriptorLine", "[", "ll", "]"}]}], "]"}]}], 
         "\n", "    \t\t\t", "]"}], ";", "\[IndentingNewLine]", "\t\t     ", 
        RowBox[{"lastKeyPos", " ", "=", " ", 
         RowBox[{"StreamPosition", "[", "tt", "]"}]}], ";", "\t", 
        "\[IndentingNewLine]", "   \t\t  ", 
        RowBox[{"ll", " ", "=", " ", 
         RowBox[{"Find", "[", 
          RowBox[{"tt", ",", " ", 
           RowBox[{"{", 
            RowBox[{
            "\"\<@\>\"", ",", " ", "\"\<$\>\"", ",", " ", "\"\<*\>\""}], 
            "}"}], ",", " ", 
           RowBox[{"AnchoredSearch", " ", "->", " ", "True"}]}], "]"}]}], 
        ";"}]}], "\n", "   \t\t\t", "]"}], ";", "\n", "  \t\t", 
     RowBox[{"Close", "[", "tt", "]"}], ";", " ", 
     RowBox[{"{", 
      RowBox[{
      "keyvals", ",", " ", "fmts", ",", " ", "headers", ",", " ", 
       "lastKeyPos"}], "}"}]}]}], "\n", "  \t", "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.436081522598978*^9, 3.436081540583584*^9}, {
   3.4360820200584707`*^9, 3.43608202152724*^9}, {3.4360820573714485`*^9, 
   3.4360821488882446`*^9}, {3.436082195123212*^9, 3.436082249827037*^9}, {
   3.4360822876243954`*^9, 3.436082348734553*^9}, {3.4360824237198877`*^9, 
   3.4360824634703965`*^9}, {3.4360826569884987`*^9, 
   3.4360827847401333`*^9}, {3.4360828375533094`*^9, 3.436082843178382*^9}, {
   3.4360828841164055`*^9, 3.4360828896633515`*^9}, 3.4360853234913793`*^9, {
   3.4360855072749815`*^9, 3.436085508228119*^9}}],

Cell[TextData[{
 "Added three possible characters that begin lines in ",
 StyleBox["Find", "Input"],
 " command to allow the header lines to appear in any order.  This is \
necessary for MAD9 which now gives the column headers immediately before the \
columns."
}], "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Create mfs data from TFS file", "Subsubsection"],

Cell["\<\
The following function reads all the information in a TFS table file and \
returns a mfs  data object. It also prints some information.\
\>", "Text"],

Cell[TextData[{
 "Using ",
 StyleBox["ReadList", "Input"],
 " is much faster than a ",
 StyleBox["While", "Input"],
 " with ",
 StyleBox["Read", "Input"],
 " and tests on each line. So we first make a copy of the file with some \
unwanted lines removed.  The header data block is parsed and the file is \
reopened at the position of the end of the header block.  Then we can suck \
all the data into the temporary variable ",
 StyleBox["cols", "Input"],
 "."
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Options", "[", "tfsRead", "]"}], "=", 
  RowBox[{
   RowBox[{"Options", "[", "tfsParseHeaderBlock", "]"}], "\[Union]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"keepTemporaryFile", "->", "False"}], ",", 
     RowBox[{"DropNaN", "\[Rule]", "False"}], ",", 
     RowBox[{"VariablePrefix", "\[Rule]", "\"\<\>\""}]}], "}"}]}]}]], "Input",\

 InitializationCell->True,
 CellChangeTimes->{{3.476089701321061*^9, 3.476089707867936*^9}, {
  3.476089752742936*^9, 3.476089753492936*^9}}],

Cell[BoxData[
 RowBox[{
  RowBox[{"tfsRead", "[", 
   RowBox[{"tfsFile_String", ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "tempFile", ",", "tt", ",", "hh", ",", "cols", ",", "particles", ",", 
      "turns", ",", "tempStream", ",", "verbose", ",", "keepTemp", ",", 
      "dropNaN", ",", "prefix"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"tempStream", "=", 
      RowBox[{"OpenWrite", "[", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"verbose", "=", 
      RowBox[{
       RowBox[{"mfsVerbose", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "tfsRead", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"keepTemp", "=", 
      RowBox[{
       RowBox[{"keepTemporaryFile", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "tfsRead", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"dropNaN", "=", 
      RowBox[{
       RowBox[{"DropNaN", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "tfsRead", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"prefix", "=", 
      RowBox[{
       RowBox[{"VariablePrefix", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"Options", "[", "tfsRead", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"removeUnwantedLines", "[", 
      RowBox[{"tfsFile", ",", "tempStream", ",", "\"\<Segment\>\""}], "]"}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"Close", "[", "tempStream", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"tempFile", "=", 
      RowBox[{"First", "[", "tempStream", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"hh", "=", 
      RowBox[{"tfsParseHeaderBlock", "[", 
       RowBox[{"tempFile", ",", "opts"}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"hh", "\[LeftDoubleBracket]", 
       RowBox[{"-", "2"}], "\[RightDoubleBracket]"}], "=", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"prefix", "<>", "#"}], "&"}], ",", 
        RowBox[{"hh", "\[LeftDoubleBracket]", 
         RowBox[{"-", "2"}], "\[RightDoubleBracket]"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{"verbose", ",", 
       RowBox[{"Print", "[", 
        RowBox[{"\"\<Header block:\\n\>\"", ",", 
         RowBox[{"First", "[", "hh", "]"}], ",", 
         "\"\<\\nColumns labels:  \>\"", ",", 
         RowBox[{"hh", "\[LeftDoubleBracket]", 
          RowBox[{"-", "2"}], "\[RightDoubleBracket]"}], ",", 
         "\"\<\\nColumn formats:  \>\"", ",", 
         RowBox[{"hh", "\[LeftDoubleBracket]", 
          RowBox[{"-", "3"}], "\[RightDoubleBracket]"}], ",", 
         "\"\<\\nColumn data starts at position \>\"", ",", 
         RowBox[{"Last", "[", "hh", "]"}], ",", "\"\< in \>\"", ",", 
         "tempFile"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"tt", "=", 
      RowBox[{"OpenRead", "[", "tempFile", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"SetStreamPosition", "[", 
      RowBox[{"tt", ",", 
       RowBox[{"Last", "[", "hh", "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
     
     RowBox[{"If", "[", 
      RowBox[{"dropNaN", ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"cols", "=", 
         RowBox[{"Map", "[", 
          RowBox[{"removeQuotes", ",", 
           RowBox[{
            RowBox[{"(", 
             RowBox[{
              RowBox[{"ToExpression", "[", 
               RowBox[{"StringReplace", "[", 
                RowBox[{"#1", ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"\"\<E\>\"", "\[Rule]", "\"\<*10^\>\""}], ",", 
                   RowBox[{
                   "\"\<NaN\>\"", "\[Rule]", "\"\<\[Infinity]\>\""}]}], 
                  "}"}]}], "]"}], "]"}], "&"}], ")"}], "/@", 
            RowBox[{"ReadList", "[", 
             RowBox[{"tt", ",", 
              RowBox[{
               RowBox[{"hh", "\[LeftDoubleBracket]", 
                RowBox[{"-", "3"}], "\[RightDoubleBracket]"}], "/.", 
               "\[InvisibleSpace]", 
               RowBox[{"{", 
                RowBox[{"Number", "\[Rule]", "Word"}], "}"}]}]}], "]"}]}], 
           ",", 
           RowBox[{"{", 
            RowBox[{"-", "1"}], "}"}]}], "]"}]}], ";"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"cols", "=", 
         RowBox[{"Map", "[", 
          RowBox[{"removeQuotes", ",", 
           RowBox[{"ReadList", "[", 
            RowBox[{"tt", ",", 
             RowBox[{"hh", "\[LeftDoubleBracket]", 
              RowBox[{"-", "3"}], "\[RightDoubleBracket]"}]}], "]"}], ",", 
           RowBox[{"{", 
            RowBox[{"-", "1"}], "}"}]}], "]"}]}], ";"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Close", "[", "tt", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{"keepTemp", ",", 
       RowBox[{"Print", "[", 
        RowBox[{"\"\<Temporary file not deleted: \>\"", ",", "tempFile"}], 
        "]"}], ",", 
       RowBox[{"DeleteFile", "[", "tempFile", "]"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"mfs", "[", 
      RowBox[{
       RowBox[{"First", "[", "hh", "]"}], ",", 
       RowBox[{"hh", "\[LeftDoubleBracket]", 
        RowBox[{"-", "2"}], "\[RightDoubleBracket]"}], ",", "cols"}], 
      "]"}]}]}], "]"}]}]], "Input",
 InitializationCell->True,
 CellChangeTimes->{{3.43608156416201*^9, 3.4360816395379753`*^9}, {
   3.476089713680436*^9, 3.476089750508561*^9}, {3.476089816602311*^9, 
   3.476089842149186*^9}, 3.476089946946061*^9}]
}, Open  ]],

Cell[CellGroupData[{

Cell["Creating new variables in the current  context", "Subsubsection"],

Cell[TextData[{
 "The functions in this section are a bit tricky.  They involve creating new \
variables in the current context with names constructed from TFS descriptors. \
 Watch the quotes in the definition of ",
 Cell[BoxData["interpretTagValue"], "Input",
  InitializationCell->True],
 " particularly."
}], "Text"],

Cell["\<\
This function takes a result of the above form, creates a variable using the \
tag and assigns it the value.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"interpretTagValue", "[", 
   RowBox[{"{", 
    RowBox[{"tag_String", ",", "value_"}], "}"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"temp", ",", "newtag"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"temp", "=", "value"}], ";", "\[IndentingNewLine]", 
     RowBox[{"newtag", "=", 
      RowBox[{"StringReplace", "[", 
       RowBox[{"tag", ",", 
        RowBox[{"{", 
         RowBox[{"\"\<_\>\"", "\[Rule]", "\"\<$$\>\""}], "}"}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"newtag", "\[NotEqual]", "tag"}], ",", 
       RowBox[{"Message", "[", 
        RowBox[{
         RowBox[{"interpretTagValue", "::", "changename"}], ",", "tag", ",", 
         "newtag"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"ToExpression", "[", 
      RowBox[{
      "\"\<Global`\>\"", "<>", "newtag", "<>", "\"\< = \>\"", "<>", 
       "\"\<Madtomma`Mfs`Mfs`Private`temp\>\""}], "]"}]}]}], "\n", "\t\t", 
   "]"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
DEACTIVATED since probably not needed: This function combines the two \
functions above, creating a variable from a TFS header line and assigning it \
a value.\
\>", "Text",
 FontColor->RGBColor[0, 0, 1]],

Cell[BoxData[
 RowBox[{
  RowBox[{"tfsInterpretDescriptorLine", "[", "str_String", "]"}], ":=", 
  RowBox[{"interpretTagValue", "[", " ", 
   RowBox[{"tfsParseDescriptorLine", "[", "str", "]"}], "]"}]}]], "Input",
 Evaluatable->False,
 FontColor->RGBColor[0, 0, 1]],

Cell["\<\
This function reads a TFS header block to create variables and assign their \
values.\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsInterpretKeys", "[", 
   RowBox[{"qp_mfs", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"interpretTagValue", "/@", 
     RowBox[{"First", "[", "qp", "]"}]}], ";", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"mfsVerbose", "/.", 
          RowBox[{"{", "opts", "}"}]}], "/.", 
         RowBox[{"Options", "[", "mfsInterpret", "]"}]}], ")"}], "===", 
       "True"}], ",", 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<Variables (re-)assigned: \>\"", ",", 
        RowBox[{"mfsKeyNames", "[", "qp", "]"}]}], "]"}]}], "]"}]}], 
   ")"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetDelayed", "::", "\<\"write\"\>"}], ":", 
  " ", "\<\"Tag \\!\\(mfsInterpretKeys\\) in \
\\!\\(mfsInterpretKeys[\\(\\(qp_mfs, opts___\\)\\)]\\) is Protected.\"\>"}]], \
"Message"],

Cell[BoxData["$Failed"], "Output"]
}, Open  ]],

Cell["\<\
This takes the block of columns and creates \"vector\" variables whose names \
are given by the column names.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsInterpretColumns", "[", 
   RowBox[{"qp_mfs", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"mfsDrop", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"Options", "[", "mfsInterpret", "]"}]}], ")"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"interpretTagValue", "/@", 
       RowBox[{"Transpose", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"qp", "\[LeftDoubleBracket]", 
           RowBox[{"-", "2"}], "\[RightDoubleBracket]"}], ",", 
          RowBox[{"Transpose", "[", 
           RowBox[{"Rest", "[", 
            RowBox[{"Drop", "[", 
             RowBox[{
              RowBox[{"Last", "[", "qp", "]"}], ",", 
              RowBox[{"-", "1"}]}], "]"}], "]"}], "]"}]}], "}"}], "]"}]}], 
      ",", "\[IndentingNewLine]", 
      RowBox[{"interpretTagValue", "/@", 
       RowBox[{"Transpose", "[", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"qp", "\[LeftDoubleBracket]", 
           RowBox[{"-", "2"}], "\[RightDoubleBracket]"}], ",", 
          RowBox[{"Transpose", "[", 
           RowBox[{"Last", "[", "qp", "]"}], "]"}]}], "}"}], "]"}]}]}], "]"}],
     ";", "\[IndentingNewLine]", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"mfsVerbose", "/.", 
          RowBox[{"{", "opts", "}"}]}], "/.", 
         RowBox[{"Options", "[", "mfsInterpret", "]"}]}], ")"}], "===", 
       "True"}], ",", 
      RowBox[{"Print", "[", 
       RowBox[{"\"\<Variables (re-)assigned: \>\"", ",", 
        RowBox[{"mfsColumnNames", "[", "qp", "]"}]}], "]"}]}], "]"}]}], 
   ")"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
The following combines the interpretation of columns and keys.  It can also \
take a file name as argument.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "mfsInterpret", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"mfsVerbose", "\[Rule]", "False"}], ",", 
     RowBox[{"mfsDrop", "\[Rule]", "True"}]}], "}"}]}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsInterpret", "[", 
   RowBox[{"qp_mfs", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"mfsInterpretKeys", "[", 
     RowBox[{"qp", ",", "opts"}], "]"}], ";", 
    RowBox[{"mfsInterpretColumns", "[", 
     RowBox[{"qp", ",", "opts"}], "]"}], ";"}], ")"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsInterpret", "[", 
    RowBox[{"fn_String", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"mfsInterpret", "[", 
    RowBox[{
     RowBox[{"tfsRead", "[", 
      RowBox[{"fn", ",", "opts"}], "]"}], ",", "opts"}], "]"}]}], 
  ";"}]], "Input",
 InitializationCell->True],

Cell[TextData[{
 "Consider testing for variables already defined with ",
 StyleBox["ValueQ", "Input"],
 "."
}], "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Extracting information from mfs data objects", "Subsubsection"],

Cell["The list of names of the keys", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsKeyNames", "[", "qp_mfs", "]"}], ":=", 
  RowBox[{"First", "[", 
   RowBox[{"Transpose", "[", 
    RowBox[{"First", "[", "qp", "]"}], "]"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
Need to handle errors properly since  unevaluated expressions involving mfs \
objects are usually long.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsKeyValue", "[", 
   RowBox[{"qp_mfs", ",", "key_String"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"qp1", ",", "pp"}], "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"qp1", "=", 
      RowBox[{"First", "[", "qp", "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"pp", "=", 
      RowBox[{"Position", "[", 
       RowBox[{"qp1", ",", "key"}], "]"}]}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"pp", "==", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Message", "[", 
          RowBox[{
           RowBox[{"mfsKeyValue", "::", "notfound"}], ",", "key"}], "]"}], 
         ";", "Null"}], ")"}], ",", 
       RowBox[{"Extract", "[", 
        RowBox[{"qp1", ",", 
         RowBox[{"MapAt", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"(", 
             RowBox[{"#", "+", "1"}], ")"}], "&"}], ",", 
           RowBox[{"First", "[", "pp", "]"}], ",", 
           RowBox[{"-", "1"}]}], "]"}]}], " ", "]"}]}], "]"}]}]}], "\n", "\t",
    "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsKeyValue", "[", 
   RowBox[{"qp_mfs", ",", "keys_List"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"(", 
     RowBox[{"mfsKeyValue", "[", 
      RowBox[{"qp", ",", "#"}], "]"}], ")"}], "&"}], " ", "/@", " ", 
   "keys"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsKeyValue", "[", 
   RowBox[{"qp_mfs", ",", "key_"}], "]"}], ":=", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"Message", "[", 
     RowBox[{
      RowBox[{"mfsKeyValue", "::", "notkey"}], ",", "key"}], "]"}], ";", 
    "Null"}], ")"}]}]], "Input",
 InitializationCell->True],

Cell["The list of names of the columns", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumnNames", "[", "qp_mfs", "]"}], ":=", 
  RowBox[{"qp", "[", 
   RowBox[{"[", 
    RowBox[{"-", "2"}], "]"}], "]"}]}]], "Input",
 InitializationCell->True],

Cell[TextData[{
 "Extract one of the columns using its name in the ",
 StyleBox["mfsColumnNames", "Input"],
 " list to locate its position."
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qp_mfs", ",", "key_String"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"pos", "=", 
      RowBox[{"Position", "[", 
       RowBox[{
        RowBox[{"mfsColumnNames", "[", "qp", "]"}], ",", "key"}], "]"}]}], 
     ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"pos", "==", 
        RowBox[{"{", "}"}]}], ",", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Message", "[", 
          RowBox[{
           RowBox[{"mfsColumn", "::", "notfound"}], ",", "key"}], "]"}], ";", 
         "Null"}], ")"}], ",", 
       RowBox[{"Column", "[", 
        RowBox[{
         RowBox[{"Last", "[", "qp", "]"}], ",", 
         RowBox[{"pos", "[", 
          RowBox[{"[", 
           RowBox[{"1", ",", "1"}], "]"}], "]"}]}], " ", "]"}]}], "]"}]}]}], 
   "\n", "\t", "]"}]}]], "Input",
 InitializationCell->True],

Cell["Make it work with sets of columns:", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qp_mfs", ",", "keys_List"}], "]"}], ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"mfsColumn", "[", 
     RowBox[{"qp", ",", "#"}], "]"}], "&"}], " ", "/@", " ", 
   "keys"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "[", "qp_mfs", "]"}], ":=", 
  RowBox[{"Last", "[", "qp", "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Selection in an mfs object", "Subsubsection"],

Cell["Extract a value of a parameter from a row.", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumnValue", "[", 
   RowBox[{"qp_mfs", ",", "row_List", ",", "key_String"}], "]"}], ":=", "\n", 
  
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"MemberQ", "[", 
     RowBox[{
      RowBox[{"mfsColumnNames", "[", "qp", "]"}], ",", "key"}], "]"}], ",", 
    "\t", "\n", 
    RowBox[{"First", "[", 
     RowBox[{"Take", "[", 
      RowBox[{"row", ",", 
       RowBox[{"First", "[", 
        RowBox[{"Position", "[", 
         RowBox[{
          RowBox[{"mfsColumnNames", "[", "qp", "]"}], ",", "key"}], "]"}], 
        "]"}]}], "]"}], "]"}], ",", 
    RowBox[{"Message", "[", 
     RowBox[{
      RowBox[{"mfsColumnValue", "::", "notfound"}], ",", "key"}], "]"}]}], 
   "]"}]}]], "Input",
 InitializationCell->True],

Cell["Select rows satistying a certain criterion.", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsSelect", "[", 
   RowBox[{"qp_mfs", ",", "crit_Function"}], "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\n", "\t\t", 
    RowBox[{"ReplacePart", "[", 
     RowBox[{"qp", ",", "\n", "\t\t\t", 
      RowBox[{"Select", "[", 
       RowBox[{
        RowBox[{"Last", "[", "qp", "]"}], ",", 
        RowBox[{
         RowBox[{"crit", "[", "#", "]"}], "&"}]}], " ", "]"}], "\n", "\t\t", 
      ",", 
      RowBox[{"{", 
       RowBox[{"-", "1"}], "}"}]}], "]"}]}], "\n", "\t", "]"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
A special case of mfsSelect - parameter values belong to a list.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsMember", "[", 
   RowBox[{"qp_mfs", ",", "key_String", ",", "targetset_List"}], "]"}], ":=", 
  
  RowBox[{"mfsSelect", "[", 
   RowBox[{"qp", ",", 
    RowBox[{
     RowBox[{"(", 
      RowBox[{"MemberQ", "[", 
       RowBox[{"targetset", ",", 
        RowBox[{"mfsColumnValue", "[", 
         RowBox[{"qp", ",", "#", ",", "key"}], "]"}]}], "]"}], ")"}], "&"}]}],
    "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsNotMember", "[", 
   RowBox[{"qp_mfs", ",", "key_String", ",", "targetset_List"}], "]"}], ":=", 
  
  RowBox[{"mfsSelect", "[", 
   RowBox[{"qp", ",", "\[InvisibleSpace]", 
    RowBox[{
     RowBox[{"!", 
      RowBox[{"(", 
       RowBox[{"MemberQ", "[", 
        RowBox[{"targetset", ",", 
         RowBox[{"mfsColumnValue", "[", 
          RowBox[{"qp", ",", "#1", ",", "key"}], "]"}]}], "]"}], ")"}]}], 
     "&"}]}], "]"}]}]], "Input",
 InitializationCell->True],

Cell["\<\
Extract rows for which parameter values  lie within a specified range.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsRange", "[", 
   RowBox[{"qp_mfs", ",", "key_String", ",", 
    RowBox[{"{", 
     RowBox[{"min_", ",", "max_"}], "}"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"min", "<", "max"}], ",", 
    RowBox[{"mfsSelect", "[", 
     RowBox[{"qp", ",", 
      RowBox[{
       RowBox[{"(", " ", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"mfsColumnValue", "[", 
            RowBox[{"qp", ",", "#", ",", "key"}], "]"}], "\[GreaterEqual]", 
           "min"}], ")"}], " ", "&&", " ", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"mfsColumnValue", "[", 
            RowBox[{"qp", ",", "#", ",", "key"}], "]"}], "\[LessEqual]", 
           "max"}], ")"}]}], ")"}], "&"}]}], "]"}], ",", 
    RowBox[{"Message", "[", 
     RowBox[{
      RowBox[{"mfsRange", "::", "badarg"}], ",", "min", ",", "max"}], "]"}]}],
    "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Editing mfs objects", "Subsubsection"],

Cell["Add an item to the key list.", "Text"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"mfsAddKey", "[", 
    RowBox[{"qp_mfs", ",", 
     RowBox[{"{", 
      RowBox[{"key_String", ",", "value_"}], "}"}]}], "]"}], ":=", "\n", "\t", 
   RowBox[{"ReplacePart", "[", 
    RowBox[{"qp", ",", 
     RowBox[{"Join", "[", 
      RowBox[{
       RowBox[{"qp", "[", 
        RowBox[{"[", "1", "]"}], "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"{", 
         RowBox[{"key", ",", "value"}], "}"}], "}"}]}], "]"}], ",", "1"}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mfsAddKey", "[", 
   RowBox[{"qp_mfs", ",", "badarg_"}], "]"}], ":=", "\t", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"Message", "[", 
     RowBox[{
      RowBox[{"mfsAddKey", "::", "badarg"}], ",", "badarg"}], "]"}], ";", 
    "Null"}], ")"}]}]}], "Input",
 InitializationCell->True],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"mfsDeleteKey", "[", 
    RowBox[{"qp_mfs", ",", "key_String"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"qp1", ",", "pp"}], "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"qp1", "=", 
       RowBox[{"First", "[", "qp", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"pp", "=", 
       RowBox[{"Position", "[", 
        RowBox[{"qp1", ",", "key"}], "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"pp", "==", 
         RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Message", "[", 
           RowBox[{
            RowBox[{"mfsKeyValue", "::", "notfound"}], ",", "key"}], "]"}], 
          ";", "Null"}], ")"}], ",", 
        RowBox[{"ReplacePart", "[", 
         RowBox[{"qp", ",", 
          RowBox[{"Select", "[", 
           RowBox[{"qp1", ",", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{"Not", "[", 
               RowBox[{
                RowBox[{"First", "[", "#", "]"}], "==", "key"}], "]"}], ")"}],
              "&"}]}], "]"}], ",", "1"}], "]"}]}], "\n", "\t", "]"}]}]}], 
    "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mfsDeleteKey", "[", 
   RowBox[{"qp_mfs", ",", "badarg_"}], "]"}], ":=", "\t", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"Message", "[", 
     RowBox[{
      RowBox[{"mfsDeleteKey", "::", "badarg"}], ",", "badarg"}], "]"}], ";", 
    "Null"}], ")"}]}]}], "Input",
 InitializationCell->True],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"mfsEditKey", "[", 
    RowBox[{"qp_mfs", ",", 
     RowBox[{"{", 
      RowBox[{"key_String", ",", "newValue_"}], "}"}]}], "]"}], ":=", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"qp1", ",", "pp"}], "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"qp1", "=", 
       RowBox[{"First", "[", "qp", "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"pp", "=", 
       RowBox[{"Position", "[", 
        RowBox[{"qp1", ",", "key"}], "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"pp", "==", 
         RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Message", "[", 
           RowBox[{
            RowBox[{"mfsKeyValue", "::", "notfound"}], ",", "key"}], "]"}], 
          ";", "Null"}], ")"}], ",", 
        RowBox[{"ReplacePart", "[", 
         RowBox[{"qp", ",", 
          RowBox[{"ReplacePart", "[", 
           RowBox[{"qp1", ",", "newValue", ",", 
            RowBox[{"MapAt", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{"#", "+", "1"}], ")"}], "&"}], ",", 
              RowBox[{"First", "[", "pp", "]"}], ",", 
              RowBox[{"-", "1"}]}], "]"}]}], "]"}], ",", "1"}], "]"}]}], "\n",
        "\t", "]"}]}]}], "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mfsEditKey", "[", 
   RowBox[{"qp_mfs", ",", "badarg_"}], "]"}], ":=", "\t", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"Message", "[", 
     RowBox[{
      RowBox[{"mfsEditKey", "::", "badarg"}], ",", "badarg"}], "]"}], ";", 
    "Null"}], ")"}]}]}], "Input",
 InitializationCell->True],

Cell["Reverse the order of the rows in the block of columns.", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsReverse", "[", "qp_mfs", "]"}], ":=", " ", 
  RowBox[{"ReplacePart", "[", 
   RowBox[{"qp", ",", 
    RowBox[{"Reverse", "[", 
     RowBox[{"Last", "[", "qp", "]"}], "]"}], ",", 
    RowBox[{"-", "1"}]}], "]"}]}]], "Input",
 InitializationCell->True],

Cell["A function to remove a column or a set of columns.", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"mfsDeleteColumn", "[", 
    RowBox[{"qp_mfs", ",", "colname_String"}], "]"}], ":=", "\n", "\t", 
   RowBox[{"Module", "[", 
    RowBox[{
     RowBox[{"{", "colpos", "}"}], ",", "\n", "\t\t", 
     RowBox[{
      RowBox[{"colpos", "=", 
       RowBox[{"Position", "[", 
        RowBox[{
         RowBox[{"mfsColumnNames", "[", "qp", "]"}], ",", "colname"}], 
        "]"}]}], ";", "\n", "\t\t", 
      RowBox[{"mfs", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"First", "[", "qp", "]"}], ",", "\n", "\t\t\t", 
        RowBox[{"Drop", "[", 
         RowBox[{
          RowBox[{"qp", "\[LeftDoubleBracket]", 
           RowBox[{"-", "2"}], "\[RightDoubleBracket]"}], ",", 
          RowBox[{"First", "[", "colpos", "]"}]}], "]"}], ",", "\n", "\t\t\t", 
        RowBox[{
         RowBox[{
          RowBox[{"Drop", "[", 
           RowBox[{"#", ",", 
            RowBox[{"First", "[", "colpos", "]"}]}], "]"}], "&"}], "/@", 
         RowBox[{"Last", "[", "qp", "]"}]}]}], "\n", "\t\t", "]"}]}]}], "\n", 
    "\t", "]"}]}], ";"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsDeleteColumn", "[", 
   RowBox[{"qp_mfs", ",", 
    RowBox[{"colnames", ":", 
     RowBox[{"{", "__String", "}"}]}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"cols", "=", "colnames"}], ",", 
      RowBox[{"qpr", "=", "qp"}]}], "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"While", "[", 
      RowBox[{
       RowBox[{"cols", "=!=", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"qpr", "=", 
         RowBox[{"mfsDeleteColumn", "[", 
          RowBox[{"qpr", ",", 
           RowBox[{"First", "[", "cols", "]"}]}], "]"}]}], ";", "\n", 
        "\t\t\t", 
        RowBox[{"cols", "=", 
         RowBox[{"Rest", "[", "cols", "]"}]}]}]}], "\n", "\t\t", "]"}], ";", 
     "\n", "\t\t", "qpr"}]}], "\n", "\t", "]"}]}]], "Input",
 InitializationCell->True],

Cell["A function to add a column or set of columns", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsAddColumn", "[", 
   RowBox[{"qp_mfs", ",", "colname_String", ",", "col_List"}], "]"}], ":=", 
  "\n", "\t", 
  RowBox[{"mfsMerge", "[", 
   RowBox[{"{", 
    RowBox[{"qp", ",", 
     RowBox[{"mfs", "[", 
      RowBox[{
       RowBox[{"{", "}"}], ",", 
       RowBox[{"{", "colname", "}"}], ",", 
       RowBox[{"Transpose", "[", 
        RowBox[{"{", "col", "}"}], "]"}]}], "]"}]}], "}"}], "]"}]}]], "Input",\

 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsAddColumn", "[", 
   RowBox[{"qp_mfs", ",", 
    RowBox[{"colnames", ":", 
     RowBox[{"{", "__String", "}"}]}], ",", 
    RowBox[{"cols", ":", 
     RowBox[{"{", "__List", "}"}]}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"If", "[", 
   RowBox[{
    RowBox[{"Equal", "@@", 
     RowBox[{"(", 
      RowBox[{"Length", "/@", "cols"}], ")"}]}], ",", "\n", "\t\t", 
    RowBox[{"mfsMerge", "[", 
     RowBox[{"{", 
      RowBox[{"qp", ",", 
       RowBox[{"mfs", "[", 
        RowBox[{
         RowBox[{"{", "}"}], ",", "colnames", ",", 
         RowBox[{"Transpose", "[", "cols", "]"}]}], "]"}]}], "}"}], "]"}], 
    ",", "\n", "\t\t", 
    RowBox[{"(", 
     RowBox[{
      RowBox[{"Message", "[", 
       RowBox[{"mfsAddColumn", "::", "collength"}], "]"}], ";", "Null"}], 
     ")"}]}], "\n", "\t\t", "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Merging mfs objects", "Subsubsection"],

Cell["The function mfsHeaderMerge is not exported by the package.", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsHeaderMerge", "[", 
   RowBox[{"h", ":", 
    RowBox[{"{", "__List", "}"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"done", "=", 
       RowBox[{"{", "}"}]}], ",", 
      RowBox[{"rest", "=", 
       RowBox[{"Union", "@@", "h"}]}], ",", "key", ",", "tomerge"}], "}"}], 
    ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"While", "[", 
      RowBox[{
       RowBox[{"rest", "=!=", 
        RowBox[{"{", "}"}]}], ",", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"key", "=", 
         RowBox[{"First", "[", 
          RowBox[{"First", "[", "rest", "]"}], "]"}]}], ";", "\n", "\t\t\t", 
        RowBox[{"tomerge", "=", " ", 
         RowBox[{"Select", "[", 
          RowBox[{"rest", ",", 
           RowBox[{"(", 
            RowBox[{
             RowBox[{
              RowBox[{"First", "[", "#", "]"}], "==", "key"}], "&"}], ")"}]}],
           "]"}]}], ";", "\n", "\t\t\t", 
        RowBox[{"AppendTo", "[", 
         RowBox[{"done", ",", "\n", "\t\t\t\t", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", "tomerge", "]"}], "==", "1"}], ",", 
            RowBox[{"First", "[", "tomerge", "]"}], ",", 
            RowBox[{"{", 
             RowBox[{"key", ",", 
              RowBox[{"Last", "/@", "tomerge"}]}], "}"}]}], "]"}]}], "\n", 
         "\t\t\t", "]"}], ";", "\n", "\t\t\t", 
        RowBox[{"rest", "=", 
         RowBox[{"Complement", "[", 
          RowBox[{"rest", ",", "tomerge"}], "]"}]}], ";"}]}], "\n", "\t\t\t", 
      "]"}], ";", "\n", "\t\t", "done"}]}], "\n", "\t", "]"}]}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"General", "::", "\<\"spell1\"\>"}], ":", 
  " ", "\<\"Possible spelling error: new symbol name \\\"\\!\\(rest\\)\\\" is \
similar to existing symbol \\\"\\!\\(Rest\\)\\\".\"\>"}]], "Message"]
}, Open  ]],

Cell["\<\
Merge two mfs objects.  This version only checks that the (last, hence all) \
columns have the same length and is now superseded.\
\>", "Text",
 FontColor->RGBColor[0, 0, 1]],

Cell[BoxData[
 RowBox[{"(*", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"mfsMerge", "[", 
     RowBox[{"qp", ":", 
      RowBox[{"{", "__mfs", "}"}]}], "]"}], ":=", "\n", "\t", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"Equal", "@@", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{
          RowBox[{"Length", "[", 
           RowBox[{"Last", "[", "#", "]"}], "]"}], "&"}], "/@", "qp"}], 
        ")"}]}], ",", "\n", "\t\t", 
      RowBox[{"mfs", "[", "\n", "\t\t\t", 
       RowBox[{
        RowBox[{"mfsHeaderMerge", "[", 
         RowBox[{"First", "/@", "qp"}], "]"}], ",", "\n", "\t\t\t", 
        RowBox[{"Join", "@@", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"Part", "[", 
             RowBox[{"#", ",", 
              RowBox[{"-", "2"}]}], "]"}], "&"}], "/@", "qp"}], ")"}]}], ",", 
        "\n", "\t\t\t", 
        RowBox[{"MapThread", "[", 
         RowBox[{"Join", ",", 
          RowBox[{"Last", "/@", "qp"}]}], "]"}]}], "\n", "\t\t", "]"}], ",", 
      "\n", "\t\t", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"Message", "[", 
         RowBox[{"mfsAddColumn", "::", "collength"}], "]"}], ";", "Null"}], 
       ")"}]}], "\n", "\t", "]"}]}], ";"}], "*)"}]], "Input",
 FontColor->RGBColor[0, 0, 1]],

Cell["\<\
A function to check that a given column matches up before merging.  It checks \
that the column values are numerically equal in each mfs object.  Note that \
if the named column is absent from any of the mfs objects, then it is assumed \
to match!  So the function only tests whether the list of mfs objects contain \
incompatible versions of a given column.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumnMatch", "[", 
   RowBox[{
    RowBox[{"qp", ":", 
     RowBox[{"{", "__mfs", "}"}]}], ",", "mcol_String"}], "]"}], ":=", "\n", 
  "\t", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\n", "\t\t", 
    RowBox[{"Equal", "@@", 
     RowBox[{"(", 
      RowBox[{
       RowBox[{
        RowBox[{"mfsColumn", "[", 
         RowBox[{"#", ",", "mcol"}], "]"}], "&"}], " ", "/@", " ", 
       RowBox[{"(", 
        RowBox[{"Select", "[", 
         RowBox[{"qp", ",", 
          RowBox[{
           RowBox[{"MemberQ", "[", 
            RowBox[{
             RowBox[{"mfsColumnNames", "[", "#", "]"}], ",", "mcol"}], "]"}], 
           "&"}]}], "]"}], ")"}]}], ")"}]}]}], "\n", "\t\t\t", 
   "]"}]}]], "Input",
 InitializationCell->True],

Cell["Extend to a list of column names.", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumnMatch", "[", 
   RowBox[{
    RowBox[{"qp", ":", 
     RowBox[{"{", "__mfs", "}"}]}], ",", 
    RowBox[{"matchCols", ":", 
     RowBox[{"{", "__String", "}"}]}]}], "]"}], ":=", 
  RowBox[{"And", "@@", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{"mfsColumnMatch", "[", 
       RowBox[{"qp", ",", "#1"}], "]"}], "&"}], ")"}], "/@", 
    "matchCols"}]}]}]], "Input",
 InitializationCell->True],

Cell["\<\
Need to take care of special cases where no matching columns are given.\
\>", "Text"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"mfsColumnMatch", "[", 
    RowBox[{
     RowBox[{"qp", ":", 
      RowBox[{"{", "__mfs", "}"}]}], ",", 
     RowBox[{"{", "}"}]}], "]"}], ":=", "True"}], ";"}], "\n", 
 RowBox[{
  RowBox[{"mfsColumnMatch", "[", 
   RowBox[{"qp", ":", 
    RowBox[{"{", "__mfs", "}"}]}], "]"}], ":=", "True"}]}], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "mfsMerge", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"matchColumns", "->", 
     RowBox[{"{", "\"\<NAME\>\"", "}"}]}], "}"}]}], ";"}]], "Input",
 InitializationCell->True],

Cell["\<\
The following early version of mfsMerge is equivalent but goes in smaller \
steps.  Worth keeping in case I can no longer understand the optimised \
version.  Cell is not evaluatable.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsMerge2", "[", 
   RowBox[{
    RowBox[{"qp", ":", 
     RowBox[{"{", "__mfs", "}"}]}], ",", 
    RowBox[{"opts___", "?", "OptionQ"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"matchCols", ",", "colswanted"}], "}"}], ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"matchCols", "=", 
      RowBox[{
       RowBox[{"matchColumns", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"Options", "[", "mfsMerge", "]"}]}]}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"matchCols", "==", "Automatic"}], ",", "\n", "\t\t\t", 
       RowBox[{"matchCols", "=", 
        RowBox[{"Union", "@@", 
         RowBox[{"(", 
          RowBox[{"mfsColumnNames", "/@", "qp"}], ")"}]}]}]}], "\n", "\t\t", 
      "]"}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"mfsColumnMatch", "[", 
        RowBox[{"qp", ",", "matchCols"}], "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Equal", "@@", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Last", "[", "#", "]"}], "]"}], "&"}], "/@", "qp"}], 
           ")"}]}], ",", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{"allcolnames", "=", 
            RowBox[{"Join", "@@", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"Part", "[", 
                 RowBox[{"#", ",", 
                  RowBox[{"-", "2"}]}], "]"}], "&"}], "/@", "qp"}], ")"}]}]}],
            "]"}], ";", "\n", "\t\t\t\t", 
          RowBox[{"Print", "[", 
           RowBox[{"colnameswanted", "=", 
            RowBox[{"cnwanted", "=", 
             RowBox[{"Union", "[", "allcolnames", "]"}]}]}], "]"}], ";", "\n",
           "\t\t\t\t", 
          RowBox[{"allcols", "=", 
           RowBox[{"Transpose", "[", 
            StyleBox[
             RowBox[{"MapThread", "[", 
              RowBox[{"Join", ",", 
               RowBox[{"Last", "/@", "qp"}]}], "]"}],
             FontColor->RGBColor[1, 0, 0]], 
            StyleBox["]",
             FontColor->RGBColor[1, 0, 0]]}]}], 
          StyleBox[";",
           FontColor->RGBColor[1, 0, 0]], "\n", "\t\t\t\t", 
          RowBox[{"Print", "[", 
           RowBox[{"colswantedpos", "=", 
            RowBox[{"First", "/@", 
             RowBox[{"(", 
              RowBox[{
               RowBox[{
                RowBox[{"Position", "[", 
                 RowBox[{"allcolnames", ",", "#"}], "]"}], "&"}], "/@", 
               "colnameswanted"}], ")"}]}]}], "]"}], ";", "\n", "\t\t\t\t", 
          RowBox[{"colswanted", "=", 
           RowBox[{"Extract", "[", 
            RowBox[{"allcols", ",", "colswantedpos"}], "]"}]}], ";", "\n", 
          "\t\t", 
          RowBox[{"mfs", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"mfsHeaderMerge", "[", 
             RowBox[{"First", "/@", "qp"}], "]"}], ",", "\n", "\t\t\t\t\t", 
            "colnameswanted", ",", "\n", "\t\t\t\t\t", 
            StyleBox[
             RowBox[{"Transpose", "[", "colswanted", "]"}],
             FontColor->RGBColor[1, 0, 0]]}], "\n", "\t\t\t\t", "]"}]}], ",", 
         "\n", "\t\t\t", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Message", "[", 
            RowBox[{"mfsMerge", "::", "badmatch"}], "]"}], ";", "Null"}], 
          ")"}]}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Message", "[", 
          RowBox[{"mfsMerge", "::", "collength"}], "]"}], ";", "Null"}], 
        ")"}]}], "\n", "\t\t", "]"}]}]}], "\n", "\t", "]"}]}]], "Input",
 Evaluatable->False,
 FontColor->RGBColor[0, 0, 1]],

Cell["\<\
Here is the operational version developed out of that, introducing fewer \
temporary variables but much deeper nesting of functions.\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsMerge", "[", 
   RowBox[{
    RowBox[{"qp", ":", 
     RowBox[{"{", "__mfs", "}"}]}], ",", 
    RowBox[{"opts___", "?", "OptionQ"}]}], "]"}], ":=", "\n", "\t", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"matchCols", ",", "colnameswanted", ",", "allcolnames"}], "}"}], 
    ",", "\n", "\t\t", 
    RowBox[{
     RowBox[{"matchCols", "=", 
      RowBox[{
       RowBox[{"matchColumns", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"Options", "[", "mfsMerge", "]"}]}]}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"matchCols", "==", "Automatic"}], ",", "\n", "\t\t\t", 
       RowBox[{"matchCols", "=", 
        RowBox[{"Union", "@@", 
         RowBox[{"(", 
          RowBox[{"mfsColumnNames", "/@", "qp"}], ")"}]}]}]}], "\n", "\t\t", 
      "]"}], ";", "\n", "\t\t", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"mfsColumnMatch", "[", 
        RowBox[{"qp", ",", "matchCols"}], "]"}], ",", "\n", "\t\t\t", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Equal", "@@", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Last", "[", "#", "]"}], "]"}], "&"}], "/@", "qp"}], 
           ")"}]}], ",", "\n", "\t\t\t\t", 
         RowBox[{
          RowBox[{"colnameswanted", "=", 
           RowBox[{"Union", "[", 
            RowBox[{"allcolnames", "=", 
             RowBox[{"Join", "@@", 
              RowBox[{"(", 
               RowBox[{
                RowBox[{
                 RowBox[{"Part", "[", 
                  RowBox[{"#", ",", 
                   RowBox[{"-", "2"}]}], "]"}], "&"}], "/@", "qp"}], 
               ")"}]}]}], "]"}]}], ";", "\n", "\t\t", 
          RowBox[{"mfs", "[", "\n", "\t\t\t\t\t", 
           RowBox[{
            RowBox[{"mfsHeaderMerge", "[", 
             RowBox[{"First", "/@", "qp"}], "]"}], ",", "\n", "\t\t\t\t\t", 
            "colnameswanted", ",", "\n", "\t\t\t\t\t", 
            StyleBox[
             RowBox[{"Transpose", "[", 
              RowBox[{"Extract", "[", 
               RowBox[{
                RowBox[{"Transpose", "[", 
                 RowBox[{"MapThread", "[", 
                  RowBox[{"Join", ",", 
                   RowBox[{"Last", "/@", "qp"}]}], "]"}], "]"}], ",", 
                RowBox[{"First", "/@", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"Position", "[", 
                    RowBox[{"allcolnames", ",", "#"}], "]"}], "&"}], "/@", 
                   "colnameswanted"}], ")"}]}]}], "]"}], "]"}],
             FontColor->RGBColor[0, 0, 1]]}], "\n", "\t\t\t\t", "]"}]}], ",", 
         "\n", "\t\t\t", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"Message", "[", 
            RowBox[{"mfsMerge", "::", "badmatch"}], "]"}], ";", "Null"}], 
          ")"}]}], "\n", "\t\t\t", "]"}], ",", "\n", "\t\t", 
       RowBox[{"(", 
        RowBox[{
         RowBox[{"Message", "[", 
          RowBox[{"mfsMerge", "::", "collength"}], "]"}], ";", "Null"}], 
        ")"}]}], "\n", "\t\t", "]"}]}]}], "\n", "\t", "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Correcting inconsistencies in MAD Version 8 output", "Subsubsection"],

Cell[TextData[{
 "TFS files from MAD  Version 8 have some problems.  The following function \
returns a new ",
 StyleBox["mfs", "Input"],
 " object with some of those inconsistencies dealts with, as follow.  In most \
cases, this will produce something closer to the output from MAD  Version 9."
}], "Text"],

Cell["\<\
Avoid overlap of names of closed orbit components with tracked coordinates.\
\>", "Text"],

Cell["Name the momentum of the 3rd mode properly in tracking data.", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsFixMAD8inconsistencies", "[", "qp_mfs", "]"}], ":=", 
  RowBox[{"Module", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"kv", ",", "ch"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"kv", "=", 
      RowBox[{
       RowBox[{"First", "[", "qp", "]"}], "/.", 
       RowBox[{"{", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\"\<X\>\"", ",", "x_"}], "}"}], "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"\"\<XC\>\"", ",", "x"}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\"\<PX\>\"", ",", "px_"}], "}"}], "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"\"\<PXC\>\"", ",", "px"}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\"\<Y\>\"", ",", "y_"}], "}"}], "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"\"\<YC\>\"", ",", "y"}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\"\<PY\>\"", ",", "py_"}], "}"}], "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"\"\<PYC\>\"", ",", "py"}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\"\<T\>\"", ",", "t_"}], "}"}], "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"\"\<TC\>\"", ",", "x"}], "}"}]}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"\"\<DELTAP\>\"", ",", "pt_"}], "}"}], "\[Rule]", 
          RowBox[{"{", 
           RowBox[{"\"\<PTC\>\"", ",", "pt"}], "}"}]}]}], 
        "\[IndentingNewLine]", "}"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"ch", "=", 
      RowBox[{
       RowBox[{"qp", "\[LeftDoubleBracket]", 
        RowBox[{"-", "2"}], "\[RightDoubleBracket]"}], "/.", 
       RowBox[{"{", 
        RowBox[{"\"\<DELTAP\>\"", "\[Rule]", "\"\<PT\>\""}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ReplacePart", "[", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{"ReplacePart", "[", 
        RowBox[{"qp", ",", "kv", ",", 
         RowBox[{"{", "1", "}"}]}], "]"}], ",", "\[IndentingNewLine]", "ch", 
       ",", 
       RowBox[{"{", 
        RowBox[{"-", "2"}], "}"}]}], "\[IndentingNewLine]", "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Old names for various functions", "Subsubsection",
 FontColor->RGBColor[1, 0, 0]],

Cell["\<\
Earlier versions of this package had less systematic naming of functions.  \
For backwards compatibility, we still allow them to work but give a warning \
message.  These definitions should eventually be removed.\
\>", "Text",
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"interpretDescriptors", "[", "x__", "]"}], ":=", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Message", "[", 
      RowBox[{
       RowBox[{"mfs", ":", "oldname"}], ",", "\"\<interpretDescriptors\>\"", 
       ",", "\"\<mfsInterpretKeys\>\""}], "]"}], ";", "\n", "\t\t", 
     RowBox[{"mfsInterpretKeys", "[", "x", "]"}]}], "\n", "\t", ")"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"keyValue", "[", "x__", "]"}], ":=", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Message", "[", 
      RowBox[{
       RowBox[{"mfs", ":", "oldname"}], ",", "\"\<keyValue\>\"", ",", 
       "\"\<mfsKeyValue\>\""}], "]"}], ";", "\n", "\t\t", 
     RowBox[{"mfsKeyValue", "[", "x", "]"}]}], "\n", "\t", ")"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"columnNames", "[", "x__", "]"}], ":=", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Message", "[", 
      RowBox[{
       RowBox[{"mfs", ":", "oldname"}], ",", "\"\<columnNames\>\"", ",", 
       "\"\<mfsColumnNames\>\""}], "]"}], ";", "\n", "\t\t", 
     RowBox[{"mfsColumnNames", "[", "x", "]"}]}], "\n", "\t", ")"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"descriptorNames", "[", "x__", "]"}], ":=", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Message", "[", 
      RowBox[{
       RowBox[{"mfs", ":", "oldname"}], ",", "\"\<descriptorNames\>\"", ",", 
       "\"\<mfsKeyNames\>\""}], "]"}], ";", "\n", "\t\t", 
     RowBox[{"mfsKeyNames", "[", "x", "]"}]}], "\n", "\t", ")"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"colValue", "[", "x__", "]"}], ":=", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Message", "[", 
      RowBox[{
       RowBox[{"mfs", ":", "oldname"}], ",", "\"\<colValue\>\"", ",", 
       "\"\<mfsColumnValue\>\""}], "]"}], ";", "\n", "\t\t", 
     RowBox[{"mfsColumnValue", "[", "x", "]"}]}], "\n", "\t", ")"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"addDescriptor", "[", "x__", "]"}], ":=", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Message", "[", 
      RowBox[{
       RowBox[{"mfs", ":", "oldname"}], ",", "\"\<addDescriptor\>\"", ",", 
       "\"\<mfsAddKey\>\""}], "]"}], ";", "\n", "\t\t", 
     RowBox[{"mfsAddKey", "[", "x", "]"}]}], "\n", "\t", ")"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"editDescriptor", "[", "x__", "]"}], ":=", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Message", "[", 
      RowBox[{
       RowBox[{"mfs", ":", "oldname"}], ",", "\"\<editDescriptor\>\"", ",", 
       "\"\<mfsEditKey\>\""}], "]"}], ";", "\n", "\t\t", 
     RowBox[{"mfsEditKey", "[", "x", "]"}]}], "\n", "\t", ")"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"deleteDescriptor", "[", "x__", "]"}], ":=", 
   RowBox[{"(", "\n", "\t\t", 
    RowBox[{
     RowBox[{"Message", "[", 
      RowBox[{
       RowBox[{"mfs", ":", "oldname"}], ",", "\"\<deleteDescriptor\>\"", ",", 
       "\"\<mfsDeleteKey\>\""}], "]"}], ";", "\n", "\t\t", 
     RowBox[{"mfsDeleteKey", "[", "x", "]"}]}], "\n", "\t", ")"}]}], 
  ";"}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Updating files that use old versions of the package", "Subsubsection",
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{"mfsVersion2UpdateRules", "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{
    "\"\<interpretDescriptors\>\"", "\[Rule]", "\"\<mfsInterpretKeys\>\""}], 
    ",", 
    RowBox[{"\"\<keyValue\>\"", "\[Rule]", "\"\<mfsKeyValue\>\""}], ",", 
    RowBox[{"\"\<columnNames\>\"", "\[Rule]", "\"\<mfsColumnNames\>\""}], ",", 
    RowBox[{"\"\<descriptorNames\>\"", "\[Rule]", "\"\<mfsKeyNames\>\""}], 
    ",", 
    RowBox[{"\"\<colValue\>\"", "\[Rule]", "\"\<mfsColumnValue\>\""}], ",", 
    RowBox[{"\"\<addDescriptor\>\"", "\[Rule]", "\"\<mfsAddKey\>\""}], ",", 
    RowBox[{"\"\<editDescriptor\>\"", "\[Rule]", "\"\<mfsEditKey\>\""}], ",", 
    
    RowBox[{"\"\<deleteDescriptor\>\"", "\[Rule]", "\"\<mfsDeleteKey\>\""}], 
    ",", 
    RowBox[{"\"\<symplecticJ\>\"", "\[Rule]", "\"\<SymplecticJ\>\""}]}], 
   "}"}]}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsVersion2Update", "[", 
   RowBox[{"oldFile_String", ",", "newFile_String"}], "]"}], ":=", 
  RowBox[{"stringReplaceInFile", "[", 
   RowBox[{"oldFile", ",", "newFile", ",", "mfsVersion2UpdateRules"}], 
   "]"}]}]], "Input",
 InitializationCell->True,
 FontColor->RGBColor[1, 0, 0]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["End the private context", "Subsection",
 InitializationCell->True],

Cell["End[ ]", "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Epilogue", "Section",
 InitializationCell->True],

Cell["This section protects exported symbols and ends the package.", "Text"],

Cell[CellGroupData[{

Cell["Protect exported symbols", "Subsection",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{"Protect", "[", 
  RowBox[{
  "mfsTypes", ",", "removeUnwantedLines", ",", "tfsParseDescriptorLine", ",", 
   "interpretTagValue", ",", 
   StyleBox[
    RowBox[{"(*", 
     RowBox[{"tfsInterpretDescriptorLine", ","}], "*)"}],
    FontColor->RGBColor[0, 0, 1]], "tfsParseHeaderBlock", ",", "mfsColumn", 
   ",", "mfsSelect", ",", " ", "mfsMember", ",", " ", "mfsRange", ",", 
   "mfsReverse", ",", "mfsAddKey", ",", "mfsKeyNames", ",", "mfsColumnNames", 
   ",", "mfsInterpretKeys", ",", "mfsKeyValue", ",", "mfsColumnValue", ",", 
   "mfsEditKey", ",", "mfsDeleteColumn", ",", "mfsAddColumn", ",", "mfsMerge",
    ",", "mfsDeleteKey", ",", "\n", "\t", 
   StyleBox["addDescriptor",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox[",",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox["editDescriptor",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox[",",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox["interpretDescriptors",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox[",",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox["deleteDescriptor",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox[",",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox[" ",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox["colValue",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox[",",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox[" ",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox["keyValue",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox[",",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox["columnNames",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox[",",
    FontColor->RGBColor[1, 0, 0]], 
   StyleBox["descriptorNames",
    FontColor->RGBColor[1, 0, 0]]}], "\n", "]"}]], "Input",
 InitializationCell->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["End the package context", "Subsection",
 InitializationCell->True],

Cell["EndPackage[ ]", "Input",
 InitializationCell->True],

Cell["\<\
Open the palette to make it easy.  This has to be done outside the package \
context.\
\>", "Text"],

Cell[BoxData[
 RowBox[{"(*", 
  RowBox[{"If", "[", 
   RowBox[{"$Remote", ",", 
    RowBox[{
    "Print", "[", "\"\<Remote kernel: MfsPalette.nb will not be opened\>\"", 
     "]"}], ",", 
    RowBox[{"NotebookOpen", "[", 
     RowBox[{"ToFileName", "[", 
      RowBox[{
       RowBox[{"packageSourceDirectory", "[", "\"\<Mfs\>\"", "]"}], ",", 
       "\"\<MfsPalette.nb\>\""}], "]"}], "]"}]}], "]"}], "*)"}]], "Input",
 InitializationCell->True],

Cell[BoxData[
 RowBox[{"Print", "[", 
  RowBox[{
  "\"\<Version 2.21 of Madtomma`Mfs`Mfs` loaded.  Note function name changes \
since Version 1.x:\\n\>\"", ",", 
   RowBox[{"TableForm", "[", "mfsVersion2UpdateRules", "]"}]}], 
  "]"}]], "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Basic documentation", "Section"],

Cell["\<\
A quick way  to document this package is to list the names of the functions \
it exports [1]:\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Names", "[", "\"\<Madtomma`Mfs`Mfs`*\>\"", "]"}]], "Input",
 CellTags->"Setup section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"addDescriptor\"\>", ",", "\<\"columnNames\"\>", 
   ",", "\<\"colValue\"\>", ",", "\<\"deleteDescriptor\"\>", 
   ",", "\<\"descriptorNames\"\>", ",", "\<\"editDescriptor\"\>", 
   ",", "\<\"interpretDescriptors\"\>", ",", "\<\"interpretTagValue\"\>", 
   ",", "\<\"keepTemporaryFile\"\>", ",", "\<\"keyValue\"\>", 
   ",", "\<\"matchColumns\"\>", ",", "\<\"mfs\"\>", ",", "\<\"Mfs\"\>", 
   ",", "\<\"mfsAddColumn\"\>", ",", "\<\"mfsAddKey\"\>", 
   ",", "\<\"mfsColumn\"\>", ",", "\<\"mfsColumnMatch\"\>", 
   ",", "\<\"mfsColumnNames\"\>", ",", "\<\"mfsColumnValue\"\>", 
   ",", "\<\"mfsDeleteColumn\"\>", ",", "\<\"mfsDeleteKey\"\>", 
   ",", "\<\"mfsEditKey\"\>", ",", "\<\"mfsInterpretKeys\"\>", 
   ",", "\<\"mfsKeyNames\"\>", ",", "\<\"mfsKeyValue\"\>", 
   ",", "\<\"mfsMember\"\>", ",", "\<\"mfsMerge\"\>", ",", "\<\"mfsRange\"\>",
    ",", "\<\"mfsReverse\"\>", ",", "\<\"mfsSelect\"\>", 
   ",", "\<\"mfsTypes\"\>", ",", "\<\"mfsVersion2Update\"\>", 
   ",", "\<\"mfsVersion2UpdateRules\"\>", ",", "\<\"removeQuotes\"\>", 
   ",", "\<\"removeUnwantedLines\"\>", 
   ",", "\<\"stringRemoveLeadingTrailingBlanks\"\>", 
   ",", "\<\"tfsFormatRules\"\>", ",", "\<\"tfsInterpretDescriptorLine\"\>", 
   ",", "\<\"tfsParseDescriptorLine\"\>", ",", "\<\"tfsParseHeaderBlock\"\>", 
   ",", "\<\"tfsRead\"\>", ",", "\<\"Verbose\"\>"}], "}"}]], "Output"]
}, Open  ]],

Cell["\<\
and then print their usage messages that say what they do.  Normally these \
messages are accessible by typing, e.g., \
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "mfsMember"}]], "Input"],

Cell[BoxData["\<\"mfsMember[mfsdata,key,targetset] extracts rows of an \
mfsdata object for which values labelled by key belong to targetset.\"\>"], \
"Print"]
}, Open  ]],

Cell["\<\
but the following utility function generates the same information in \
formatted form (the following subsections!).\
\>", "Text"],

Cell[BoxData[
 RowBox[{"UsageCells", "[", 
  RowBox[{"Names", "[", "\"\<Madtomma`Mfs`Mfs`*\>\"", "]"}], "]"}]], "Input"],

Cell[CellGroupData[{

Cell["addDescriptor", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["Obsolete function name.  Please use mfsAddKey.", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["columnNames", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["Obsolete function name.  Please use mfsColumnNames.", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["colValue", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["Obsolete function name.  Please use mfsColumnValue.", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["deleteDescriptor", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["Obsolete function name.  Please use mfsDeleteKey.", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["descriptorNames", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["Obsolete function name.  Please use mfsKeyNames.", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["editDescriptor", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["Obsolete function name.  Please use mfsEditKey.", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["interpretDescriptors", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["Obsolete function name.  Please use mfsInterpretKeys.", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["interpretTagValue", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
interpretTagValue[{\"tag\",val}] creates a variable tag and assigms it the \
value val.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["keepTemporaryFile", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
keepTemporaryFile is an option for tfsRead that causes a temporary file not \
to be deleted.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["keyValue", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["Obsolete function name.  Please use mfsKeyValue.", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["matchColumns", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
matchColumns is an option for mfsMerge that gives a list of column names that \
must match in all the mfs objects in which they appear.  The value Automatic \
insists that all possible matches hold.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfs", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfs is a data object type containing a set of scalar variables with values \
and a set of labelled columns of data; typically it can represent the data \
structures in TFS files.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["Mfs", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["Mfs.m is a package for manipulating MFS data.", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsAddColumn", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsAddColumn[qp,\"colname\",coldata] returns an mfs object equal to qp but \
with a new column labelled colname and containing data coldata added. A list \
of column names and columns of data can also be given.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsAddKey", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsAddKey[mfsdata,{\"KEY\",value}] returns the mfs (or related) data object \
mfsdata with an additional key and value.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsColumn", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsColumn[mfsdata,colname] returns the column of data labelled by the string \
colname in an mfs (or related) data object. A list of colnames may also be \
given to return a set of columns.  If colname is absent the entire block of \
columns is returned.
 mfsColumn[TrackTabledata,n,colname] extracts a list of coordinates of \
particle n labelled by the string colname from a TrackTable data object. A \
list of colnames may also be given to return a set of lists.  If colname is \
absent the entire block of coordinates is returned. If the particle number is \
absent a list of the requested column for all the particles is returned.
 mfsColumn[SurvivalData,colname], mfsColumn[SurvivalData,particle,colname], \
mfsColumn[SurvivalData] are the obvious extensions to SurvivalTable objects.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsColumnMatch", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsColumnMatch[{qp1,qp2,...},{\"col1\",\"col2\",...}] tests whether a list of \
column namesmatch in all the mfs objects in which they appear.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsColumnNames", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsColumnNames[mfsdata] returns the list of column names in an mfs data (or \
related) object.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsColumnValue", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsColumnValue[mfsdata,row,key] extracts a value labelled by key in row from \
an mfsdata object.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsDeleteColumn", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsDeleteColumn[qp,\"colname\"] returns an mfs object equal to qp but with \
the column labelled colname removed. A list of column names can also be given.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsDeleteKey", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsDeleteKey[mfsdata,key] returns  the mfs (or related) data object mfsdata \
with the descriptor key removed.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsEditKey", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsEditKey[mfsdata,{key,newValue}] returns the mfs (or related) data object \
mfsdata with the value corresponding to the descriptor key replaced by \
newValue.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsInterpretKeys", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsInterpretKeys[mfsdata] creates a set of variables with values from the \
keys in an mfs (or related) data object.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsKeyNames", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsKeyNames[mfsdata] returns the list of key names in the header block of an \
mfs (or related) data object.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsKeyValue", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsKeyValue[mfsdata,key] returns the value corresponding to a descriptor key \
(a string) in an mfs (or related) data object.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsMember", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsMember[mfsdata,key,targetset] extracts rows of an mfsdata object for which \
values labelled by key belong to targetset.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsMerge", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsMerge[{qp1,qp2,...}] nerges a list of mfs objects into a single one \
containing all the header and column information in each of them.  The column \
lengths must match.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsRange", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsRange[mfsdata,key,{min,max}] extracts rows of an mfsdata object for which \
values labelled by key lie within min and max. NOTE : min must be smaller \
than max !!!\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsReverse", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsReverse[mfsdata] returns the mfs object with the rows of the main block of \
columns in reverse order.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsSelect", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsSelect[mfsdata,criterion] extracts rows satisfying criterion (function) \
from an mfsdata object.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsTypes", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"Message", "::", "\<\"name\"\>"}], ":", 
  " ", "\<\"Message name \\!\\(\\(\\({EigenTable, MatrixTable, mfs, \
SurvivalTable, TrackTable}\\)\\) :: \\\"usage\\\"\\) is not of the form \
symbol::name or symbol::name::language.\"\>"}]], "Message"],

Cell["\<\
MessageName[{EigenTable, MatrixTable, mfs, SurvivalTable, TrackTable}, usage]\
\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsVersion2Update", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
mfsVersion2Update[oldfile,newfile] will create a new version of a file in \
which names of functions in Version 1.x of the Madtomma`Mfs`Mfs` package are \
changed to their equivalents in Version 2.x.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsVersion2UpdateRules", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell[BoxData[
 RowBox[{
  RowBox[{"Message", "::", "\<\"name\"\>"}], ":", 
  " ", "\<\"Message name \\!\\(\\(\\(\[LeftSkeleton] 1 \[RightSkeleton]\\)\\) \
:: \\\"usage\\\"\\) is not of the form symbol::name or \
symbol::name::language.\"\>"}]], "Message"],

Cell["\<\
MessageName[{interpretDescriptors -> mfsInterpretKeys, keyValue -> \
mfsKeyValue, columnNames -> mfsColumnNames, descriptorNames -> mfsKeyNames, \
colValue -> mfsColumnValue, addDescriptor -> mfsAddKey, editDescriptor -> \
mfsEditKey, deleteDescriptor -> mfsDeleteKey, symplecticJ -> SymplecticJ}, \
usage]\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["removeQuotes", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
removeQuotes[x] will remove any double quotes \" explicitly included in a \
string x.  If x is not a string then it is returned unchanged.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["removeUnwantedLines", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
removeUnwantedLines[infile,outfile,string] copies file infile to outfile, \
removing all lines containing string.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["stringRemoveLeadingTrailingBlanks", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
stringRemoveLeadingTrailingBlanks[string] removes leading and trailing blanks \
from a string.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["tfsFormatRules", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
tfsFormatRules is an option of tfsRead and related functions like \
tfsParseHeaderBlock.  It gives a set of rules for transforming TFS column \
formats into Mathematica data types.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["tfsInterpretDescriptorLine", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
tfsInterpretDescriptorLine[string] takes a TFS descriptor line as a string, \
creates a variable from the key name and assigns it the value.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["tfsParseDescriptorLine", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
tfsParseDescriptorLine[string] takes a TFS descriptor line as a string and \
returns a list consisting of the TFS key and its value.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["tfsParseHeaderBlock", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
tfsParseHeaderBlock[file] returns the information in the header block of a \
TFS file as a structured list.  It is normally used inside readTfsTable.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["tfsRead", "Subsection",
 GeneratedCell->True,
 CellAutoOverwrite->True],

Cell["\<\
tfsRead[file] returns an mfs data object containing all the information in a \
TFS file.\
\>", "Text",
 GeneratedCell->True,
 CellAutoOverwrite->True]
}, Open  ]],

Cell[CellGroupData[{

Cell["mfsVerbose", "Subsection"],

Cell["\<\
mfsVerbose is an option for removeUnwantedLines, tfsParseHeaderBlock and \
tfsRead that specifieds whether informative messages should be printed.\
\>", "Text"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["User's Guide and Examples", "Section",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell["Creating  an mfs object from a file of data", "Subsection",
 CellTags->"Examples section"],

Cell["\<\
First, let us define a sample data file.  This one was created in MAD using \
the ARCHIVE command to save the TRACK table generated by tracking a number of \
particles from the same initial condition with quantum fluctuations.   Here \
we specify the file path and name in a system-indepemdent  manner.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"sampleFile", "=", 
  RowBox[{"ToFileName", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"AfsHomeDirectory", "[", "\"\<jowett\>\"", "]"}], ",", 
      "\"\<public\>\"", ",", "\"\<math\>\"", ",", "\"\<Madtomma\>\"", ",", 
      "\"\<Mfs\>\"", ",", "\"\<Examples\>\""}], "}"}], ",", 
    "\"\<qkick.tfs\>\""}], "]"}]}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"P:\\\\cern.ch\\\\user\\\\j\\\\jowett\\\\public\\\\math\\\\\
Madtomma\\\\Mfs\\\\Examples\\\\qkick.tfs\"\>"], "Output"]
}, Open  ]],

Cell["Choose some directory of your own for the examples", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"SetDirectory", "[", "$TemporaryPrefix", "]"}]], "Input"],

Cell[BoxData["\<\"C:\\\\TEMP\"\>"], "Output"]
}, Open  ]],

Cell[TextData[{
 "Having loaded the package, we can list all the data types  in the ",
 StyleBox["mfs", "Input"],
 " class by evaluating:"
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData["mfsTypes"], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", "mfs", "}"}]], "Output"]
}, Open  ]],

Cell["\<\
The most common applications will start by reading a TFS file:\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "tfsRead"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"tfsRead[file] returns an mfs data object containing all the \
information in a TFS file.\"\>"], "Print"]
}, Open  ]],

Cell["\<\
In any expression which evaluates to an mfs data object, it is worth \
remembering to add a semi-colon to suppress  printing as these can be very \
long.\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qpmfs", "=", 
   RowBox[{"tfsRead", "[", 
    RowBox[{"sampleFile", ",", 
     RowBox[{"mfsVerbose", "\[Rule]", "False"}]}], "]"}]}], 
  ";"}]], "InputOnly",
 CellTags->"Examples section"],

Cell["\<\
MAD users know that this leads to a file containing various pieces of \
descriptive information at the top, followed by a body of columns listing the \
coordinates of the surviving particles on successive turns, separated by \
comment lines.\
\>", "Text",
 CellTags->"Examples section"],

Cell[TextData[{
 "Since only one of the particles survives the full tracking time, the others \
being lost after varying numbers of turns, the number of lines of the TFS \
file corresponding to each turn gradually dwindles.  The ",
 StyleBox["tfsRead", "Input"],
 " function deals with  these details automatically."
}], "Text",
 CellTags->"Examples section"],

Cell[TextData[{
 "Now the symbols ",
 StyleBox["qpmfs ", "Input"],
 "contains an mfs data object which we can print in abbreviated form:"
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", 
  RowBox[{"qpmfs", ",", "8"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[
  RowBox[{"mfs", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"\<\"TYPE\"\>", ",", "\<\"TRACK\"\>"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"X\"\>", ",", 
        RowBox[{"-", "0.00038835361175100004`"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"PX\"\>", ",", 
        RowBox[{"-", "0.0000167029349567`"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"Y\"\>", ",", 
        RowBox[{"-", "0.00038184396626099996`"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"PY\"\>", ",", 
        RowBox[{"-", "2.9493485039200003`*^-6"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"ET\"\>", ",", "0.0000102626001956`"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"EY\"\>", ",", "1.05428403375`*^-10"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"EX\"\>", ",", "2.98256612951`*^-8"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"E11\"\>", ",", "5.25333002895`"}], "}"}], ",", 
      RowBox[{"\[LeftSkeleton]", "31", "\[RightSkeleton]"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"E63\"\>", ",", 
        RowBox[{"-", "0.00011706941393`"}]}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"E64\"\>", ",", "0.000342355037377`"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"E65\"\>", ",", "0.004009558592179999`"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"E66\"\>", ",", "0.420458776176`"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"COMMENT\"\>", ",", "\<\"\"\>"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"ORIGIN\"\>", ",", "\<\"MAD 8.21/11 RS6000 - AIX\"\>"}], 
       "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"DATE\"\>", ",", "\<\"01/05/97\"\>"}], "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"\<\"TIME\"\>", ",", "\<\"15.40.36\"\>"}], "}"}]}], "}"}], ",", 
    RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], ",", 
    RowBox[{"{", 
     RowBox[{"\[LeftSkeleton]", "1", "\[RightSkeleton]"}], "}"}]}], "]"}],
  Short[#, 8]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "The option ",
 StyleBox["mfsVerbose->False", "Input"],
 " can be used to suppress the printed information in ",
 StyleBox["tfsRead", "Input"],
 " and other functiions."
}], "Text",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["\<\
An easy  way to use an mfs object: automatic variable assignment\
\>", "Subsection",
 CellTags->"mfsInterpret"],

Cell[TextData[{
 "In relatively simple situations, it is sufficient to transform the ",
 StyleBox["mfs", "Input"],
 " data object into a set of ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " variables whose  names are given by  turning the strings identifying the \
data in the original TFS file into symbols.  These symbols are then assigned \
the corresponding values.  This is most easily understood by example."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsInterpret", "[", "qpmfs", "]"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Variables (re-)assigned: \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{"\<\"TYPE\"\>", ",", "\<\"X\"\>", ",", "\<\"PX\"\>", 
     ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"ET\"\>", 
     ",", "\<\"EY\"\>", ",", "\<\"EX\"\>", ",", "\<\"E11\"\>", 
     ",", "\<\"E12\"\>", ",", "\<\"E13\"\>", ",", "\<\"E14\"\>", 
     ",", "\<\"E15\"\>", ",", "\<\"E16\"\>", ",", "\<\"E21\"\>", 
     ",", "\<\"E22\"\>", ",", "\<\"E23\"\>", ",", "\<\"E24\"\>", 
     ",", "\<\"E25\"\>", ",", "\<\"E26\"\>", ",", "\<\"E31\"\>", 
     ",", "\<\"E32\"\>", ",", "\<\"E33\"\>", ",", "\<\"E34\"\>", 
     ",", "\<\"E35\"\>", ",", "\<\"E36\"\>", ",", "\<\"E41\"\>", 
     ",", "\<\"E42\"\>", ",", "\<\"E43\"\>", ",", "\<\"E44\"\>", 
     ",", "\<\"E45\"\>", ",", "\<\"E46\"\>", ",", "\<\"E51\"\>", 
     ",", "\<\"E52\"\>", ",", "\<\"E53\"\>", ",", "\<\"E54\"\>", 
     ",", "\<\"E55\"\>", ",", "\<\"E56\"\>", ",", "\<\"E61\"\>", 
     ",", "\<\"E62\"\>", ",", "\<\"E63\"\>", ",", "\<\"E64\"\>", 
     ",", "\<\"E65\"\>", ",", "\<\"E66\"\>", ",", "\<\"COMMENT\"\>", 
     ",", "\<\"ORIGIN\"\>", ",", "\<\"DATE\"\>", ",", "\<\"TIME\"\>"}], 
    "}"}]}],
  SequenceForm[
  "Variables (re-)assigned: ", {
   "TYPE", "X", "PX", "Y", "PY", "ET", "EY", "EX", "E11", "E12", "E13", "E14",
     "E15", "E16", "E21", "E22", "E23", "E24", "E25", "E26", "E31", "E32", 
    "E33", "E34", "E35", "E36", "E41", "E42", "E43", "E44", "E45", "E46", 
    "E51", "E52", "E53", "E54", "E55", "E56", "E61", "E62", "E63", "E64", 
    "E65", "E66", "COMMENT", "ORIGIN", "DATE", "TIME"}],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Variables (re-)assigned: \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{"\<\"TURNS\"\>", ",", "\<\"PARTICLE\"\>", ",", "\<\"X\"\>", 
     ",", "\<\"PX\"\>", ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"T\"\>",
      ",", "\<\"DELTAP\"\>"}], "}"}]}],
  SequenceForm[
  "Variables (re-)assigned: ", {
   "TURNS", "PARTICLE", "X", "PX", "Y", "PY", "T", "DELTAP"}],
  Editable->False]], "Print"]
}, Open  ]]
}, Open  ]],

Cell[TextData[{
 "The first group of variables are the keys given in the header part of the \
TFS file.   Thus, for example, a new variable ",
 StyleBox["TIME", "Input"],
 " has been created and assigned the value associated with the key \"TIME\" \
in the TFS file:"
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData["TIME"], "Input"],

Cell[BoxData["\<\"15.40.36\"\>"], "Output"]
}, Open  ]],

Cell[TextData[{
 "Similarly, there is a variable ",
 StyleBox["E11", "Input"],
 " that can now be used in calculations"
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 SuperscriptBox["E11", "2"]], "Input"],

Cell[BoxData["27.597476393067804`"], "Output"]
}, Open  ]],

Cell[TextData[{
 "The data in the columns of the TFS file is assigned to some vector \
variables that may, for example be plotted.  The ",
 StyleBox["Transpose", "Input"],
 " operation is necessary to turn a pair of lists of numbers into a list of \
pairs of numbers."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{"Transpose", "[", 
   RowBox[{"{", 
    RowBox[{"T", ",", "Y"}], "}"}], "]"}], "]"}]], "Input"],

Cell[GraphicsData["PostScript", "\<\
%!
%%Creator: Mathematica
%%AspectRatio: .61803 
MathPictureStart
/Mabs {
Mgmatrix idtransform
Mtmatrix dtransform
} bind def
/Mabsadd { Mabs
3 -1 roll add
3 1 roll add
exch } bind def
%% Graphics
%%IncludeResource: font Courier
%%IncludeFont: Courier
/Courier findfont 10  scalefont  setfont
% Scaling calculations
0.123577 7.19357 0.268963 48.0785 [
[.26745 .25646 -12 -9 ]
[.26745 .25646 12 0 ]
[.41132 .25646 -12 -9 ]
[.41132 .25646 12 0 ]
[.55519 .25646 -12 -9 ]
[.55519 .25646 12 0 ]
[.69906 .25646 -12 -9 ]
[.69906 .25646 12 0 ]
[.84293 .25646 -9 -9 ]
[.84293 .25646 9 0 ]
[.98681 .25646 -12 -9 ]
[.98681 .25646 12 0 ]
[.11108 .07665 -36 -4.5 ]
[.11108 .07665 0 4.5 ]
[.11108 .17281 -36 -4.5 ]
[.11108 .17281 0 4.5 ]
[.11108 .36512 -30 -4.5 ]
[.11108 .36512 0 4.5 ]
[.11108 .46128 -30 -4.5 ]
[.11108 .46128 0 4.5 ]
[.11108 .55743 -30 -4.5 ]
[.11108 .55743 0 4.5 ]
[ 0 0 0 0 ]
[ 1 .61803 0 0 ]
] MathScale
% Start of Graphics
1 setlinecap
1 setlinejoin
newpath
0 g
.25 Mabswid
[ ] 0 setdash
.26745 .26896 m
.26745 .27521 L
s
[(0.02)] .26745 .25646 0 1 Mshowa
.41132 .26896 m
.41132 .27521 L
s
[(0.04)] .41132 .25646 0 1 Mshowa
.55519 .26896 m
.55519 .27521 L
s
[(0.06)] .55519 .25646 0 1 Mshowa
.69906 .26896 m
.69906 .27521 L
s
[(0.08)] .69906 .25646 0 1 Mshowa
.84293 .26896 m
.84293 .27521 L
s
[(0.1)] .84293 .25646 0 1 Mshowa
.98681 .26896 m
.98681 .27521 L
s
[(0.12)] .98681 .25646 0 1 Mshowa
.125 Mabswid
.15955 .26896 m
.15955 .27271 L
s
.19551 .26896 m
.19551 .27271 L
s
.23148 .26896 m
.23148 .27271 L
s
.30342 .26896 m
.30342 .27271 L
s
.33938 .26896 m
.33938 .27271 L
s
.37535 .26896 m
.37535 .27271 L
s
.44729 .26896 m
.44729 .27271 L
s
.48326 .26896 m
.48326 .27271 L
s
.51922 .26896 m
.51922 .27271 L
s
.59116 .26896 m
.59116 .27271 L
s
.62713 .26896 m
.62713 .27271 L
s
.6631 .26896 m
.6631 .27271 L
s
.73503 .26896 m
.73503 .27271 L
s
.771 .26896 m
.771 .27271 L
s
.80697 .26896 m
.80697 .27271 L
s
.8789 .26896 m
.8789 .27271 L
s
.91487 .26896 m
.91487 .27271 L
s
.95084 .26896 m
.95084 .27271 L
s
.08761 .26896 m
.08761 .27271 L
s
.05164 .26896 m
.05164 .27271 L
s
.01567 .26896 m
.01567 .27271 L
s
.25 Mabswid
0 .26896 m
1 .26896 L
s
.12358 .07665 m
.12983 .07665 L
s
[(-0.004)] .11108 .07665 1 0 Mshowa
.12358 .17281 m
.12983 .17281 L
s
[(-0.002)] .11108 .17281 1 0 Mshowa
.12358 .36512 m
.12983 .36512 L
s
[(0.002)] .11108 .36512 1 0 Mshowa
.12358 .46128 m
.12983 .46128 L
s
[(0.004)] .11108 .46128 1 0 Mshowa
.12358 .55743 m
.12983 .55743 L
s
[(0.006)] .11108 .55743 1 0 Mshowa
.125 Mabswid
.12358 .10069 m
.12733 .10069 L
s
.12358 .12473 m
.12733 .12473 L
s
.12358 .14877 m
.12733 .14877 L
s
.12358 .19684 m
.12733 .19684 L
s
.12358 .22088 m
.12733 .22088 L
s
.12358 .24492 m
.12733 .24492 L
s
.12358 .293 m
.12733 .293 L
s
.12358 .31704 m
.12733 .31704 L
s
.12358 .34108 m
.12733 .34108 L
s
.12358 .38916 m
.12733 .38916 L
s
.12358 .4132 m
.12733 .4132 L
s
.12358 .43724 m
.12733 .43724 L
s
.12358 .48532 m
.12733 .48532 L
s
.12358 .50936 m
.12733 .50936 L
s
.12358 .53339 m
.12733 .53339 L
s
.12358 .05261 m
.12733 .05261 L
s
.12358 .02857 m
.12733 .02857 L
s
.12358 .00453 m
.12733 .00453 L
s
.12358 .58147 m
.12733 .58147 L
s
.12358 .60551 m
.12733 .60551 L
s
.25 Mabswid
.12358 0 m
.12358 .61803 L
s
0 0 m
1 0 L
1 .61803 L
0 .61803 L
closepath
clip
newpath
.008 w
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.12358 .26896 Mdot
.1594 .24654 Mdot
.16712 .24706 Mdot
.15243 .24949 Mdot
.15061 .24684 Mdot
.17139 .24632 Mdot
.15864 .24823 Mdot
.1512 .24767 Mdot
.16381 .24912 Mdot
.1604 .24869 Mdot
.16466 .24731 Mdot
.16476 .24776 Mdot
.1636 .24901 Mdot
.15468 .24853 Mdot
.16487 .24755 Mdot
.15897 .24848 Mdot
.16264 .24859 Mdot
.25806 .2478 Mdot
.27654 .2476 Mdot
.21706 .25705 Mdot
.24003 .25068 Mdot
.2735 .24807 Mdot
.25761 .24976 Mdot
.23778 .25117 Mdot
.26078 .25372 Mdot
.23749 .25518 Mdot
.24896 .24893 Mdot
.26697 .24855 Mdot
.2511 .25396 Mdot
.23641 .25042 Mdot
.25189 .25202 Mdot
.2422 .25294 Mdot
.25644 .25181 Mdot
.37451 .21749 Mdot
.41117 .22426 Mdot
.31147 .23601 Mdot
.37008 .22508 Mdot
.39525 .21668 Mdot
.38682 .22084 Mdot
.35028 .22531 Mdot
.38433 .22911 Mdot
.32991 .23936 Mdot
.35596 .22032 Mdot
.39331 .21856 Mdot
.3726 .2306 Mdot
.33688 .22349 Mdot
.36357 .23252 Mdot
.35116 .22322 Mdot
.37687 .21861 Mdot
.45194 .20481 Mdot
.51057 .18849 Mdot
.38437 .22261 Mdot
.47605 .19514 Mdot
.49578 .18458 Mdot
.50788 .18334 Mdot
.43536 .211 Mdot
.49017 .20293 Mdot
.42003 .21384 Mdot
.45287 .18809 Mdot
.51179 .18019 Mdot
.45972 .21336 Mdot
.4212 .20047 Mdot
.45077 .20693 Mdot
.44523 .20321 Mdot
.46992 .20259 Mdot
.4812 .242 Mdot
.55089 .25518 Mdot
.42277 .25295 Mdot
.52685 .24928 Mdot
.55444 .23482 Mdot
.58808 .20977 Mdot
.48111 .24764 Mdot
.55338 .23748 Mdot
.44717 .2675 Mdot
.50671 .19803 Mdot
.56131 .21091 Mdot
.49457 .26532 Mdot
.47816 .21912 Mdot
.4823 .26942 Mdot
.49495 .22106 Mdot
.51743 .1835 Mdot
.49575 .20162 Mdot
.56593 .23853 Mdot
.42456 .21651 Mdot
.52801 .22653 Mdot
.59486 .17106 Mdot
.65645 .11301 Mdot
.4901 .22002 Mdot
.58128 .18808 Mdot
.42991 .2445 Mdot
.53993 .14166 Mdot
.5961 .16698 Mdot
.48198 .2414 Mdot
.51761 .1498 Mdot
.45154 .26172 Mdot
.50721 .21477 Mdot
.53898 .1707 Mdot
.48933 .38221 Mdot
.53266 .41158 Mdot
.39256 .36273 Mdot
.47275 .42403 Mdot
.62447 .39858 Mdot
.7149 .35612 Mdot
.46752 .38746 Mdot
.54705 .40964 Mdot
.35977 .37544 Mdot
.58326 .37202 Mdot
.60898 .41843 Mdot
.42096 .38391 Mdot
.55739 .33666 Mdot
.37356 .39968 Mdot
.46716 .41915 Mdot
.51908 .36942 Mdot
.46985 .34091 Mdot
.44831 .40349 Mdot
.33813 .351 Mdot
.34977 .4205 Mdot
.63002 .32352 Mdot
.76432 .31827 Mdot
.39808 .37979 Mdot
.44715 .39913 Mdot
.2581 .36665 Mdot
.61806 .29613 Mdot
.57019 .39359 Mdot
.31932 .37519 Mdot
.59738 .26947 Mdot
.26025 .38391 Mdot
.39073 .40775 Mdot
.48639 .37249 Mdot
.41427 .38288 Mdot
.30932 .32581 Mdot
.26663 .3477 Mdot
.21251 .32182 Mdot
.57229 .38496 Mdot
.76712 .42127 Mdot
.29993 .34651 Mdot
.32456 .36443 Mdot
.18142 .31142 Mdot
.60707 .41367 Mdot
.46274 .41274 Mdot
.20724 .30448 Mdot
.6311 .38252 Mdot
.16009 .28968 Mdot
.27954 .3426 Mdot
.42342 .44119 Mdot
.33426 .38024 Mdot
.22481 .58814 Mdot
.21784 .32047 Mdot
.1156 .28127 Mdot
.48318 .45112 Mdot
.67383 .41097 Mdot
.22397 .3298 Mdot
.20399 .3761 Mdot
.16031 .32573 Mdot
.54725 .40257 Mdot
.35738 .56912 Mdot
.14871 .29498 Mdot
.60793 .3582 Mdot
.13638 .28444 Mdot
.19615 .28515 Mdot
.33346 .41518 Mdot
.25723 .25886 Mdot
.20123 .26159 Mdot
.11323 .19982 Mdot
.50427 .32106 Mdot
.19869 .24003 Mdot
.18431 .32178 Mdot
.22448 .32768 Mdot
.4294 .33251 Mdot
.1899 .26915 Mdot
.52653 .36048 Mdot
.18339 .25599 Mdot
.17539 .19492 Mdot
.27517 .24345 Mdot
.21209 .3088 Mdot
.21779 .19915 Mdot
.20588 .24689 Mdot
.22224 .20601 Mdot
.30374 .57637 Mdot
.35849 .3193 Mdot
.27797 .25866 Mdot
.43085 .56537 Mdot
.29154 .27972 Mdot
.21177 .17723 Mdot
.28036 .24579 Mdot
.21556 .25406 Mdot
.26307 .21122 Mdot
.34133 .2917 Mdot
.28697 .2283 Mdot
.53023 .47195 Mdot
.38845 .33212 Mdot
.42549 .39162 Mdot
.27129 .14875 Mdot
.33974 .26391 Mdot
.29343 .2799 Mdot
.30674 .19827 Mdot
.4524 .27026 Mdot
.35429 .20905 Mdot
.73048 .58595 Mdot
.478 .24346 Mdot
.55054 .35129 Mdot
.31636 .22737 Mdot
.40589 .20563 Mdot
.41354 .42835 Mdot
.31502 .20223 Mdot
.50276 .29309 Mdot
.38087 .19771 Mdot
.5595 .26877 Mdot
.70668 .54424 Mdot
.34872 .25112 Mdot
.46243 .24887 Mdot
.56116 .46817 Mdot
.30894 .24735 Mdot
.48561 .2032 Mdot
.388 .2245 Mdot
.57971 .20235 Mdot
.38352 .30912 Mdot
.48385 .18074 Mdot
.29386 .32215 Mdot
.41755 .20031 Mdot
.36555 .19899 Mdot
.52704 .14281 Mdot
.38669 .39996 Mdot
.45741 .18676 Mdot
.27967 .3075 Mdot
.30033 .19577 Mdot
.34813 .26241 Mdot
.39994 .15153 Mdot
.32599 .36766 Mdot
.38759 .21825 Mdot
.27563 .33602 Mdot
.34695 .27911 Mdot
.23031 .36021 Mdot
.22897 .25241 Mdot
.31988 .20477 Mdot
.27357 .31732 Mdot
.33898 .28073 Mdot
.0812 .39315 Mdot
.16025 .20748 Mdot
.27747 .26598 Mdot
.26612 .2766 Mdot
.3089 .35264 Mdot
.02381 .348 Mdot
.11779 .17107 Mdot
.27891 .18433 Mdot
.25021 .21018 Mdot
.2786 .32376 Mdot
.07681 .30775 Mdot
.11684 .22399 Mdot
.33741 .11178 Mdot
.25754 .18771 Mdot
.25195 .30661 Mdot
.25377 .49634 Mdot
.1531 .18623 Mdot
.25447 .21238 Mdot
.23306 .29124 Mdot
.5195 .58388 Mdot
.2561 .26851 Mdot
.24933 .21911 Mdot
.21752 .24344 Mdot
.39814 .25828 Mdot
.24283 .2876 Mdot
.21257 .22467 Mdot
.55946 .12331 Mdot
.25708 .33826 Mdot
.22285 .20538 Mdot
.72186 .25957 Mdot
.28246 .31836 Mdot
.23013 .23402 Mdot
.88991 .27409 Mdot
.28745 .31245 Mdot
.21633 .21272 Mdot
.27353 .28829 Mdot
.23643 .27801 Mdot
.24486 .23773 Mdot
.30129 .27797 Mdot
.21545 .20428 Mdot
.37207 .23323 Mdot
.22061 .17955 Mdot
.42303 .31438 Mdot
.23414 .25983 Mdot
.43958 .27169 Mdot
.26777 .27043 Mdot
.4068 .33637 Mdot
.30245 .30482 Mdot
.32713 .3355 Mdot
.30417 .3493 Mdot
.22234 .29212 Mdot
.27967 .32246 Mdot
.16792 .41571 Mdot
.24026 .2634 Mdot
.25841 .60332 Mdot
.21843 .21999 Mdot
.20855 .19185 Mdot
.18952 .24265 Mdot
.19454 .25831 Mdot
.22642 .30218 Mdot
.24147 .32998 Mdot
.23562 .30621 Mdot
.22502 .26605 Mdot
.21924 .23068 Mdot
.21342 .20416 Mdot
.19732 .24574 Mdot
.18505 .27782 Mdot
.19343 .30735 Mdot
.20593 .31735 Mdot
.21957 .28874 Mdot
.23328 .25075 Mdot
.21993 .21145 Mdot
.18474 .21167 Mdot
.17518 .27619 Mdot
.17402 .32185 Mdot
.18823 .31077 Mdot
.21092 .29063 Mdot
.23065 .23601 Mdot
.236 .20849 Mdot
.23375 .23338 Mdot
.19787 .29019 Mdot
.13947 .3142 Mdot
.09205 .30916 Mdot
.07344 .24904 Mdot
.08284 .21463 Mdot
.1273 .23002 Mdot
.17886 .2725 Mdot
.22428 .29244 Mdot
.24881 .32788 Mdot
.2457 .28305 Mdot
.21528 .22721 Mdot
.15386 .21338 Mdot
.09656 .27339 Mdot
.08301 .2997 Mdot
.10332 .32275 Mdot
.12675 .27201 Mdot
.16807 .23755 Mdot
.21331 .22073 Mdot
.24369 .25021 Mdot
.25013 .28092 Mdot
.23281 .32327 Mdot
.19106 .28501 Mdot
.13073 .22375 Mdot
.07797 .21421 Mdot
.06332 .28116 Mdot
.09007 .31019 Mdot
.14293 .31853 Mdot
.19713 .28296 Mdot
.22545 .22736 Mdot
.22852 .20482 Mdot
.20209 .26528 Mdot
.17463 .32136 Mdot
.14744 .30695 Mdot
.13656 .26471 Mdot
.16059 .22469 Mdot
.19384 .23359 Mdot
.18733 .28013 Mdot
.156 .32043 Mdot
.12897 .27657 Mdot
.09783 .22736 Mdot
.07283 .23424 Mdot
.07635 .28278 Mdot
.10539 .30406 Mdot
.14472 .30771 Mdot
% End of Graphics
MathPictureEnd
\
\>"], "Graphics",
 ImageSize->{288, 177.938},
 ImageMargins->{{35, 0}, {0, 0}},
 ImageRegion->{{0, 1}, {0, 1}},
 ImageCache->GraphicsData["CompressedBitmap", "\<\
eJzVWstrXFUYP7mvadKpmaSdyUNrJrE1PmrFBwgiqKCNUNoqWhAX0lAKadVa
0iAqhlt1YUutIiIqLktB0IWu3HSr7lzo0k3/Cl2O594799zf953znZk7SZAG
ZvLNefy+73zv+zi2urF25q3VjbOnV7sr66sX1s6evtg98va6HgrHlBrrKqV+
bilNf6DCW2qhl/YW055S0v9l/RUqlerf6p/+QKDUv9LcdgzsNP6OMtyVw0XW
d5z29LqQL2/or6g/kO2tfgT4I4Z9wYgY+kecS6A35/tyabK/gK30YlQ/ohEF
MUpQDoxCfxNUc4Fj4Q5a9gmgXwH6zMgLLRYXgb5UCbvhGN6KS57Tn7igc3V/
MuwCLcu9sOwZoK9yjINAd4He79v0AtA/DHcwKbS0P0XUQTaBfqdeiJh96KUX
YLw5IjaGfgDY+gDnffAjRGnkOob+vw8XHYeJazV15ORE0FeoCEF5Dv35tLLl
hCtNmn0IPi8c6SGgY1HMa9yfhoE+VIpIAmQaVrzPYSeAbgD9NNB7gG45wDTP
3QJMJ5/dByMz7Pgl/VkGdgBVMEstFVBnR8EDyl2vvIPNGtC9XH7CciYvNcbu
Hets4GTU+P3CgHMGpu0zQMIiqVGglZ9MBudaLpUkxVecYVGcEgpb5CS3+Ggx
VB+mhDsFT303m5231BgLdCFJg/JfotjMD5Ab+kSznkTtfGQXjGCQZQyT0kmy
T2K8zJlYcmc+WM6qwowMv80xI9dAuXqST36ZfS3AihDZYQw2paAKcQJSkZXW
MH7RcS5zGWJhYZNalGVQMx5R0yZU1rDv3SobYl3qdNmrYokN83B3FuAOXanT
Zdsa4WVMzQnh16JyVl4DR2sI41MQREHp/e4uuoUTCd3nbggm06HqIymDGEPW
BJaV2KcSdHQ7wI1myVlDxsCUHWW7BbtEmOKqScpAsA5Llm6HTlxFKHcXTLqo
DxJ2DY9CIv7DUYV8Z0CmBNiloSKIBNgisNq1dYLRMMZ1Ms4UZpJXxE8Elo/Y
GTFHWGqBgMNiVeh83Hdas3Xb3QU9XENkdzj0tyOWityWKMvfSZoOK1MWn9DK
qi1oXKsU7Kz5E7THLXyCdb0dGJmxZkPHSbAOx5aDxH23hzMoViqRnhLG0U/Q
s65wt8NuNi7biViR6jQjMOwC/ZELGMM1ICW9AA+od90NNEIdAvplzseUGwUX
mE49kP4EGyKkV1y8SLrEaEb3HZdY2e3VF2lRzLIOvNhIdjdctCrbrHE7bNxx
ThLHQPyUdhimAVIkRQgQgRJBh6GTQWvUcPhZLPEOrFA9BnvTWoBaw1NOAo03
SQ4INO6d43J1UiEpMudAUbmtMVpYXsOrnptOfs4isjvPa3sgc6EsN60IYO1L
SEdC62rqj7QnX+HxChKUjVT/uGhbbCvvB/rzPgMW+OSSF9R0lwCD49ndInIN
h3ZFE2z6NoUC7bxo1P/xxsRvaZE3SCw7m2pjMnQTEvm4PBZgLH4sKAITJiYn
cCjkj3bDOPgpm91vsHCLCQhF/QczLtYhlO5G5QKFoOgrk/RU08LUa0BntzbV
oqxxoSclKTNkspoJXpFc+eW5YYWJed9S5mpcxPssnHsU6C7Qb6aesCUqBbs1
qGSGPukDnhXAUB9o7OscAG9zY+7iN71c+sMjX+LAiwIAMtkrMGw7gLVZlgQ5
HgH6m2w58sAIuie1I72c+33QRrSl894IPg6xGrrDVpnH5Q8we9e42f8h0PMc
ZoQb/+h6c4KIaFu8n7NegycrxiHt9FEKDJiWIMWVGpylarBIeWptPwYjV2vq
08nucaDvYz7lOu57lS/4HxZgYsYHTxj7C0DPcibLHjAMGanZ/JGDYLBiGXIm
FkUvDtCn8BLLSn/IZBnAMI75IyAfsNbqi4L2vk09bc0JoLGl3fRteha9BB0b
r+Sw3T7Pjy8ioHmnfQgnhU0f84XPC56LNeBUpcUjgvVbzJ2k2D7F+aMpHhT4
tyjT/gNlLwzKgvGBRsTjrnDAJ4E2gafBTvg2HRXi4Wvfwu/5pO8pPz7evFFr
8nWgrec91uRt9L7HVnM3vpyQ1gCU3vd4A+iEYw/zHggCXJacYyhvGfwmBYbZ
X7Um/7f3nEbD/w7oVwdOetq0kLrxtrjgVkDqh8EWTsCaO0Njcb3u9vOovO1s
Fj4F9BQHWBYW/sInDwP9a+UiDzuGzcAa0Niuv8QXYuk8Nsqmv+t7Krarf1YH
WnIM142e3oDXItXYf7eq76w=\
\>"],
 ImageRangeCache->{{{0, 287}, {176.938, 0}} -> {-0.0200751, -0.00590936, \
0.000509369, 7.62124}}],

Cell[BoxData[
 TagBox[
  RowBox[{"\[SkeletonIndicator]", "Graphics", "\[SkeletonIndicator]"}],
  False,
  Editable->False]], "Output"]
}, Open  ]],

Cell["Or we might take the scalar product of the X and PX columns", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"X", ".", "PX"}]], "Input"],

Cell[BoxData[
 RowBox[{"-", "0.0002666888216002709`"}]], "Output"]
}, Open  ]],

Cell[TextData[{
 "Rather than continue with furthere illustrative examples, it is better to \
recommend that the user becomes familiar with standard ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " operations so that he can easily do what he wants himself."
}], "Text"],

Cell["\<\
The example contains tracking data for 16 particles so there are 16 X values \
for turn 0, for turn 1, etc. (until some particles are lost):\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Take", "[", 
  RowBox[{"TURNS", ",", "18"}], "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", 
   ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", "0", ",", 
   "0", ",", "1", ",", "1"}], "}"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Take", "[", 
  RowBox[{"X", ",", "18"}], "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", 
   "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", 
   "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.00504514`", ",", 
   "0.0050658199999999995`"}], "}"}]], "Output"]
}, Open  ]],

Cell["We can plot them against turn number with", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{"Transpose", "[", 
   RowBox[{"{", 
    RowBox[{"TURNS", ",", "X"}], "}"}], "]"}], "]"}]], "Input"],

Cell[GraphicsData["PostScript", "\<\
%!
%%Creator: Mathematica
%%AspectRatio: .61803 
MathPictureStart
/Mabs {
Mgmatrix idtransform
Mtmatrix dtransform
} bind def
/Mabsadd { Mabs
3 -1 roll add
3 1 roll add
exch } bind def
%% Graphics
%%IncludeResource: font Courier
%%IncludeFont: Courier
/Courier findfont 10  scalefont  setfont
% Scaling calculations
0.0238095 0.00881834 0.327226 15.8582 [
[.20018 .31473 -6 -9 ]
[.20018 .31473 6 0 ]
[.37654 .31473 -6 -9 ]
[.37654 .31473 6 0 ]
[.55291 .31473 -6 -9 ]
[.55291 .31473 6 0 ]
[.72928 .31473 -6 -9 ]
[.72928 .31473 6 0 ]
[.90564 .31473 -9 -9 ]
[.90564 .31473 9 0 ]
[.01131 .01006 -30 -4.5 ]
[.01131 .01006 0 4.5 ]
[.01131 .08935 -36 -4.5 ]
[.01131 .08935 0 4.5 ]
[.01131 .16864 -30 -4.5 ]
[.01131 .16864 0 4.5 ]
[.01131 .24794 -36 -4.5 ]
[.01131 .24794 0 4.5 ]
[.01131 .40652 -30 -4.5 ]
[.01131 .40652 0 4.5 ]
[.01131 .48581 -24 -4.5 ]
[.01131 .48581 0 4.5 ]
[.01131 .5651 -30 -4.5 ]
[.01131 .5651 0 4.5 ]
[ 0 0 0 0 ]
[ 1 .61803 0 0 ]
] MathScale
% Start of Graphics
1 setlinecap
1 setlinejoin
newpath
0 g
.25 Mabswid
[ ] 0 setdash
.20018 .32723 m
.20018 .33348 L
s
[(20)] .20018 .31473 0 1 Mshowa
.37654 .32723 m
.37654 .33348 L
s
[(40)] .37654 .31473 0 1 Mshowa
.55291 .32723 m
.55291 .33348 L
s
[(60)] .55291 .31473 0 1 Mshowa
.72928 .32723 m
.72928 .33348 L
s
[(80)] .72928 .31473 0 1 Mshowa
.90564 .32723 m
.90564 .33348 L
s
[(100)] .90564 .31473 0 1 Mshowa
.125 Mabswid
.0679 .32723 m
.0679 .33098 L
s
.11199 .32723 m
.11199 .33098 L
s
.15608 .32723 m
.15608 .33098 L
s
.24427 .32723 m
.24427 .33098 L
s
.28836 .32723 m
.28836 .33098 L
s
.33245 .32723 m
.33245 .33098 L
s
.42063 .32723 m
.42063 .33098 L
s
.46473 .32723 m
.46473 .33098 L
s
.50882 .32723 m
.50882 .33098 L
s
.597 .32723 m
.597 .33098 L
s
.64109 .32723 m
.64109 .33098 L
s
.68519 .32723 m
.68519 .33098 L
s
.77337 .32723 m
.77337 .33098 L
s
.81746 .32723 m
.81746 .33098 L
s
.86155 .32723 m
.86155 .33098 L
s
.94974 .32723 m
.94974 .33098 L
s
.99383 .32723 m
.99383 .33098 L
s
.25 Mabswid
0 .32723 m
1 .32723 L
s
.02381 .01006 m
.03006 .01006 L
s
[(-0.02)] .01131 .01006 1 0 Mshowa
.02381 .08935 m
.03006 .08935 L
s
[(-0.015)] .01131 .08935 1 0 Mshowa
.02381 .16864 m
.03006 .16864 L
s
[(-0.01)] .01131 .16864 1 0 Mshowa
.02381 .24794 m
.03006 .24794 L
s
[(-0.005)] .01131 .24794 1 0 Mshowa
.02381 .40652 m
.03006 .40652 L
s
[(0.005)] .01131 .40652 1 0 Mshowa
.02381 .48581 m
.03006 .48581 L
s
[(0.01)] .01131 .48581 1 0 Mshowa
.02381 .5651 m
.03006 .5651 L
s
[(0.015)] .01131 .5651 1 0 Mshowa
.125 Mabswid
.02381 .02592 m
.02756 .02592 L
s
.02381 .04178 m
.02756 .04178 L
s
.02381 .05764 m
.02756 .05764 L
s
.02381 .0735 m
.02756 .0735 L
s
.02381 .10521 m
.02756 .10521 L
s
.02381 .12107 m
.02756 .12107 L
s
.02381 .13693 m
.02756 .13693 L
s
.02381 .15279 m
.02756 .15279 L
s
.02381 .1845 m
.02756 .1845 L
s
.02381 .20036 m
.02756 .20036 L
s
.02381 .21622 m
.02756 .21622 L
s
.02381 .23208 m
.02756 .23208 L
s
.02381 .26379 m
.02756 .26379 L
s
.02381 .27965 m
.02756 .27965 L
s
.02381 .29551 m
.02756 .29551 L
s
.02381 .31137 m
.02756 .31137 L
s
.02381 .34308 m
.02756 .34308 L
s
.02381 .35894 m
.02756 .35894 L
s
.02381 .3748 m
.02756 .3748 L
s
.02381 .39066 m
.02756 .39066 L
s
.02381 .42238 m
.02756 .42238 L
s
.02381 .43823 m
.02756 .43823 L
s
.02381 .45409 m
.02756 .45409 L
s
.02381 .46995 m
.02756 .46995 L
s
.02381 .50167 m
.02756 .50167 L
s
.02381 .51752 m
.02756 .51752 L
s
.02381 .53338 m
.02756 .53338 L
s
.02381 .54924 m
.02756 .54924 L
s
.02381 .58096 m
.02756 .58096 L
s
.02381 .59682 m
.02756 .59682 L
s
.02381 .61267 m
.02756 .61267 L
s
.25 Mabswid
.02381 0 m
.02381 .61803 L
s
0 0 m
1 0 L
1 .61803 L
0 .61803 L
closepath
clip
newpath
.008 w
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.02381 .32723 Mdot
.03263 .40723 Mdot
.03263 .40756 Mdot
.03263 .40198 Mdot
.03263 .41316 Mdot
.03263 .4024 Mdot
.03263 .41113 Mdot
.03263 .40804 Mdot
.03263 .40357 Mdot
.03263 .40822 Mdot
.03263 .40615 Mdot
.03263 .40088 Mdot
.03263 .39983 Mdot
.03263 .41139 Mdot
.03263 .40865 Mdot
.03263 .40138 Mdot
.03263 .39811 Mdot
.04145 .20908 Mdot
.04145 .20379 Mdot
.04145 .20604 Mdot
.04145 .20942 Mdot
.04145 .20753 Mdot
.04145 .20742 Mdot
.04145 .20942 Mdot
.04145 .20642 Mdot
.04145 .19807 Mdot
.04145 .20543 Mdot
.04145 .20733 Mdot
.04145 .21195 Mdot
.04145 .2051 Mdot
.04145 .19965 Mdot
.04145 .21083 Mdot
.04145 .2155 Mdot
.05026 .51755 Mdot
.05026 .53407 Mdot
.05026 .52336 Mdot
.05026 .52648 Mdot
.05026 .51935 Mdot
.05026 .51812 Mdot
.05026 .51475 Mdot
.05026 .52688 Mdot
.05026 .53436 Mdot
.05026 .52368 Mdot
.05026 .5238 Mdot
.05026 .51697 Mdot
.05026 .5198 Mdot
.05026 .53568 Mdot
.05026 .51403 Mdot
.05026 .49964 Mdot
.05908 .15098 Mdot
.05908 .1523 Mdot
.05908 .14874 Mdot
.05908 .15286 Mdot
.05908 .15454 Mdot
.05908 .16174 Mdot
.05908 .15728 Mdot
.05908 .15617 Mdot
.05908 .15433 Mdot
.05908 .15382 Mdot
.05908 .1576 Mdot
.05908 .15569 Mdot
.05908 .15133 Mdot
.05908 .15222 Mdot
.05908 .15806 Mdot
.05908 .16125 Mdot
.0679 .53684 Mdot
.0679 .48922 Mdot
.0679 .52418 Mdot
.0679 .50625 Mdot
.0679 .51041 Mdot
.0679 .53491 Mdot
.0679 .52128 Mdot
.0679 .51783 Mdot
.0679 .48231 Mdot
.0679 .54941 Mdot
.0679 .53755 Mdot
.0679 .5078 Mdot
.0679 .54426 Mdot
.0679 .48514 Mdot
.0679 .53904 Mdot
.0679 .55701 Mdot
.07672 .18773 Mdot
.07672 .28322 Mdot
.07672 .20851 Mdot
.07672 .25163 Mdot
.07672 .24951 Mdot
.07672 .21568 Mdot
.07672 .21561 Mdot
.07672 .23437 Mdot
.07672 .27843 Mdot
.07672 .18197 Mdot
.07672 .20844 Mdot
.07672 .24252 Mdot
.07672 .18241 Mdot
.07672 .27334 Mdot
.07672 .1867 Mdot
.07672 .14417 Mdot
.08554 .35928 Mdot
.08554 .26057 Mdot
.08554 .33877 Mdot
.08554 .29404 Mdot
.08554 .27631 Mdot
.08554 .29844 Mdot
.08554 .32228 Mdot
.08554 .30937 Mdot
.08554 .28352 Mdot
.08554 .35999 Mdot
.08554 .3159 Mdot
.08554 .30758 Mdot
.08554 .34915 Mdot
.08554 .30338 Mdot
.08554 .36692 Mdot
.08554 .44572 Mdot
.09436 .41353 Mdot
.09436 .47468 Mdot
.09436 .43276 Mdot
.09436 .45179 Mdot
.09436 .48229 Mdot
.09436 .48297 Mdot
.09436 .44599 Mdot
.09436 .44557 Mdot
.09436 .46296 Mdot
.09436 .41007 Mdot
.09436 .45308 Mdot
.09436 .45092 Mdot
.09436 .42815 Mdot
.09436 .4441 Mdot
.09436 .41351 Mdot
.09436 .33623 Mdot
.10317 .1756 Mdot
.10317 .10921 Mdot
.10317 .17017 Mdot
.10317 .21788 Mdot
.10317 .11613 Mdot
.10317 .13675 Mdot
.10317 .14904 Mdot
.10317 .20883 Mdot
.10317 .16221 Mdot
.10317 .17752 Mdot
.10317 .13714 Mdot
.10317 .17612 Mdot
.10317 .1714 Mdot
.10317 .23763 Mdot
.10317 .18585 Mdot
.10317 .2385 Mdot
.11199 .51088 Mdot
.11199 .35376 Mdot
.11199 .52838 Mdot
.11199 .49352 Mdot
.11199 .32578 Mdot
.11199 .53319 Mdot
.11199 .52613 Mdot
.11199 .47327 Mdot
.11199 .53818 Mdot
.11199 .50588 Mdot
.11199 .45189 Mdot
.11199 .51943 Mdot
.11199 .52773 Mdot
.11199 .49916 Mdot
.11199 .51833 Mdot
.11199 .4865 Mdot
.12081 .11391 Mdot
.12081 .1378 Mdot
.12081 .16282 Mdot
.12081 .01472 Mdot
.12081 .13237 Mdot
.12081 .27567 Mdot
.12081 .15692 Mdot
.12081 .09792 Mdot
.12081 .15442 Mdot
.12081 .08884 Mdot
.12081 .15777 Mdot
.12081 .14922 Mdot
.12081 .13756 Mdot
.12963 .54774 Mdot
.12963 .48325 Mdot
.12963 .56016 Mdot
.12963 .52918 Mdot
.12963 .42331 Mdot
.12963 .45372 Mdot
.12963 .50787 Mdot
.12963 .32177 Mdot
.12963 .54319 Mdot
.12963 .46423 Mdot
.12963 .56042 Mdot
.13845 .13463 Mdot
.13845 .26797 Mdot
.13845 .16627 Mdot
.13845 .19285 Mdot
.13845 .35942 Mdot
.13845 .25056 Mdot
.13845 .19117 Mdot
.13845 .29464 Mdot
.13845 .14817 Mdot
.14727 .5611 Mdot
.14727 .25952 Mdot
.14727 .40268 Mdot
.14727 .3464 Mdot
.14727 .1914 Mdot
.14727 .26336 Mdot
.14727 .32246 Mdot
.14727 .23585 Mdot
.14727 .44268 Mdot
.15608 .17336 Mdot
.15608 .48826 Mdot
.15608 .36981 Mdot
.15608 .40252 Mdot
.15608 .49507 Mdot
.15608 .46379 Mdot
.15608 .51095 Mdot
.15608 .32157 Mdot
.1649 .33297 Mdot
.1649 .15237 Mdot
.1649 .19768 Mdot
.1649 .18968 Mdot
.1649 .15239 Mdot
.1649 .1817 Mdot
.1649 .22956 Mdot
.17372 .47553 Mdot
.17372 .50697 Mdot
.17372 .51684 Mdot
.17372 .46699 Mdot
.17372 .37988 Mdot
.17372 .49454 Mdot
.18254 .28182 Mdot
.18254 .08737 Mdot
.18254 .13154 Mdot
.18254 .27866 Mdot
.18254 .40782 Mdot
.18254 .1188 Mdot
.19136 .25373 Mdot
.19136 .55118 Mdot
.19136 .3131 Mdot
.19136 .16362 Mdot
.19136 .52893 Mdot
.20018 .49254 Mdot
.20018 .14246 Mdot
.20018 .45488 Mdot
.20018 .52003 Mdot
.20018 .11967 Mdot
.20899 .15039 Mdot
.20899 .45493 Mdot
.20899 .16709 Mdot
.20899 .15486 Mdot
.20899 .54602 Mdot
.21781 .4719 Mdot
.21781 .29879 Mdot
.21781 .52851 Mdot
.21781 .42598 Mdot
.21781 .18565 Mdot
.22663 .28056 Mdot
.22663 .2548 Mdot
.22663 .21691 Mdot
.22663 .34391 Mdot
.22663 .60332 Mdot
.23545 .26021 Mdot
.23545 .49105 Mdot
.23545 .23933 Mdot
.23545 .21044 Mdot
.24427 .492 Mdot
.24427 .14403 Mdot
.24427 .51278 Mdot
.25309 .15336 Mdot
.25309 .51669 Mdot
.25309 .26216 Mdot
.2619 .47623 Mdot
.2619 .2016 Mdot
.2619 .24035 Mdot
.27072 .28584 Mdot
.27072 .34094 Mdot
.27072 .4909 Mdot
.27954 .24991 Mdot
.27954 .43035 Mdot
.27954 .33984 Mdot
.28836 .49204 Mdot
.28836 .17558 Mdot
.28836 .21861 Mdot
.29718 .1518 Mdot
.29718 .53629 Mdot
.29718 .30994 Mdot
.306 .4642 Mdot
.306 .18445 Mdot
.31481 .2871 Mdot
.31481 .35903 Mdot
.32363 .24909 Mdot
.32363 .40964 Mdot
.33245 .49737 Mdot
.33245 .17486 Mdot
.34127 .18037 Mdot
.34127 .50542 Mdot
.35009 .38783 Mdot
.35009 .10332 Mdot
.35891 .39861 Mdot
.35891 .453 Mdot
.36772 .17836 Mdot
.36772 .46676 Mdot
.37654 .49329 Mdot
.38536 .23873 Mdot
.39418 .29166 Mdot
.403 .47083 Mdot
.41182 .18644 Mdot
.42063 .39311 Mdot
.42945 .39105 Mdot
.43827 .18661 Mdot
.44709 .47112 Mdot
.45591 .28434 Mdot
.46473 .24706 Mdot
.47354 .48392 Mdot
.48236 .21567 Mdot
.49118 .31747 Mdot
.5 .44719 Mdot
.50882 .19991 Mdot
.51764 .3735 Mdot
.52646 .40985 Mdot
.53527 .19515 Mdot
.54409 .41429 Mdot
.55291 .36604 Mdot
.56173 .20841 Mdot
.57055 .42909 Mdot
.57937 .34968 Mdot
.58818 .20765 Mdot
.597 .44283 Mdot
.60582 .32571 Mdot
.61464 .22537 Mdot
.62346 .4404 Mdot
.63228 .31306 Mdot
.64109 .23619 Mdot
.64991 .42619 Mdot
.65873 .33984 Mdot
.66755 .22389 Mdot
.67637 .41167 Mdot
.68519 .36235 Mdot
.694 .21329 Mdot
.70282 .40664 Mdot
.71164 .36355 Mdot
.72046 .22349 Mdot
.72928 .38652 Mdot
.7381 .38259 Mdot
.74691 .23367 Mdot
.75573 .3519 Mdot
.76455 .40795 Mdot
.77337 .23562 Mdot
.78219 .32503 Mdot
.79101 .42264 Mdot
.79982 .24943 Mdot
.80864 .30248 Mdot
.81746 .42106 Mdot
.82628 .28852 Mdot
.8351 .27066 Mdot
.84392 .39655 Mdot
.85273 .34052 Mdot
.86155 .25249 Mdot
.87037 .36074 Mdot
.87919 .38631 Mdot
.88801 .26 Mdot
.89683 .31546 Mdot
.90564 .39718 Mdot
.91446 .29946 Mdot
.92328 .27656 Mdot
.9321 .39046 Mdot
.94092 .33789 Mdot
.94974 .25935 Mdot
.95855 .35966 Mdot
.96737 .38146 Mdot
.97619 .26527 Mdot
% End of Graphics
MathPictureEnd
\
\>"], "Graphics",
 ImageSize->{398.125, 246.063},
 ImageMargins->{{0, 0}, {0, 0}},
 ImageRegion->{{0, 1}, {0, 1}},
 ImageCache->GraphicsData["CompressedBitmap", "\<\
eJzdW2toHUUUnuxuctNq2tveaNs0L5vYhzXRaNM8aqopfYRqKy1UEUUItdhY
pKWND0RcEBQLWqkFUfRPURT/KFVQUX8IFlH0pz/0X0F8/VDEgn9E1rl77977
zZk5M7P3xgcW9vbszDnfnHPmnHlu9szOHz50/+z83MHZ/l3HZ48dnjt4on/n
0eOyKGwRouWUEOL3opD0oyK8IPqSOHk2ToRY6P/Xy59QiFi+l8vuKZctiZNA
iAh+wziJhGg18HbIn6haJtrxJQDutlySIXDLNkNRkymkegSsZASSUW5tay9o
aL8KM1130GJwUJtDwuRmpixIzT2UU6qZsv9biwuE3m5Kg9Y0VEiPQ3haArO1
8lJ+VZIDw32zirrRjWoK9zBNGozDkgE3bbj8L/BNKd1yU6z76YseMA0s7VqO
RalVrtxcn6P+BNA/14Nn3lBcK1ilYs7krXfphPJRDt4uXm6wbtqYmyt3vphi
lrPYFIc+1oeq3Ja6RZzdjISzpa7Y7pWlQG8EukOV67TJbXHwLmJwOftWqHhX
1L2zOCdSgeHnaPm02LTvzInXKHaP2QNOuUSZ0fWxPmIwOF9ermKXVbAsOrjx
O2//FxmezBPeGkhyrSOuGl2CmcbF/J5BFLR6K9AX6x3KLdE4mGHG8RdpPCHA
NAOGufQ9BcDhoBfoKQeANIRro5PRA3PjT5seCLaOARhk+L+0AXdi12I/3O6L
tpZDkM+IiTmjTwH9BmXEHLoK6EcYtTKAQA1QFMXJDq17x9b2HtWgJTbe80A/
b2NcxBgxBPQDQLf9XcBYftTsQYR8DujdBtFcOmHXYH5sB/ojCrzKA0A+EZX7
AehlQGs7ka+ALvoKXQv0WaCfrrt0RFVQSwzMyd+AvsvGyC0J3gZ6gOHfb3Mt
gvUwAOj+O5mYShvRN2sRM/Zztg15qHAhtu5vAvallVFAPvtzYCJMZZN3HxMh
n8TeOzylJrT6CzMAg62D0eJhoGdy2ElOgJy6YBLhbPoh0Lj1uK4eMvYd5gTQ
uJb+joJhkG8AugvN+oVRZzlFKDE0pknEqGMClrZ1Miw4ocsHe76dqqXMwvLn
GhdzRv8B9A2UkeRDycWL5yiXqrI4Dq3OI0v2pR0GHLLyQr+RXYuz5TWM7D6g
P3WBbGNARmwgtzFC7wN9IxUaT5f8lZFhMk2RykFQZXiRz6a0sJJDE5BPmIol
ODur1PaYg7MYm0MjxOCbjNWhQ2KMxtxoMsbWjMb6sZzxALuL+qTEaIw0VUK2
lA4u1ZL04OTf0XjQgJLWCZsfN6fdrPTDeLZXtmoYEMO7bbqtoe23ZS9VHWqa
ai7jHM/Yg9vb1U1qPQCBPZk5JUgdFGY0psZKtavIeqXH1pR89ppTZ7fKpZ2e
4GyG49dDQD/psLJGHwEa5/y7gb7SBnaaoa1COGgpYSd/xmyCOLHRc5QayKtQ
gTvxW8uVfXEif4+V11PrUtcvZfTi6CU5+Zuh/8m2tDjDcMBVE57STHmUa8d4
eLxGDqe0zU6JRMco1F1mi5SbYnUoOAl1uG/sMQDKqNhFvOQDNUr1oUtI2+qC
Wyy+BPSLNqFzjPvvoELdQP/oyyifHbFxuCoy7X4GNC4htHMRbhJGsCeAxjFg
rJFGXgd6mAGe8wV4hTJerXotCwrpNdybPg70WxTinK3yehV/2Fb/BdC4LL2E
Cskn8OXF+7angN4EdHYlRO7hMAmOMKIYAitp28/EMBy85+LM6BeAHlcYZTbj
tPkm0+Hl1Yzv4YSExBCYAfo8hWzqEEI2tCE2zJ0Nn0LgcIUDPu6/MfMP5Ggt
1JyEswAOwrjzwVF4amG0qMm1MrrsY9rHvHqwHg+WkwcCjMd9QxQMQ/cDoF+j
lfLpg9dtcS3RcC2IZxQFA3utANeC2As47eBC4BYKgBbiIdtjQGPaxzYAvIS5
F+iXfYXkU7Dxyufmuse+hpqTVAyzAbuuYBNSlivLGYQzVqkzUPGuzZbTBsZA
3Q9hvONyGWP8J1sbHMCKWN1R8mhTsTpEDRgCWvsYAVXAkQhnaJwztAsxHwC0
B/MRBxe4sMP2tjPw31A9cAmF+Ykxi4vwz307w+dKftoXGPOT3MGnCymfe/XE
+XEedxuMJ3iYXOhYvMv7OFczoWAb4IK78caMNlm+jBhtHh37C7eL5bs03LS0
M1hJ9QrMftXezdiASIUGWkftv7UlD9foGMOjgaE1uLTbC3T2gUAgFGPIsc0O
Cs11No6yv/oKRUz5ZLNg3NCXGPYQyBsy2Ej3qnjap1CIh4sEZRpJKrcGhg7g
VMBBEPmLqjrLGjGPmKR9QcZhyOdAI+2RG5xe3/iNmPKCGa96LOmSTqpfPeW1
gqzFtDOlhcDggt2VmuTif6svLzm5ge/yuFhkJJwtuXpgwlFP7tHSONR3rdz3
z5xWJLrTDXTz30gPNNWCKX5D+kcGDX0LnVu+Rjf6/XPyX/vyvskWd6r12kmn
q745O5MF+pMa0fIXjywTIQ==\
\>"],
 ImageRangeCache->{{{0, 397.125}, {245.063, 0}} -> {-12.5949, -0.022374, \
0.31047, 0.000172645}}],

Cell[BoxData[
 TagBox[
  RowBox[{"\[SkeletonIndicator]", "Graphics", "\[SkeletonIndicator]"}],
  False,
  Editable->False]], "Output"]
}, Open  ]],

Cell["\<\
This approach works very well if we are interested in the contents of just \
oneTFS file at a time and there is no clash  of variable names.  Notice \
however that there is already a problem in this example: since the data were \
created with MAD Version 8, the name \"X\" is used both for the closed orbit \
component in the header and for a co-ordinate in tracking.  So the tracked X \
overwrote the closed orbit value.  Similary for PX, Y, PY, ...\
\>", "Text"],

Cell["\<\
This problem does not arise with data from MAD Version 9 where the names for \
quantities are carefully chosen and unique (closed orbit components are \
called XC, PXC, ...).\
\>", "Text"],

Cell[TextData[{
 "The overwriting of variable content is unavoidable if a subsequent ",
 StyleBox["mfs", "Input"],
 " data object containing an \"X\" column is given to ",
 StyleBox["mfsInterpret", "Input"],
 ".  A simple way to avoid this is to copy the information to a new variable \
whose name does not occur in the TFS files:  "
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"X1", "=", "X"}], ";"}]], "Input"],

Cell["\<\
The more general functions described in the following sections do not have \
these limitations and allow you to work with similar data from any number of \
TFS files.\
\>", "Text"],

Cell["\<\
Later versions of the package may provide an option not to overwrite existing \
variable assignments.\
\>", "Text"],

Cell[TextData[{
 "If the argument to ",
 StyleBox["mfsInterpret", "Input"],
 " is a string, then it is interpreted as the name of a TFS file.  Thus we \
could have   generated the key and column variables directly  without \
assigning the mfs object ",
 StyleBox["qpmfs", "Input"],
 " by typing  simply"
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsInterpret", "[", "sampleFile", "]"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
  "Number", ",", "Number", ",", "Number", ",", "Number", ",", "Number", ",", 
   "Number", ",", "Number", ",", "Number"}], "}"}]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Header block:\\n\"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"TYPE\"\>", ",", "\<\"TRACK\"\>"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"X\"\>", ",", 
       RowBox[{"-", "0.00038835361175100004`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"PX\"\>", ",", 
       RowBox[{"-", "0.0000167029349567`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"Y\"\>", ",", 
       RowBox[{"-", "0.00038184396626099996`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"PY\"\>", ",", 
       RowBox[{"-", "2.9493485039200003`*^-6"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"ET\"\>", ",", "0.0000102626001956`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"EY\"\>", ",", "1.05428403375`*^-10"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"EX\"\>", ",", "2.98256612951`*^-8"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E11\"\>", ",", "5.25333002895`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E12\"\>", ",", 
       RowBox[{"-", "3.43414759638`*^-17"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E13\"\>", ",", "0.185018159186`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E14\"\>", ",", "0.0829796374966`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E15\"\>", ",", 
       RowBox[{"-", "0.0026510085008000003`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E16\"\>", ",", 
       RowBox[{"-", "0.0111704421761`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E21\"\>", ",", "0.011563874218500001`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E22\"\>", ",", "0.190232632187`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E23\"\>", ",", "0.00199451841627`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E24\"\>", ",", "0.00440399981552`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E25\"\>", ",", 
       RowBox[{"-", "0.0000414979161278`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E26\"\>", ",", "0.0013772593876200002`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E31\"\>", ",", 
       RowBox[{"-", "0.118845072845`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E32\"\>", ",", "0.0846274349415`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E33\"\>", ",", "5.35717075012`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E34\"\>", ",", "1.0125579562`*^-16"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E35\"\>", ",", 
       RowBox[{"-", "0.00436134264581`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E36\"\>", ",", 
       RowBox[{"-", "0.00337974309699`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E41\"\>", ",", "0.00148938982552`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E42\"\>", ",", 
       RowBox[{"-", "0.00652173877267`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E43\"\>", ",", "0.003038214738`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E44\"\>", ",", "0.186544772125`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E45\"\>", ",", 
       RowBox[{"-", "0.000051178374618`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E46\"\>", ",", "0.000242385635122`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E51\"\>", ",", 
       RowBox[{"-", "0.0174585465196`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E52\"\>", ",", 
       RowBox[{"-", "0.0050503245767`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E53\"\>", ",", 
       RowBox[{"-", "0.00377175447184`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E54\"\>", ",", 
       RowBox[{"-", "0.0018883004966399998`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E55\"\>", ",", "2.37836715853`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E56\"\>", ",", 
       RowBox[{"-", "7.68138184883`*^-17"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E61\"\>", ",", 
       RowBox[{"-", "0.000102914870556`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E62\"\>", ",", "0.000189745354973`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E63\"\>", ",", 
       RowBox[{"-", "0.00011706941393`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E64\"\>", ",", "0.000342355037377`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E65\"\>", ",", "0.004009558592179999`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E66\"\>", ",", "0.420458776176`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"COMMENT\"\>", ",", "\<\"\"\>"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"ORIGIN\"\>", ",", "\<\"MAD 8.21/11 RS6000 - AIX\"\>"}], 
      "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"DATE\"\>", ",", "\<\"01/05/97\"\>"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"TIME\"\>", ",", "\<\"15.40.36\"\>"}], "}"}]}], "}"}], 
   "\[InvisibleSpace]", "\<\"\\nColumns labels:  \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{"\<\"TURNS\"\>", ",", "\<\"PARTICLE\"\>", ",", "\<\"X\"\>", 
     ",", "\<\"PX\"\>", ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"T\"\>",
      ",", "\<\"DELTAP\"\>"}], "}"}], 
   "\[InvisibleSpace]", "\<\"\\nColumn formats:  \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{
    "Number", ",", "Number", ",", "Number", ",", "Number", ",", "Number", ",",
      "Number", ",", "Number", ",", "Number"}], "}"}], 
   "\[InvisibleSpace]", "\<\"\\nColumn data starts at position \"\>", 
   "\[InvisibleSpace]", "2335", "\[InvisibleSpace]", "\<\" in \"\>", 
   "\[InvisibleSpace]", "\<\"C:\\\\TEMP\\\\000004a00259\"\>"}],
  SequenceForm[
  "Header block:\n", {{"TYPE", "TRACK"}, {"X", -0.00038835361175100004`}, {
    "PX", -0.0000167029349567}, {"Y", -0.00038184396626099996`}, {
    "PY", -2.9493485039200003`*^-6}, {"ET", 0.0000102626001956}, {
    "EY", 1.05428403375*^-10}, {"EX", 2.98256612951*^-8}, {
    "E11", 5.25333002895}, {"E12", -3.43414759638*^-17}, {
    "E13", 0.185018159186}, {"E14", 0.0829796374966}, {
    "E15", -0.0026510085008000003`}, {"E16", -0.0111704421761}, {
    "E21", 0.011563874218500001`}, {"E22", 0.190232632187}, {
    "E23", 0.00199451841627}, {"E24", 0.00440399981552}, {
    "E25", -0.0000414979161278}, {"E26", 0.0013772593876200002`}, {
    "E31", -0.118845072845}, {"E32", 0.0846274349415}, {
    "E33", 5.35717075012}, {"E34", 1.0125579562*^-16}, {
    "E35", -0.00436134264581}, {"E36", -0.00337974309699}, {
    "E41", 0.00148938982552}, {"E42", -0.00652173877267}, {
    "E43", 0.003038214738}, {"E44", 0.186544772125}, {
    "E45", -0.000051178374618}, {"E46", 0.000242385635122}, {
    "E51", -0.0174585465196}, {"E52", -0.0050503245767}, {
    "E53", -0.00377175447184}, {"E54", -0.0018883004966399998`}, {
    "E55", 2.37836715853}, {"E56", -7.68138184883*^-17}, {
    "E61", -0.000102914870556}, {"E62", 0.000189745354973}, {
    "E63", -0.00011706941393}, {"E64", 0.000342355037377}, {
    "E65", 0.004009558592179999}, {"E66", 0.420458776176}, {"COMMENT", ""}, {
    "ORIGIN", "MAD 8.21/11 RS6000 - AIX"}, {"DATE", "01/05/97"}, {
    "TIME", "15.40.36"}}, "\nColumns labels:  ", {
   "TURNS", "PARTICLE", "X", "PX", "Y", "PY", "T", "DELTAP"}, 
   "\nColumn formats:  ", {
   Number, Number, Number, Number, Number, Number, Number, Number}, 
   "\nColumn data starts at position ", 2335, " in ", 
   "C:\\TEMP\\000004a00259"],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Variables (re-)assigned: \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{"\<\"TYPE\"\>", ",", "\<\"X\"\>", ",", "\<\"PX\"\>", 
     ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"ET\"\>", 
     ",", "\<\"EY\"\>", ",", "\<\"EX\"\>", ",", "\<\"E11\"\>", 
     ",", "\<\"E12\"\>", ",", "\<\"E13\"\>", ",", "\<\"E14\"\>", 
     ",", "\<\"E15\"\>", ",", "\<\"E16\"\>", ",", "\<\"E21\"\>", 
     ",", "\<\"E22\"\>", ",", "\<\"E23\"\>", ",", "\<\"E24\"\>", 
     ",", "\<\"E25\"\>", ",", "\<\"E26\"\>", ",", "\<\"E31\"\>", 
     ",", "\<\"E32\"\>", ",", "\<\"E33\"\>", ",", "\<\"E34\"\>", 
     ",", "\<\"E35\"\>", ",", "\<\"E36\"\>", ",", "\<\"E41\"\>", 
     ",", "\<\"E42\"\>", ",", "\<\"E43\"\>", ",", "\<\"E44\"\>", 
     ",", "\<\"E45\"\>", ",", "\<\"E46\"\>", ",", "\<\"E51\"\>", 
     ",", "\<\"E52\"\>", ",", "\<\"E53\"\>", ",", "\<\"E54\"\>", 
     ",", "\<\"E55\"\>", ",", "\<\"E56\"\>", ",", "\<\"E61\"\>", 
     ",", "\<\"E62\"\>", ",", "\<\"E63\"\>", ",", "\<\"E64\"\>", 
     ",", "\<\"E65\"\>", ",", "\<\"E66\"\>", ",", "\<\"COMMENT\"\>", 
     ",", "\<\"ORIGIN\"\>", ",", "\<\"DATE\"\>", ",", "\<\"TIME\"\>"}], 
    "}"}]}],
  SequenceForm[
  "Variables (re-)assigned: ", {
   "TYPE", "X", "PX", "Y", "PY", "ET", "EY", "EX", "E11", "E12", "E13", "E14",
     "E15", "E16", "E21", "E22", "E23", "E24", "E25", "E26", "E31", "E32", 
    "E33", "E34", "E35", "E36", "E41", "E42", "E43", "E44", "E45", "E46", 
    "E51", "E52", "E53", "E54", "E55", "E56", "E61", "E62", "E63", "E64", 
    "E65", "E66", "COMMENT", "ORIGIN", "DATE", "TIME"}],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Variables (re-)assigned: \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{"\<\"TURNS\"\>", ",", "\<\"PARTICLE\"\>", ",", "\<\"X\"\>", 
     ",", "\<\"PX\"\>", ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"T\"\>",
      ",", "\<\"DELTAP\"\>"}], "}"}]}],
  SequenceForm[
  "Variables (re-)assigned: ", {
   "TURNS", "PARTICLE", "X", "PX", "Y", "PY", "T", "DELTAP"}],
  Editable->False]], "Print"]
}, Open  ]]
}, Open  ]],

Cell["which is equivalent to", "Text"],

Cell[BoxData[
 RowBox[{"mfsInterpret", "[", 
  RowBox[{"tfsRead", "[", "sampleFile", "]"}], "]"}]], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["More general usage of the package", "Subsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "The ",
 ButtonBox["section on interpreting mfs objects",
  BaseStyle->"Hyperlink",
  ButtonData:>"mfsInterpret"],
 " provided a simple way to get hold of and calculate with the data inside \
mfs objects or TFS files which many users will find adequate for many \
purposes.  Sometimes more general mechanisms are necessary to allow more \
elaborate programming.  These are explained in this section."
}], "Text"],

Cell[CellGroupData[{

Cell["Extracting header information from an mfs object", "Subsubsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "In this example, the TFS file contained a TRACK table from MAD.  The header \
block of the file contains various descriptors that are converted into ",
 StyleBox["keys",
  FontSlant->"Italic"],
 " and associated ",
 StyleBox["values",
  FontSlant->"Italic"],
 " in the mfs data object. To find out what they are we can evaluate"
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsKeyNames", "[", "qpmfs", "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"TYPE\"\>", ",", "\<\"X\"\>", ",", "\<\"PX\"\>", 
   ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"ET\"\>", ",", "\<\"EY\"\>", 
   ",", "\<\"EX\"\>", ",", "\<\"E11\"\>", ",", "\<\"E12\"\>", 
   ",", "\<\"E13\"\>", ",", "\<\"E14\"\>", ",", "\<\"E15\"\>", 
   ",", "\<\"E16\"\>", ",", "\<\"E21\"\>", ",", "\<\"E22\"\>", 
   ",", "\<\"E23\"\>", ",", "\<\"E24\"\>", ",", "\<\"E25\"\>", 
   ",", "\<\"E26\"\>", ",", "\<\"E31\"\>", ",", "\<\"E32\"\>", 
   ",", "\<\"E33\"\>", ",", "\<\"E34\"\>", ",", "\<\"E35\"\>", 
   ",", "\<\"E36\"\>", ",", "\<\"E41\"\>", ",", "\<\"E42\"\>", 
   ",", "\<\"E43\"\>", ",", "\<\"E44\"\>", ",", "\<\"E45\"\>", 
   ",", "\<\"E46\"\>", ",", "\<\"E51\"\>", ",", "\<\"E52\"\>", 
   ",", "\<\"E53\"\>", ",", "\<\"E54\"\>", ",", "\<\"E55\"\>", 
   ",", "\<\"E56\"\>", ",", "\<\"E61\"\>", ",", "\<\"E62\"\>", 
   ",", "\<\"E63\"\>", ",", "\<\"E64\"\>", ",", "\<\"E65\"\>", 
   ",", "\<\"E66\"\>", ",", "\<\"COMMENT\"\>", ",", "\<\"ORIGIN\"\>", 
   ",", "\<\"DATE\"\>", ",", "\<\"TIME\"\>"}], "}"}]], "Output"]
}, Open  ]],

Cell[TextData[{
 " The function ",
 StyleBox["mfsKeyValue", "Input"],
 " can be used to extract the values corresponding to the keys:"
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"\[Epsilon]", " ", "=", " ", 
  RowBox[{"mfsKeyValue", "[", 
   RowBox[{"qpmfs", ",", "\"\<EX\>\""}], "]"}]}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["2.98256612951`*^-8"], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsKeyValue", "[", 
  RowBox[{"qpmfs", ",", "\"\<ORIGIN\>\""}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"MAD 8.21/11 RS6000 - AIX\"\>"], "Output"]
}, Open  ]],

Cell[TextData[{
 "If a ",
 "key",
 " does not exist, an error message will be given and a ",
 StyleBox["Null", "Input"],
 " value returned."
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsKeyValue", "[", 
  RowBox[{"qpmfs", ",", "\"\<QX\>\""}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsKeyValue", "::", "\<\"notfound\"\>"}], ":", 
  " ", "\<\"Descriptor \\!\\(\\\"QX\\\"\\) not found.\"\>"}]], "Message"]
}, Open  ]],

Cell["\<\
Lists can be extracted with one call, e.g,  to get four components of the \
closed orbit\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsKeyValue", "[", 
  RowBox[{"qpmfs", ",", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X\>\"", ",", "\"\<PX\>\"", ",", "\"\<Y\>\"", ",", "\"\<PY\>\""}], 
    "}"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"-", "0.00038835361175100004`"}], ",", 
   RowBox[{"-", "0.0000167029349567`"}], ",", 
   RowBox[{"-", "0.00038184396626099996`"}], ",", 
   RowBox[{"-", "2.9493485039200003`*^-6"}]}], "}"}]], "Output"]
}, Open  ]],

Cell[TextData[{
 "Of course, lists can be used in many ways in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 "."
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ArcTan", " ", "@@", " ", 
  RowBox[{"mfsKeyValue", "[", 
   RowBox[{"qpmfs", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<X\>\"", ",", "\"\<PX\>\""}], "}"}]}], "]"}]}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"-", "3.098609540537677`"}]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Extracting column information from an mfs object", "Subsubsection",
 CellTags->"Examples section"],

Cell["\<\
The body of the original TFS file contained columns of data.  To find out \
what these are we use:\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsColumnNames", "[", "qpmfs", "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"TURNS\"\>", ",", "\<\"PARTICLE\"\>", ",", "\<\"X\"\>", 
   ",", "\<\"PX\"\>", ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"T\"\>", 
   ",", "\<\"DELTAP\"\>"}], "}"}]], "Output"]
}, Open  ]],

Cell[TextData[{
 "To extract columns of data we can use the function ",
 StyleBox["mfsColumn", "Input"]
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "mfsColumn"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"mfsColumn[mfsdata,colname] returns the column of data \
labelled by the string colname in an mfs (or related) data object. A list of \
colnames may also be given to return a set of columns.  If colname is absent \
the entire block of columns is returned.\"\>"], "Print"]
}, Open  ]],

Cell[TextData[{
 "Thus, for example, we can get a list of all the values of the momentum PY.  \
Since this is long, we abbreviate the printing with the function ",
 StyleBox["Short:", "Input"]
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", "   ", 
  RowBox[{
   RowBox[{"mfsColumn", "[", 
    RowBox[{"qpmfs", ",", "\"\<PY\>\""}], "]"}], "   ", ",", "8"}], 
  "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{
   "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", 
    "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", 
    "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.0000217497`", ",", 
    "0.000021465200000000002`", ",", "0.0000208008`", ",", 
    RowBox[{"\[LeftSkeleton]", "343", "\[RightSkeleton]"}], ",", 
    RowBox[{"-", "0.0000133607`"}], ",", 
    RowBox[{"-", "0.0000464832`"}], ",", 
    RowBox[{"-", "0.0000369869`"}], ",", "0.0000155165`", ",", "0.000038503`",
     ",", "0.000016930000000000002`", ",", 
    RowBox[{"-", "0.00001942`"}], ",", 
    RowBox[{"-", "0.0000366784`"}], ",", 
    RowBox[{"-", "0.0000171618`"}], ",", "0.0000266039`", ",", 
    "0.0000343572`", ",", 
    RowBox[{"-", "3.5169299999999997`*^-6"}], ",", 
    RowBox[{"-", "0.000032780599999999996`"}], ",", 
    RowBox[{"-", "0.0000123483`"}], ",", "0.000017505000000000003`", ",", 
    "0.0000320125`", ",", "0.0000178347`", ",", 
    RowBox[{"-", "0.000021440400000000002`"}]}], "}"}],
  Short[#, 8]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "Multiple columns can also be returned.  Using ",
 StyleBox["Transpose", "Input"],
 ", these can be transformed into lists of coordinate vectors.  Here are the \
coordinate pairs in the horizontal phase plane (abbreviated again)"
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", " ", 
  RowBox[{
   RowBox[{"xpx", " ", "=", 
    RowBox[{"Transpose", "[", 
     RowBox[{"mfsColumn", "[", 
      RowBox[{"qpmfs", ",", 
       RowBox[{"{", 
        RowBox[{"\"\<X\>\"", ",", "\"\<PX\>\""}], "}"}]}], "]"}], "]"}]}], 
   " ", ",", "10"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"0.`", ",", "0.0005`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.`", ",", "0.0005`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.`", ",", "0.0005`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.`", ",", "0.0005`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.`", ",", "0.0005`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.`", ",", "0.0005`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.`", ",", "0.0005`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.`", ",", "0.0005`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.`", ",", "0.0005`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.`", ",", "0.0005`"}], "}"}], ",", 
    RowBox[{"\[LeftSkeleton]", "360", "\[RightSkeleton]"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.000741994`"}], ",", "0.000165904`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.004411109999999999`", ",", 
      RowBox[{"-", "6.7802200000000005`*^-6"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.0017510700000000002`"}], ",", 
      RowBox[{"-", "0.00014994299999999998`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.0031952599999999997`"}], ",", "0.000113019`"}], "}"}], 
    ",", 
    RowBox[{"{", 
     RowBox[{"0.00398775`", ",", "0.0000855205`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.000672365`", ",", 
      RowBox[{"-", "0.000142523`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.00427998`"}], ",", "0.0000203029`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.0020450299999999998`", ",", "0.00015557899999999998`"}], 
     "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"0.00341965`", ",", 
      RowBox[{"-", "0.000114564`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"-", "0.0039068`"}], ",", 
      RowBox[{"-", "0.0000886172`"}]}], "}"}]}], "}"}],
  Short[#, 10]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "which is just what is needed for the standard ",
 StyleBox["ListPlot", "Input"],
 " function.  Note that this example mixes the trajectories of all the  \
particles in the file (the ",
 ButtonBox["TrackTable",
  BaseStyle->"Hyperlink",
  ButtonData:>{
    URL["http://wwwslap.cern.ch/~jowett/Madtomma/Mfs/TrackTable.html"], None}],
 " package deals with this in a better way)"
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ListPlot", "[", "xpx", "]"}]], "Input",
 CellTags->"Examples section"],

Cell[GraphicsData["PostScript", "\<\
%!
%%Creator: Mathematica
%%AspectRatio: .61803 
MathPictureStart
/Mabs {
Mgmatrix idtransform
Mtmatrix dtransform
} bind def
/Mabsadd { Mabs
3 -1 roll add
3 1 roll add
exch } bind def
%% Graphics
%%IncludeResource: font Courier
%%IncludeFont: Courier
/Courier findfont 10  scalefont  setfont
% Scaling calculations
0.529463 25.6591 0.342027 367.52 [
[.01628 .32953 -15 -9 ]
[.01628 .32953 15 0 ]
[.14458 .32953 -18 -9 ]
[.14458 .32953 18 0 ]
[.27287 .32953 -15 -9 ]
[.27287 .32953 15 0 ]
[.40117 .32953 -18 -9 ]
[.40117 .32953 18 0 ]
[.65776 .32953 -15 -9 ]
[.65776 .32953 15 0 ]
[.78605 .32953 -12 -9 ]
[.78605 .32953 12 0 ]
[.91435 .32953 -15 -9 ]
[.91435 .32953 15 0 ]
[.51696 .06639 -48 -4.5 ]
[.51696 .06639 0 4.5 ]
[.51696 .15827 -42 -4.5 ]
[.51696 .15827 0 4.5 ]
[.51696 .25015 -48 -4.5 ]
[.51696 .25015 0 4.5 ]
[.51696 .43391 -42 -4.5 ]
[.51696 .43391 0 4.5 ]
[.51696 .52579 -36 -4.5 ]
[.51696 .52579 0 4.5 ]
[.51696 .61767 -42 -4.5 ]
[.51696 .61767 0 4.5 ]
[ 0 0 0 0 ]
[ 1 .61803 0 0 ]
] MathScale
% Start of Graphics
1 setlinecap
1 setlinejoin
newpath
0 g
.25 Mabswid
[ ] 0 setdash
.01628 .34203 m
.01628 .34828 L
s
[(-0.02)] .01628 .32953 0 1 Mshowa
.14458 .34203 m
.14458 .34828 L
s
[(-0.015)] .14458 .32953 0 1 Mshowa
.27287 .34203 m
.27287 .34828 L
s
[(-0.01)] .27287 .32953 0 1 Mshowa
.40117 .34203 m
.40117 .34828 L
s
[(-0.005)] .40117 .32953 0 1 Mshowa
.65776 .34203 m
.65776 .34828 L
s
[(0.005)] .65776 .32953 0 1 Mshowa
.78605 .34203 m
.78605 .34828 L
s
[(0.01)] .78605 .32953 0 1 Mshowa
.91435 .34203 m
.91435 .34828 L
s
[(0.015)] .91435 .32953 0 1 Mshowa
.125 Mabswid
.04194 .34203 m
.04194 .34578 L
s
.0676 .34203 m
.0676 .34578 L
s
.09326 .34203 m
.09326 .34578 L
s
.11892 .34203 m
.11892 .34578 L
s
.17024 .34203 m
.17024 .34578 L
s
.19589 .34203 m
.19589 .34578 L
s
.22155 .34203 m
.22155 .34578 L
s
.24721 .34203 m
.24721 .34578 L
s
.29853 .34203 m
.29853 .34578 L
s
.32419 .34203 m
.32419 .34578 L
s
.34985 .34203 m
.34985 .34578 L
s
.37551 .34203 m
.37551 .34578 L
s
.42683 .34203 m
.42683 .34578 L
s
.45249 .34203 m
.45249 .34578 L
s
.47814 .34203 m
.47814 .34578 L
s
.5038 .34203 m
.5038 .34578 L
s
.55512 .34203 m
.55512 .34578 L
s
.58078 .34203 m
.58078 .34578 L
s
.60644 .34203 m
.60644 .34578 L
s
.6321 .34203 m
.6321 .34578 L
s
.68342 .34203 m
.68342 .34578 L
s
.70908 .34203 m
.70908 .34578 L
s
.73474 .34203 m
.73474 .34578 L
s
.76039 .34203 m
.76039 .34578 L
s
.81171 .34203 m
.81171 .34578 L
s
.83737 .34203 m
.83737 .34578 L
s
.86303 .34203 m
.86303 .34578 L
s
.88869 .34203 m
.88869 .34578 L
s
.94001 .34203 m
.94001 .34578 L
s
.96567 .34203 m
.96567 .34578 L
s
.99133 .34203 m
.99133 .34578 L
s
.25 Mabswid
0 .34203 m
1 .34203 L
s
.52946 .06639 m
.53571 .06639 L
s
[(-0.00075)] .51696 .06639 1 0 Mshowa
.52946 .15827 m
.53571 .15827 L
s
[(-0.0005)] .51696 .15827 1 0 Mshowa
.52946 .25015 m
.53571 .25015 L
s
[(-0.00025)] .51696 .25015 1 0 Mshowa
.52946 .43391 m
.53571 .43391 L
s
[(0.00025)] .51696 .43391 1 0 Mshowa
.52946 .52579 m
.53571 .52579 L
s
[(0.0005)] .51696 .52579 1 0 Mshowa
.52946 .61767 m
.53571 .61767 L
s
[(0.00075)] .51696 .61767 1 0 Mshowa
.125 Mabswid
.52946 .08476 m
.53321 .08476 L
s
.52946 .10314 m
.53321 .10314 L
s
.52946 .12152 m
.53321 .12152 L
s
.52946 .13989 m
.53321 .13989 L
s
.52946 .17664 m
.53321 .17664 L
s
.52946 .19502 m
.53321 .19502 L
s
.52946 .2134 m
.53321 .2134 L
s
.52946 .23177 m
.53321 .23177 L
s
.52946 .26852 m
.53321 .26852 L
s
.52946 .2869 m
.53321 .2869 L
s
.52946 .30528 m
.53321 .30528 L
s
.52946 .32365 m
.53321 .32365 L
s
.52946 .3604 m
.53321 .3604 L
s
.52946 .37878 m
.53321 .37878 L
s
.52946 .39716 m
.53321 .39716 L
s
.52946 .41553 m
.53321 .41553 L
s
.52946 .45228 m
.53321 .45228 L
s
.52946 .47066 m
.53321 .47066 L
s
.52946 .48904 m
.53321 .48904 L
s
.52946 .50741 m
.53321 .50741 L
s
.52946 .54416 m
.53321 .54416 L
s
.52946 .56254 m
.53321 .56254 L
s
.52946 .58092 m
.53321 .58092 L
s
.52946 .59929 m
.53321 .59929 L
s
.52946 .04801 m
.53321 .04801 L
s
.52946 .02963 m
.53321 .02963 L
s
.52946 .01126 m
.53321 .01126 L
s
.25 Mabswid
.52946 0 m
.52946 .61803 L
s
0 0 m
1 0 L
1 .61803 L
0 .61803 L
closepath
clip
newpath
.008 w
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.52946 .52579 Mdot
.65892 .18643 Mdot
.65945 .18892 Mdot
.65041 .18704 Mdot
.66851 .18846 Mdot
.6511 .18553 Mdot
.66523 .188 Mdot
.66023 .18637 Mdot
.653 .18628 Mdot
.66051 .19104 Mdot
.65717 .18848 Mdot
.64864 .18468 Mdot
.64694 .18356 Mdot
.66564 .19103 Mdot
.66122 .19257 Mdot
.64944 .18434 Mdot
.64416 .18342 Mdot
.3383 .52517 Mdot
.32975 .51363 Mdot
.33338 .51058 Mdot
.33886 .52182 Mdot
.33579 .5259 Mdot
.33562 .5275 Mdot
.33885 .52189 Mdot
.334 .51748 Mdot
.32048 .49586 Mdot
.33239 .51775 Mdot
.33547 .52466 Mdot
.34293 .52128 Mdot
.33186 .51982 Mdot
.32304 .50171 Mdot
.34114 .52594 Mdot
.34868 .53662 Mdot
.83742 .26041 Mdot
.86414 .28233 Mdot
.84681 .27399 Mdot
.85186 .27239 Mdot
.84033 .26799 Mdot
.83833 .25779 Mdot
.83289 .26058 Mdot
.85251 .26877 Mdot
.86462 .28455 Mdot
.84733 .25759 Mdot
.84753 .26416 Mdot
.83648 .26833 Mdot
.84106 .26301 Mdot
.86675 .28958 Mdot
.83172 .25472 Mdot
.80844 .24367 Mdot
.24429 .3897 Mdot
.24643 .33604 Mdot
.24067 .36083 Mdot
.24734 .355 Mdot
.25005 .36375 Mdot
.26171 .39653 Mdot
.25448 .38491 Mdot
.25269 .36838 Mdot
.2497 .32575 Mdot
.24888 .4066 Mdot
.25501 .39741 Mdot
.25191 .36057 Mdot
.24485 .38885 Mdot
.24629 .32548 Mdot
.25574 .41153 Mdot
.2609 .44051 Mdot
.86862 .37944 Mdot
.79158 .42781 Mdot
.84814 .39984 Mdot
.81913 .41125 Mdot
.82586 .4089 Mdot
.8655 .37696 Mdot
.84345 .39162 Mdot
.83787 .39823 Mdot
.78039 .44003 Mdot
.88896 .36265 Mdot
.86978 .37508 Mdot
.82164 .41128 Mdot
.88063 .37153 Mdot
.78497 .43517 Mdot
.87218 .36148 Mdot
.90127 .32491 Mdot
.30375 .21901 Mdot
.45825 .19102 Mdot
.33737 .21683 Mdot
.40715 .20139 Mdot
.40372 .1821 Mdot
.34898 .19285 Mdot
.34887 .21129 Mdot
.37922 .19847 Mdot
.45051 .1968 Mdot
.29444 .21812 Mdot
.33727 .2075 Mdot
.39241 .20753 Mdot
.29515 .2144 Mdot
.44227 .20192 Mdot
.30208 .24038 Mdot
.23327 .28322 Mdot
.58133 .50321 Mdot
.42162 .48823 Mdot
.54815 .50044 Mdot
.47577 .48824 Mdot
.44708 .50923 Mdot
.48289 .50691 Mdot
.52146 .49531 Mdot
.50058 .49891 Mdot
.45875 .48682 Mdot
.58248 .51049 Mdot
.51113 .50425 Mdot
.49767 .4913 Mdot
.56494 .51098 Mdot
.49087 .49632 Mdot
.59369 .49407 Mdot
.72119 .47327 Mdot
.6691 .20457 Mdot
.76805 .23289 Mdot
.70022 .21729 Mdot
.73101 .19997 Mdot
.78037 .23551 Mdot
.78146 .25299 Mdot
.72163 .22434 Mdot
.72095 .19989 Mdot
.74908 .21629 Mdot
.66351 .19763 Mdot
.7331 .22094 Mdot
.7296 .21082 Mdot
.69276 .20723 Mdot
.71858 .19552 Mdot
.66908 .20868 Mdot
.54403 .1917 Mdot
.28412 .4553 Mdot
.1767 .44319 Mdot
.27533 .4396 Mdot
.35254 .47264 Mdot
.1879 .44438 Mdot
.22127 .38416 Mdot
.24114 .43241 Mdot
.3379 .47297 Mdot
.26246 .44713 Mdot
.28724 .46582 Mdot
.2219 .44298 Mdot
.28496 .4551 Mdot
.27733 .45058 Mdot
.3845 .49404 Mdot
.30071 .44875 Mdot
.3859 .4807 Mdot
.82661 .25331 Mdot
.5724 .03717 Mdot
.85494 .29931 Mdot
.79853 .22645 Mdot
.52712 .02159 Mdot
.86272 .37366 Mdot
.8513 .27341 Mdot
.76577 .17531 Mdot
.87079 .28251 Mdot
.81852 .23302 Mdot
.73117 .12194 Mdot
.84046 .2618 Mdot
.85388 .29038 Mdot
.80765 .24751 Mdot
.83867 .29085 Mdot
.78718 .23145 Mdot
.18431 .41148 Mdot
.22296 .32522 Mdot
.26344 .43758 Mdot
.02381 .52508 Mdot
.21418 .36019 Mdot
.44604 .56635 Mdot
.25391 .31885 Mdot
.15843 .46176 Mdot
.24986 .36405 Mdot
.14375 .41297 Mdot
.25528 .3898 Mdot
.24144 .31675 Mdot
.22258 .41805 Mdot
.88627 .26726 Mdot
.78191 .4301 Mdot
.90635 .32493 Mdot
.85622 .3908 Mdot
.68493 .17462 Mdot
.73413 .44452 Mdot
.82176 .40343 Mdot
.52064 .01472 Mdot
.8789 .36872 Mdot
.75114 .4396 Mdot
.90678 .324 Mdot
.21784 .37487 Mdot
.43359 .18444 Mdot
.26903 .24064 Mdot
.31204 .19676 Mdot
.58156 .18612 Mdot
.40541 .17513 Mdot
.30931 .18368 Mdot
.47674 .18504 Mdot
.23974 .27019 Mdot
.90788 .36726 Mdot
.41992 .4905 Mdot
.65155 .48566 Mdot
.56048 .51467 Mdot
.30968 .38071 Mdot
.42613 .50384 Mdot
.52175 .52456 Mdot
.38161 .4766 Mdot
.71626 .46863 Mdot
.28051 .18892 Mdot
.79002 .27279 Mdot
.59836 .1948 Mdot
.6513 .19309 Mdot
.80103 .28268 Mdot
.75042 .21964 Mdot
.82673 .30705 Mdot
.52031 .17759 Mdot
.53876 .53119 Mdot
.24654 .34098 Mdot
.31986 .46405 Mdot
.3069 .47816 Mdot
.24657 .32845 Mdot
.29399 .27029 Mdot
.37143 .48813 Mdot
.76943 .43277 Mdot
.82029 .26253 Mdot
.83627 .25471 Mdot
.7556 .44486 Mdot
.61466 .4722 Mdot
.80018 .25512 Mdot
.45599 .19848 Mdot
.14136 .44428 Mdot
.21284 .39487 Mdot
.45089 .23373 Mdot
.65986 .22807 Mdot
.19222 .4093 Mdot
.41054 .48424 Mdot
.89182 .3444 Mdot
.50661 .47471 Mdot
.26474 .41989 Mdot
.85582 .24685 Mdot
.79694 .27838 Mdot
.23051 .28503 Mdot
.73601 .22699 Mdot
.84142 .32916 Mdot
.19363 .4334 Mdot
.24333 .34365 Mdot
.73609 .46507 Mdot
.27037 .41891 Mdot
.25056 .29295 Mdot
.88348 .22721 Mdot
.76355 .42833 Mdot
.48346 .19234 Mdot
.85514 .3591 Mdot
.68925 .46227 Mdot
.3004 .54154 Mdot
.45395 .19367 Mdot
.41227 .48745 Mdot
.35097 .16296 Mdot
.55646 .19152 Mdot
.97619 .27873 Mdot
.42104 .48529 Mdot
.79453 .26228 Mdot
.38725 .49106 Mdot
.3405 .44346 Mdot
.79607 .27225 Mdot
.23304 .36856 Mdot
.8297 .36796 Mdot
.24814 .34122 Mdot
.83602 .39338 Mdot
.42418 .17684 Mdot
.77056 .42637 Mdot
.32619 .22089 Mdot
.38889 .44929 Mdot
.4625 .19614 Mdot
.55165 .49849 Mdot
.79429 .37994 Mdot
.40436 .47854 Mdot
.69632 .21536 Mdot
.54987 .19683 Mdot
.79613 .28528 Mdot
.28409 .43065 Mdot
.35371 .32991 Mdot
.24562 .33652 Mdot
.86773 .34557 Mdot
.5015 .47682 Mdot
.75109 .43405 Mdot
.29845 .22585 Mdot
.46453 .19666 Mdot
.58092 .50005 Mdot
.40303 .47766 Mdot
.66282 .20584 Mdot
.80476 .29969 Mdot
.28293 .44969 Mdot
.29184 .28453 Mdot
.81778 .2545 Mdot
.62752 .46789 Mdot
.16717 .42742 Mdot
.64496 .2272 Mdot
.73297 .11059 Mdot
.28859 .4061 Mdot
.75523 .60332 Mdot
.79816 .37838 Mdot
.38627 .22355 Mdot
.47192 .47875 Mdot
.76182 .27873 Mdot
.30166 .30623 Mdot
.63607 .45418 Mdot
.63274 .23556 Mdot
.30193 .39031 Mdot
.76229 .39604 Mdot
.46007 .22058 Mdot
.39975 .45081 Mdot
.78299 .32566 Mdot
.34896 .25648 Mdot
.51368 .46201 Mdot
.72357 .2839 Mdot
.32346 .30527 Mdot
.60434 .44982 Mdot
.66314 .25621 Mdot
.31576 .35319 Mdot
.67034 .42712 Mdot
.59227 .24114 Mdot
.33721 .37323 Mdot
.69428 .41504 Mdot
.56579 .23639 Mdot
.33598 .38899 Mdot
.71652 .40153 Mdot
.52701 .24557 Mdot
.36465 .40283 Mdot
.71259 .384 Mdot
.50654 .23966 Mdot
.38217 .39502 Mdot
.68959 .38959 Mdot
.54987 .24764 Mdot
.36226 .37386 Mdot
.66609 .40932 Mdot
.5863 .25994 Mdot
.34511 .36531 Mdot
.65796 .41294 Mdot
.58824 .25768 Mdot
.36162 .35569 Mdot
.6254 .41775 Mdot
.61904 .26965 Mdot
.37809 .3257 Mdot
.56939 .42322 Mdot
.66007 .29524 Mdot
.38125 .30521 Mdot
.5259 .42339 Mdot
.68385 .31449 Mdot
.40359 .29263 Mdot
.48942 .42278 Mdot
.68128 .33632 Mdot
.46684 .26964 Mdot
.43794 .3869 Mdot
.64163 .37737 Mdot
.55097 .28208 Mdot
.40854 .3489 Mdot
.5837 .40166 Mdot
.62506 .30519 Mdot
.42068 .30742 Mdot
.51042 .403 Mdot
.64265 .33954 Mdot
.48453 .28692 Mdot
.44748 .38356 Mdot
.63179 .37346 Mdot
.54672 .28965 Mdot
.41964 .34949 Mdot
.58194 .39921 Mdot
.61721 .29992 Mdot
.42922 .30946 Mdot
% End of Graphics
MathPictureEnd
\
\>"], "Graphics",
 ImageSize->{288, 177.938},
 ImageMargins->{{35, 0}, {0, 0}},
 ImageRegion->{{0, 1}, {0, 1}},
 ImageCache->GraphicsData["CompressedBitmap", "\<\
eJzlWntvFUUUn+7eV+9taekLi9De0kKhKCihjZQ2olQqStVAFY0g1oqA0VBK
lWBMNpVo9CMY/RJ8I7/JdWf27tzfnJmzd3fvkpj4R2/PzuN3zpw5r5ndja29
+3e/39p7sL3VXN/d2rn/YPtx88rD3bDJ7xOirymEeD4sQvpn4f8jpv8OWsIX
ImiF//fDP5Gj4U9o8IT4JW4rtdvEM/nzV9DybNKFHmNgXz/QP2TqZBfhYuMe
/EgNLjG/ZVy+1aIAdlAbNXzw2IcQXJSjB/moOoFNMQxikJIJHpIK9tugVSKz
UoKXOw/FqcR48BnxYcfq1l75akG+WqE1qTcjKc7mFoG+mqkT2Cz1DFKkcp4k
epDtR2rSj72aiLXDeRCJe4Nr6GY/t5v47pUjeH8+WN43njC+UXJ7xU/QMA30
SaBHgb5EJ2GwOoTtQpxKwnhqatjAMFPLHYYD6hVzxADQDaCHlAYUs7BBfCH/
32TwprNjV4W4TSGHgT6stqECLfWAzwHhQittwC+huQr0ZNAqmzsa7XqUpfQ6
60R8pdywXxyAjg3KaAjogzEtZRSdR7L7DWb6QCyVGZR2GdVXiVbQco4BPYiG
8r78uUdWiii4ieMmItmVzRhKg+PCZhPn4va8J6d+ztjOWTV1jlFBJQkGV3IO
6NMKchBa1oypIhJVr2qGsdNXGEE8inzLWj4yH2HgzwVMCI8xndt0HOijZGuH
Hc8uDOnT7bw2RaaMJazZmSqGKO5v0IAWW2UmSTuqxMhBO/bHna/Lhk1GphOM
SZVScMW5K0lMFhlgjBkXgD4fdC2kdXGG7U6rRmCMXvNBD5Ul5hqSoFGOd4rm
jbnNLjYuE2NDuhIHavl7JuipYCcnAFKVcH47lVY67DwV2PXTizkLcGJjZKuZ
SX+hY6fOEslZKCGfJSKLPgVZXLBK3rDUH40Vpt+rSHINGtC/XzXdMMTAYkhH
bSE6ZYDTtbMw0fQEw2pQsbLWuwo0xqKGGj5DJFM5Lm74kFiOS7KqSXsQ80OZ
jlD4q2oIxkHMm/UUDA/GTMKG421Ip54IsGca79umYbrTjIzRhhbmgW6SWYyB
5UDDTblN9xPTKEZqTMsNwkSu0JkCGq72cly3DjC9DW3UuoC1fRcz71jkZ6XI
Jxlnt7lpJw55VgNw8GSZjcGOMIdaco9KuhGq0Vl6r8HAIs83q4qKOVZFfQEM
NOiIWsiYObxKV+F+qCeuCWXLvvL+ZNWid6UQIzATSCq1upA5lWJSxTJ0NNE2
nBWmJVsOpbrWrBSqs4+XVE7gtG6XIM4CI/WMUpbCxrdcPaV6o4nJHpjNmFK7
fxZfCVrUAxzZPKPQbD2FdVN6NWZUU/ZFNwKdQOpWuCaVmw+n+8ik+2HAIDMF
Fz7GjGlY7RyaknedcTlMrfNq0hq0TKmWl5MADjPtmMvxJIEF64EO/AcM5Bmg
bwB9Wk7aUPM3GK433UOwBKvR4aH2wt9DMvxgTcYFrKJo37quKGdHIwenXuQp
Cue/wLdP7ituZpOhZ6xgdsTs7VqbTlBLxjyLtekgw2Q/LQBehOGlripu8Z4A
zoHqZBWu8FPolqvF8qaZOH8SOl4D+hZBQfXLOcYhiruUR8CPgMYzUDkt8DhZ
AoYNBIjp80BDClP6khe74goMmEoJrvW2ouIwytekmHiIXVZsj5rb6sV1sDrj
rRN5YxrPy3gdjMXzWbOd1CuzFN64ItFnyHCXJxhMeaJTEVfPGmCkxUCPaPhy
5iQCqfubtcC5VzwbtKATDBt8caDTL6n35yl3TO1Nk4kn6J26DR9EftyxdhEl
Q5espAAhF/RSkdwpRekMY0qNkYVjh+s4Frh3r0QZvskAIPNLjLHivkjFqTtn
BNA7juERrz2axGj8CMMCcu1+dCPzEmNLVZOLF7mE4TBRhYctGOZQ5E331BWT
X1TU6Rb5Jlm8AQ1LGa+2EWzSlJKUEBcoK4xJ46jjXi+70X7mLJnwGuEitS5c
Dn2TVuyF+DJxEPS41SSxfDJ4ModoybfkXUVbZkSrFSBaqgtxFAAlV6960C+N
kN5PRI3pUXNCpitzfH/ESWtJhYKMMAD0Vsyl7zkGp8lgyqOTuB7+VDubFNAa
yzD1WSulfyebPwEfmoZOrF8xon8tR2Kp+FbSQNTpAtB450yTUkx/TAHoHXw3
MIzVeOGNen9XMvkMGi4xAFg5+hTgHvGWBXNwqHecroOriBKw+qwDF4ZQVYYv
5osyAKIPYXWHBcQ1ynTEeqfohCe0OpXsQYNxKMCcgIZ1R3buEJdwOjZXbCSi
samEQ0alRiFDfUH2FTQPqWZ0XXx3UwEaC4aHDhjDU+w7VP2CgH5Q8kj+brts
KNq9pHyAFvQ4CQdPnyTLabpBwb6BBjyyIte61h+uSX0Xe1d/2+AyWlSMTzlH
UxcZoZ+2h5RE+zqJK4TsGxJl1+gA1xWM8fFOnhTowWqeUR43VD7Kw6Pc0asC
99vfA+LO5MElXwIKx2eGhX0J6AKv8/mbZG41FT/DWe3S6b2Yb2h/Zcx4v2tn
wR+35oa7CPTlrp3/26/Q88DS78//yAvEetPvnT1J/s5cDQxnzOB/0fcvUx7Z
8Q==\
\>"],
 ImageRangeCache->{{{0, 287}, {176.938, 0}} -> {-0.0221145, -0.000938766, \
0.00014095, 9.8407}}],

Cell[BoxData[
 TagBox[
  RowBox[{"\[SkeletonIndicator]", "Graphics", "\[SkeletonIndicator]"}],
  False,
  Editable->False]], "Output"]
}, Open  ]],

Cell[TextData[{
 "Non-existent columns return ",
 StyleBox["Null", "Input"]
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsColumn", "[", 
  RowBox[{"qpmfs", ",", "\"\<PXN\>\""}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsColumn", "::", "\<\"notfound\"\>"}], ":", 
  " ", "\<\"Column \\!\\(\\\"PXN\\\"\\) not found.\"\>"}]], "Message"]
}, Open  ]],

Cell[TextData[{
 "Finally, calling ",
 StyleBox["mfsColumn", "Input"],
 " with only one argument returns a list containing all the columns (the \
entire \"body\" of the original data file)."
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", 
  RowBox[{
   RowBox[{"mfsColumn", "[", "qpmfs", "]"}], ",", "10"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "0", ",", "1", ",", "0.`", ",", "0.0005`", ",", "0.`", ",", "0.`", ",", 
      "0.`", ",", "0.`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
     "0", ",", "2", ",", "0.`", ",", "0.0005`", ",", "0.`", ",", "0.`", ",", 
      "0.`", ",", "0.`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
     "0", ",", "3", ",", "0.`", ",", "0.0005`", ",", "0.`", ",", "0.`", ",", 
      "0.`", ",", "0.`"}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{
     "0", ",", "4", ",", "0.`", ",", "0.0005`", ",", "0.`", ",", "0.`", ",", 
      "0.`", ",", "0.`"}], "}"}], ",", 
    RowBox[{"\[LeftSkeleton]", "373", "\[RightSkeleton]"}], ",", 
    RowBox[{"{", 
     RowBox[{
     "106", ",", "3", ",", "0.0020450299999999998`", ",", 
      "0.00015557899999999998`", ",", "0.00028735100000000003`", ",", 
      "0.0000320125`", ",", 
      RowBox[{"-", "0.00656549`"}], ",", 
      RowBox[{"-", "0.0005080050000000001`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"107", ",", "3", ",", "0.00341965`", ",", 
      RowBox[{"-", "0.000114564`"}], ",", "0.0007300130000000001`", ",", 
      "0.0000178347`", ",", 
      RowBox[{"-", "0.0025276300000000003`"}], ",", 
      RowBox[{"-", "0.00143335`"}]}], "}"}], ",", 
    RowBox[{"{", 
     RowBox[{"108", ",", "3", ",", 
      RowBox[{"-", "0.0039068`"}], ",", 
      RowBox[{"-", "0.0000886172`"}], ",", "0.000805955`", ",", 
      RowBox[{"-", "0.000021440400000000002`"}], ",", "0.00293916`", ",", 
      RowBox[{"-", "0.0015801699999999999`"}]}], "}"}]}], "}"}],
  Short[#, 10]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "The dimensions of this show us that there were 380 \"lines\" containing the \
8 items specified by ",
 StyleBox["mfsColumnNames", "Input"],
 StyleBox["[qpmfs] above.", "Input"]
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Dimensions", "[", 
  RowBox[{"mfsColumn", "[", "qpmfs", "]"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"380", ",", "8"}], "}"}]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Calculations  using column  information from an mfs object", \
"Subsubsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "Suppose that we would like to form the product of all the X and PX values \
in the ",
 StyleBox["mfs", "Input"],
 " object ",
 StyleBox["qpmfs", "Input"],
 "."
}], "Text"],

Cell[TextData[{
 "In the plotting example above, it was necessary to apply ",
 StyleBox["Transpose", "Input"],
 " to the result of ",
 Cell[BoxData[
  RowBox[{"mfsColumn", "[", 
   RowBox[{"qpmfs", ",", 
    RowBox[{"{", 
     RowBox[{"\<\"X\"\>", ",", "\<\"PX\"\>"}], "}"}]}], "]"}]], "Input"],
 " to transform the pair of long lists of X and PX values into a long list of \
pairs ",
 StyleBox["{X,PX} ", "Input"],
 "as required by",
 StyleBox[" ListPlot", "Input"],
 ".  Having done this, it is easy to form, say, the product of all the X and \
PX values by mapping an appropriate pure function over the list.  Here is one \
which forms the product of X and PX"
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xpxprod1", "=", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{
      RowBox[{
       RowBox[{"#1", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
       " ", 
       RowBox[{"#1", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}]}],
       "&"}], ")"}], "/@", "xpx"}]}], ";"}]], "Input"],

Cell["Viewing the result in abbreviated form, ", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", 
  RowBox[{"xpxprod1", ",", "5"}], "]"}]], "Input"],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{
   "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", "0.`", ",", 
    "0.`", ",", "0.`", ",", "0.`", ",", 
    RowBox[{"\[LeftSkeleton]", "363", "\[RightSkeleton]"}], ",", 
    "2.6256068901`*^-7", ",", 
    RowBox[{"-", "3.6112508993999993`*^-7"}], ",", "3.4103437387500003`*^-7", 
    ",", 
    RowBox[{"-", "9.5827476895`*^-8"}], ",", 
    RowBox[{"-", "8.6896005942`*^-8"}], ",", "3.181637223699999`*^-7", ",", 
    RowBox[{"-", "3.917687826`*^-7"}], ",", "3.4620967696`*^-7"}], "}"}],
  Short[#, 5]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "You may find it easier to do this in one step using ",
 StyleBox["MapThread", "Input"],
 "."
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xpxprod2", "=", 
   RowBox[{"MapThread", "[", 
    RowBox[{"Times", ",", 
     RowBox[{"mfsColumn", "[", 
      RowBox[{"qpmfs", ",", 
       RowBox[{"{", 
        RowBox[{"\"\<X\>\"", ",", "\"\<PX\>\""}], "}"}]}], "]"}]}], "]"}]}], 
  ";"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"xpxprod1", "\[Equal]", "xpxprod2"}]], "Input"],

Cell[BoxData["True"], "Output"]
}, Open  ]],

Cell["\<\
If this seems complicated, remember that we are using a simple example to \
illustrate general mechanisms.  The same result could be  achieved with\
\>", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xpxprod3", "=", 
   RowBox[{
    RowBox[{"mfsColumn", "[", 
     RowBox[{"qpmfs", ",", "\"\<X\>\""}], "]"}], "  ", 
    RowBox[{"mfsColumn", "[", 
     RowBox[{"qpmfs", ",", "\"\<PX\>\""}], "]"}]}]}], ";"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"xpxprod3", "\[Equal]", "xpxprod1"}]], "Input"],

Cell[BoxData["True"], "Output"]
}, Open  ]],

Cell[TextData[{
 "Even more simply,  in the ",
 ButtonBox["approach",
  BaseStyle->"Hyperlink",
  ButtonData:>"mfsInterpret"],
 " using ",
 StyleBox["mfsInterpret", "Input"],
 ", the same result could be achieved with "
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"xpxprod4", "=", " ", 
   RowBox[{"X", " ", "PX"}]}], ";"}]], "Input"],

Cell["which is again equivalent", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"xpxprod4", "\[Equal]", "xpxprod1"}]], "Input"],

Cell[BoxData["True"], "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Selection  within  ",
 StyleBox["m", "Input"],
 StyleBox["fs", "Input"],
 " objects"
}], "Subsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "Many of the tables saved by MAD take the form of a list of machine elements \
together with the values of various optical functions (e.g., the OPTICS, \
TWISS3, ENVELOPE tables).   Although MAD itself provides a selection \
mechanism for limiting these tables to certain classes of elements, it is \
often convenient to select further after the optics calculations have been \
done.  You might want to simply tabulate the functions at some known subset \
of the elements originally chosen.  Or, more interestingly, you might want to \
select elements according to the ",
 StyleBox["values of the optical functions",
  FontSlant->"Italic"],
 ".   For example, elements with large \[Beta] functions might be potential  \
aperture limits."
}], "Text",
 CellTags->"Examples section"],

Cell["\<\
In the following we provide a general selection mechanism and some simpler \
ones for common cases.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell["An OPTICS table example", "Subsubsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "Create an ",
 StyleBox["mfs", "Input"],
 " data object from an OPTICS table containing values at the IPs and pickups \
in LEP:"
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"opticsfile", "  ", "=", " ", 
  RowBox[{"ToFileName", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"AfsHomeDirectory", "[", "\"\<jowett\>\"", "]"}], ",", 
      "\"\<public\>\"", ",", "\"\<math\>\"", ",", "\"\<Madtomma\>\"", ",", 
      "\"\<Mfs\>\"", ",", "\"\<Examples\>\""}], "}"}], ",", 
    "\"\<OPTICSdp0000.tfs\>\""}], "]"}]}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"P:\\\\cern.ch\\\\user\\\\j\\\\jowett\\\\public\\\\math\\\\\
Madtomma\\\\Mfs\\\\Examples\\\\OPTICSdp0000.tfs\"\>"], "Output"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OPTICS", "[", "0", "]"}], "=", 
   RowBox[{"tfsRead", "[", 
    RowBox[{"opticsfile", ",", 
     RowBox[{"mfsVerbose", "->", "False"}]}], "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsColumnNames", "[", 
  RowBox[{"OPTICS", "[", "0", "]"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"NAME\"\>", ",", "\<\"BETX\"\>", ",", "\<\"DX\"\>", 
   ",", "\<\"BETY\"\>"}], "}"}]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["General Selection  Method", "Subsubsection",
 CellTags->"Examples section"],

Cell[TextData[{
 StyleBox["mfsSelect", "Input"],
 " is a very general selection function modelled on the standard ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " function ",
 StyleBox["Select ", "Input"],
 "[",
 ButtonBox["1",
  BaseStyle->"Hyperlink",
  ButtonData:>"Wolfram book"],
 "].  To understand how it works, you should first have some understanding of \
",
 StyleBox["Select", "Input"],
 " and the notion of pure functions in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 ".  If you do not, then I recommend that you skip this subsection and look \
at the simpler  selection functions (",
 StyleBox["mfsMember", "Input"],
 ", ",
 StyleBox["mfsRange", "Input"],
 ") below.  They cover many practical cases.  "
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "mfsSelect"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"mfsSelect[mfsdata,criterion] extracts rows satisfying \
criterion (function) from an mfsdata object.\"\>"], "Print"]
}, Open  ]],

Cell[TextData[{
 StyleBox["mfsSelect ", "Input"],
 "is usually used in conjunction with an auxiliary function ",
 StyleBox["mfsColumnValue", "Input"],
 StyleBox[".  ", "Input"],
 "This allows selection from a specified row. To see how it works, we can \
look at the row number 14 in the OPTICS table.  This function can be used to \
extract the value of the column ",
 StyleBox["\"NAME\"", "Input"],
 " for that row."
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"arow", "=", 
  RowBox[{
   RowBox[{"mfsColumn", "[", 
    RowBox[{"OPTICS", "[", "0", "]"}], "]"}], "\[LeftDoubleBracket]", "14", 
   "\[RightDoubleBracket]"}]}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"PU.QL15.R1\"\>", ",", "129.71`", ",", "0.987151`", ",", 
   "21.1482`"}], "}"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsColumnValue", "[", 
  RowBox[{
   RowBox[{"OPTICS", "[", "0", "]"}], ",", "arow", ",", "\"\<NAME\>\""}], 
  "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"PU.QL15.R1\"\>"], "Output"]
}, Open  ]],

Cell[TextData[{
 "Now the ",
 StyleBox["mfsColumnValue", "Input"],
 " function allows a very convenient specification of a selection criterion,  \
. For example, using it to construct an appropriate pure function, you can \
create a ",
 StyleBox["new",
  FontSlant->"Italic"],
 " ",
 StyleBox["mfs", "Input"],
 " data object containing only the elements where ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["\[Beta]", "x"], ">", 
    RowBox[{"250", " ", ":"}]}], TraditionalForm]]]
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"hibetx", "=", 
   RowBox[{"mfsSelect", "[", 
    RowBox[{
     RowBox[{"OPTICS", "[", "0", "]"}], ",", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{"mfsColumnValue", "[", 
         RowBox[{
          RowBox[{"OPTICS", "[", "0", "]"}], ",", "#", ",", "\"\<BETX\>\""}], 
         "]"}], ">", "250."}], ")"}], "&"}]}], "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell[TextData[{
 "Then we can make a table showing the values of both ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["\[Beta]", "x"], TraditionalForm]]],
 " and ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["\[Beta]", "y"], TraditionalForm]]],
 " at these elements:"
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Transpose", "[", 
   RowBox[{"mfsColumn", "[", 
    RowBox[{"hibetx", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<NAME\>\"", ",", "\"\<BETX\>\"", ",", "\"\<BETY\>\""}], 
      "}"}]}], "]"}], "]"}], "//", "TableForm"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[GridBox[{
    {"\<\"PU.QS1A.L2\"\>", "294.131`", "70.5863`"},
    {"\<\"PU.QS1A.R2\"\>", "294.136`", "70.5862`"},
    {"\<\"PU.QS1A.L4\"\>", "321.516`", "74.436`"},
    {"\<\"PU.QS1A.R4\"\>", "321.519`", "74.4358`"},
    {"\<\"PU.QS1A.L6\"\>", "299.147`", "76.797`"},
    {"\<\"PU.QS1A.R6\"\>", "299.145`", "76.7969`"},
    {"\<\"PU.QS1A.L8\"\>", "321.465`", "74.4562`"},
    {"\<\"PU.QS1A.R8\"\>", "321.467`", "74.4614`"}
   },
   GridBoxAlignment->{
    "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
     "RowsIndexed" -> {}},
   GridBoxSpacings->{"Columns" -> {
       Offset[0.27999999999999997`], {
        Offset[2.0999999999999996`]}, 
       Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
       Offset[0.2], {
        Offset[0.4]}, 
       Offset[0.2]}, "RowsIndexed" -> {}}],
  TableForm[#]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "As a further example, we can select all the rows whose name contains the \
string ",
 Cell[BoxData[
  FormBox[
   StyleBox[
    RowBox[{"QL11", "."}], "Input"], TraditionalForm]]],
 "  The similarity to the mechanism used in ",
 StyleBox["Select", "Input"],
 " should now be very obvious."
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"TableForm", "[", 
  RowBox[{"Transpose", "[", 
   RowBox[{"mfsColumn", "[", 
    RowBox[{
     RowBox[{"mfsSelect", "[", 
      RowBox[{
       RowBox[{"OPTICS", "[", "0", "]"}], ",", 
       RowBox[{
        RowBox[{"StringMatchQ", "[", 
         RowBox[{
          RowBox[{"mfsColumnValue", "[", 
           RowBox[{
            RowBox[{"OPTICS", "[", "0", "]"}], ",", "#1", ",", 
            "\"\<NAME\>\""}], "]"}], ",", "\"\<*QL11*\>\""}], "]"}], "&"}]}], 
      "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"\"\<NAME\>\"", ",", "\"\<BETX\>\"", ",", "\"\<DX\>\""}], 
      "}"}]}], "]"}], "]"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[GridBox[{
    {"\<\"PU.QL11.R1\"\>", "146.035`", "7.4742`*^-9"},
    {"\<\"PU.QL11.L3\"\>", "146.041`", 
     RowBox[{"-", "2.42813`*^-7"}]},
    {"\<\"PU.QL11.R3\"\>", "146.041`", "2.34022`*^-7"},
    {"\<\"PU.QL11.L5\"\>", "146.042`", "2.01702`*^-7"},
    {"\<\"PU.QL11.R5\"\>", "146.042`", 
     RowBox[{"-", "1.78043`*^-7"}]},
    {"\<\"PU.QL11.L7\"\>", "146.041`", 
     RowBox[{"-", "1.20652`*^-7"}]},
    {"\<\"PU.QL11.R7\"\>", "146.041`", "8.669080000000001`*^-8"},
    {"\<\"PU.QL11.L1\"\>", "146.036`", "2.46937`*^-8"}
   },
   GridBoxAlignment->{
    "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
     "RowsIndexed" -> {}},
   GridBoxSpacings->{"Columns" -> {
       Offset[0.27999999999999997`], {
        Offset[2.0999999999999996`]}, 
       Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
       Offset[0.2], {
        Offset[0.4]}, 
       Offset[0.2]}, "RowsIndexed" -> {}}],
  TableForm[#]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "Arbitrary logical cominations of criteria can be built up using standard ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " functions and operators.  Here, we select those elements containing ",
 StyleBox["\"QS1\"", "Input"],
 " in their names where ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["\[Beta]", "x"], ">", "320"}], TraditionalForm]]],
 ":"
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsSelect", "[", 
  RowBox[{
   RowBox[{"OPTICS", "[", "0", "]"}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"StringMatchQ", "[", 
      RowBox[{
       RowBox[{"mfsColumnValue", "[", 
        RowBox[{
         RowBox[{"OPTICS", "[", "0", "]"}], ",", "#1", ",", "\"\<NAME\>\""}], 
        "]"}], ",", "\"\<*QS1*\>\""}], "]"}], "&&", 
     RowBox[{
      RowBox[{"mfsColumnValue", "[", 
       RowBox[{
        RowBox[{"OPTICS", "[", "0", "]"}], ",", "#1", ",", "\"\<BETX\>\""}], 
       "]"}], ">", "320."}]}], "&"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfs", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"GAMTR\"\>", ",", "73.4237`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"ALFA\"\>", ",", "0.00018549299999999998`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"XIY\"\>", ",", "0.987098`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"XIX\"\>", ",", "1.00236`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"QY\"\>", ",", "76.1942`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"QX\"\>", ",", "90.2859`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"CIRCUM\"\>", ",", "26658.872082`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"DELTA\"\>", ",", "0.`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"TYPE\"\>", ",", "\<\"OPTICS\"\>"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"COMMENT\"\>", 
       ",", "\<\"N0520P97v2.lep, 90/60 BT optics for 1997 up to 97 GeV\"\>"}],
       "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"ORIGIN\"\>", ",", "\<\"MAD 8.21/13 HP/UX\"\>"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"DATE\"\>", ",", "\<\"12/08/97\"\>"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"TIME\"\>", ",", "\<\"15.04.39\"\>"}], "}"}]}], "}"}], ",", 
   
   RowBox[{"{", 
    RowBox[{"\<\"NAME\"\>", ",", "\<\"BETX\"\>", ",", "\<\"DX\"\>", 
     ",", "\<\"BETY\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"PU.QS1A.L4\"\>", ",", "321.516`", ",", 
       RowBox[{"-", "2.47388`*^-7"}], ",", "74.436`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"PU.QS1A.R4\"\>", ",", "321.519`", ",", "6.39189`*^-8", ",",
        "74.4358`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"PU.QS1A.L8\"\>", ",", "321.465`", ",", 
       RowBox[{"-", "3.40013`*^-7"}], ",", "74.4562`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"PU.QS1A.R8\"\>", ",", "321.467`", ",", "3.03216`*^-7", ",",
        "74.4614`"}], "}"}]}], "}"}]}], "]"}]], "Output"]
}, Open  ]],

Cell[TextData[{
 "If you know the internal structure of the mfs data object, you can refer \
directly to its elements  without using the ",
 StyleBox["mfsColumnValue", "Input"],
 " function directly (but this is not normally recommended). For instance, \
knowing the columns 2 and 2 contain the appropriate quantities you can select \
the rows where ",
 Cell[BoxData[
  FormBox[
   SubscriptBox["\[Beta]", "x"], TraditionalForm]]],
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["D", "x"], ">", "140"}], TraditionalForm]]],
 ":"
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"result", "=", 
   RowBox[{"mfsSelect", "[", 
    RowBox[{
     RowBox[{"OPTICS", "[", "0", "]"}], ",", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"#1", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
        " ", 
        RowBox[{
        "#1", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}]}], ">", 
       "140."}], "&"}]}], "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Transpose", "[", 
   RowBox[{"mfsColumn", "[", 
    RowBox[{"result", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<NAME\>\"", ",", "\"\<BETX\>\"", ",", "\"\<DX\>\""}], 
      "}"}]}], "]"}], "]"}], "//", "TableForm"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[GridBox[{
    {"\<\"PU.QS15.L2\"\>", "149.927`", "0.950618`"},
    {"\<\"PU.QS15.R2\"\>", "149.922`", "0.950618`"}
   },
   GridBoxAlignment->{
    "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
     "RowsIndexed" -> {}},
   GridBoxSpacings->{"Columns" -> {
       Offset[0.27999999999999997`], {
        Offset[2.0999999999999996`]}, 
       Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
       Offset[0.2], {
        Offset[0.4]}, 
       Offset[0.2]}, "RowsIndexed" -> {}}],
  TableForm[#]& ]], "Output"]
}, Open  ]],

Cell["This is equivalent to the selection", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"result1", "=", 
   RowBox[{"mfsSelect", "[", 
    RowBox[{
     RowBox[{"OPTICS", "[", "0", "]"}], ",", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"mfsColumnValue", "[", 
          RowBox[{
           RowBox[{"OPTICS", "[", "0", "]"}], ",", "#", ",", "\"\<BETX\>\""}],
           "]"}], 
         RowBox[{"mfsColumnValue", "[", 
          RowBox[{
           RowBox[{"OPTICS", "[", "0", "]"}], ",", "#", ",", "\"\<DX\>\""}], 
          "]"}]}], ">", "140."}], ")"}], "&"}]}], "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Simple  selection  mechanisms", "Subsubsection",
 CellTags->"Examples section"],

Cell["\<\
Common cases can be handled with simpler functions, e.g., when the names in a \
given column belongs to a specified set or numerical values fall in a given \
range. \
\>", "Text",
 CellTags->"Examples section"],

Cell["\<\
To select from a set, we can first create a set of interaction point names \
and then select all the rows containing them.\
\>", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"IPs", " ", "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<IP2\>\"", ",", "\"\<IP4\>\"", ",", "\"\<IP6\>\"", ",", 
     "\"\<IP8\>\""}], "}"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"IPoptics", "=", 
  RowBox[{"mfsMember", "[", 
   RowBox[{
    RowBox[{"OPTICS", "[", "0", "]"}], ",", "\"\<NAME\>\"", ",", "IPs"}], 
   "]"}]}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"mfs", "[", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"GAMTR\"\>", ",", "73.4237`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"ALFA\"\>", ",", "0.00018549299999999998`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"XIY\"\>", ",", "0.987098`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"XIX\"\>", ",", "1.00236`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"QY\"\>", ",", "76.1942`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"QX\"\>", ",", "90.2859`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"CIRCUM\"\>", ",", "26658.872082`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"DELTA\"\>", ",", "0.`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"TYPE\"\>", ",", "\<\"OPTICS\"\>"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"COMMENT\"\>", 
       ",", "\<\"N0520P97v2.lep, 90/60 BT optics for 1997 up to 97 GeV\"\>"}],
       "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"ORIGIN\"\>", ",", "\<\"MAD 8.21/13 HP/UX\"\>"}], "}"}], 
     ",", 
     RowBox[{"{", 
      RowBox[{"\<\"DATE\"\>", ",", "\<\"12/08/97\"\>"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"TIME\"\>", ",", "\<\"15.04.39\"\>"}], "}"}]}], "}"}], ",", 
   
   RowBox[{"{", 
    RowBox[{"\<\"NAME\"\>", ",", "\<\"BETX\"\>", ",", "\<\"DX\"\>", 
     ",", "\<\"BETY\"\>"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"IP2\"\>", ",", "2.`", ",", "2.8793400000000004`*^-8", ",", 
       "0.049999100000000005`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"IP4\"\>", ",", "2.00002`", ",", 
       RowBox[{"-", "2.57651`*^-8"}], ",", "0.0499995`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"IP6\"\>", ",", "2.00002`", ",", "1.76834`*^-8", ",", 
       "0.050000100000000006`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"IP8\"\>", ",", "1.99995`", ",", 
       RowBox[{"-", "5.1688100000000005`*^-9"}], ",", "0.0499975`"}], "}"}]}],
     "}"}]}], "]"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Transpose", "[", 
   RowBox[{"mfsColumn", "[", 
    RowBox[{"IPoptics", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<NAME\>\"", ",", "\"\<BETX\>\"", ",", "\"\<BETY\>\""}], 
      "}"}]}], "]"}], "]"}], "//", "TableForm"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[GridBox[{
    {"\<\"IP2\"\>", "2.`", "0.049999100000000005`"},
    {"\<\"IP4\"\>", "2.00002`", "0.0499995`"},
    {"\<\"IP6\"\>", "2.00002`", "0.050000100000000006`"},
    {"\<\"IP8\"\>", "1.99995`", "0.0499975`"}
   },
   GridBoxAlignment->{
    "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
     "RowsIndexed" -> {}},
   GridBoxSpacings->{"Columns" -> {
       Offset[0.27999999999999997`], {
        Offset[2.0999999999999996`]}, 
       Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
       Offset[0.2], {
        Offset[0.4]}, 
       Offset[0.2]}, "RowsIndexed" -> {}}],
  TableForm[#]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "A similar function handles the case when a value is a number in a specified \
range. For instance, select the rows with ",
 Cell[BoxData[
  FormBox[
   RowBox[{"120", "<", 
    SubscriptBox["\[Beta]", "x"], "<", 
    RowBox[{"126", " ", ":"}]}], TraditionalForm]]]
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"betxval", "=", 
   RowBox[{"mfsRange", "[", 
    RowBox[{
     RowBox[{"OPTICS", "[", "0", "]"}], ",", "\"\<BETX\>\"", ",", 
     RowBox[{"{", 
      RowBox[{"120", ",", "126"}], "}"}]}], "]"}]}], " ", ";"}]], "Input",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Transpose", "[", 
   RowBox[{"mfsColumn", "[", 
    RowBox[{"betxval", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<NAME\>\"", ",", "\"\<BETX\>\""}], "}"}]}], "]"}], "]"}], "//",
   "TableForm"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[GridBox[{
    {"\<\"PU.QL2B.R1\"\>", "125.212`"},
    {"\<\"PU.QL2B.L3\"\>", "125.213`"},
    {"\<\"PU.QL2B.R3\"\>", "125.21`"},
    {"\<\"PU.QL2B.L5\"\>", "125.212`"},
    {"\<\"PU.QL2B.R5\"\>", "125.211`"},
    {"\<\"PU.QL2B.L7\"\>", "125.21`"},
    {"\<\"PU.QL2B.R7\"\>", "125.213`"},
    {"\<\"PU.QL2B.L1\"\>", "125.209`"}
   },
   GridBoxAlignment->{
    "Columns" -> {{Left}}, "ColumnsIndexed" -> {}, "Rows" -> {{Baseline}}, 
     "RowsIndexed" -> {}},
   GridBoxSpacings->{"Columns" -> {
       Offset[0.27999999999999997`], {
        Offset[2.0999999999999996`]}, 
       Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
       Offset[0.2], {
        Offset[0.4]}, 
       Offset[0.2]}, "RowsIndexed" -> {}}],
  TableForm[#]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "Of course, the limits of the range need not be finite.  To find all places \
with ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    SubscriptBox["\[Beta]", "x"], ">", "300"}], TraditionalForm]]],
 ", we can use"
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"hibetx", "=", 
   RowBox[{"mfsRange", "[", 
    RowBox[{
     RowBox[{"OPTICS", "[", "0", "]"}], ",", "\"\<BETX\>\"", ",", 
     RowBox[{"{", 
      RowBox[{"300", ",", "\[Infinity]"}], "}"}]}], "]"}]}], " ", 
  ";"}]], "Input",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsColumn", "[", 
  RowBox[{"hibetx", ",", "\"\<NAME\>\""}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"PU.QS1A.L4\"\>", ",", "\<\"PU.QS1A.R4\"\>", 
   ",", "\<\"PU.QS1A.L8\"\>", ",", "\<\"PU.QS1A.R8\"\>"}], "}"}]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Other Selection Methods", "Subsubsection",
 CellTags->"Examples section"],

Cell[TextData[{
 StyleBox["mfsSelect", "Input"],
 " is quite general and useful. However other methods of data selection are \
also possible. For instance, you can use BooleanSelect from the \
Statistics`DataManipulation` package (which is made available by the ",
 StyleBox["Mfs", "Input"],
 " package). As an example, first construct a boolean array  that indicates \
all places where the product ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{
     SubscriptBox["\[Beta]", "x"], 
     SubscriptBox["D", "x"]}], ">", "120", " "}], TraditionalForm]]],
 "."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"test", " ", "=", " ", 
   RowBox[{
    RowBox[{
     RowBox[{"Greater", "[", 
      RowBox[{"#", ",", "120."}], "]"}], "&"}], " ", "/@", " ", 
    RowBox[{"(", " ", 
     RowBox[{
      RowBox[{"mfsColumn", "[", 
       RowBox[{
        RowBox[{"OPTICS", "[", "0", "]"}], ",", "\"\<BETX\>\""}], "]"}], " ", 
      
      RowBox[{"mfsColumn", "[", 
       RowBox[{
        RowBox[{"OPTICS", "[", "0", "]"}], ",", "\"\<DX\>\""}], "]"}]}], "  ",
      ")"}]}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", 
  RowBox[{"test", ",", "5"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{
   "False", ",", "False", ",", "False", ",", "False", ",", "False", ",", 
    "False", ",", "False", ",", "False", ",", "False", ",", "False", ",", 
    "False", ",", "False", ",", "False", ",", "True", ",", "False", ",", 
    "True", ",", "False", ",", "False", ",", 
    RowBox[{"\[LeftSkeleton]", "473", "\[RightSkeleton]"}], ",", "False", ",",
     "False", ",", "True", ",", "False", ",", "True", ",", "False", ",", 
    "False", ",", "False", ",", "False", ",", "False", ",", "False", ",", 
    "False", ",", "False", ",", "False", ",", "False", ",", "False", ",", 
    "False", ",", "False"}], "}"}],
  Short[#, 5]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "Then get the rows where the product ",
 Cell[BoxData[
  FormBox[
   RowBox[{
    RowBox[{
     SubscriptBox["\[Beta]", "x"], 
     SubscriptBox["D", "x"]}], ">", "120", " "}], TraditionalForm]]],
 "."
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "BooleanSelect"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"BooleanSelect[list, sel] keeps elements of list for which \
the corresponding element of sel is True.\"\>"], "Print"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"BooleanSelect", "[", 
  RowBox[{
   RowBox[{"Transpose", "[", " ", 
    RowBox[{"mfsColumn", "[", 
     RowBox[{
      RowBox[{"OPTICS", "[", "0", "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"\"\<NAME\>\"", ",", "\"\<BETX\>\"", ",", "\"\<DX\>\""}], 
       "}"}]}], "]"}], "]"}], ",", "test"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.R1\"\>", ",", "129.71`", ",", "0.987151`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.R1\"\>", ",", "117.425`", ",", "1.07893`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.L2\"\>", ",", "149.927`", ",", "0.950618`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.R2\"\>", ",", "149.922`", ",", "0.950618`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.L3\"\>", ",", "117.415`", ",", "1.07886`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.L3\"\>", ",", "129.783`", ",", "0.987148`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.R3\"\>", ",", "129.783`", ",", "0.987147`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.R3\"\>", ",", "117.418`", ",", "1.07886`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.L4\"\>", ",", "139.083`", ",", "0.891688`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.R4\"\>", ",", "139.082`", ",", "0.891688`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.L5\"\>", ",", "117.417`", ",", "1.07886`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.L5\"\>", ",", "129.783`", ",", "0.987147`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.R5\"\>", ",", "129.783`", ",", "0.987148`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.R5\"\>", ",", "117.417`", ",", "1.07886`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS17.L6\"\>", ",", "118.596`", ",", "1.10177`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS17.R6\"\>", ",", "118.596`", ",", "1.10177`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.L7\"\>", ",", "117.418`", ",", "1.07886`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.L7\"\>", ",", "129.783`", ",", "0.987148`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.R7\"\>", ",", "129.783`", ",", "0.987147`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.R7\"\>", ",", "117.415`", ",", "1.07886`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.L8\"\>", ",", "139.082`", ",", "0.891688`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.R8\"\>", ",", "139.088`", ",", "0.891688`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.L1\"\>", ",", "117.428`", ",", "1.07893`"}], "}"}], 
   ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.L1\"\>", ",", "129.71`", ",", "0.987151`"}], "}"}]}],
   "}"}]], "Output"]
}, Open  ]],

Cell[TextData[{
 "Still another way to do this is to use ",
 StyleBox["MapThread", "Input"],
 " to form the product of the two columns together with the element names.  \
Then the elements can be selected."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Select", "[", 
  RowBox[{
   RowBox[{"MapThread", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"{", 
       RowBox[{"#1", ",", 
        RowBox[{"#2", " ", "#3"}]}], "}"}], "&"}], ",", 
     RowBox[{"mfsColumn", "[", 
      RowBox[{
       RowBox[{"OPTICS", "[", "0", "]"}], ",", 
       RowBox[{"{", 
        RowBox[{"\"\<NAME\>\"", ",", "\"\<BETX\>\"", ",", "\"\<DX\>\""}], 
        "}"}]}], "]"}]}], "]"}], ",", 
   RowBox[{
    RowBox[{
     RowBox[{"Last", "[", "#1", "]"}], ">", "120."}], "&"}]}], "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.R1\"\>", ",", "128.04335621`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.R1\"\>", ",", "126.69335525`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.L2\"\>", ",", "142.52330488599998`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.R2\"\>", ",", "142.518551796`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.L3\"\>", ",", "126.6743469`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.L3\"\>", ",", "128.115028884`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.R3\"\>", ",", "128.114899101`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.R3\"\>", ",", "126.67758348`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.L4\"\>", ",", "124.01864210400001`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.R4\"\>", ",", "124.017750416`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.L5\"\>", ",", "126.67650461999999`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.L5\"\>", ",", "128.114899101`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.R5\"\>", ",", "128.115028884`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.R5\"\>", ",", "126.67650461999999`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS17.L6\"\>", ",", "130.66551492`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS17.R6\"\>", ",", "130.66551492`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.L7\"\>", ",", "126.67758348`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.L7\"\>", ",", "128.115028884`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.R7\"\>", ",", "128.114899101`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.R7\"\>", ",", "126.6743469`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.L8\"\>", ",", "124.017750416`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QS15.R8\"\>", ",", "124.023100544`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL17.L1\"\>", ",", "126.69659203999998`"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"PU.QL15.L1\"\>", ",", "128.04335621`"}], "}"}]}], 
  "}"}]], "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell[TextData[{
 "Modifying and saving ",
 StyleBox["mfs", "Input"],
 " objects"
}], "Subsection",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell["Modifying the header part of the object", "Subsubsection"],

Cell[TextData[{
 "It may be useful to add additional ",
 "key",
 "s and values that were not given in the original TFS file. These can be any \
kind of object definable in ",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 "."
}], "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qpmfs", "=", 
   RowBox[{"mfsAddKey", "[", 
    RowBox[{"qpmfs", ",", 
     RowBox[{"{", 
      RowBox[{
      "\"\<REMARK\>\"", ",", "\"\<Example for conference paper.\>\""}], 
      "}"}]}], "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qpmfs", "=", 
   RowBox[{"mfsAddKey", "[", 
    RowBox[{"qpmfs", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<KICKVALUE\>\"", ",", 
       RowBox[{"4", "\[Times]", 
        SuperscriptBox["10", 
         RowBox[{"-", "3"}]]}]}], "}"}]}], "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qpmfs", " ", "=", " ", 
   RowBox[{"mfsAddKey", "[", 
    RowBox[{"qpmfs", ",", 
     RowBox[{"{", 
      RowBox[{"\"\<AMATRIX\>\"", ",", 
       RowBox[{"Inverse", "[", 
        RowBox[{"(", GridBox[{
           {"\[Sigma]", "\[Alpha]"},
           {"\[Beta]", 
            RowBox[{"-", 
             SuperscriptBox["\[Sigma]", 
              RowBox[{"-", "1"}]]}]}
          }], ")"}], "]"}]}], "}"}]}], "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsKeyValue", "[", 
   RowBox[{"qpmfs", ",", "\"\<AMATRIX\>\""}], "]"}], "//", 
  "MatrixForm"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[
  RowBox[{"(", "\[NoBreak]", GridBox[{
     {
      RowBox[{"-", 
       FractionBox["1", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"-", "1"}], "-", 
           RowBox[{"\[Alpha]", " ", "\[Beta]"}]}], ")"}], " ", 
         "\[Sigma]"}]]}], 
      RowBox[{"-", 
       FractionBox["\[Alpha]", 
        RowBox[{
         RowBox[{"-", "1"}], "-", 
         RowBox[{"\[Alpha]", " ", "\[Beta]"}]}]]}]},
     {
      RowBox[{"-", 
       FractionBox["\[Beta]", 
        RowBox[{
         RowBox[{"-", "1"}], "-", 
         RowBox[{"\[Alpha]", " ", "\[Beta]"}]}]]}], 
      FractionBox["\[Sigma]", 
       RowBox[{
        RowBox[{"-", "1"}], "-", 
        RowBox[{"\[Alpha]", " ", "\[Beta]"}]}]]}
    }], "\[NoBreak]", ")"}],
  MatrixForm[#]& ]], "Output"]
}, Open  ]],

Cell[TextData[{
 "Descriptors can be changed with ",
 StyleBox["mfsEditKey", "Input"],
 " as follows.  In this example, the ",
 StyleBox["COMMENT", "Input"],
 " is empty since nothing was supplied in the MAD run:"
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsKeyValue", "[", 
  RowBox[{"qpmfs", ",", "\"\<COMMENT\>\""}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"\"\>"], "Output"]
}, Open  ]],

Cell["However it can be added as an afterthought:", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qpmfs", "=", 
   RowBox[{"mfsEditKey", "[", 
    RowBox[{"qpmfs", ",", 
     RowBox[{"{", 
      RowBox[{
      "\"\<COMMENT\>\"", ",", "\"\<Tracking from an initial kick.\>\""}], 
      "}"}]}], "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsKeyValue", "[", 
  RowBox[{"qpmfs", ",", "\"\<COMMENT\>\""}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"Tracking from an initial kick.\"\>"], "Output"]
}, Open  ]],

Cell["Descriptors can be deleted with", "Text",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"qpmfs", "=", 
   RowBox[{"mfsDeleteKey", "[", 
    RowBox[{"qpmfs", ",", "\"\<ET\>\""}], "]"}]}], ";"}]], "Input",
 CellTags->"Examples section"],

Cell["The list of keys now reads", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsKeyNames", "[", "qpmfs", "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"TYPE\"\>", ",", "\<\"X\"\>", ",", "\<\"PX\"\>", 
   ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"EY\"\>", ",", "\<\"EX\"\>", 
   ",", "\<\"E11\"\>", ",", "\<\"E12\"\>", ",", "\<\"E13\"\>", 
   ",", "\<\"E14\"\>", ",", "\<\"E15\"\>", ",", "\<\"E16\"\>", 
   ",", "\<\"E21\"\>", ",", "\<\"E22\"\>", ",", "\<\"E23\"\>", 
   ",", "\<\"E24\"\>", ",", "\<\"E25\"\>", ",", "\<\"E26\"\>", 
   ",", "\<\"E31\"\>", ",", "\<\"E32\"\>", ",", "\<\"E33\"\>", 
   ",", "\<\"E34\"\>", ",", "\<\"E35\"\>", ",", "\<\"E36\"\>", 
   ",", "\<\"E41\"\>", ",", "\<\"E42\"\>", ",", "\<\"E43\"\>", 
   ",", "\<\"E44\"\>", ",", "\<\"E45\"\>", ",", "\<\"E46\"\>", 
   ",", "\<\"E51\"\>", ",", "\<\"E52\"\>", ",", "\<\"E53\"\>", 
   ",", "\<\"E54\"\>", ",", "\<\"E55\"\>", ",", "\<\"E56\"\>", 
   ",", "\<\"E61\"\>", ",", "\<\"E62\"\>", ",", "\<\"E63\"\>", 
   ",", "\<\"E64\"\>", ",", "\<\"E65\"\>", ",", "\<\"E66\"\>", 
   ",", "\<\"COMMENT\"\>", ",", "\<\"ORIGIN\"\>", ",", "\<\"DATE\"\>", 
   ",", "\<\"TIME\"\>", ",", "\<\"REMARK\"\>", ",", "\<\"KICKVALUE\"\>", 
   ",", "\<\"AMATRIX\"\>"}], "}"}]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Adding and removing columns", "Subsubsection"],

Cell[TextData[{
 "Let us show how to add another column of data to the mfs data object ",
 StyleBox["OPTICS[0]", "Input"],
 ".  An additional column should have length"
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"collen", "=", 
  RowBox[{"Length", "[", 
   RowBox[{"Last", "[", 
    RowBox[{"OPTICS", "[", "0", "]"}], "]"}], "]"}]}]], "Input"],

Cell[BoxData["509"], "Output"]
}, Open  ]],

Cell["\<\
Let us construct a simple index of the elements since this particular data \
object contains no azimuth \"S\" \
\>", "Text"],

Cell[BoxData[
 RowBox[{" ", 
  RowBox[{
   RowBox[{"idx", "=", 
    RowBox[{"Range", "[", "collen", "]"}]}], " ", ";"}]}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"OPTICS", "[", "1", "]"}], "=", 
   RowBox[{"mfsAddColumn", "[", 
    RowBox[{
     RowBox[{"OPTICS", "[", "0", "]"}], ",", "\"\<INDEX\>\"", ",", "idx"}], 
    "]"}]}], ";"}]], "Input"],

Cell["\<\
Now there is a new column that we can use in a trivial way to produce a plot\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsColumnNames", "[", 
  RowBox[{"OPTICS", "[", "1", "]"}], "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"BETX\"\>", ",", "\<\"BETY\"\>", ",", "\<\"DX\"\>", 
   ",", "\<\"INDEX\"\>", ",", "\<\"NAME\"\>"}], "}"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"ListPlot", "[", 
  RowBox[{
   RowBox[{"Transpose", "[", 
    RowBox[{"mfsColumn", "[", 
     RowBox[{
      RowBox[{"OPTICS", "[", "1", "]"}], ",", 
      RowBox[{"{", 
       RowBox[{"\"\<BETX\>\"", ",", "\"\<INDEX\>\""}], "}"}]}], "]"}], "]"}], 
   ",", 
   RowBox[{"Joined", "\[Rule]", "True"}], ",", 
   RowBox[{"AspectRatio", "\[Rule]", "Automatic"}]}], "]"}]], "Input"],

Cell[GraphicsData["PostScript", "\<\
%!
%%Creator: Mathematica
%%AspectRatio: 2.68488 
MathPictureStart
/Mabs {
Mgmatrix idtransform
Mtmatrix dtransform
} bind def
/Mabsadd { Mabs
3 -1 roll add
3 1 roll add
exch } bind def
%% Graphics
%%IncludeResource: font Courier
%%IncludeFont: Courier
/Courier findfont 10  scalefont  setfont
% Scaling calculations
0.0238095 0.00502362 0.0639256 0.00502362 [
[.1494 .05143 -6 -9 ]
[.1494 .05143 6 0 ]
[.27499 .05143 -6 -9 ]
[.27499 .05143 6 0 ]
[.40058 .05143 -6 -9 ]
[.40058 .05143 6 0 ]
[.52617 .05143 -9 -9 ]
[.52617 .05143 9 0 ]
[.65176 .05143 -9 -9 ]
[.65176 .05143 9 0 ]
[.77735 .05143 -9 -9 ]
[.77735 .05143 9 0 ]
[.90294 .05143 -9 -9 ]
[.90294 .05143 9 0 ]
[.01131 .56629 -18 -4.5 ]
[.01131 .56629 0 4.5 ]
[.01131 1.06865 -18 -4.5 ]
[.01131 1.06865 0 4.5 ]
[.01131 1.57101 -18 -4.5 ]
[.01131 1.57101 0 4.5 ]
[.01131 2.07338 -18 -4.5 ]
[.01131 2.07338 0 4.5 ]
[.01131 2.57574 -18 -4.5 ]
[.01131 2.57574 0 4.5 ]
[ 0 0 0 0 ]
[ 1 2.68488 0 0 ]
] MathScale
% Start of Graphics
1 setlinecap
1 setlinejoin
newpath
0 g
.25 Mabswid
[ ] 0 setdash
.1494 .06393 m
.1494 .07018 L
s
[(25)] .1494 .05143 0 1 Mshowa
.27499 .06393 m
.27499 .07018 L
s
[(50)] .27499 .05143 0 1 Mshowa
.40058 .06393 m
.40058 .07018 L
s
[(75)] .40058 .05143 0 1 Mshowa
.52617 .06393 m
.52617 .07018 L
s
[(100)] .52617 .05143 0 1 Mshowa
.65176 .06393 m
.65176 .07018 L
s
[(125)] .65176 .05143 0 1 Mshowa
.77735 .06393 m
.77735 .07018 L
s
[(150)] .77735 .05143 0 1 Mshowa
.90294 .06393 m
.90294 .07018 L
s
[(175)] .90294 .05143 0 1 Mshowa
.125 Mabswid
.04893 .06393 m
.04893 .06768 L
s
.07405 .06393 m
.07405 .06768 L
s
.09916 .06393 m
.09916 .06768 L
s
.12428 .06393 m
.12428 .06768 L
s
.17452 .06393 m
.17452 .06768 L
s
.19964 .06393 m
.19964 .06768 L
s
.22475 .06393 m
.22475 .06768 L
s
.24987 .06393 m
.24987 .06768 L
s
.30011 .06393 m
.30011 .06768 L
s
.32523 .06393 m
.32523 .06768 L
s
.35035 .06393 m
.35035 .06768 L
s
.37546 .06393 m
.37546 .06768 L
s
.4257 .06393 m
.4257 .06768 L
s
.45082 .06393 m
.45082 .06768 L
s
.47594 .06393 m
.47594 .06768 L
s
.50105 .06393 m
.50105 .06768 L
s
.55129 .06393 m
.55129 .06768 L
s
.57641 .06393 m
.57641 .06768 L
s
.60153 .06393 m
.60153 .06768 L
s
.62664 .06393 m
.62664 .06768 L
s
.67688 .06393 m
.67688 .06768 L
s
.702 .06393 m
.702 .06768 L
s
.72712 .06393 m
.72712 .06768 L
s
.75224 .06393 m
.75224 .06768 L
s
.80247 .06393 m
.80247 .06768 L
s
.82759 .06393 m
.82759 .06768 L
s
.85271 .06393 m
.85271 .06768 L
s
.87783 .06393 m
.87783 .06768 L
s
.92806 .06393 m
.92806 .06768 L
s
.95318 .06393 m
.95318 .06768 L
s
.9783 .06393 m
.9783 .06768 L
s
.25 Mabswid
0 .06393 m
1 .06393 L
s
.02381 .56629 m
.03006 .56629 L
s
[(100)] .01131 .56629 1 0 Mshowa
.02381 1.06865 m
.03006 1.06865 L
s
[(200)] .01131 1.06865 1 0 Mshowa
.02381 1.57101 m
.03006 1.57101 L
s
[(300)] .01131 1.57101 1 0 Mshowa
.02381 2.07338 m
.03006 2.07338 L
s
[(400)] .01131 2.07338 1 0 Mshowa
.02381 2.57574 m
.03006 2.57574 L
s
[(500)] .01131 2.57574 1 0 Mshowa
.125 Mabswid
.02381 .1644 m
.02756 .1644 L
s
.02381 .26487 m
.02756 .26487 L
s
.02381 .36534 m
.02756 .36534 L
s
.02381 .46582 m
.02756 .46582 L
s
.02381 .66676 m
.02756 .66676 L
s
.02381 .76723 m
.02756 .76723 L
s
.02381 .86771 m
.02756 .86771 L
s
.02381 .96818 m
.02756 .96818 L
s
.02381 1.16912 m
.02756 1.16912 L
s
.02381 1.2696 m
.02756 1.2696 L
s
.02381 1.37007 m
.02756 1.37007 L
s
.02381 1.47054 m
.02756 1.47054 L
s
.02381 1.67149 m
.02756 1.67149 L
s
.02381 1.77196 m
.02756 1.77196 L
s
.02381 1.87243 m
.02756 1.87243 L
s
.02381 1.9729 m
.02756 1.9729 L
s
.02381 2.17385 m
.02756 2.17385 L
s
.02381 2.27432 m
.02756 2.27432 L
s
.02381 2.37479 m
.02756 2.37479 L
s
.02381 2.47527 m
.02756 2.47527 L
s
.02381 2.67621 m
.02756 2.67621 L
s
.25 Mabswid
.02381 0 m
.02381 2.68488 L
s
0 0 m
1 0 L
1 2.68488 L
0 2.68488 L
closepath
clip
newpath
.5 Mabswid
.15062 .06895 m
.40536 .07397 L
.65283 .079 L
.10921 .08402 L
.77027 .08904 L
.24302 .09407 L
.75748 .09909 L
.30503 .10411 L
.75745 .10914 L
.30502 .11416 L
.75743 .11919 L
.24089 .12421 L
.06656 .12923 L
.67542 .13426 L
.22069 .13928 L
.61371 .1443 L
.15741 .14933 L
.15426 .15435 L
.15427 .15937 L
.15427 .1644 L
.15428 .16942 L
.15427 .17445 L
.15428 .17947 L
.15427 .18449 L
.15428 .18952 L
.15427 .19454 L
.15428 .19956 L
.15427 .20459 L
.15428 .20961 L
.15427 .21463 L
.15428 .21966 L
.15427 .22468 L
.15428 .22971 L
.15427 .23473 L
.15428 .23975 L
.15427 .24478 L
.15428 .2498 L
.15427 .25482 L
.15428 .25985 L
.15427 .26487 L
.15428 .26989 L
.15427 .27492 L
.15428 .27994 L
.15427 .28497 L
.15428 .28999 L
.15427 .29501 L
.15428 .30004 L
.15427 .30506 L
.52468 .31008 L
.23055 .31511 L
Mistroke
.77699 .32013 L
.0668 .32515 L
.16429 .33018 L
.48202 .3352 L
.06327 .34022 L
.67738 .34525 L
.13826 .35027 L
.45745 .3553 L
.16173 .36032 L
.47621 .36534 L
.11131 .37037 L
.22953 .37539 L
Mfstroke
.22953 .37539 m
1 .37843 L
s
1 .38239 m
.22478 .38544 L
.03386 .39046 L
.22479 .39548 L
s
.22479 .39548 m
1 .39854 L
s
1 .40249 m
.22952 .40553 L
.11131 .41056 L
.47622 .41558 L
.16173 .4206 L
.45747 .42563 L
.13826 .43065 L
.67735 .43567 L
.06328 .4407 L
.482 .44572 L
.16429 .45074 L
.0668 .45577 L
.77696 .46079 L
.23055 .46582 L
.52469 .47084 L
.15427 .47586 L
.15427 .48089 L
.15427 .48591 L
.15427 .49093 L
.15427 .49596 L
.15427 .50098 L
.15427 .506 L
.15427 .51103 L
.15427 .51605 L
.15427 .52108 L
.15427 .5261 L
.15427 .53112 L
.15427 .53615 L
.15427 .54117 L
.15427 .54619 L
.15427 .55122 L
.15427 .55624 L
.15427 .56126 L
.15427 .56629 L
.15427 .57131 L
.15427 .57634 L
.15427 .58136 L
.15427 .58638 L
.15427 .59141 L
.15427 .59643 L
.15427 .60145 L
.15427 .60648 L
.15427 .6115 L
.15427 .61652 L
.15427 .62155 L
.15427 .62657 L
.1574 .6316 L
.61366 .63662 L
.22072 .64164 L
.67579 .64667 L
Mistroke
.06655 .65169 L
.24089 .65671 L
.75746 .66174 L
.30503 .66676 L
.75747 .67178 L
.30503 .67681 L
.75746 .68183 L
.24301 .68686 L
.77029 .69188 L
.10923 .6969 L
.65283 .70193 L
.40529 .70695 L
.15061 .71197 L
.40528 .717 L
.65282 .72202 L
.10923 .72704 L
.7703 .73207 L
.24301 .73709 L
.75745 .74211 L
.30503 .74714 L
.75745 .75216 L
.30503 .75719 L
.75746 .76221 L
.24089 .76723 L
.06655 .77226 L
.67579 .77728 L
.22073 .7823 L
.61367 .78733 L
.1574 .79235 L
.15427 .79737 L
.15427 .8024 L
.15427 .80742 L
.15427 .81245 L
.15427 .81747 L
.15427 .82249 L
.15427 .82752 L
.15427 .83254 L
.15427 .83756 L
.15427 .84259 L
.15427 .84761 L
.15427 .85263 L
.15427 .85766 L
.15427 .86268 L
.15427 .86771 L
.15427 .87273 L
.15427 .87775 L
.15427 .88278 L
.15427 .8878 L
.15427 .89282 L
.15427 .89785 L
Mistroke
.15427 .90287 L
.15427 .90789 L
.15427 .91292 L
.15427 .91794 L
.15427 .92297 L
.15427 .92799 L
.15427 .93301 L
.15427 .93804 L
.15427 .94306 L
.15427 .94808 L
.48305 .95311 L
.27132 .95813 L
.72251 .96315 L
.06405 .96818 L
.12437 .9732 L
.47181 .97823 L
.1094 .98325 L
.56455 .98827 L
.06643 .9933 L
.77022 .99832 L
.0891 1.00334 L
.35121 1.00837 L
.21815 1.01339 L
Mfstroke
.21815 1.01339 m
1 1.01615 L
s
1 1.02068 m
.22272 1.02344 L
.03386 1.02846 L
.22273 1.03349 L
s
.22273 1.03349 m
1 1.03624 L
s
1 1.04077 m
.21815 1.04353 L
.35121 1.04856 L
.0891 1.05358 L
.77023 1.0586 L
.06643 1.06363 L
.56455 1.06865 L
.1094 1.07367 L
.47181 1.0787 L
.12437 1.08372 L
.06405 1.08874 L
.72251 1.09377 L
.27132 1.09879 L
.48304 1.10382 L
.15427 1.10884 L
.15427 1.11386 L
.15427 1.11889 L
.15427 1.12391 L
.15427 1.12893 L
.15427 1.13396 L
.15427 1.13898 L
.15427 1.144 L
.15427 1.14903 L
.15427 1.15405 L
.15427 1.15908 L
.15427 1.1641 L
.15427 1.16912 L
.15427 1.17415 L
.15427 1.17917 L
.15427 1.18419 L
.15427 1.18922 L
.15427 1.19424 L
.15427 1.19926 L
.15427 1.20429 L
.15427 1.20931 L
.15427 1.21434 L
.15427 1.21936 L
.15427 1.22438 L
.15427 1.22941 L
.15427 1.23443 L
.15427 1.23945 L
.15427 1.24448 L
.15427 1.2495 L
.15427 1.25452 L
.15427 1.25955 L
.1574 1.26457 L
.61367 1.2696 L
.22073 1.27462 L
.67579 1.27964 L
.06655 1.28467 L
Mistroke
.24089 1.28969 L
.75747 1.29471 L
.30503 1.29974 L
.75746 1.30476 L
.30503 1.30978 L
.75745 1.31481 L
.24302 1.31983 L
.77024 1.32486 L
.10922 1.32988 L
.65283 1.3349 L
.40534 1.33993 L
.15061 1.34495 L
.40534 1.34997 L
.65282 1.355 L
.10922 1.36002 L
.77024 1.36504 L
.24302 1.37007 L
.75746 1.37509 L
.30503 1.38012 L
.75746 1.38514 L
.30505 1.39016 L
.75747 1.39519 L
.24089 1.40021 L
.06655 1.40523 L
.67579 1.41026 L
.22073 1.41528 L
.61367 1.4203 L
.1574 1.42533 L
.15427 1.43035 L
.15427 1.43538 L
.15427 1.4404 L
.15427 1.44542 L
.15427 1.45045 L
.15427 1.45547 L
.15427 1.46049 L
.15427 1.46552 L
.15427 1.47054 L
.15427 1.47556 L
.15427 1.48059 L
.15427 1.48561 L
.15427 1.49063 L
.15427 1.49566 L
.15427 1.50068 L
.15427 1.50571 L
.15427 1.51073 L
.15427 1.51575 L
.15427 1.52078 L
.15427 1.5258 L
.15427 1.53082 L
.15427 1.53585 L
Mistroke
.15427 1.54087 L
.15427 1.54589 L
.15427 1.55092 L
.15427 1.55594 L
.15427 1.56097 L
.15427 1.56599 L
.15427 1.57101 L
.15427 1.57604 L
.15427 1.58106 L
.61959 1.58608 L
.21189 1.59111 L
.57182 1.59613 L
.07575 1.60115 L
.1327 1.60618 L
.45499 1.6112 L
.07793 1.61623 L
.42645 1.62125 L
.1081 1.62627 L
.463 1.6313 L
.14532 1.63632 L
.48282 1.64134 L
.11078 1.64637 L
.23427 1.65139 L
Mfstroke
.23427 1.65139 m
1 1.65437 L
s
1 1.65846 m
.23273 1.66144 L
.03386 1.66646 L
.23272 1.67149 L
s
.23272 1.67149 m
1 1.67446 L
s
1 1.67856 m
.23427 1.68153 L
.11078 1.68656 L
.48282 1.69158 L
.14532 1.6966 L
.463 1.70163 L
.1081 1.70665 L
.42645 1.71167 L
.07793 1.7167 L
.45499 1.72172 L
.1327 1.72675 L
.07575 1.73177 L
.57183 1.73679 L
.21189 1.74182 L
.61959 1.74684 L
.15427 1.75186 L
.15427 1.75689 L
.15427 1.76191 L
.15427 1.76693 L
.15427 1.77196 L
.15427 1.77698 L
.15427 1.78201 L
.15427 1.78703 L
.15427 1.79205 L
.15427 1.79708 L
.15427 1.8021 L
.15427 1.80712 L
.15427 1.81215 L
.15427 1.81717 L
.15427 1.82219 L
.15427 1.82722 L
.15427 1.83224 L
.15427 1.83726 L
.15427 1.84229 L
.15427 1.84731 L
.15427 1.85234 L
.15427 1.85736 L
.15427 1.86238 L
.15427 1.86741 L
.15427 1.87243 L
.15427 1.87745 L
.15427 1.88248 L
.15427 1.8875 L
.15427 1.89252 L
.15427 1.89755 L
.15427 1.90257 L
.1574 1.9076 L
.61367 1.91262 L
.22073 1.91764 L
.67579 1.92267 L
Mistroke
.06655 1.92769 L
.24089 1.93271 L
.75746 1.93774 L
.30503 1.94276 L
.75745 1.94778 L
.30503 1.95281 L
.75745 1.95783 L
.24301 1.96286 L
.7703 1.96788 L
.10923 1.9729 L
.65282 1.97793 L
.40528 1.98295 L
.15061 1.98797 L
.40529 1.993 L
.65283 1.99802 L
.10923 2.00304 L
.77029 2.00807 L
.24301 2.01309 L
.75746 2.01812 L
.30503 2.02314 L
.75747 2.02816 L
.30503 2.03319 L
.75746 2.03821 L
.24089 2.04323 L
.06655 2.04826 L
.67579 2.05328 L
.22072 2.0583 L
.61366 2.06333 L
.1574 2.06835 L
.15427 2.07338 L
.15427 2.0784 L
.15427 2.08342 L
.15427 2.08845 L
.15427 2.09347 L
.15427 2.09849 L
.15427 2.10352 L
.15427 2.10854 L
.15427 2.11356 L
.15427 2.11859 L
.15427 2.12361 L
.15427 2.12864 L
.15427 2.13366 L
.15427 2.13868 L
.15427 2.14371 L
.15427 2.14873 L
.15427 2.15375 L
.15427 2.15878 L
.15427 2.1638 L
.15427 2.16882 L
.15427 2.17385 L
Mistroke
.15427 2.17887 L
.15427 2.1839 L
.15427 2.18892 L
.15427 2.19394 L
.15427 2.19897 L
.15427 2.20399 L
.15427 2.20901 L
.15427 2.21404 L
.15427 2.21906 L
.15427 2.22408 L
.48304 2.22911 L
.27131 2.23413 L
.72251 2.23915 L
.06405 2.24418 L
.12437 2.2492 L
.47181 2.25423 L
.1094 2.25925 L
.56454 2.26427 L
.06643 2.2693 L
.77024 2.27432 L
.0891 2.27934 L
.35122 2.28437 L
.21818 2.28939 L
Mfstroke
.21818 2.28939 m
1 2.29216 L
s
1 2.29668 m
.22274 2.29944 L
.03386 2.30446 L
.22273 2.30949 L
s
.22273 2.30949 m
1 2.31224 L
s
1 2.31677 m
.21819 2.31953 L
.35123 2.32456 L
.0891 2.32958 L
.77021 2.3346 L
.06643 2.33963 L
.56453 2.34465 L
.10939 2.34967 L
.47182 2.3547 L
.12437 2.35972 L
.06405 2.36475 L
.72254 2.36977 L
.27132 2.37479 L
.48304 2.37982 L
.15427 2.38484 L
.15428 2.38986 L
.15427 2.39489 L
.15428 2.39991 L
.15427 2.40493 L
.15428 2.40996 L
.15427 2.41498 L
.15428 2.42001 L
.15427 2.42503 L
.15428 2.43005 L
.15427 2.43508 L
.15428 2.4401 L
.15427 2.44512 L
.15428 2.45015 L
.15427 2.45517 L
.15428 2.46019 L
.15427 2.46522 L
.15428 2.47024 L
.15427 2.47527 L
.15428 2.48029 L
.15427 2.48531 L
.15428 2.49034 L
.15427 2.49536 L
.15428 2.50038 L
.15427 2.50541 L
.15428 2.51043 L
.15427 2.51545 L
.15428 2.52048 L
.15427 2.5255 L
.15427 2.53053 L
.15426 2.53555 L
.15741 2.54057 L
.61372 2.5456 L
.22069 2.55062 L
.67542 2.55564 L
.06656 2.56067 L
Mistroke
.24089 2.56569 L
.75744 2.57071 L
.30502 2.57574 L
.75744 2.58076 L
.30503 2.58579 L
.75746 2.59081 L
.24302 2.59583 L
.77027 2.60086 L
.10922 2.60588 L
.65281 2.6109 L
.40535 2.61593 L
.15062 2.62095 L
Mfstroke
% End of Graphics
MathPictureEnd
\
\>"], "Graphics",
 ImageSize->{147.25, 395.313},
 ImageMargins->{{34, 0}, {0, 0}},
 ImageRegion->{{0, 1}, {0, 1}},
 ImageCache->GraphicsData["CompressedBitmap", "\<\
eJztWktvFEcQ/jy9u14TsjaKMAZi7wKWiAwOMeZAFIhDCK8QgkERD8mHWAgF
JFAih2OSPuSYo/9g/kmntnZnpqe6erw7a2CSmMMy81U/q+vxdY3vbb958fz1
9puXz7Z7t3a2f3nx8tmvvZs/7xBkpgDsAlN/zYGef4P5G91d6wh8pz9L1jUA
Y10CzPBvI32GAayj/5MUbyJ/TviZkH5n9P8l6TgZYortfdwE40/3hR95cNt7
7jdvDJ+5ZfaS+C/9Ls3BC0+ViCGkrDCKLzSxuWXDYJTspVmylobcq6/uptBB
YfhU0BKjVdplQ8yaNWyV7kqbN9jRoeCAB+ZV0OZM/sLC1jirbwYzhEYVnJ2/
Xn9m1fqynsbqZllYXyvWQ7OEUstTR0lKnkvN039vK4Y38E/DQpP68HQaF0zq
vf6vKSLG8+2GN0h2BtlQLTn/7xWBOev+7E/nC7rW9YAvlZO8DaxKeN268xz/
ivAJ664DPQmftm4JuKrAXyitZ637XoFJB58ADyV8zLorwIqEV3nKixLuWNcF
NhU4e341FJLyZxW4tM+BcCJhTVW+ADyW8IJ1ZxV3IYP7FFhUbPcCcFfC5D8f
A9clTJ7/QDHpw9atALcUdzkKPM1VSFFpDfhGtiOnfy2d/gPrdoZYB9iRXTxx
hh2x7pXE2vqMxZXttY9z7N/BrkkZlxUdGVb0dxJeY0Uv5so4rp8Tnepx4FFN
DOz9C2Os05R12pMuZS9zY3fNjl8JCW9z3njXREvk9TpFIaQE+EDC5zkBBnkx
kkUjOZfGvp9naNLEmbESfIQlXLLunMIpIgyE+MopZcoOh6LA32nby8ogNPZj
ncacAb4acTsbvPkALrZO2KKIM32t6HhTUT2dyKXJCMz/RVhT1lA74bySi5cZ
DrLrIoeD5VzBhm33vmxHN5KLwA0Jt9kjAs5Eg1wDPpfwGqfywAlp7FXgWwnP
W/dTCY25h/7dpCimMdZll3l2L24a1mDC8N7i/d/Nm9vCLbgkgVHrreHuSi+e
/kvCuj811NXoOeuQdZ8Nj4Pvzdizh78kurWeALbyNcRyXcJRM7UO32iWlPjW
YdUFJlZHDzmIO/USegQm4ey939TFT9ZjEJgr7JwBTLThhk5gyAHuSLjLTCWg
JJMQGFLSyf2nLhk8Oy6BobFvK/u7qvOaWpjfgVNXEY55N6qQnMa/fGbZSjnR
8tTt3wHTEFRhyd5Vq1w/81y0uCy13OAo80TCbaZLQfmkwRWNH5XWK0rlqctV
rZsS/pA5V5Cr2zz2loS1itJh6zZy99bYWKSApE0QWQ4FpmPK4iNbjSsmosae
wpMjR3RQZf4XCmuqci0rRnJoJON22F2C/LwvuZ+4zWngWq7CGb10EuEpHb4o
Bvyq+3Y/OmkbiTC9vT86Db7BxYqjHgsdMblcyGOHX30tTTQD001jy36k0Uw4
USYuuTnXxetrJ6xpGKou1OpLkZpApILQsu6kQgPaeVnDh5c5eKTlpIHxbY1V
SFpHv+hchO9wYSjKXrRPYlpJasG6I8APylqeKkuMfM1qc1AJCmbTfEUM9JFw
/Xwz18dSoYrn602r+UVOsI6WVgvhf85/qwu1D03e94vy24/33bdCQjP8eZgD
zGj12MHXqpQZRP7QSe25kROmkSu5GhtJvD/yCdVRJFp+KJicblX9e6FqAG3s
D1W2+65+MPUPZr8TLw==\
\>"],
 ImageRangeCache->{{{0, 146.25}, {394.313, 0}} -> {-30.1116, -49.8388, \
1.53458, 1.53458}}],

Cell[BoxData[
 TagBox[
  RowBox[{"\[SkeletonIndicator]", "Graphics", "\[SkeletonIndicator]"}],
  False,
  Editable->False]], "Output"]
}, Open  ]],

Cell["There are also functiosn for removing keys and columns", "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"nodx", "=", 
   RowBox[{"mfsDeleteKey", "[", " ", "\n", "\t\t", 
    RowBox[{
     RowBox[{"mfsDeleteColumn", "[", 
      RowBox[{
       RowBox[{"OPTICS", "[", "0", "]"}], ",", "\"\<DX\>\""}], "]"}], ",", 
     "\n", "\t\t\t", "\"\<DELTA\>\""}], "]"}]}], ";"}]], "Input"],

Cell[BoxData[
 RowBox[{
  RowBox[{"nobetas", "=", " ", 
   RowBox[{"mfsDeleteColumn", "[", 
    RowBox[{
     RowBox[{"OPTICS", "[", "0", "]"}], ",", 
     RowBox[{"{", 
      RowBox[{"\"\<BETX\>\"", ",", "\"\<BETY\>\""}], "}"}]}], "]"}]}], 
  ";"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsKeyNames", "[", "nodx", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"GAMTR\"\>", ",", "\<\"ALFA\"\>", ",", "\<\"XIY\"\>", 
   ",", "\<\"XIX\"\>", ",", "\<\"QY\"\>", ",", "\<\"QX\"\>", 
   ",", "\<\"CIRCUM\"\>", ",", "\<\"TYPE\"\>", ",", "\<\"COMMENT\"\>", 
   ",", "\<\"ORIGIN\"\>", ",", "\<\"DATE\"\>", ",", "\<\"TIME\"\>"}], 
  "}"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsColumnNames", "[", "nodx", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"NAME\"\>", ",", "\<\"BETX\"\>", ",", "\<\"BETY\"\>"}], 
  "}"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsColumnNames", "[", "nobetas", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"NAME\"\>", ",", "\<\"DX\"\>"}], "}"}]], "Output"]
}, Open  ]],

Cell["\<\
We shall use these reduced data objects in the next subsection.\
\>", "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Merging several mfs objects and making sure they match", "Subsubsection"],

Cell[TextData[{
 "It is often useful to be able to combine the contents of two or more table \
files generated by MAD.  For example you may want to combine SURVEY and TWISS \
information for the same set of elements.  The function ",
 StyleBox["mfsMerge", "Input"],
 " allows you to combine two mfs objects.  Using it, we can recombine the two \
partial optics tables "
}], "Text"],

Cell[BoxData[
 RowBox[{
  RowBox[{"togetherAgain", "=", 
   RowBox[{"mfsMerge", "[", 
    RowBox[{"{", 
     RowBox[{"nodx", ",", "nobetas"}], "}"}], "]"}]}], ";"}]], "Input"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"mfsColumnNames", "[", "togetherAgain", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"BETX\"\>", ",", "\<\"BETY\"\>", ",", "\<\"DX\"\>", 
   ",", "\<\"NAME\"\>"}], "}"}]], "Output"]
}, Open  ]],

Cell["\<\
The columns of data in the mfs objects must be of the same length.  If column \
names are duplicated in more than one of the mfs objects only the column \
belonging to the first mfs object in the list is retained.   \
\>", "Text"],

Cell[TextData[{
 "In addition, the function ",
 StyleBox["mfsMerge", "Input"],
 " has an option designed to ensure that columns that are duplicated in more \
than one of the mfs objects are identical or, in the case of numerical data, \
equal to machine precision.  By default only the columns called \"NAME\" are \
checked."
}], "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Options", "[", "mfsMerge", "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"matchColumns", "\[Rule]", 
   RowBox[{"{", "\<\"NAME\"\>", "}"}]}], "}"}]], "Output"]
}, Open  ]],

Cell["\<\
To enforce the stronger requirement, that all columns with identical names \
match up, do\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"SetOptions", "[", 
  RowBox[{"mfsMerge", ",", 
   RowBox[{"matchColumns", "->", "Automatic"}]}], "]"}]], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"matchColumns", "\[Rule]", "Automatic"}], "}"}]], "Output"]
}, Open  ]],

Cell[TextData[{
 "or give the option on individual calls to ",
 StyleBox["mfsMerge", "Input"],
 "."
}], "Text"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Reversing the order in the columns", "Subsubsection"],

Cell["\<\
In MAD, calculations for electrons have to be done with the sequence of \
elements reversed with respect to that for positrons.  So we need a function \
to reverse the order of the rows in the block of columns :\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Short", "[", 
  RowBox[{
   RowBox[{"mfsColumn", "[", 
    RowBox[{
     RowBox[{"mfsReverse", "[", " ", 
      RowBox[{"OPTICS", "[", "0", "]"}], "]"}], ",", "\"\<NAME\>\""}], "]"}], 
   ",", "7"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[
  RowBox[{"{", 
   RowBox[{"\<\"ENDLEP\"\>", ",", "\<\"PU.QL1B.L1\"\>", 
    ",", "\<\"PU.QL2B.L1\"\>", ",", "\<\"PU.QL4B.L1\"\>", 
    ",", "\<\"PU.QL5.L1\"\>", ",", "\<\"PU.QL6.L1\"\>", 
    ",", "\<\"PU.QL7.L1\"\>", ",", "\<\"PU.QL8.L1\"\>", 
    ",", "\<\"PU.QL9.L1\"\>", ",", "\<\"PU.QL10.L1\"\>", 
    ",", "\<\"PU.QL11.L1\"\>", ",", "\<\"PU.QL12.L1\"\>", 
    ",", "\<\"PU.QL14.L1\"\>", ",", "\<\"PU.QL15.L1\"\>", 
    ",", "\<\"PU.QL16.L1\"\>", ",", 
    RowBox[{"\[LeftSkeleton]", "480", "\[RightSkeleton]"}], 
    ",", "\<\"PU.QL15.R1\"\>", ",", "\<\"PU.QL14.R1\"\>", 
    ",", "\<\"PU.QL12.R1\"\>", ",", "\<\"PU.QL11.R1\"\>", 
    ",", "\<\"PU.QL10.R1\"\>", ",", "\<\"PU.QL9.R1\"\>", 
    ",", "\<\"PU.QL8.R1\"\>", ",", "\<\"PU.QL7.R1\"\>", 
    ",", "\<\"PU.QL6.R1\"\>", ",", "\<\"PU.QL5.R1\"\>", 
    ",", "\<\"PU.QL4B.R1\"\>", ",", "\<\"PU.QL2B.R1\"\>", 
    ",", "\<\"PU.QL1B.R1\"\>", ",", "\<\"IP1\"\>"}], "}"}],
  Short[#, 7]& ]], "Output"]
}, Open  ]],

Cell["\<\
Other changes to the columns of data have not been implemented so far.\
\>", "Text",
 CellTags->"Examples section"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Saving an mfs object in a file", "Subsubsection"],

Cell["\<\
The new version of the object can then be saved in a file specified by the \
user.  Here we take a temporary file.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[{
 RowBox[{
  RowBox[{"junk", "=", 
   RowBox[{"OpenWrite", "[", "]"}]}], ";"}], "\n", 
 RowBox[{
  RowBox[{"Save", "[", 
   RowBox[{"junk", ",", "qpmfs"}], "]"}], ";"}], "\n", 
 RowBox[{"Close", "[", "junk", "]"}]}], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"C:\\\\TEMP\\\\000008a00269\"\>"], "Output"]
}, Open  ]],

Cell[TextData[{
 "Of course, a file can contain any number of mfs objects together with other \
",
 StyleBox["Mathematica",
  FontSlant->"Italic"],
 " objects."
}], "Text",
 CellTags->"Examples section"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Updating files created with earlier  versions of the package", \
"Subsection"],

Cell["\<\
Some functions names were changed in Version 2.0.  The following set of rules \
gives the correspondences.\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData["mfsVersion2UpdateRules"], "Input"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"interpretDescriptors\"\>", 
    "\[Rule]", "\<\"mfsInterpretKeys\"\>"}], ",", 
   RowBox[{"\<\"keyValue\"\>", "\[Rule]", "\<\"mfsKeyValue\"\>"}], ",", 
   RowBox[{"\<\"columnNames\"\>", "\[Rule]", "\<\"mfsColumnNames\"\>"}], ",", 
   
   RowBox[{"\<\"descriptorNames\"\>", "\[Rule]", "\<\"mfsKeyNames\"\>"}], ",", 
   RowBox[{"\<\"colValue\"\>", "\[Rule]", "\<\"mfsColumnValue\"\>"}], ",", 
   RowBox[{"\<\"addDescriptor\"\>", "\[Rule]", "\<\"mfsAddKey\"\>"}], ",", 
   RowBox[{"\<\"editDescriptor\"\>", "\[Rule]", "\<\"mfsEditKey\"\>"}], ",", 
   RowBox[{"\<\"deleteDescriptor\"\>", "\[Rule]", "\<\"mfsDeleteKey\"\>"}], 
   ",", 
   RowBox[{"\<\"symplecticJ\"\>", "\[Rule]", "\<\"SymplecticJ\"\>"}]}], 
  "}"}]], "Output"]
}, Open  ]],

Cell["\<\
In fact, the old names still work but generate warning messages.  To update \
notebooks and other files based on older versions of the package you can use \
the function\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "mfsVersion2Update"}]], "Input"],

Cell[BoxData["\<\"mfsVersion2Update[oldfile,newfile] will create a new \
version of a file in which names of functions in Version 1.x of the \
Madtomma`Mfs`Mfs` package are changed to their equivalents in Version \
2.x.\"\>"], "Print"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Miscellaneous extra functionality  and utilities", "Subsection",
 CellTags->"Examples section"],

Cell["\<\
The previous subsection illustrated the most important functions in the \
package.  Other functions in the package are inteneded to be used internally. \
 However some of them may be useful to the user and have been made visible.  \
Their names are given by listing all the names in the package context.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Names", "[", "\"\<Madtomma`Mfs`Mfs`*\>\"", "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"addDescriptor\"\>", ",", "\<\"columnNames\"\>", 
   ",", "\<\"colValue\"\>", ",", "\<\"deleteDescriptor\"\>", 
   ",", "\<\"descriptorNames\"\>", ",", "\<\"editDescriptor\"\>", 
   ",", "\<\"interpretDescriptors\"\>", ",", "\<\"interpretTagValue\"\>", 
   ",", "\<\"keepTemporaryFile\"\>", ",", "\<\"keyValue\"\>", 
   ",", "\<\"matchColumns\"\>", ",", "\<\"mfs\"\>", ",", "\<\"Mfs\"\>", 
   ",", "\<\"mfsAddColumn\"\>", ",", "\<\"mfsAddKey\"\>", 
   ",", "\<\"mfsColumn\"\>", ",", "\<\"mfsColumnMatch\"\>", 
   ",", "\<\"mfsColumnNames\"\>", ",", "\<\"mfsColumnValue\"\>", 
   ",", "\<\"mfsDeleteColumn\"\>", ",", "\<\"mfsDeleteKey\"\>", 
   ",", "\<\"mfsEditKey\"\>", ",", "\<\"mfsInterpret\"\>", 
   ",", "\<\"mfsInterpretColumns\"\>", ",", "\<\"mfsInterpretKeys\"\>", 
   ",", "\<\"mfsKeyNames\"\>", ",", "\<\"mfsKeyValue\"\>", 
   ",", "\<\"mfsMember\"\>", ",", "\<\"mfsMerge\"\>", 
   ",", "\<\"mfsNotMember\"\>", ",", "\<\"mfsRange\"\>", 
   ",", "\<\"mfsReverse\"\>", ",", "\<\"mfsSelect\"\>", 
   ",", "\<\"mfsTypes\"\>", ",", "\<\"mfsVerbose\"\>", 
   ",", "\<\"mfsVersion2Update\"\>", ",", "\<\"mfsVersion2UpdateRules\"\>", 
   ",", "\<\"removeQuotes\"\>", ",", "\<\"removeUnwantedLines\"\>", 
   ",", "\<\"stringRemoveLeadingTrailingBlanks\"\>", 
   ",", "\<\"tfsFormatRules\"\>", ",", "\<\"tfsParseDescriptorLine\"\>", 
   ",", "\<\"tfsParseHeaderBlock\"\>", ",", "\<\"tfsRead\"\>"}], 
  "}"}]], "Output"]
}, Open  ]],

Cell["\<\
Some of them are illustrated in the following (hidden) subsections.  All have \
usage messages that can be seen by prefixing their names with a question mark \
in the usual way.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell["Removing lines  from a file", "Subsubsection",
 CellTags->"Examples section"],

Cell["\<\
This function is used internally but may be useful for other purposes.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "removeUnwantedLines"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"removeUnwantedLines[infile,outfile,string] copies file \
infile to outfile, removing all lines containing string.\"\>"], "Print"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"junk", "=", 
   RowBox[{"First", "[", 
    RowBox[{"OpenWrite", "[", "]"}], "]"}]}], ";", 
  RowBox[{"Close", "[", "%", "]"}]}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{
  RowBox[{"General", "::", "\<\"stream\"\>"}], ":", 
  " ", "\<\"\\!\\(Null\\) is not a string, InputStream[ ], or OutputStream[ \
].\"\>"}]], "Message"],

Cell[BoxData[
 RowBox[{"Close", "[", "Null", "]"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Close", "[", "junk", "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"C:\\\\TEMP\\\\000009a00269\"\>"], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"removeUnwantedLines", "[", 
  RowBox[{"sampleFile", ",", "junk", ",", "\"\<Segment\>\"", ",", 
   RowBox[{"mfsVerbose", "->", "False"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"C:\\\\TEMP\\\\000009a00269\"\>"], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Removing quotes from strings", "Subsubsection",
 CellTags->"Examples section"],

Cell["\<\
This function is used internally but may be useful for other purposes.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "removeQuotes"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"removeQuotes[x] will remove any double quotes \\\" \
explicitly included in a string x.  If x is not a string then it is returned \
unchanged.\"\>"], "Print"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"removeQuotes", "[", "\"\<\\\"IP4\\\"\>\"", "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"IP4\"\>"], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Examples for Descriptor Lines", "Subsubsection",
 CellTags->"Examples section"],

Cell["\<\
This function is probably of limited use outside the package.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "tfsParseDescriptorLine"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"tfsParseDescriptorLine[string] takes a TFS descriptor line \
as a string and returns a list consisting of the TFS key and its \
value.\"\>"], "Print"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tfsParseDescriptorLine", "[", 
  "\"\<@ X                %le    -.388353611751E-03\>\"", "\n", "\t\t", 
  "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"X\"\>", ",", 
   RowBox[{"-", "0.00038835361175100004`"}]}], "}"}]], "Output"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tfsParseDescriptorLine", "[", 
  "\"\<@ TYPE             %08s \\\"TRACK\\\" \>\"", "\n", "\t\t", 
  "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"TYPE\"\>", ",", "\<\"TRACK\"\>"}], "}"}]], "Output"]
}, Open  ]],

Cell["\<\
(To make the next example work, we have to insert backslashes before the \
quotes to simulate the value we would get when reading the line from a file.)\
\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{
  "tfsParseDescriptorLine", "[", "\n", "\t", 
   "\"\<@ ORIGIN           %24s \\\"MAD 8.21/11 RS6000 - AIX\\\"\>\"", "\n", 
   "\t\t", "]"}], "//", "FullForm"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 TagBox[
  StyleBox[
   RowBox[{"List", "[", 
    RowBox[{"\"\<ORIGIN\>\"", ",", "\"\<MAD 8.21/11 RS6000 - AIX\>\""}], "]"}],
   ShowSpecialCharacters->False,
   ShowStringCharacters->True,
   NumberMarks->True],
  FullForm]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["The header block", "Subsubsection",
 CellTags->"Examples section"],

Cell["\<\
This function can be useful to preview or summarise what is in a file before \
reading it all in.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"tfsParseHeaderBlock", "[", 
  RowBox[{"sampleFile", ",", 
   RowBox[{"mfsVerbose", "->", "False"}]}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"{", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"\<\"TYPE\"\>", ",", "\<\"TRACK\"\>"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"X\"\>", ",", 
       RowBox[{"-", "0.00038835361175100004`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"PX\"\>", ",", 
       RowBox[{"-", "0.0000167029349567`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"Y\"\>", ",", 
       RowBox[{"-", "0.00038184396626099996`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"PY\"\>", ",", 
       RowBox[{"-", "2.9493485039200003`*^-6"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"ET\"\>", ",", "0.0000102626001956`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"EY\"\>", ",", "1.05428403375`*^-10"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"EX\"\>", ",", "2.98256612951`*^-8"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E11\"\>", ",", "5.25333002895`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E12\"\>", ",", 
       RowBox[{"-", "3.43414759638`*^-17"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E13\"\>", ",", "0.185018159186`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E14\"\>", ",", "0.0829796374966`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E15\"\>", ",", 
       RowBox[{"-", "0.0026510085008000003`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E16\"\>", ",", 
       RowBox[{"-", "0.0111704421761`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E21\"\>", ",", "0.011563874218500001`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E22\"\>", ",", "0.190232632187`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E23\"\>", ",", "0.00199451841627`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E24\"\>", ",", "0.00440399981552`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E25\"\>", ",", 
       RowBox[{"-", "0.0000414979161278`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E26\"\>", ",", "0.0013772593876200002`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E31\"\>", ",", 
       RowBox[{"-", "0.118845072845`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E32\"\>", ",", "0.0846274349415`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E33\"\>", ",", "5.35717075012`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E34\"\>", ",", "1.0125579562`*^-16"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E35\"\>", ",", 
       RowBox[{"-", "0.00436134264581`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E36\"\>", ",", 
       RowBox[{"-", "0.00337974309699`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E41\"\>", ",", "0.00148938982552`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E42\"\>", ",", 
       RowBox[{"-", "0.00652173877267`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E43\"\>", ",", "0.003038214738`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E44\"\>", ",", "0.186544772125`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E45\"\>", ",", 
       RowBox[{"-", "0.000051178374618`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E46\"\>", ",", "0.000242385635122`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E51\"\>", ",", 
       RowBox[{"-", "0.0174585465196`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E52\"\>", ",", 
       RowBox[{"-", "0.0050503245767`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E53\"\>", ",", 
       RowBox[{"-", "0.00377175447184`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E54\"\>", ",", 
       RowBox[{"-", "0.0018883004966399998`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E55\"\>", ",", "2.37836715853`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E56\"\>", ",", 
       RowBox[{"-", "7.68138184883`*^-17"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E61\"\>", ",", 
       RowBox[{"-", "0.000102914870556`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E62\"\>", ",", "0.000189745354973`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E63\"\>", ",", 
       RowBox[{"-", "0.00011706941393`"}]}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E64\"\>", ",", "0.000342355037377`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E65\"\>", ",", "0.004009558592179999`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"E66\"\>", ",", "0.420458776176`"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"COMMENT\"\>", ",", "\<\"\"\>"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"ORIGIN\"\>", ",", "\<\"MAD 8.21/11 RS6000 - AIX\"\>"}], 
      "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"DATE\"\>", ",", "\<\"01/05/97\"\>"}], "}"}], ",", 
     RowBox[{"{", 
      RowBox[{"\<\"TIME\"\>", ",", "\<\"15.40.36\"\>"}], "}"}]}], "}"}], ",", 
   
   RowBox[{"{", 
    RowBox[{
    "Number", ",", "Number", ",", "Number", ",", "Number", ",", "Number", ",",
      "Number", ",", "Number", ",", "Number"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"\<\"TURNS\"\>", ",", "\<\"PARTICLE\"\>", ",", "\<\"X\"\>", 
     ",", "\<\"PX\"\>", ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"T\"\>",
      ",", "\<\"DELTAP\"\>"}], "}"}], ",", "2335"}], "}"}]], "Output"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Supplementary details about generating new variables", "Subsubsection",
 CellTags->"Examples section"],

Cell[TextData[{
 "We saw how the function ",
 StyleBox["mfsInterpret", "Input"],
 " can be used to create new symbols in the Global context.  This works as \
follows.  The ",
 StyleBox["Mfs", "Input"],
 " package contains a function which creates a symbol from a string and \
assigns it a value."
}], "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "interpretTagValue"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["\<\"interpretTagValue[{\\\"tag\\\",val}] creates a variable tag \
and assigms it the value val.\"\>"], "Print"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"interpretTagValue", "[", 
  RowBox[{"{", 
   RowBox[{"\"\<abc\>\"", ",", "123"}], "}"}], "]"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData["123"], "Output"]
}, Open  ]],

Cell["The symbol now evaluates", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData["abc"], "Input",
 CellTags->"Examples section"],

Cell[BoxData["123"], "Output"]
}, Open  ]],

Cell["\<\
This is used by the following function to create symbols for all the keys in \
an mfs data object.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"mfsInterpret", "[", "qpmfs", "]"}], ";"}]], "InputOnly",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Variables (re-)assigned: \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{"\<\"TYPE\"\>", ",", "\<\"X\"\>", ",", "\<\"PX\"\>", 
     ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"EY\"\>", 
     ",", "\<\"EX\"\>", ",", "\<\"E11\"\>", ",", "\<\"E12\"\>", 
     ",", "\<\"E13\"\>", ",", "\<\"E14\"\>", ",", "\<\"E15\"\>", 
     ",", "\<\"E16\"\>", ",", "\<\"E21\"\>", ",", "\<\"E22\"\>", 
     ",", "\<\"E23\"\>", ",", "\<\"E24\"\>", ",", "\<\"E25\"\>", 
     ",", "\<\"E26\"\>", ",", "\<\"E31\"\>", ",", "\<\"E32\"\>", 
     ",", "\<\"E33\"\>", ",", "\<\"E34\"\>", ",", "\<\"E35\"\>", 
     ",", "\<\"E36\"\>", ",", "\<\"E41\"\>", ",", "\<\"E42\"\>", 
     ",", "\<\"E43\"\>", ",", "\<\"E44\"\>", ",", "\<\"E45\"\>", 
     ",", "\<\"E46\"\>", ",", "\<\"E51\"\>", ",", "\<\"E52\"\>", 
     ",", "\<\"E53\"\>", ",", "\<\"E54\"\>", ",", "\<\"E55\"\>", 
     ",", "\<\"E56\"\>", ",", "\<\"E61\"\>", ",", "\<\"E62\"\>", 
     ",", "\<\"E63\"\>", ",", "\<\"E64\"\>", ",", "\<\"E65\"\>", 
     ",", "\<\"E66\"\>", ",", "\<\"COMMENT\"\>", ",", "\<\"ORIGIN\"\>", 
     ",", "\<\"DATE\"\>", ",", "\<\"TIME\"\>", ",", "\<\"REMARK\"\>", 
     ",", "\<\"KICKVALUE\"\>", ",", "\<\"AMATRIX\"\>"}], "}"}]}],
  SequenceForm[
  "Variables (re-)assigned: ", {
   "TYPE", "X", "PX", "Y", "PY", "EY", "EX", "E11", "E12", "E13", "E14", 
    "E15", "E16", "E21", "E22", "E23", "E24", "E25", "E26", "E31", "E32", 
    "E33", "E34", "E35", "E36", "E41", "E42", "E43", "E44", "E45", "E46", 
    "E51", "E52", "E53", "E54", "E55", "E56", "E61", "E62", "E63", "E64", 
    "E65", "E66", "COMMENT", "ORIGIN", "DATE", "TIME", "REMARK", "KICKVALUE", 
    "AMATRIX"}],
  Editable->False]], "Print"],

Cell[BoxData[
 InterpretationBox[
  RowBox[{"\<\"Variables (re-)assigned: \"\>", "\[InvisibleSpace]", 
   RowBox[{"{", 
    RowBox[{"\<\"TURNS\"\>", ",", "\<\"PARTICLE\"\>", ",", "\<\"X\"\>", 
     ",", "\<\"PX\"\>", ",", "\<\"Y\"\>", ",", "\<\"PY\"\>", ",", "\<\"T\"\>",
      ",", "\<\"DELTAP\"\>"}], "}"}]}],
  SequenceForm[
  "Variables (re-)assigned: ", {
   "TURNS", "PARTICLE", "X", "PX", "Y", "PY", "T", "DELTAP"}],
  Editable->False]], "Print"]
}, Open  ]]
}, Open  ]],

Cell["\<\
Now we can evaluate them or use them in calculations by referring to their \
names.\
\>", "Text",
 CellTags->"Examples section"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"TYPE", ",", 
   FractionBox["KICKVALUE", 
    SqrtBox[
     RowBox[{"EX", "+", "EY"}]]]}], "}"}]], "Input",
 CellTags->"Examples section"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"TRACK\"\>", ",", "23.120580136360722`"}], "}"}]], "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["Palettes for this package", "Section",
 CellTags->"palette"],

Cell[TextData[{
 "Mathematica's palettes provide a convenient way to input commands without \
having to remember their names or  syntax. They also help considerably to \
reduce syntax errors when you build up complex expressions. By selecting it \
ant then using the ",
 StyleBox["File/Generate Palette from Selection",
  FontWeight->"Bold"],
 " command, the following input cell can be transformed into a palette \
containing templates for the most commonly used commands in this package.  "
}], "Text"],

Cell[BoxData[GridBox[{
   {
    ButtonBox[
     StyleBox[
      RowBox[{"Needs", "[", "\<\"Madtomma`Mfs`Mfs`\"\>", "]"}], "Input"]]},
   {
    ButtonBox[
     RowBox[{"mfsInterpret", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox[
     RowBox[{"tfsRead", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsKeyNames", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsKeyValue", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", "\[Placeholder]"}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsColumnNames", "[", "\[SelectionPlaceholder]", "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsColumn", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", "\<\"\[Placeholder]\"\>"}], 
      "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsColumn", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", 
       RowBox[{"{", 
        RowBox[{"\<\"\[Placeholder]\"\>", ",", "\<\"\[Placeholder]\"\>"}], 
        "}"}]}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsMember", "[", 
      RowBox[{
      "\[SelectionPlaceholder]", ",", "\<\"\[Placeholder]\"\>", 
       ",", "\<\"\[Placeholder]\"\>"}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsRange", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", "\<\"\[Placeholder]\"\>", ",", 
       RowBox[{"{", 
        RowBox[{"\[Placeholder]", ",", "\[Placeholder]"}], "}"}]}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsSelect", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", "\[Placeholder]"}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsColumnValue", "[", 
      RowBox[{
      "\[SelectionPlaceholder]", ",", "\[Placeholder]", 
       ",", "\<\"\[Placeholder]\"\>"}], "]"}]]}
  },
  GridBoxSpacings->{"Columns" -> {
      Offset[0.27999999999999997`], {
       Offset[0.]}, 
      Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
      Offset[0.2], {
       Offset[0.]}, 
      Offset[0.2]}, "RowsIndexed" -> {}},
  GridDefaultElement:>ButtonBox["\\[Placeholder]"]]], "Input",
 CellMargins->{{Inherited, Inherited}, {5, Inherited}},
 Evaluatable->True,
 CellGroupingRules->"InputGrouping",
 PageBreakAbove->True,
 PageBreakWithin->False,
 GroupPageBreakWithin->False,
 CellLabelMargins->{{11, Inherited}, {Inherited, Inherited}},
 DefaultFormatType->DefaultInputFormatType,
 LineSpacing->{1.25, 0},
 AutoItalicWords->{},
 ScriptMinSize->9,
 ShowStringCharacters->True,
 NumberMarks->True,
 CounterIncrements->"Input",
 StyleMenuListing->None,
 FontFamily->"Courier",
 FontWeight->"Bold"],

Cell[TextData[{
 "The option ",
 StyleBox["ShowGroupOpenCloseIcon->True ", "Input"],
 "is useful in palettes.  Note that the palette buttons are most useful if \
you first select a part of an expression on your screen to which you want to \
apply them. "
}], "Text"],

Cell["\<\
Generating your own palette from this notebook has the advantage that you can \
modify it to your taste.  Otherwise, the default ready-made palette will \
appear automatically on your screen when you load the package (if you don't \
want it, just close it).\
\>", "Text"],

Cell["\<\
Of course, you can also generate commands quickly by other standard \
mechanisms such as auto-completion (Ctrl-K or Ctrl-Shift-K).   As in all \
properly constructed packages, every function has an associated usage message \
giving brief instructions, e.g.,\
\>", "Text"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"?", "interpretDescriptors"}]], "Input"],

Cell[BoxData["\<\"Obsolete function name.  Please use \
mfsInterpretKeys.\"\>"], "Print"]
}, Open  ]],

Cell[TextData[{
 "Here is another palette for the functions used to modify mfs objects.  It \
is available as ",
 StyleBox["MfsEditPalette.nb.", "Input"]
}], "Text"],

Cell[BoxData[GridBox[{
   {
    ButtonBox[
     RowBox[{"mfsAddKey", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", 
       RowBox[{"{", 
        RowBox[{"\[Placeholder]", ",", "\[Placeholder]"}], "}"}]}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsEditKey", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", 
       RowBox[{"{", 
        RowBox[{"\[Placeholder]", ",", "\[Placeholder]"}], "}"}]}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsDeleteKey", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", "\[Placeholder]"}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsAddColumn", "[", 
      RowBox[{
      "\[SelectionPlaceholder]", ",", "\[Placeholder]", ",", 
       "\[Placeholder]"}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsDeleteColumn", "[", 
      RowBox[{"\[SelectionPlaceholder]", ",", "\[Placeholder]"}], "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsMerge", "[", 
      RowBox[{"{", 
       RowBox[{"\[SelectionPlaceholder]", ",", "\[Placeholder]"}], "}"}], 
      "]"}]]},
   {
    ButtonBox[
     RowBox[{"mfsReverse", "[", "\[SelectionPlaceholder]", "]"}]]}
  },
  GridBoxSpacings->{"Columns" -> {
      Offset[0.27999999999999997`], {
       Offset[0.]}, 
      Offset[0.27999999999999997`]}, "ColumnsIndexed" -> {}, "Rows" -> {
      Offset[0.2], {
       Offset[0.]}, 
      Offset[0.2]}, "RowsIndexed" -> {}},
  GridDefaultElement:>ButtonBox["\\[Placeholder]"]]], "Input"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Bibliography", "Section"],

Cell["\<\
[1] Stephen Wolfram, The Mathematica Book, 3rd ed., Wolfram Media/Cambridge \
University Press, 1996.\
\>", "Text",
 CellTags->"Wolfram book"],

Cell[TextData[{
 "[2]  Roman Maeder, ",
 StyleBox["Programming in Mathematica",
  FontSlant->"Italic"],
 ", 3rd ed. Addison-Wesley, 1996"
}], "Text",
 CellTags->"Maeder book"],

Cell[TextData[ButtonBox["\thttp://www.wolfram.com/~maeder/ProgInMath/",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://www.wolfram.com/~maeder/ProgInMath/"], None}]], "Program"],

Cell["[3] The MAD  Home Page", "Text",
 CellTags->"MAD manual"],

Cell[TextData[ButtonBox["\thttp://wwwslap.cern.ch/mad/",
 BaseStyle->"Hyperlink",
 ButtonData:>{
   URL["http://wwwslap.cern.ch/mad/"], None}]], "Program"]
}, Open  ]]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
ScreenStyleEnvironment->"Working",
WindowToolbars->"EditBar",
InitializationCellEvaluation->False,
CellGrouping->Automatic,
WindowSize->{1672, 925},
WindowMargins->{{0, Automatic}, {Automatic, 0}},
PrintingCopies->1,
PrintingPageRange->{Automatic, Automatic},
PrintingOptions->{"GraphicsPrintingFormat"->"DownloadPostScript"},
PrivateNotebookOptions->{"ColorPalette"->{RGBColor, 128}},
ShowSelection->True,
ShowCellLabel->True,
RenderingOptions->{"ObjectDithering"->True,
"RasterDithering"->False},
PrivateFontOptions->{"FontType"->"Outline"},
FrontEndVersion->"7.0 for Microsoft Windows (32-bit) (February 18, 2009)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{
 "Examples section"->{
  Cell[131718, 4152, 75, 1, 69, "Section",
   CellTags->"Examples section"],
  Cell[131818, 4157, 96, 1, 36, "Subsection",
   CellTags->"Examples section"],
  Cell[131917, 4160, 357, 6, 44, "Text",
   CellTags->"Examples section"],
  Cell[132299, 4170, 400, 10, 28, "Input",
   CellTags->"Examples section"],
  Cell[133086, 4196, 181, 5, 28, "Text",
   CellTags->"Examples section"],
  Cell[133292, 4205, 65, 1, 28, "Input",
   CellTags->"Examples section"],
  Cell[133427, 4212, 117, 3, 27, "Text",
   CellTags->"Examples section"],
  Cell[133569, 4219, 81, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[133790, 4227, 208, 5, 27, "Text",
   CellTags->"Examples section"],
  Cell[134001, 4234, 223, 7, 27, "InputOnly",
   CellTags->"Examples section"],
  Cell[134227, 4243, 296, 6, 44, "Text",
   CellTags->"Examples section"],
  Cell[134526, 4251, 359, 7, 45, "Text",
   CellTags->"Examples section"],
  Cell[134888, 4260, 180, 5, 28, "Text",
   CellTags->"Examples section"],
  Cell[135093, 4269, 116, 3, 28, "Input",
   CellTags->"Examples section"],
  Cell[137279, 4327, 229, 7, 28, "Text",
   CellTags->"Examples section"],
  Cell[181882, 6169, 86, 1, 36, "Subsection",
   CellTags->"Examples section"],
  Cell[182425, 6185, 104, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[182532, 6188, 389, 10, 44, "Text",
   CellTags->"Examples section"],
  Cell[182946, 6202, 99, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[184137, 6226, 177, 5, 28, "Text",
   CellTags->"Examples section"],
  Cell[184339, 6235, 174, 4, 28, "Input",
   CellTags->"Examples section"],
  Cell[184598, 6246, 135, 3, 28, "Input",
   CellTags->"Examples section"],
  Cell[184810, 6254, 183, 7, 28, "Text",
   CellTags->"Examples section"],
  Cell[185018, 6265, 131, 3, 28, "Input",
   CellTags->"Examples section"],
  Cell[185323, 6276, 143, 4, 27, "Text",
   CellTags->"Examples section"],
  Cell[185491, 6284, 235, 7, 28, "Input",
   CellTags->"Examples section"],
  Cell[185997, 6302, 162, 6, 27, "Text",
   CellTags->"Examples section"],
  Cell[186184, 6312, 230, 6, 28, "Input",
   CellTags->"Examples section"],
  Cell[186528, 6327, 104, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[186635, 6330, 153, 4, 27, "Text",
   CellTags->"Examples section"],
  Cell[186813, 6338, 102, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[187156, 6349, 146, 4, 28, "Text",
   CellTags->"Examples section"],
  Cell[187327, 6357, 83, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[187716, 6367, 235, 5, 28, "Text",
   CellTags->"Examples section"],
  Cell[187976, 6376, 204, 6, 28, "Input",
   CellTags->"Examples section"],
  Cell[189296, 6409, 289, 6, 28, "Text",
   CellTags->"Examples section"],
  Cell[189610, 6419, 340, 10, 28, "Input",
   CellTags->"Examples section"],
  Cell[191938, 6491, 437, 11, 28, "Text",
   CellTags->"Examples section"],
  Cell[192400, 6506, 94, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[206889, 7252, 118, 4, 28, "Text",
   CellTags->"Examples section"],
  Cell[207032, 7260, 130, 3, 28, "Input",
   CellTags->"Examples section"],
  Cell[207331, 7271, 233, 6, 28, "Text",
   CellTags->"Examples section"],
  Cell[207589, 7281, 154, 4, 28, "Input",
   CellTags->"Examples section"],
  Cell[209383, 7330, 237, 6, 28, "Text",
   CellTags->"Examples section"],
  Cell[209645, 7340, 134, 3, 28, "Input",
   CellTags->"Examples section"],
  Cell[209906, 7353, 116, 2, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[213697, 7497, 151, 6, 37, "Subsection",
   CellTags->"Examples section"],
  Cell[213851, 7505, 797, 14, 77, "Text",
   CellTags->"Examples section"],
  Cell[214651, 7521, 154, 4, 27, "Text",
   CellTags->"Examples section"],
  Cell[214830, 7529, 79, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[214912, 7532, 188, 6, 28, "Text",
   CellTags->"Examples section"],
  Cell[215125, 7542, 418, 10, 28, "Input",
   CellTags->"Examples section"],
  Cell[215703, 7558, 241, 7, 28, "Input",
   CellTags->"Examples section"],
  Cell[215969, 7569, 131, 3, 28, "Input",
   CellTags->"Examples section"],
  Cell[216291, 7583, 81, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[216375, 7586, 775, 24, 45, "Text",
   CellTags->"Examples section"],
  Cell[217175, 7614, 83, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[217410, 7622, 460, 11, 45, "Text",
   CellTags->"Examples section"],
  Cell[217895, 7637, 227, 6, 28, "Input",
   CellTags->"Examples section"],
  Cell[218297, 7653, 182, 5, 28, "Input",
   CellTags->"Examples section"],
  Cell[218542, 7663, 535, 17, 46, "Text",
   CellTags->"Examples section"],
  Cell[219080, 7682, 429, 13, 28, "Input",
   CellTags->"Examples section"],
  Cell[219512, 7697, 306, 11, 29, "Text",
   CellTags->"Examples section"],
  Cell[219843, 7712, 295, 8, 28, "Input",
   CellTags->"Examples section"],
  Cell[221039, 7746, 350, 11, 29, "Text",
   CellTags->"Examples section"],
  Cell[221414, 7761, 673, 19, 28, "Input",
   CellTags->"Examples section"],
  Cell[223094, 7809, 428, 13, 28, "Text",
   CellTags->"Examples section"],
  Cell[223547, 7826, 593, 17, 28, "Input",
   CellTags->"Examples section"],
  Cell[226173, 7899, 579, 16, 46, "Text",
   CellTags->"Examples section"],
  Cell[226755, 7917, 454, 14, 28, "Input",
   CellTags->"Examples section"],
  Cell[227234, 7935, 293, 8, 28, "Input",
   CellTags->"Examples section"],
  Cell[228120, 7963, 82, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[228205, 7966, 609, 18, 28, "Input",
   CellTags->"Examples section"],
  Cell[228851, 7989, 85, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[228939, 7992, 220, 5, 27, "Text",
   CellTags->"Examples section"],
  Cell[229162, 7999, 177, 4, 27, "Text",
   CellTags->"Examples section"],
  Cell[229342, 8005, 225, 7, 28, "Input",
   CellTags->"Examples section"],
  Cell[229592, 8016, 209, 6, 28, "Input",
   CellTags->"Examples section"],
  Cell[231881, 8081, 297, 8, 28, "Input",
   CellTags->"Examples section"],
  Cell[232870, 8111, 325, 9, 28, "Text",
   CellTags->"Examples section"],
  Cell[233198, 8122, 284, 8, 28, "Input",
   CellTags->"Examples section"],
  Cell[233507, 8134, 271, 8, 28, "Input",
   CellTags->"Examples section"],
  Cell[234583, 8168, 267, 9, 28, "Text",
   CellTags->"Examples section"],
  Cell[234853, 8179, 294, 9, 28, "Input",
   CellTags->"Examples section"],
  Cell[235172, 8192, 132, 3, 28, "Input",
   CellTags->"Examples section"],
  Cell[235521, 8206, 79, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[235603, 8209, 606, 16, 46, "Text",
   CellTags->"Examples section"],
  Cell[236212, 8227, 542, 17, 28, "Input",
   CellTags->"Examples section"],
  Cell[236779, 8248, 115, 3, 28, "Input",
   CellTags->"Examples section"],
  Cell[237599, 8269, 261, 10, 28, "Text",
   CellTags->"Examples section"],
  Cell[237885, 8283, 87, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[238147, 8293, 370, 10, 28, "Input",
   CellTags->"Examples section"],
  Cell[244153, 8468, 129, 5, 37, "Subsection",
   CellTags->"Examples section"],
  Cell[244374, 8479, 271, 9, 27, "Text",
   CellTags->"Examples section"],
  Cell[244648, 8490, 284, 9, 28, "Input",
   CellTags->"Examples section"],
  Cell[244935, 8501, 328, 10, 32, "Input",
   CellTags->"Examples section"],
  Cell[245266, 8513, 497, 15, 44, "Input",
   CellTags->"Examples section"],
  Cell[245788, 8532, 173, 5, 28, "Input",
   CellTags->"Examples section"],
  Cell[246789, 8570, 256, 7, 28, "Text",
   CellTags->"Examples section"],
  Cell[247070, 8581, 136, 3, 28, "Input",
   CellTags->"Examples section"],
  Cell[247259, 8589, 90, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[247352, 8592, 287, 9, 28, "Input",
   CellTags->"Examples section"],
  Cell[247664, 8605, 136, 3, 28, "Input",
   CellTags->"Examples section"],
  Cell[247883, 8613, 78, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[247964, 8616, 180, 5, 28, "Input",
   CellTags->"Examples section"],
  Cell[248147, 8623, 73, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[248245, 8628, 99, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[270018, 9746, 266, 5, 27, "Text",
   CellTags->"Examples section"],
  Cell[270309, 9755, 271, 8, 28, "Input",
   CellTags->"Examples section"],
  Cell[271578, 9787, 125, 3, 27, "Text",
   CellTags->"Examples section"],
  Cell[271798, 9797, 169, 4, 27, "Text",
   CellTags->"Examples section"],
  Cell[271992, 9805, 270, 8, 63, "Input",
   CellTags->"Examples section"],
  Cell[272341, 9818, 203, 7, 27, "Text",
   CellTags->"Examples section"],
  Cell[274245, 9881, 101, 1, 36, "Subsection",
   CellTags->"Examples section"],
  Cell[274349, 9884, 358, 6, 44, "Text",
   CellTags->"Examples section"],
  Cell[274732, 9894, 114, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[276326, 9925, 232, 5, 27, "Text",
   CellTags->"Examples section"],
  Cell[276583, 9934, 83, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[276669, 9937, 125, 3, 27, "Text",
   CellTags->"Examples section"],
  Cell[276819, 9944, 93, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[277099, 9954, 204, 6, 28, "Input",
   CellTags->"Examples section"],
  Cell[277585, 9974, 92, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[277778, 9983, 210, 4, 28, "Input",
   CellTags->"Examples section"],
  Cell[278101, 9995, 84, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[278188, 9998, 125, 3, 27, "Text",
   CellTags->"Examples section"],
  Cell[278338, 10005, 86, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[278640, 10016, 114, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[278844, 10026, 85, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[278932, 10029, 116, 3, 27, "Text",
   CellTags->"Examples section"],
  Cell[279073, 10036, 96, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[279377, 10047, 177, 4, 46, "Input",
   CellTags->"Examples section"],
  Cell[279716, 10061, 171, 4, 46, "Input",
   CellTags->"Examples section"],
  Cell[280001, 10072, 209, 5, 27, "Text",
   CellTags->"Examples section"],
  Cell[280235, 10081, 237, 6, 63, "Input",
   CellTags->"Examples section"],
  Cell[280774, 10103, 72, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[280849, 10106, 152, 4, 27, "Text",
   CellTags->"Examples section"],
  Cell[281026, 10114, 173, 4, 28, "Input",
   CellTags->"Examples section"],
  Cell[286517, 10256, 108, 1, 26, "Subsubsection",
   CellTags->"Examples section"],
  Cell[286628, 10259, 339, 9, 45, "Text",
   CellTags->"Examples section"],
  Cell[286992, 10272, 91, 2, 28, "Input",
   CellTags->"Examples section"],
  Cell[287248, 10282, 160, 4, 28, "Input",
   CellTags->"Examples section"],
  Cell[287456, 10291, 71, 1, 27, "Text",
   CellTags->"Examples section"],
  Cell[287552, 10296, 60, 1, 28, "Input",
   CellTags->"Examples section"],
  Cell[287660, 10302, 153, 4, 27, "Text",
   CellTags->"Examples section"],
  Cell[287838, 10310, 122, 3, 27, "InputOnly",
   CellTags->"Examples section"],
  Cell[290190, 10362, 138, 4, 27, "Text",
   CellTags->"Examples section"],
  Cell[290353, 10370, 178, 6, 49, "Input",
   CellTags->"Examples section"]},
 "Interface section"->{
  Cell[23825, 740, 87, 2, 70, "Section",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[23915, 744, 154, 4, 27, "Text",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[24094, 752, 133, 2, 36, "Subsection",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[24230, 756, 245, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[24512, 768, 153, 4, 36, "Subsection",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[24668, 774, 147, 4, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[24818, 780, 351, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[25172, 790, 296, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[25471, 799, 240, 6, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[25714, 807, 298, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[26015, 816, 320, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[26581, 833, 322, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[26906, 843, 273, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[27182, 852, 338, 8, 28, "Input",
   Evaluatable->False,
   CellTags->"Interface section"],
  Cell[27523, 862, 359, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[27885, 872, 335, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[28223, 882, 337, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[28563, 892, 346, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[28912, 902, 427, 9, 63, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[29342, 913, 272, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[29617, 923, 309, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[29929, 933, 255, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[30187, 943, 278, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[30468, 952, 261, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[30732, 962, 284, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[31019, 971, 262, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[31284, 981, 428, 9, 63, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[31715, 992, 276, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[31994, 1001, 258, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[32255, 1011, 274, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[32532, 1020, 299, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[32834, 1030, 313, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[33150, 1040, 340, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[33493, 1050, 307, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[33803, 1059, 313, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[34852, 1090, 299, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[35154, 1100, 257, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[35414, 1110, 330, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[35747, 1119, 260, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[36010, 1129, 297, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[36310, 1138, 264, 8, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[37254, 1167, 280, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[39553, 1232, 120, 2, 36, "Subsection",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[39676, 1236, 214, 6, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[39893, 1244, 235, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[40131, 1253, 208, 6, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[40342, 1261, 213, 6, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[40558, 1269, 214, 6, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[40775, 1277, 216, 6, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[40994, 1285, 214, 6, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"],
  Cell[41211, 1293, 269, 7, 28, "Input",
   InitializationCell->True,
   CellTags->"Interface section"]},
 "Intrduction section"->{
  Cell[868, 45, 65, 1, 70, "Section",
   CellTags->"Intrduction section"],
  Cell[936, 48, 1192, 38, 91, "Text",
   CellTags->"Intrduction section"],
  Cell[2131, 88, 328, 7, 60, "Text",
   CellTags->"Intrduction section"],
  Cell[2462, 97, 682, 12, 90, "Text",
   CellTags->"Intrduction section"],
  Cell[3147, 111, 659, 12, 90, "Text",
   CellTags->"Intrduction section"],
  Cell[3809, 125, 343, 11, 44, "Text",
   CellTags->"Intrduction section"],
  Cell[5386, 179, 635, 15, 75, "Text",
   CellTags->"Intrduction section"],
  Cell[6024, 196, 555, 14, 59, "Text",
   CellTags->"Intrduction section"],
  Cell[6677, 216, 234, 7, 43, "Text",
   CellTags->"Intrduction section"]},
 "MAD manual"->{
  Cell[297017, 10591, 63, 1, 27, "Text",
   CellTags->"MAD manual"]},
 "Maeder book"->{
  Cell[296651, 10578, 175, 6, 27, "Text",
   CellTags->"Maeder book"]},
 "mfsInterpret"->{
  Cell[137545, 4339, 121, 3, 36, "Subsection",
   CellTags->"mfsInterpret"]},
 "palette"->{
  Cell[290710, 10388, 66, 1, 69, "Section",
   CellTags->"palette"]},
 "Reference section"->{
  Cell[7782, 254, 60, 1, 40, "Section",
   CellTags->"Reference section"],
  Cell[7867, 259, 62, 1, 25, "Subsubsection",
   CellTags->"Reference section"],
  Cell[7932, 262, 132, 5, 27, "Text",
   CellTags->"Reference section"],
  Cell[8101, 272, 63, 1, 25, "Subsubsection",
   CellTags->"Reference section"],
  Cell[8167, 275, 62, 1, 27, "Text",
   CellTags->"Reference section"],
  Cell[8266, 281, 64, 1, 25, "Subsubsection",
   CellTags->"Reference section"],
  Cell[8333, 284, 271, 5, 27, "Text",
   CellTags->"Reference section"],
  Cell[8607, 291, 138, 4, 27, "Text",
   CellTags->"Reference section"],
  Cell[10621, 334, 73, 1, 19, "Subsubsection",
   CellTags->"Reference section"],
  Cell[10697, 337, 52, 1, 27, "Text",
   CellTags->"Reference section"],
  Cell[10786, 343, 129, 5, 25, "Subsubsection",
   CellTags->"Reference section"],
  Cell[10918, 350, 51, 1, 27, "Text",
   CellTags->"Reference section"],
  Cell[11006, 356, 64, 1, 25, "Subsubsection",
   CellTags->"Reference section"],
  Cell[11073, 359, 750, 15, 161, "Text",
   CellTags->"Reference section"],
  Cell[11826, 376, 1118, 24, 112, "Text",
   CellTags->"Reference section"],
  Cell[12947, 402, 954, 21, 147, "Text",
   CellTags->"Reference section"],
  Cell[13938, 428, 65, 1, 25, "Subsubsection",
   CellTags->"Reference section"],
  Cell[14006, 431, 89, 1, 27, "Text",
   CellTags->"Reference section"],
  Cell[14132, 437, 63, 1, 25, "Subsubsection",
   CellTags->"Reference section"],
  Cell[14198, 440, 252, 5, 27, "Text",
   CellTags->"Reference section"],
  Cell[14453, 447, 235, 5, 37, "Program",
   CellTags->"Reference section"],
  Cell[14725, 457, 65, 1, 25, "Subsubsection",
   CellTags->"Reference section"],
  Cell[14793, 460, 350, 7, 28, "Text",
   CellTags->"Reference section"],
  Cell[15180, 472, 67, 1, 25, "Subsubsection",
   CellTags->"Reference section"],
  Cell[15250, 475, 182, 5, 28, "Text",
   CellTags->"Reference section"],
  Cell[15435, 482, 172, 5, 28, "Text",
   CellTags->"Reference section"],
  Cell[15610, 489, 572, 16, 45, "Text",
   CellTags->"Reference section"],
  Cell[16185, 507, 296, 8, 27, "Text",
   CellTags->"Reference section"],
  Cell[16484, 517, 204, 7, 27, "Text",
   CellTags->"Reference section"],
  Cell[16691, 526, 146, 4, 27, "Text",
   CellTags->"Reference section"],
  Cell[17732, 557, 69, 1, 25, "Subsubsection",
   CellTags->"Reference section"],
  Cell[17804, 560, 102, 1, 27, "Text",
   CellTags->"Reference section"],
  Cell[17909, 563, 119, 3, 27, "Text",
   CellTags->"Reference section"],
  Cell[18031, 568, 195, 4, 27, "Text",
   CellTags->"Reference section"]},
 "Setup section"->{
  Cell[18275, 578, 52, 1, 70, "Section",
   CellTags->"Setup section"],
  Cell[18330, 581, 273, 5, 27, "Text",
   CellTags->"Setup section"],
  Cell[18628, 590, 74, 1, 36, "Subsection",
   CellTags->"Setup section"],
  Cell[19160, 606, 348, 9, 27, "Text",
   CellTags->"Setup section"],
  Cell[19545, 620, 69, 1, 36, "Subsection",
   CellTags->"Setup section"],
  Cell[19617, 623, 891, 24, 45, "Text",
   CellTags->"Setup section"],
  Cell[20533, 651, 139, 4, 27, "InputOnly",
   CellTags->"Setup section"],
  Cell[23042, 714, 404, 11, 30, "Text",
   CellTags->"Setup section"],
  Cell[23449, 727, 327, 7, 28, "Text",
   CellTags->"Setup section"],
  Cell[115271, 3505, 111, 2, 28, "Input",
   CellTags->"Setup section"]},
 "Wolfram book"->{
  Cell[296496, 10572, 152, 4, 27, "Text",
   CellTags->"Wolfram book"]}
 }
*)
(*CellTagsIndex
CellTagsIndex->{
 {"Examples section", 298071, 10625},
 {"Interface section", 309357, 10920},
 {"Intrduction section", 314720, 11074},
 {"MAD manual", 315416, 11093},
 {"Maeder book", 315504, 11096},
 {"mfsInterpret", 315595, 11099},
 {"palette", 315687, 11102},
 {"Reference section", 315781, 11105},
 {"Setup section", 318408, 11174},
 {"Wolfram book", 319150, 11195}
 }
*)
(*NotebookFileOutline
Notebook[{
Cell[545, 20, 63, 1, 27, "Text"],
Cell[611, 23, 26, 4, 61, "Text"],
Cell[CellGroupData[{
Cell[662, 31, 107, 5, 81, "Title"],
Cell[772, 38, 71, 3, 76, "Subtitle"],
Cell[CellGroupData[{
Cell[868, 45, 65, 1, 70, "Section",
 CellTags->"Intrduction section"],
Cell[936, 48, 1192, 38, 91, "Text",
 CellTags->"Intrduction section"],
Cell[2131, 88, 328, 7, 60, "Text",
 CellTags->"Intrduction section"],
Cell[2462, 97, 682, 12, 90, "Text",
 CellTags->"Intrduction section"],
Cell[3147, 111, 659, 12, 90, "Text",
 CellTags->"Intrduction section"],
Cell[3809, 125, 343, 11, 44, "Text",
 CellTags->"Intrduction section"],
Cell[4155, 138, 115, 3, 27, "Text"],
Cell[4273, 143, 356, 12, 43, "Text"],
Cell[4632, 157, 306, 7, 43, "Text"],
Cell[4941, 166, 262, 6, 43, "Text"],
Cell[5206, 174, 177, 3, 17, "Program"],
Cell[5386, 179, 635, 15, 75, "Text",
 CellTags->"Intrduction section"],
Cell[6024, 196, 555, 14, 59, "Text",
 CellTags->"Intrduction section"],
Cell[6582, 212, 92, 2, 27, "Text"],
Cell[6677, 216, 234, 7, 43, "Text",
 CellTags->"Intrduction section"],
Cell[CellGroupData[{
Cell[6936, 227, 40, 0, 39, "Subsection"],
Cell[6979, 229, 340, 6, 60, "Text"],
Cell[7322, 237, 72, 0, 27, "Text"],
Cell[7397, 239, 139, 3, 43, "Text"],
Cell[7539, 244, 194, 4, 43, "Text"]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[7782, 254, 60, 1, 40, "Section",
 CellTags->"Reference section"],
Cell[CellGroupData[{
Cell[7867, 259, 62, 1, 25, "Subsubsection",
 CellTags->"Reference section"],
Cell[7932, 262, 132, 5, 27, "Text",
 CellTags->"Reference section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8101, 272, 63, 1, 25, "Subsubsection",
 CellTags->"Reference section"],
Cell[8167, 275, 62, 1, 27, "Text",
 CellTags->"Reference section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8266, 281, 64, 1, 25, "Subsubsection",
 CellTags->"Reference section"],
Cell[8333, 284, 271, 5, 27, "Text",
 CellTags->"Reference section"],
Cell[8607, 291, 138, 4, 27, "Text",
 CellTags->"Reference section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[8782, 300, 34, 0, 25, "Subsubsection"],
Cell[8819, 302, 1765, 27, 420, "Text"]
}, Closed]],
Cell[CellGroupData[{
Cell[10621, 334, 73, 1, 19, "Subsubsection",
 CellTags->"Reference section"],
Cell[10697, 337, 52, 1, 27, "Text",
 CellTags->"Reference section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[10786, 343, 129, 5, 25, "Subsubsection",
 CellTags->"Reference section"],
Cell[10918, 350, 51, 1, 27, "Text",
 CellTags->"Reference section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[11006, 356, 64, 1, 25, "Subsubsection",
 CellTags->"Reference section"],
Cell[11073, 359, 750, 15, 161, "Text",
 CellTags->"Reference section"],
Cell[11826, 376, 1118, 24, 112, "Text",
 CellTags->"Reference section"],
Cell[12947, 402, 954, 21, 147, "Text",
 CellTags->"Reference section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[13938, 428, 65, 1, 25, "Subsubsection",
 CellTags->"Reference section"],
Cell[14006, 431, 89, 1, 27, "Text",
 CellTags->"Reference section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14132, 437, 63, 1, 25, "Subsubsection",
 CellTags->"Reference section"],
Cell[14198, 440, 252, 5, 27, "Text",
 CellTags->"Reference section"],
Cell[14453, 447, 235, 5, 37, "Program",
 CellTags->"Reference section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[14725, 457, 65, 1, 25, "Subsubsection",
 CellTags->"Reference section"],
Cell[14793, 460, 350, 7, 28, "Text",
 CellTags->"Reference section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[15180, 472, 67, 1, 25, "Subsubsection",
 CellTags->"Reference section"],
Cell[15250, 475, 182, 5, 28, "Text",
 CellTags->"Reference section"],
Cell[15435, 482, 172, 5, 28, "Text",
 CellTags->"Reference section"],
Cell[15610, 489, 572, 16, 45, "Text",
 CellTags->"Reference section"],
Cell[16185, 507, 296, 8, 27, "Text",
 CellTags->"Reference section"],
Cell[16484, 517, 204, 7, 27, "Text",
 CellTags->"Reference section"],
Cell[16691, 526, 146, 4, 27, "Text",
 CellTags->"Reference section"],
Cell[16840, 532, 598, 10, 44, "Text"],
Cell[17441, 544, 254, 8, 28, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[17732, 557, 69, 1, 25, "Subsubsection",
 CellTags->"Reference section"],
Cell[17804, 560, 102, 1, 27, "Text",
 CellTags->"Reference section"],
Cell[17909, 563, 119, 3, 27, "Text",
 CellTags->"Reference section"],
Cell[18031, 568, 195, 4, 27, "Text",
 CellTags->"Reference section"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[18275, 578, 52, 1, 70, "Section",
 CellTags->"Setup section"],
Cell[18330, 581, 273, 5, 27, "Text",
 CellTags->"Setup section"],
Cell[CellGroupData[{
Cell[18628, 590, 74, 1, 36, "Subsection",
 CellTags->"Setup section"],
Cell[18705, 593, 234, 4, 27, "Text"],
Cell[18942, 599, 215, 5, 37, "Program"],
Cell[19160, 606, 348, 9, 27, "Text",
 CellTags->"Setup section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[19545, 620, 69, 1, 36, "Subsection",
 CellTags->"Setup section"],
Cell[19617, 623, 891, 24, 45, "Text",
 CellTags->"Setup section"],
Cell[CellGroupData[{
Cell[20533, 651, 139, 4, 27, "InputOnly",
 CellTags->"Setup section"],
Cell[20675, 657, 2352, 54, 173, "Print"]
}, Open  ]],
Cell[23042, 714, 404, 11, 30, "Text",
 CellTags->"Setup section"],
Cell[23449, 727, 327, 7, 28, "Text",
 CellTags->"Setup section"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[23825, 740, 87, 2, 70, "Section",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[23915, 744, 154, 4, 27, "Text",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[CellGroupData[{
Cell[24094, 752, 133, 2, 36, "Subsection",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[24230, 756, 245, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[24512, 768, 153, 4, 36, "Subsection",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[24668, 774, 147, 4, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[24818, 780, 351, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[25172, 790, 296, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[25471, 799, 240, 6, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[25714, 807, 298, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[26015, 816, 320, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[26338, 826, 240, 5, 28, "Input",
 InitializationCell->True],
Cell[26581, 833, 322, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[26906, 843, 273, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[27182, 852, 338, 8, 28, "Input",
 Evaluatable->False,
 CellTags->"Interface section"],
Cell[27523, 862, 359, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[27885, 872, 335, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[28223, 882, 337, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[28563, 892, 346, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[28912, 902, 427, 9, 63, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[29342, 913, 272, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[29617, 923, 309, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[29929, 933, 255, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[30187, 943, 278, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[30468, 952, 261, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[30732, 962, 284, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[31019, 971, 262, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[31284, 981, 428, 9, 63, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[31715, 992, 276, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[31994, 1001, 258, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[32255, 1011, 274, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[32532, 1020, 299, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[32834, 1030, 313, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[33150, 1040, 340, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[33493, 1050, 307, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[33803, 1059, 313, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[34119, 1068, 222, 5, 28, "Input",
 InitializationCell->True],
Cell[34344, 1075, 209, 5, 28, "Input",
 InitializationCell->True],
Cell[34556, 1082, 293, 6, 28, "Input",
 InitializationCell->True],
Cell[34852, 1090, 299, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[35154, 1100, 257, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[35414, 1110, 330, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[35747, 1119, 260, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[36010, 1129, 297, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[36310, 1138, 264, 8, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[36577, 1148, 309, 7, 28, "Input",
 InitializationCell->True],
Cell[36889, 1157, 362, 8, 46, "Input",
 InitializationCell->True],
Cell[37254, 1167, 280, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[37537, 1176, 299, 7, 28, "Input",
 InitializationCell->True],
Cell[37839, 1185, 293, 6, 28, "Input",
 InitializationCell->True],
Cell[38135, 1193, 343, 7, 46, "Input",
 InitializationCell->True],
Cell[38481, 1202, 298, 6, 28, "Input",
 InitializationCell->True],
Cell[38782, 1210, 360, 7, 46, "Input",
 InitializationCell->True],
Cell[39145, 1219, 371, 8, 46, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[39553, 1232, 120, 2, 36, "Subsection",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[39676, 1236, 214, 6, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[39893, 1244, 235, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[40131, 1253, 208, 6, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[40342, 1261, 213, 6, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[40558, 1269, 214, 6, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[40775, 1277, 216, 6, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[40994, 1285, 214, 6, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[41211, 1293, 269, 7, 28, "Input",
 InitializationCell->True,
 CellTags->"Interface section"],
Cell[41483, 1302, 230, 6, 28, "Input",
 InitializationCell->True],
Cell[41716, 1310, 234, 7, 28, "Input",
 InitializationCell->True],
Cell[41953, 1319, 189, 5, 28, "Input",
 InitializationCell->True],
Cell[42145, 1326, 194, 5, 28, "Input",
 InitializationCell->True],
Cell[42342, 1333, 195, 5, 28, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[42586, 1344, 60, 1, 70, "Section",
 InitializationCell->True],
Cell[42649, 1347, 131, 3, 27, "Text"],
Cell[CellGroupData[{
Cell[42805, 1354, 96, 1, 36, "Subsection",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[42926, 1359, 64, 1, 28, "Input",
 InitializationCell->True],
Cell[42993, 1362, 56, 0, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[43076, 1366, 75, 1, 36, "Subsection",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[43176, 1371, 119, 3, 28, "Subsection",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[43320, 1378, 108, 3, 28, "Input",
 InitializationCell->True],
Cell[43431, 1383, 52, 1, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[43532, 1390, 85, 1, 36, "Subsection",
 InitializationCell->True],
Cell[CellGroupData[{
Cell[43642, 1395, 60, 0, 25, "Subsubsection"],
Cell[43705, 1397, 325, 8, 28, "Text"],
Cell[44033, 1407, 237, 5, 28, "Input"],
Cell[44273, 1414, 582, 16, 29, "Input",
 InitializationCell->True],
Cell[44858, 1432, 2127, 53, 181, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[47022, 1490, 53, 0, 25, "Subsubsection"],
Cell[47078, 1492, 384, 6, 44, "Text"],
Cell[47465, 1500, 426, 12, 64, "Input",
 InitializationCell->True],
Cell[47894, 1514, 163, 3, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[48094, 1522, 61, 0, 25, "Subsubsection"],
Cell[48158, 1524, 99, 2, 27, "Text"],
Cell[48260, 1528, 832, 23, 148, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[49129, 1556, 57, 0, 25, "Subsubsection"],
Cell[49189, 1558, 504, 8, 44, "Text"],
Cell[49696, 1568, 184, 4, 28, "Text"],
Cell[49883, 1574, 570, 10, 44, "Text",
 InitializationCell->True],
Cell[50456, 1586, 2409, 62, 63, "Input",
 InitializationCell->True],
Cell[52868, 1650, 344, 6, 27, "Text"],
Cell[53215, 1658, 236, 4, 27, "Text"],
Cell[53454, 1664, 173, 3, 27, "Text"],
Cell[53630, 1669, 867, 21, 28, "Input",
 InitializationCell->True],
Cell[54500, 1692, 5774, 129, 416, "Input",
 InitializationCell->True],
Cell[60277, 1823, 273, 6, 28, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[60587, 1834, 54, 0, 25, "Subsubsection"],
Cell[60644, 1836, 159, 3, 27, "Text"],
Cell[60806, 1841, 470, 13, 28, "Text"],
Cell[61279, 1856, 516, 13, 28, "Input",
 InitializationCell->True],
Cell[61798, 1871, 5772, 136, 349, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[67607, 2012, 71, 0, 25, "Subsubsection"],
Cell[67681, 2014, 320, 7, 28, "Text"],
Cell[68004, 2023, 132, 3, 27, "Text"],
Cell[68139, 2028, 1107, 29, 114, "Input",
 InitializationCell->True],
Cell[69249, 2059, 214, 5, 27, "Text"],
Cell[69466, 2066, 265, 6, 29, "Input",
 Evaluatable->False],
Cell[69734, 2074, 109, 3, 27, "Text"],
Cell[CellGroupData[{
Cell[69868, 2081, 706, 21, 29, "Input",
 InitializationCell->True],
Cell[70577, 2104, 216, 5, 23, "Message"],
Cell[70796, 2111, 34, 0, 27, "Output"]
}, Open  ]],
Cell[70845, 2114, 133, 3, 27, "Text"],
Cell[70981, 2119, 1777, 49, 80, "Input",
 InitializationCell->True],
Cell[72761, 2170, 131, 3, 27, "Text"],
Cell[72895, 2175, 275, 8, 28, "Input",
 InitializationCell->True],
Cell[73173, 2185, 356, 10, 29, "Input",
 InitializationCell->True],
Cell[73532, 2197, 313, 10, 29, "Input",
 InitializationCell->True],
Cell[73848, 2209, 119, 4, 28, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[74004, 2218, 69, 0, 25, "Subsubsection"],
Cell[74076, 2220, 45, 0, 27, "Text"],
Cell[74124, 2222, 224, 6, 29, "Input",
 InitializationCell->True],
Cell[74351, 2230, 127, 3, 27, "Text"],
Cell[74481, 2235, 1171, 34, 113, "Input",
 InitializationCell->True],
Cell[75655, 2271, 306, 10, 29, "Input",
 InitializationCell->True],
Cell[75964, 2283, 309, 10, 29, "Input",
 InitializationCell->True],
Cell[76276, 2295, 48, 0, 27, "Text"],
Cell[76327, 2297, 196, 6, 29, "Input",
 InitializationCell->True],
Cell[76526, 2305, 152, 4, 28, "Text"],
Cell[76681, 2311, 975, 30, 80, "Input",
 InitializationCell->True],
Cell[77659, 2343, 50, 0, 27, "Text"],
Cell[77712, 2345, 280, 9, 29, "Input",
 InitializationCell->True],
Cell[77995, 2356, 150, 4, 29, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[78182, 2365, 51, 0, 25, "Subsubsection"],
Cell[78236, 2367, 58, 0, 27, "Text"],
Cell[78297, 2369, 754, 23, 63, "Input",
 InitializationCell->True],
Cell[79054, 2394, 59, 0, 27, "Text"],
Cell[79116, 2396, 591, 17, 97, "Input",
 InitializationCell->True],
Cell[79710, 2415, 88, 2, 27, "Text"],
Cell[79801, 2419, 452, 14, 29, "Input",
 InitializationCell->True],
Cell[80256, 2435, 505, 15, 29, "Input",
 InitializationCell->True],
Cell[80764, 2452, 94, 2, 27, "Text"],
Cell[80861, 2456, 968, 28, 46, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[81866, 2489, 44, 0, 25, "Subsubsection"],
Cell[81913, 2491, 44, 0, 27, "Text"],
Cell[81960, 2493, 814, 26, 63, "Input",
 InitializationCell->True],
Cell[82777, 2521, 1552, 45, 147, "Input",
 InitializationCell->True],
Cell[84332, 2568, 1681, 48, 131, "Input",
 InitializationCell->True],
Cell[86016, 2618, 70, 0, 27, "Text"],
Cell[86089, 2620, 288, 8, 28, "Input",
 InitializationCell->True],
Cell[86380, 2630, 66, 0, 27, "Text"],
Cell[86449, 2632, 1119, 29, 166, "Input",
 InitializationCell->True],
Cell[87571, 2663, 905, 26, 149, "Input",
 InitializationCell->True],
Cell[88479, 2691, 60, 0, 27, "Text"],
Cell[88542, 2693, 476, 15, 46, "Input",
 InitializationCell->True],
Cell[89021, 2710, 882, 26, 97, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[89940, 2741, 44, 0, 26, "Subsubsection"],
Cell[89987, 2743, 75, 0, 27, "Text"],
Cell[CellGroupData[{
Cell[90087, 2747, 1706, 46, 217, "Input",
 InitializationCell->True],
Cell[91796, 2795, 226, 4, 20, "Message"]
}, Open  ]],
Cell[92037, 2802, 184, 4, 27, "Text"],
Cell[92224, 2808, 1278, 37, 166, "Input"],
Cell[93505, 2847, 382, 6, 44, "Text"],
Cell[93890, 2855, 793, 25, 80, "Input",
 InitializationCell->True],
Cell[94686, 2882, 49, 0, 27, "Text"],
Cell[94738, 2884, 449, 15, 28, "Input",
 InitializationCell->True],
Cell[95190, 2901, 95, 2, 27, "Text"],
Cell[95288, 2905, 378, 12, 46, "Input",
 InitializationCell->True],
Cell[95669, 2919, 234, 7, 28, "Input",
 InitializationCell->True],
Cell[95906, 2928, 207, 4, 27, "Text"],
Cell[96116, 2934, 3816, 98, 405, "Input",
 Evaluatable->False],
Cell[99935, 3034, 156, 3, 27, "Text"],
Cell[100094, 3039, 3232, 83, 336, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[103363, 3127, 75, 0, 26, "Subsubsection"],
Cell[103441, 3129, 307, 6, 45, "Text"],
Cell[103751, 3137, 99, 2, 27, "Text"],
Cell[103853, 3141, 76, 0, 27, "Text"],
Cell[103932, 3143, 2446, 65, 268, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[106415, 3213, 87, 1, 26, "Subsubsection"],
Cell[106505, 3216, 267, 5, 27, "Text"],
Cell[106775, 3223, 482, 13, 80, "Input",
 InitializationCell->True],
Cell[107260, 3238, 448, 13, 80, "Input",
 InitializationCell->True],
Cell[107711, 3253, 460, 13, 80, "Input",
 InitializationCell->True],
Cell[108174, 3268, 462, 13, 80, "Input",
 InitializationCell->True],
Cell[108639, 3283, 454, 13, 80, "Input",
 InitializationCell->True],
Cell[109096, 3298, 454, 13, 80, "Input",
 InitializationCell->True],
Cell[109553, 3313, 458, 13, 80, "Input",
 InitializationCell->True],
Cell[110014, 3328, 466, 13, 80, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[110517, 3346, 107, 1, 26, "Subsubsection"],
Cell[110627, 3349, 903, 20, 63, "Input",
 InitializationCell->True],
Cell[111533, 3371, 319, 8, 28, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[111901, 3385, 72, 1, 36, "Subsection",
 InitializationCell->True],
Cell[111976, 3388, 50, 1, 28, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[112075, 3395, 54, 1, 69, "Section",
 InitializationCell->True],
Cell[112132, 3398, 76, 0, 27, "Text"],
Cell[CellGroupData[{
Cell[112233, 3402, 73, 1, 36, "Subsection",
 InitializationCell->True],
Cell[112309, 3405, 1725, 48, 97, "Input",
 InitializationCell->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[114071, 3458, 72, 1, 36, "Subsection",
 InitializationCell->True],
Cell[114146, 3461, 57, 1, 28, "Input",
 InitializationCell->True],
Cell[114206, 3464, 109, 3, 27, "Text"],
Cell[114318, 3469, 446, 12, 46, "Input",
 InitializationCell->True],
Cell[114767, 3483, 272, 7, 28, "Input",
 InitializationCell->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[115088, 3496, 38, 0, 69, "Section"],
Cell[115129, 3498, 117, 3, 27, "Text"],
Cell[CellGroupData[{
Cell[115271, 3505, 111, 2, 28, "Input",
 CellTags->"Setup section"],
Cell[115385, 3509, 1401, 22, 92, "Output"]
}, Open  ]],
Cell[116801, 3534, 142, 3, 27, "Text"],
Cell[CellGroupData[{
Cell[116968, 3541, 52, 1, 28, "Input"],
Cell[117023, 3544, 159, 2, 20, "Print"]
}, Open  ]],
Cell[117197, 3549, 139, 3, 27, "Text"],
Cell[117339, 3554, 120, 2, 28, "Input"],
Cell[CellGroupData[{
Cell[117484, 3560, 83, 2, 36, "Subsection"],
Cell[117570, 3564, 110, 2, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[117717, 3571, 81, 2, 36, "Subsection"],
Cell[117801, 3575, 115, 2, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[117953, 3582, 78, 2, 36, "Subsection"],
Cell[118034, 3586, 115, 2, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[118186, 3593, 86, 2, 36, "Subsection"],
Cell[118275, 3597, 113, 2, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[118425, 3604, 85, 2, 36, "Subsection"],
Cell[118513, 3608, 112, 2, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[118662, 3615, 84, 2, 36, "Subsection"],
Cell[118749, 3619, 111, 2, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[118897, 3626, 90, 2, 36, "Subsection"],
Cell[118990, 3630, 117, 2, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[119144, 3637, 87, 2, 36, "Subsection"],
Cell[119234, 3641, 159, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[119430, 3651, 87, 2, 36, "Subsection"],
Cell[119520, 3655, 164, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[119721, 3665, 78, 2, 36, "Subsection"],
Cell[119802, 3669, 112, 2, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[119951, 3676, 82, 2, 44, "Subsection"],
Cell[120036, 3680, 270, 6, 30, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[120343, 3691, 73, 2, 44, "Subsection"],
Cell[120419, 3695, 250, 6, 30, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[120706, 3706, 73, 2, 44, "Subsection"],
Cell[120782, 3710, 109, 2, 30, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[120928, 3717, 82, 2, 44, "Subsection"],
Cell[121013, 3721, 282, 6, 30, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[121332, 3732, 79, 2, 44, "Subsection"],
Cell[121414, 3736, 191, 5, 30, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[121642, 3746, 79, 2, 44, "Subsection"],
Cell[121724, 3750, 862, 14, 97, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[122623, 3769, 84, 2, 44, "Subsection"],
Cell[122710, 3773, 214, 5, 30, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[122961, 3783, 84, 2, 44, "Subsection"],
Cell[123048, 3787, 166, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[123251, 3797, 84, 2, 39, "Subsection"],
Cell[123338, 3801, 169, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[123544, 3811, 85, 2, 39, "Subsection"],
Cell[123632, 3815, 227, 5, 43, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[123896, 3825, 82, 2, 39, "Subsection"],
Cell[123981, 3829, 182, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[124200, 3839, 80, 2, 39, "Subsection"],
Cell[124283, 3843, 232, 6, 43, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[124552, 3854, 86, 2, 39, "Subsection"],
Cell[124641, 3858, 188, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[124866, 3868, 81, 2, 39, "Subsection"],
Cell[124950, 3872, 180, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[125167, 3882, 81, 2, 39, "Subsection"],
Cell[125251, 3886, 197, 5, 43, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[125485, 3896, 79, 2, 39, "Subsection"],
Cell[125567, 3900, 195, 5, 43, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[125799, 3910, 78, 2, 39, "Subsection"],
Cell[125880, 3914, 244, 6, 43, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[126161, 3925, 78, 2, 39, "Subsection"],
Cell[126242, 3929, 239, 6, 43, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[126518, 3940, 80, 2, 39, "Subsection"],
Cell[126601, 3944, 177, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[126815, 3954, 79, 2, 39, "Subsection"],
Cell[126897, 3958, 172, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[127106, 3968, 78, 2, 39, "Subsection"],
Cell[127187, 3972, 278, 5, 36, "Message"],
Cell[127468, 3979, 151, 5, 30, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[127656, 3989, 87, 2, 44, "Subsection"],
Cell[127746, 3993, 271, 6, 47, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[128054, 4004, 92, 2, 44, "Subsection"],
Cell[128149, 4008, 255, 5, 21, "Message"],
Cell[128407, 4015, 378, 8, 47, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[128822, 4028, 82, 2, 44, "Subsection"],
Cell[128907, 4032, 210, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[129154, 4042, 89, 2, 44, "Subsection"],
Cell[129246, 4046, 185, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[129468, 4056, 103, 2, 36, "Subsection"],
Cell[129574, 4060, 166, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[129777, 4070, 84, 2, 36, "Subsection"],
Cell[129864, 4074, 252, 6, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[130153, 4085, 96, 2, 36, "Subsection"],
Cell[130252, 4089, 212, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[130501, 4099, 92, 2, 36, "Subsection"],
Cell[130596, 4103, 204, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[130837, 4113, 89, 2, 36, "Subsection"],
Cell[130929, 4117, 221, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[131187, 4127, 77, 2, 36, "Subsection"],
Cell[131267, 4131, 160, 5, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[131464, 4141, 32, 0, 36, "Subsection"],
Cell[131499, 4143, 170, 3, 27, "Text"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[131718, 4152, 75, 1, 69, "Section",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[131818, 4157, 96, 1, 36, "Subsection",
 CellTags->"Examples section"],
Cell[131917, 4160, 357, 6, 44, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[132299, 4170, 400, 10, 28, "Input",
 CellTags->"Examples section"],
Cell[132702, 4182, 135, 1, 27, "Output"]
}, Open  ]],
Cell[132852, 4186, 66, 0, 27, "Text"],
Cell[CellGroupData[{
Cell[132943, 4190, 80, 1, 28, "Input"],
Cell[133026, 4193, 45, 0, 27, "Output"]
}, Open  ]],
Cell[133086, 4196, 181, 5, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[133292, 4205, 65, 1, 28, "Input",
 CellTags->"Examples section"],
Cell[133360, 4208, 52, 1, 27, "Output"]
}, Open  ]],
Cell[133427, 4212, 117, 3, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[133569, 4219, 81, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[133653, 4223, 122, 1, 20, "Print"]
}, Open  ]],
Cell[133790, 4227, 208, 5, 27, "Text",
 CellTags->"Examples section"],
Cell[134001, 4234, 223, 7, 27, "InputOnly",
 CellTags->"Examples section"],
Cell[134227, 4243, 296, 6, 44, "Text",
 CellTags->"Examples section"],
Cell[134526, 4251, 359, 7, 45, "Text",
 CellTags->"Examples section"],
Cell[134888, 4260, 180, 5, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[135093, 4269, 116, 3, 28, "Input",
 CellTags->"Examples section"],
Cell[135212, 4274, 2052, 50, 71, "Output"]
}, Open  ]],
Cell[137279, 4327, 229, 7, 28, "Text",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[137545, 4339, 121, 3, 36, "Subsection",
 CellTags->"mfsInterpret"],
Cell[137669, 4344, 435, 9, 45, "Text"],
Cell[CellGroupData[{
Cell[138129, 4357, 69, 1, 28, "Input"],
Cell[CellGroupData[{
Cell[138223, 4362, 1634, 28, 37, "Print"],
Cell[139860, 4392, 453, 10, 20, "Print"]
}, Open  ]]
}, Open  ]],
Cell[140340, 4406, 278, 6, 28, "Text"],
Cell[CellGroupData[{
Cell[140643, 4416, 30, 0, 28, "Input"],
Cell[140676, 4418, 43, 0, 27, "Output"]
}, Open  ]],
Cell[140734, 4421, 131, 4, 28, "Text"],
Cell[CellGroupData[{
Cell[140890, 4429, 52, 1, 30, "Input"],
Cell[140945, 4432, 46, 0, 27, "Output"]
}, Open  ]],
Cell[141006, 4435, 280, 6, 45, "Text"],
Cell[CellGroupData[{
Cell[141311, 4445, 146, 4, 28, "Input"],
Cell[141460, 4451, 12987, 660, 185, 10454, 615, "GraphicsData", "PostScript", \
"Graphics"],
Cell[154450, 5113, 134, 4, 27, "Output"]
}, Open  ]],
Cell[154599, 5120, 75, 0, 27, "Text"],
Cell[CellGroupData[{
Cell[154699, 5124, 50, 1, 28, "Input"],
Cell[154752, 5127, 66, 1, 27, "Output"]
}, Open  ]],
Cell[154833, 5131, 275, 6, 27, "Text"],
Cell[155111, 5139, 164, 3, 27, "Text"],
Cell[CellGroupData[{
Cell[155300, 5146, 85, 2, 28, "Input"],
Cell[155388, 5150, 244, 5, 27, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[155669, 5160, 81, 2, 28, "Input"],
Cell[155753, 5164, 311, 6, 27, "Output"]
}, Open  ]],
Cell[156079, 5173, 57, 0, 27, "Text"],
Cell[CellGroupData[{
Cell[156161, 5177, 150, 4, 28, "Input"],
Cell[156314, 5183, 13649, 695, 254, 10869, 646, "GraphicsData", "PostScript", \
"Graphics"],
Cell[169966, 5880, 134, 4, 27, "Output"]
}, Open  ]],
Cell[170115, 5887, 474, 7, 61, "Text"],
Cell[170592, 5896, 198, 4, 27, "Text"],
Cell[170793, 5902, 345, 7, 45, "Text"],
Cell[171141, 5911, 68, 2, 28, "Input"],
Cell[171212, 5915, 190, 4, 27, "Text"],
Cell[171405, 5921, 125, 3, 27, "Text"],
Cell[171533, 5926, 315, 8, 45, "Text"],
Cell[CellGroupData[{
Cell[171873, 5938, 74, 1, 28, "Input"],
Cell[CellGroupData[{
Cell[171972, 5943, 179, 4, 20, "Print"],
Cell[172154, 5949, 7422, 165, 199, "Print"],
Cell[179579, 6116, 1634, 28, 37, "Print"],
Cell[181216, 6146, 453, 10, 20, "Print"]
}, Open  ]]
}, Open  ]],
Cell[181696, 6160, 38, 0, 27, "Text"],
Cell[181737, 6162, 108, 2, 28, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[181882, 6169, 86, 1, 36, "Subsection",
 CellTags->"Examples section"],
Cell[181971, 6172, 429, 9, 44, "Text"],
Cell[CellGroupData[{
Cell[182425, 6185, 104, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[182532, 6188, 389, 10, 44, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[182946, 6202, 99, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[183048, 6206, 1074, 17, 44, "Output"]
}, Open  ]],
Cell[184137, 6226, 177, 5, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[184339, 6235, 174, 4, 28, "Input",
 CellTags->"Examples section"],
Cell[184516, 6241, 45, 0, 29, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[184598, 6246, 135, 3, 28, "Input",
 CellTags->"Examples section"],
Cell[184736, 6251, 59, 0, 27, "Output"]
}, Open  ]],
Cell[184810, 6254, 183, 7, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[185018, 6265, 131, 3, 28, "Input",
 CellTags->"Examples section"],
Cell[185152, 6270, 156, 3, 20, "Message"]
}, Open  ]],
Cell[185323, 6276, 143, 4, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[185491, 6284, 235, 7, 28, "Input",
 CellTags->"Examples section"],
Cell[185729, 6293, 253, 6, 32, "Output"]
}, Open  ]],
Cell[185997, 6302, 162, 6, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[186184, 6312, 230, 6, 28, "Input",
 CellTags->"Examples section"],
Cell[186417, 6320, 62, 1, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[186528, 6327, 104, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[186635, 6330, 153, 4, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[186813, 6338, 102, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[186918, 6342, 223, 4, 27, "Output"]
}, Open  ]],
Cell[187156, 6349, 146, 4, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[187327, 6357, 83, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[187413, 6361, 288, 3, 37, "Print"]
}, Open  ]],
Cell[187716, 6367, 235, 5, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[187976, 6376, 204, 6, 28, "Input",
 CellTags->"Examples section"],
Cell[188183, 6384, 1098, 22, 67, "Output"]
}, Open  ]],
Cell[189296, 6409, 289, 6, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[189610, 6419, 340, 10, 28, "Input",
 CellTags->"Examples section"],
Cell[189953, 6431, 1970, 57, 87, "Output"]
}, Open  ]],
Cell[191938, 6491, 437, 11, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[192400, 6506, 94, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[192497, 6510, 14240, 733, 185, 11362, 682, "GraphicsData", "PostScript", \
"Graphics"],
Cell[206740, 7245, 134, 4, 27, "Output"]
}, Open  ]],
Cell[206889, 7252, 118, 4, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[207032, 7260, 130, 3, 28, "Input",
 CellTags->"Examples section"],
Cell[207165, 7265, 151, 3, 20, "Message"]
}, Open  ]],
Cell[207331, 7271, 233, 6, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[207589, 7281, 154, 4, 28, "Input",
 CellTags->"Examples section"],
Cell[207746, 7287, 1622, 40, 76, "Output"]
}, Open  ]],
Cell[209383, 7330, 237, 6, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[209645, 7340, 134, 3, 28, "Input",
 CellTags->"Examples section"],
Cell[209782, 7345, 75, 2, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[209906, 7353, 116, 2, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[210025, 7357, 189, 7, 28, "Text"],
Cell[210217, 7366, 675, 17, 62, "Text"],
Cell[210895, 7385, 335, 10, 28, "Input"],
Cell[211233, 7397, 56, 0, 27, "Text"],
Cell[CellGroupData[{
Cell[211314, 7401, 88, 2, 28, "Input"],
Cell[211405, 7405, 579, 13, 52, "Output"]
}, Open  ]],
Cell[211999, 7421, 122, 4, 28, "Text"],
Cell[212124, 7427, 287, 9, 28, "Input"],
Cell[CellGroupData[{
Cell[212436, 7440, 70, 1, 28, "Input"],
Cell[212509, 7443, 31, 0, 27, "Output"]
}, Open  ]],
Cell[212555, 7446, 171, 3, 27, "Text"],
Cell[212729, 7451, 252, 7, 28, "Input"],
Cell[CellGroupData[{
Cell[213006, 7462, 70, 1, 28, "Input"],
Cell[213079, 7465, 31, 0, 27, "Output"]
}, Open  ]],
Cell[213125, 7468, 231, 8, 28, "Text"],
Cell[213359, 7478, 104, 3, 28, "Input"],
Cell[213466, 7483, 41, 0, 27, "Text"],
Cell[CellGroupData[{
Cell[213532, 7487, 70, 1, 28, "Input"],
Cell[213605, 7490, 31, 0, 27, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[213697, 7497, 151, 6, 37, "Subsection",
 CellTags->"Examples section"],
Cell[213851, 7505, 797, 14, 77, "Text",
 CellTags->"Examples section"],
Cell[214651, 7521, 154, 4, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[214830, 7529, 79, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[214912, 7532, 188, 6, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[215125, 7542, 418, 10, 28, "Input",
 CellTags->"Examples section"],
Cell[215546, 7554, 142, 1, 27, "Output"]
}, Open  ]],
Cell[215703, 7558, 241, 7, 28, "Input",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[215969, 7569, 131, 3, 28, "Input",
 CellTags->"Examples section"],
Cell[216103, 7574, 139, 3, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[216291, 7583, 81, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[216375, 7586, 775, 24, 45, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[217175, 7614, 83, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[217261, 7618, 134, 1, 20, "Print"]
}, Open  ]],
Cell[217410, 7622, 460, 11, 45, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[217895, 7637, 227, 6, 28, "Input",
 CellTags->"Examples section"],
Cell[218125, 7645, 135, 3, 27, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[218297, 7653, 182, 5, 28, "Input",
 CellTags->"Examples section"],
Cell[218482, 7660, 45, 0, 27, "Output"]
}, Open  ]],
Cell[218542, 7663, 535, 17, 46, "Text",
 CellTags->"Examples section"],
Cell[219080, 7682, 429, 13, 28, "Input",
 CellTags->"Examples section"],
Cell[219512, 7697, 306, 11, 29, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[219843, 7712, 295, 8, 28, "Input",
 CellTags->"Examples section"],
Cell[220141, 7722, 883, 21, 138, "Output"]
}, Open  ]],
Cell[221039, 7746, 350, 11, 29, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[221414, 7761, 673, 19, 28, "Input",
 CellTags->"Examples section"],
Cell[222090, 7782, 989, 24, 154, "Output"]
}, Open  ]],
Cell[223094, 7809, 428, 13, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[223547, 7826, 593, 17, 28, "Input",
 CellTags->"Examples section"],
Cell[224143, 7845, 2015, 51, 103, "Output"]
}, Open  ]],
Cell[226173, 7899, 579, 16, 46, "Text",
 CellTags->"Examples section"],
Cell[226755, 7917, 454, 14, 28, "Input",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[227234, 7935, 293, 8, 28, "Input",
 CellTags->"Examples section"],
Cell[227530, 7945, 575, 15, 43, "Output"]
}, Open  ]],
Cell[228120, 7963, 82, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[228205, 7966, 609, 18, 28, "Input",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[228851, 7989, 85, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[228939, 7992, 220, 5, 27, "Text",
 CellTags->"Examples section"],
Cell[229162, 7999, 177, 4, 27, "Text",
 CellTags->"Examples section"],
Cell[229342, 8005, 225, 7, 28, "Input",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[229592, 8016, 209, 6, 28, "Input",
 CellTags->"Examples section"],
Cell[229804, 8024, 2040, 52, 87, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[231881, 8081, 297, 8, 28, "Input",
 CellTags->"Examples section"],
Cell[232181, 8091, 674, 17, 75, "Output"]
}, Open  ]],
Cell[232870, 8111, 325, 9, 28, "Text",
 CellTags->"Examples section"],
Cell[233198, 8122, 284, 8, 28, "Input",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[233507, 8134, 271, 8, 28, "Input",
 CellTags->"Examples section"],
Cell[233781, 8144, 787, 21, 138, "Output"]
}, Open  ]],
Cell[234583, 8168, 267, 9, 28, "Text",
 CellTags->"Examples section"],
Cell[234853, 8179, 294, 9, 28, "Input",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[235172, 8192, 132, 3, 28, "Input",
 CellTags->"Examples section"],
Cell[235307, 8197, 165, 3, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[235521, 8206, 79, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[235603, 8209, 606, 16, 46, "Text",
 CellTags->"Examples section"],
Cell[236212, 8227, 542, 17, 28, "Input",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[236779, 8248, 115, 3, 28, "Input",
 CellTags->"Examples section"],
Cell[236897, 8253, 687, 13, 44, "Output"]
}, Open  ]],
Cell[237599, 8269, 261, 10, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[237885, 8283, 87, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[237975, 8287, 135, 1, 20, "Print"]
}, Open  ]],
Cell[CellGroupData[{
Cell[238147, 8293, 370, 10, 28, "Input",
 CellTags->"Examples section"],
Cell[238520, 8305, 2560, 74, 108, "Output"]
}, Open  ]],
Cell[241095, 8382, 218, 5, 28, "Text"],
Cell[CellGroupData[{
Cell[241338, 8391, 545, 17, 28, "Input"],
Cell[241886, 8410, 2206, 51, 76, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[244153, 8468, 129, 5, 37, "Subsection",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[244307, 8477, 64, 0, 26, "Subsubsection"],
Cell[244374, 8479, 271, 9, 27, "Text",
 CellTags->"Examples section"],
Cell[244648, 8490, 284, 9, 28, "Input",
 CellTags->"Examples section"],
Cell[244935, 8501, 328, 10, 32, "Input",
 CellTags->"Examples section"],
Cell[245266, 8513, 497, 15, 44, "Input",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[245788, 8532, 173, 5, 28, "Input",
 CellTags->"Examples section"],
Cell[245964, 8539, 810, 28, 62, "Output"]
}, Open  ]],
Cell[246789, 8570, 256, 7, 28, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[247070, 8581, 136, 3, 28, "Input",
 CellTags->"Examples section"],
Cell[247209, 8586, 35, 0, 27, "Output"]
}, Open  ]],
Cell[247259, 8589, 90, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[247352, 8592, 287, 9, 28, "Input",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[247664, 8605, 136, 3, 28, "Input",
 CellTags->"Examples section"],
Cell[247803, 8610, 65, 0, 27, "Output"]
}, Open  ]],
Cell[247883, 8613, 78, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[247964, 8616, 180, 5, 28, "Input",
 CellTags->"Examples section"],
Cell[248147, 8623, 73, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[248245, 8628, 99, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[248347, 8632, 1132, 18, 44, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[249528, 8656, 52, 0, 26, "Subsubsection"],
Cell[249583, 8658, 180, 4, 28, "Text"],
Cell[CellGroupData[{
Cell[249788, 8666, 154, 4, 28, "Input"],
Cell[249945, 8672, 30, 0, 27, "Output"]
}, Open  ]],
Cell[249990, 8675, 134, 3, 27, "Text"],
Cell[250127, 8680, 132, 4, 28, "Input"],
Cell[250262, 8686, 231, 7, 28, "Input"],
Cell[250496, 8695, 100, 2, 27, "Text"],
Cell[CellGroupData[{
Cell[250621, 8701, 100, 2, 28, "Input"],
Cell[250724, 8705, 161, 3, 27, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[250922, 8713, 400, 11, 28, "Input"],
Cell[251325, 8726, 14589, 864, 403, 12612, 828, "GraphicsData", "PostScript", \
"Graphics"],
Cell[265917, 9592, 134, 4, 27, "Output"]
}, Open  ]],
Cell[266066, 9599, 70, 0, 27, "Text"],
Cell[266139, 9601, 307, 8, 63, "Input"],
Cell[266449, 9611, 260, 8, 28, "Input"],
Cell[CellGroupData[{
Cell[266734, 9623, 67, 1, 28, "Input"],
Cell[266804, 9626, 322, 6, 27, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[267163, 9637, 70, 1, 28, "Input"],
Cell[267236, 9640, 119, 3, 27, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[267392, 9648, 73, 1, 28, "Input"],
Cell[267468, 9651, 93, 2, 27, "Output"]
}, Open  ]],
Cell[267576, 9656, 87, 2, 27, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[267700, 9663, 79, 0, 26, "Subsubsection"],
Cell[267782, 9665, 381, 7, 45, "Text"],
Cell[268166, 9674, 175, 5, 28, "Input"],
Cell[CellGroupData[{
Cell[268366, 9683, 79, 1, 28, "Input"],
Cell[268448, 9686, 139, 3, 27, "Output"]
}, Open  ]],
Cell[268602, 9692, 240, 4, 27, "Text"],
Cell[268845, 9698, 337, 7, 45, "Text"],
Cell[CellGroupData[{
Cell[269207, 9709, 67, 1, 28, "Input"],
Cell[269277, 9712, 125, 3, 27, "Output"]
}, Open  ]],
Cell[269417, 9718, 113, 3, 27, "Text"],
Cell[CellGroupData[{
Cell[269555, 9725, 137, 3, 28, "Input"],
Cell[269695, 9730, 98, 2, 27, "Output"]
}, Open  ]],
Cell[269808, 9735, 111, 4, 28, "Text"]
}, Open  ]],
Cell[CellGroupData[{
Cell[269956, 9744, 59, 0, 26, "Subsubsection"],
Cell[270018, 9746, 266, 5, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[270309, 9755, 271, 8, 28, "Input",
 CellTags->"Examples section"],
Cell[270583, 9765, 980, 19, 60, "Output"]
}, Open  ]],
Cell[271578, 9787, 125, 3, 27, "Text",
 CellTags->"Examples section"]
}, Open  ]],
Cell[CellGroupData[{
Cell[271740, 9795, 55, 0, 26, "Subsubsection"],
Cell[271798, 9797, 169, 4, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[271992, 9805, 270, 8, 63, "Input",
 CellTags->"Examples section"],
Cell[272265, 9815, 61, 0, 27, "Output"]
}, Open  ]],
Cell[272341, 9818, 203, 7, 27, "Text",
 CellTags->"Examples section"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[272593, 9831, 84, 1, 36, "Subsection"],
Cell[272680, 9834, 130, 3, 27, "Text"],
Cell[CellGroupData[{
Cell[272835, 9841, 48, 0, 28, "Input"],
Cell[272886, 9843, 779, 15, 44, "Output"]
}, Open  ]],
Cell[273680, 9861, 193, 4, 27, "Text"],
Cell[CellGroupData[{
Cell[273898, 9869, 60, 1, 28, "Input"],
Cell[273961, 9872, 235, 3, 37, "Print"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[274245, 9881, 101, 1, 36, "Subsection",
 CellTags->"Examples section"],
Cell[274349, 9884, 358, 6, 44, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[274732, 9894, 114, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[274849, 9898, 1462, 24, 92, "Output"]
}, Open  ]],
Cell[276326, 9925, 232, 5, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[276583, 9934, 83, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[276669, 9937, 125, 3, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[276819, 9944, 93, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[276915, 9948, 147, 1, 20, "Print"]
}, Open  ]],
Cell[CellGroupData[{
Cell[277099, 9954, 204, 6, 28, "Input",
 CellTags->"Examples section"],
Cell[277306, 9962, 177, 4, 20, "Message"],
Cell[277486, 9968, 62, 1, 27, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[277585, 9974, 92, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[277680, 9978, 61, 0, 27, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[277778, 9983, 210, 4, 28, "Input",
 CellTags->"Examples section"],
Cell[277991, 9989, 61, 0, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[278101, 9995, 84, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[278188, 9998, 125, 3, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[278338, 10005, 86, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[278427, 10009, 176, 2, 20, "Print"]
}, Open  ]],
Cell[CellGroupData[{
Cell[278640, 10016, 114, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[278757, 10020, 38, 0, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[278844, 10026, 85, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[278932, 10029, 116, 3, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[279073, 10036, 96, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[279172, 10040, 168, 2, 20, "Print"]
}, Open  ]],
Cell[CellGroupData[{
Cell[279377, 10047, 177, 4, 46, "Input",
 CellTags->"Examples section"],
Cell[279557, 10053, 122, 3, 27, "Output"]
}, Open  ]],
Cell[CellGroupData[{
Cell[279716, 10061, 171, 4, 46, "Input",
 CellTags->"Examples section"],
Cell[279890, 10067, 96, 2, 27, "Output"]
}, Open  ]],
Cell[280001, 10072, 209, 5, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[280235, 10081, 237, 6, 63, "Input",
 CellTags->"Examples section"],
Cell[280475, 10089, 250, 8, 27, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[280774, 10103, 72, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[280849, 10106, 152, 4, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[281026, 10114, 173, 4, 28, "Input",
 CellTags->"Examples section"],
Cell[281202, 10120, 5266, 130, 161, "Output"]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[286517, 10256, 108, 1, 26, "Subsubsection",
 CellTags->"Examples section"],
Cell[286628, 10259, 339, 9, 45, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[286992, 10272, 91, 2, 28, "Input",
 CellTags->"Examples section"],
Cell[287086, 10276, 125, 1, 20, "Print"]
}, Open  ]],
Cell[CellGroupData[{
Cell[287248, 10282, 160, 4, 28, "Input",
 CellTags->"Examples section"],
Cell[287411, 10288, 30, 0, 27, "Output"]
}, Open  ]],
Cell[287456, 10291, 71, 1, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[287552, 10296, 60, 1, 28, "Input",
 CellTags->"Examples section"],
Cell[287615, 10299, 30, 0, 27, "Output"]
}, Open  ]],
Cell[287660, 10302, 153, 4, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[287838, 10310, 122, 3, 27, "InputOnly",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[287985, 10317, 1722, 29, 37, "Print"],
Cell[289710, 10348, 453, 10, 20, "Print"]
}, Open  ]]
}, Open  ]],
Cell[290190, 10362, 138, 4, 27, "Text",
 CellTags->"Examples section"],
Cell[CellGroupData[{
Cell[290353, 10370, 178, 6, 49, "Input",
 CellTags->"Examples section"],
Cell[290534, 10378, 103, 2, 27, "Output"]
}, Open  ]]
}, Open  ]]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[290710, 10388, 66, 1, 69, "Section",
 CellTags->"palette"],
Cell[290779, 10391, 504, 9, 61, "Text"],
Cell[291286, 10402, 2524, 80, 271, "Input",
 Evaluatable->True,
 CellGroupingRules->"InputGrouping",
 PageBreakAbove->True,
 PageBreakWithin->False,
 CounterIncrements->"Input"],
Cell[293813, 10484, 266, 6, 28, "Text"],
Cell[294082, 10492, 281, 5, 44, "Text"],
Cell[294366, 10499, 281, 5, 44, "Text"],
Cell[CellGroupData[{
Cell[294672, 10508, 63, 1, 28, "Input"],
Cell[294738, 10511, 89, 1, 20, "Print"]
}, Open  ]],
Cell[294842, 10515, 165, 4, 28, "Text"],
Cell[295010, 10521, 1415, 44, 164, "Input"]
}, Open  ]],
Cell[CellGroupData[{
Cell[296462, 10570, 31, 0, 69, "Section"],
Cell[296496, 10572, 152, 4, 27, "Text",
 CellTags->"Wolfram book"],
Cell[296651, 10578, 175, 6, 27, "Text",
 CellTags->"Maeder book"],
Cell[296829, 10586, 185, 3, 37, "Program"],
Cell[297017, 10591, 63, 1, 27, "Text",
 CellTags->"MAD manual"],
Cell[297083, 10594, 155, 3, 37, "Program"]
}, Open  ]]
}, Open  ]]
}
]
*)

(* End of internal cache information *)
