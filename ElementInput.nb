(* Content-type: application/vnd.wolfram.mathematica *)

(*** Wolfram Notebook File ***)
(* http://www.wolfram.com/nb *)

(* CreatedBy='Mathematica 9.0' *)

(*CacheID: 234*)
(* Internal cache information:
NotebookFileLineBreakTest
NotebookFileLineBreakTest
NotebookDataPosition[       157,          7]
NotebookDataLength[    834408,      17948]
NotebookOptionsPosition[    771090,      16875]
NotebookOutlinePosition[    771519,      16893]
CellTagsIndexPosition[    771476,      16890]
WindowFrame->Normal*)

(* Beginning of Notebook Content *)
Notebook[{
Cell["\<\
MAKE IT SO THAT ALL RULE DEFINTIONS BECOME UPPERCASE REGARDLESS OF INPUT \
CASE! - Done.\
\>", "Text",
 CellChangeTimes->{{3.5702009519462795`*^9, 3.5702009714182262`*^9}, {
  3.5703471765766397`*^9, 3.570347180824926*^9}},
 FontSize->24,
 FontColor->RGBColor[
  0.5, 0, 0.5],ExpressionUUID->"2e4a2ecc-0362-4633-857d-b0d9dd96fd0e"],

Cell[BoxData[
 RowBox[{"<<", "sddsBinaryInterpret`"}]], "Input",
 CellChangeTimes->{{3.6253962373432064`*^9, 3.625396241320206*^9}},
 CellLabel->
  "(Local2) In[1]:=",ExpressionUUID->"27fbb507-36af-42d2-96a2-881ab4bb2721"],

Cell[BoxData[
 RowBox[{"<<", "numberRight`"}]], "Input",
 CellChangeTimes->{{3.679850257051688*^9, 3.6798502598072395`*^9}},
 CellLabel->
  "(Local2) In[2]:=",ExpressionUUID->"f0a796ec-dd7b-4880-9aea-966c7da89768"],

Cell[CellGroupData[{

Cell["elementInput", "Section",
 InitializationGroup->True,
 CellChangeTimes->{{3.687870967783431*^9, 
  3.6878709725914307`*^9}},ExpressionUUID->"06b581f3-613a-4c8c-829a-\
df377dbbe98d"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Quiet", "[", 
  RowBox[{"BeginPackage", "[", 
   RowBox[{"\"\<ElementInput`\>\"", ",", 
    RowBox[{"{", 
     RowBox[{"\"\<sddsInterpret`\>\"", ",", "\"\<numberRight`\>\""}], "}"}]}],
    "]"}], "]"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.7751983084506187`*^9, 3.7751983307840466`*^9}, {
  3.7751984589236403`*^9, 3.775198472275569*^9}, {3.77520232078857*^9, 
  3.775202324908572*^9}, {3.7752028757352667`*^9, 3.775202884295416*^9}, {
  3.78705646709634*^9, 3.787056497830733*^9}, {3.787056576455268*^9, 
  3.7870565780236626`*^9}, {3.787057093399071*^9, 3.7870570936154604`*^9}, {
  3.8006117872876596`*^9, 
  3.800611795346469*^9}},ExpressionUUID->"b2ee49d5-37e1-4c7c-94b8-\
35e7bcee8b73"],

Cell[BoxData["\<\"ElementInput`\"\>"], "Output",
 InitializationGroup->True,
 CellChangeTimes->{
  3.775198338834848*^9, 3.775198533408249*^9, 3.775202358336828*^9, 
   3.7752025690866156`*^9, {3.7752831359555116`*^9, 3.775283157302018*^9}, 
   3.787036528527458*^9},
 CellLabel->
  "(Local2) Out[3]=",ExpressionUUID->"629246bf-f4a1-4b4c-9cd1-8619247c4f4d"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"<<", "sddsBinaryInterpret`"}]], "Input",
 CellChangeTimes->{{3.7752023112902894`*^9, 3.7752023165723376`*^9}, {
  3.775202440334325*^9, 3.775202443613573*^9}},
 CellLabel->
  "(Local2) In[4]:=",ExpressionUUID->"7417d36b-225a-4788-9ebd-ef3f50b0103d"],

Cell[BoxData[
 TemplateBox[{
  "fmtbinrules","shdw",
   "\"Symbol \\!\\(\\*RowBox[{\\\"\\\\\\\"fmtbinrules\\\\\\\"\\\"}]\\) \
appears in multiple contexts \\!\\(\\*RowBox[{\\\"{\\\", \
RowBox[{\\\"\\\\\\\"ElementInput`\\\\\\\"\\\", \\\",\\\", \\\"\\\\\\\"Global`\
\\\\\\\"\\\"}], \\\"}\\\"}]\\); definitions in context \
\\!\\(\\*RowBox[{\\\"\\\\\\\"ElementInput`\\\\\\\"\\\"}]\\) may shadow or be \
shadowed by other definitions.\"",2,4,1,23069873822030820935,"Local2",
   "ElementInput`fmtbinrules"},
  "MessageTemplate2"]], "Message", "MSG",
 CellChangeTimes->{3.7870365286211777`*^9},
 CellLabel->
  "During evaluation of (Local2) \
In[4]:=",ExpressionUUID->"27189b29-5b89-4896-bde4-c96951e0ac82"],

Cell[BoxData[
 TemplateBox[{
  "$namereplacerules","shdw",
   "\"Symbol \\!\\(\\*RowBox[{\\\"\\\\\\\"$namereplacerules\\\\\\\"\\\"}]\\) \
appears in multiple contexts \\!\\(\\*RowBox[{\\\"{\\\", \
RowBox[{\\\"\\\\\\\"ElementInput`\\\\\\\"\\\", \\\",\\\", \\\"\\\\\\\"Global`\
\\\\\\\"\\\"}], \\\"}\\\"}]\\); definitions in context \
\\!\\(\\*RowBox[{\\\"\\\\\\\"ElementInput`\\\\\\\"\\\"}]\\) may shadow or be \
shadowed by other definitions.\"",2,4,2,23069873822030820935,"Local2",
   "ElementInput`$namereplacerules"},
  "MessageTemplate2"]], "Message", "MSG",
 CellChangeTimes->{3.787036528654089*^9},
 CellLabel->
  "During evaluation of (Local2) \
In[4]:=",ExpressionUUID->"058318aa-2821-4d5c-81ef-1b3009b5e460"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"<<", "numberRight`"}]], "Input",
 CellChangeTimes->{{3.775202317820036*^9, 3.7752023224441504`*^9}, {
  3.7752024453678894`*^9, 3.775202447027461*^9}},
 CellLabel->
  "(Local2) In[5]:=",ExpressionUUID->"8cf1dcfe-aed4-409c-8be3-90252b87f3af"],

Cell[BoxData[
 RowBox[{"Quiet", "[", 
  RowBox[{"<<", "madtomma`mfs`"}], "]"}]], "Input",
 CellChangeTimes->{{3.7870570972986417`*^9, 3.7870571019542103`*^9}, {
  3.787057710619608*^9, 
  3.7870577122633867`*^9}},ExpressionUUID->"c3421ea9-4697-4213-9325-\
3939fe4819ad"],

Cell[BoxData[
 RowBox[{"Clear", "[", 
  RowBox[{"element", ",", "elementDefinition"}], "]"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701874486884403`*^9, 3.5701874541884403`*^9}, {
  3.57018896908119*^9, 3.57018897079119*^9}, {3.57019143941319*^9, 
  3.57019144686419*^9}, {3.69796047535211*^9, 3.6979604755090003`*^9}},
 CellLabel->
  "(Local2) In[6]:=",ExpressionUUID->"831a1dd5-db2c-4dad-b905-baf81f760418"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"element", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.777372095963713*^9, 3.7773721272649612`*^9}},
 CellLabel->
  "(Local2) In[7]:=",ExpressionUUID->"8b19f0da-c16d-4257-812b-577f3b5576d5"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"line", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.777372118377265*^9, 3.777372129752373*^9}},
 CellLabel->
  "(Local2) In[8]:=",ExpressionUUID->"13d266f9-d3ef-4034-a049-67c6170452ca"],

Cell[BoxData[
 RowBox[{
  RowBox[{"elementLine", "::", "usage"}], "=", "\"\<\>\""}]], "Input",
 CellChangeTimes->{{3.7885050353168945`*^9, 
  3.788505039737562*^9}},ExpressionUUID->"03d7ec4b-826d-48ca-b11f-\
9a57e08f41f5"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementDraw", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.777372131870675*^9, 3.7773721379895926`*^9}},
 CellLabel->
  "(Local2) In[9]:=",ExpressionUUID->"96b55454-8ac3-4035-8a1e-cc042651d761"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantTwiss", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.777372131870675*^9, 3.7773721715367904`*^9}, 
   3.777373163345498*^9},
 CellLabel->
  "(Local2) In[10]:=",ExpressionUUID->"ff4f9ab3-cbad-4a88-b7a5-ea2af8b4cffe"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"MADTwiss", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.777372131870675*^9, 3.7773721715367904`*^9}, 
   3.777373163345498*^9, {3.787052073257016*^9, 
   3.787052073983035*^9}},ExpressionUUID->"d08fd01a-ea07-45e9-810a-\
cb664ec0b7f8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"MADElementNames", "::", "usage"}], "=", "\"\<\>\""}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.794892793611873*^9, 
  3.794892796582246*^9}},ExpressionUUID->"85411f1a-147a-4c48-a0b2-\
a8192695b3ae"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElementPositions", "::", "usage"}], "=", "\"\<\>\""}], 
  ";"}]], "Input",
 CellChangeTimes->{3.7773744432984295`*^9},
 CellLabel->
  "(Local2) In[11]:=",ExpressionUUID->"4d941f3f-8616-4a20-8d6a-65da88b4c41d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"elementInterpretLTE", "::", "usage"}], "=", 
   "\"\<elementInterpretLTE[filename]\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 
  3.7882444420819063`*^9}},ExpressionUUID->"04877357-9f8f-4bfd-9387-\
35099f9c0d18"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"elementInfo", "::", "usage"}], "=", 
   "\"\<elementInfo[lattice]\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
  3.7882657206476183`*^9, 
  3.7882657270704713`*^9}},ExpressionUUID->"23175369-122a-4290-abb2-\
d3c1f647139a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"Options", "[", "ElementDraw", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"Labels", "\[Rule]", "False"}], ",", 
     RowBox[{"Thickness", "\[Rule]", "0.001"}], ",", 
     RowBox[{"Monitors", "\[Rule]", "True"}], ",", 
     RowBox[{"Lengths", "\[Rule]", "False"}], ",", 
     RowBox[{"Filled", "\[Rule]", "False"}], ",", 
     RowBox[{"WidthScale", "\[Rule]", "1.4"}], ",", 
     RowBox[{"Symms", "\[Rule]", "True"}], ",", 
     RowBox[{"Bends", "\[Rule]", "True"}], ",", 
     RowBox[{"Offset", "\[Rule]", "0"}], ",", 
     RowBox[{"ShowPicture", "\[Rule]", "True"}], ",", 
     RowBox[{"Fontsize", "\[Rule]", "12"}], ",", 
     RowBox[{"Imagesize", "\[Rule]", "800"}], ",", 
     RowBox[{"DrawLabel", "\[Rule]", "\"\<\>\""}], ",", 
     RowBox[{"CheckClosed", "\[Rule]", "False"}], ",", 
     RowBox[{"Frame", "\[Rule]", "True"}], ",", 
     RowBox[{"MADDrawText", "\[Rule]", "False"}], ",", 
     RowBox[{"ElementDrawText", "\[Rule]", "False"}], ",", 
     RowBox[{"Element", "\[Rule]", "Nothing"}], ",", 
     RowBox[{"BendSign", "\[Rule]", "1"}]}], "}"}]}], ";"}]], "Input",
 Evaluatable->True,
 InitializationGroup->True,
 CellChangeTimes->{{3.394369389389533*^9, 3.3943694153258715`*^9}, {
  3.4700546133864937`*^9, 3.4700546138552437`*^9}, {3.6893200054161053`*^9, 
  3.6893200082865057`*^9}, {3.7326067621290655`*^9, 3.7326067637428656`*^9}, {
  3.765527210891706*^9, 3.765527213267223*^9}, {3.78703700454364*^9, 
  3.7870370097338676`*^9}, {3.8062146438687367`*^9, 
  3.8062146475233088`*^9}},ExpressionUUID->"9aeedd2e-a52c-425c-8b85-\
b966610bde49"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"quad", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
  3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
  3.7885107881031523`*^9}},ExpressionUUID->"6da57ed1-0ae4-4471-b8e4-\
0b722d01898d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"sext", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
  3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
  3.788510794543741*^9}},ExpressionUUID->"16ab32f9-c71d-410b-90e7-\
f1caf0fd0ac4"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"sbend", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
  3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
  3.788510797782118*^9}},ExpressionUUID->"9020d18d-4014-4311-89ad-\
07380fbf1035"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"rbend", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
  3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
  3.7885107999719644`*^9}},ExpressionUUID->"d3faaa0c-c7c4-4157-8fd4-\
c53b3db5d090"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"drift", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
  3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
  3.7885108029412365`*^9}},ExpressionUUID->"2b18337b-3557-44b7-8287-\
066d3d771fac"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"watch", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
  3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
  3.788510806933713*^9}},ExpressionUUID->"00a8715c-562c-43ed-8cf4-\
b90dced0bb8b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"marker", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
  3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
  3.7885107881031523`*^9}, {3.7885108192628536`*^9, 
  3.7885108211689854`*^9}},ExpressionUUID->"4ff10a8b-9afa-45e2-b247-\
351709996287"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"bpm", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
  3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
  3.7885107881031523`*^9}, {3.788510823007305*^9, 
  3.7885108242314067`*^9}},ExpressionUUID->"73c0aeca-f46d-4501-a1cc-\
72bd16e51ddb"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"kick", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
  3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
  3.7885107881031523`*^9}, {3.788510823007305*^9, 
  3.7885108377320414`*^9}},ExpressionUUID->"c1486102-4eec-4155-9fa2-\
329576eedb31"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"hkick", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
   3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
   3.7885107881031523`*^9}, {3.788510823007305*^9, 3.7885108377320414`*^9}, 
   3.7885115616717353`*^9},ExpressionUUID->"b96beb3f-8f6b-4c27-87bb-\
b0c812d70a40"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"vkick", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.788244425723608*^9, 3.7882444420819063`*^9}, {
   3.7882657206476183`*^9, 3.7882657270704713`*^9}, {3.788510785342791*^9, 
   3.7885107881031523`*^9}, {3.788510823007305*^9, 3.7885108377320414`*^9}, 
   3.7885115632035227`*^9},ExpressionUUID->"9f5a0334-02cc-4255-9a18-\
3478ee2686e3"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"rfca", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.7885112707375903`*^9, 
  3.7885112732701206`*^9}},ExpressionUUID->"2ecab18a-73b8-4556-9656-\
5487389de326"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantWriteLattice", "::", "usage"}], "=", "\"\<\>\""}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.788520818604931*^9, 
  3.7885208308162847`*^9}},ExpressionUUID->"4e5420f8-8c21-4307-a899-\
445a6bd873e9"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRun", "::", "usage"}], "=", "\"\<\>\""}], ";"}]], "Input",
 CellChangeTimes->{{3.7885208226690702`*^9, 
  3.788520831613155*^9}},ExpressionUUID->"81abc280-0a65-4a0c-b88b-\
9258e0130412"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"commandDefinition", "::", "usage"}], "=", "\"\<\>\""}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.788589397395892*^9, 
  3.788589399282143*^9}},ExpressionUUID->"42034cd5-882b-4f72-bb24-\
549a97583338"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantWriteCommands", "::", "usage"}], "=", "\"\<\>\""}], 
  ";"}]], "Input",
 CellChangeTimes->{{3.7886045700288363`*^9, 
  3.788604572167678*^9}},ExpressionUUID->"ef1d7259-c849-4d33-91cc-\
8e78555a10b1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Begin", "[", "\"\<`Private`\>\"", "]"}], ";"}]], "Input",
 CellChangeTimes->{{3.7773720728235273`*^9, 3.777372079521451*^9}},
 CellLabel->
  "(Local2) In[13]:=",ExpressionUUID->"06188929-d286-451b-9f94-fe3126859d31"],

Cell[CellGroupData[{

Cell["elementDefinition", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{
  3.6254668762345448`*^9},ExpressionUUID->"3484acfa-19b0-4bc2-8fd5-\
22f306588c9a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"allElements", "=", 
   RowBox[{"{", "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019898525519*^9, 3.5701989860871897`*^9}},
 CellLabel->
  "(Local2) In[14]:=",ExpressionUUID->"c61067f0-64c4-41e1-bc20-d21ccd819e6f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"replaceRuleNames", ",", 
    RowBox[{"{", 
     RowBox[{"HoldAll", ",", "Listable"}], "}"}]}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"replaceRuleNames", "[", 
   RowBox[{"Rule", "[", 
    RowBox[{"x_", ",", "y_"}], "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Rule", "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "x", "]"}], "]"}], "]"}], ",", "y"}], 
     "]"}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5703483144476075`*^9, 3.570348389092165*^9}, {
  3.570348433708165*^9, 3.5703484359857655`*^9}, {3.570348519040165*^9, 
  3.570348620050165*^9}, {3.5703486853209925`*^9, 3.5703486874426203`*^9}, {
  3.5703492812382135`*^9, 3.5703493174914513`*^9}},
 CellLabel->
  "(Local2) In[15]:=",ExpressionUUID->"dbc417f9-e264-4df8-80c0-404d68c6f0c8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"element", "[", "list__Rule", "]"}], "/;", 
   RowBox[{"MemberQ", "[", 
    RowBox[{
     RowBox[{
      RowBox[{"{", "list", "}"}], "\[LeftDoubleBracket]", 
      RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], ",", 
     "\"\<NAME\>\""}], "]"}]}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "name", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"name", "=", 
      RowBox[{"\"\<NAME\>\"", "/.", 
       RowBox[{"{", "list", "}"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"allElements", "=", 
      RowBox[{"Union", "[", 
       RowBox[{"AppendTo", "[", 
        RowBox[{"allElements", ",", "name"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Clear", "[", 
      RowBox[{"Evaluate", "[", "name", "]"}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Evaluate", "[", 
       RowBox[{"Symbol", "@", "name"}], "]"}], "=", 
      RowBox[{"elementDefinition", "[", "list", "]"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57018730058844*^9, 3.57018736330844*^9}, {
   3.57018741812844*^9, 3.5701874275784397`*^9}, {3.5701874643684397`*^9, 
   3.5701874686884403`*^9}, {3.57018751410844*^9, 3.5701875801184397`*^9}, {
   3.57018879582119*^9, 3.57018882244119*^9}, {3.57018896454119*^9, 
   3.57018896497119*^9}, {3.57019143773319*^9, 3.5701914504141903`*^9}, {
   3.57019896303419*^9, 3.5701990141981897`*^9}, {3.570345737501156*^9, 
   3.5703457478145394`*^9}, {3.570347290218301*^9, 3.570347293029667*^9}, 
   3.5703481081611423`*^9},
 CellLabel->
  "(Local2) In[17]:=",ExpressionUUID->"a4050181-9476-4550-b4c3-fe2966f14655"],

Cell[BoxData[
 RowBox[{
  RowBox[{"element", "[", 
   RowBox[{"magnet_", ",", "var__Symbol"}], "]"}], ":=", 
  RowBox[{"var", "/.", 
   RowBox[{"Evaluate", "[", "magnet", "]"}]}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57018730058844*^9, 3.57018736330844*^9}, {
  3.57018741812844*^9, 3.5701874275784397`*^9}, {3.5701874643684397`*^9, 
  3.57018749933844*^9}, {3.57018760023844*^9, 3.57018760235844*^9}, {
  3.57018763375844*^9, 3.57018764496844*^9}, {3.5701914301831903`*^9, 
  3.57019143117319*^9}},
 CellLabel->
  "(Local2) In[18]:=",ExpressionUUID->"ebef5ee7-fcba-4f32-b63c-80da42490c22"]
}, Closed]],

Cell[CellGroupData[{

Cell["Set/Get Properties", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6254668008705444`*^9, 
  3.6254668047585444`*^9}},ExpressionUUID->"9218acda-3981-499c-9b86-\
4ac71367d91c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "GetProperty", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"GetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list__", "]"}], ",", "var_"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"ToUpperCase", "[", "var", "]"}], "/.", 
     RowBox[{"{", "list", "}"}]}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701900913221903`*^9, 3.57019022190219*^9}, 
   3.5701915012641897`*^9, {3.625416884361206*^9, 3.625416887587206*^9}},
 CellLabel->
  "(Local2) In[19]:=",ExpressionUUID->"55f88eac-7e50-4d06-ad53-1727308d8568"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Unprotect", "[", "SetProperty", "]"}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57018993620219*^9, 3.57018994281219*^9}, {
  3.625398944787206*^9, 3.625398970219206*^9}},
 CellLabel->
  "(Local2) In[21]:=",ExpressionUUID->"4bff1404-7568-4ca3-b84d-43c3ad962975"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "x__", "]"}], ",", " ", 
    RowBox[{"{", "y_Rule", "}"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "x", "]"}], ",", " ", 
    RowBox[{"Rule", "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", 
       RowBox[{"ToString", "[", 
        RowBox[{"y", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "]"}], "]"}], ",", " ", 
      RowBox[{"y", "[", 
       RowBox[{"[", "2", "]"}], "]"}]}], "]"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57018991731219*^9, 3.57018992845219*^9}, {
   3.57019146056419*^9, 3.5701914621641903`*^9}, {3.5703466458017488`*^9, 
   3.5703466692680593`*^9}, 3.5703473712474422`*^9, {3.570347401993429*^9, 
   3.57034740645706*^9}, {3.5703474995534115`*^9, 3.5703475091517773`*^9}, {
   3.6253987403622065`*^9, 3.625398745153206*^9}, 3.625398944788206*^9, {
   3.625398996944206*^9, 3.625398996946206*^9}, 3.625399233354206*^9},
 CellLabel->
  "(Local2) In[22]:=",ExpressionUUID->"43b60bca-a238-4221-8ccb-897382b8a694"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "x__", "]"}], ",", " ", "rules_List"}], 
   "]"}], " ", ":=", " ", 
  RowBox[{"Fold", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"SetProperty", "[", 
      RowBox[{"#1", ",", " ", 
       RowBox[{"{", "#2", "}"}]}], "]"}], " ", "&"}], ",", " ", 
    RowBox[{"elementDefinition", "[", "x", "]"}], ",", " ", "rules"}], 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57018991731219*^9, 3.57018992845219*^9}, {
   3.57019146056419*^9, 3.5701914621641903`*^9}, {3.5703466458017488`*^9, 
   3.5703466692680593`*^9}, 3.5703473712474422`*^9, {3.570347401993429*^9, 
   3.57034740645706*^9}, {3.5703474995534115`*^9, 3.5703475091517773`*^9}, {
   3.570347897780514*^9, 3.570347947676746*^9}, {3.5703480534696455`*^9, 
   3.5703480592414236`*^9}, {3.625398604594206*^9, 3.6253986340322065`*^9}, {
   3.6253986646472063`*^9, 3.6253986656312065`*^9}, 3.6253989447892065`*^9, {
   3.6253989969472065`*^9, 3.625399015313206*^9}},
 CellLabel->
  "(Local2) In[23]:=",ExpressionUUID->"1c8b8232-ef0a-43d7-8b3b-6ce37669dbe8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"SetProperty", "::", "\"\<wrongtype\>\""}], " ", "=", " ", 
   "\"\<There are no elements of type \\\"`1`\\\" to modify.\>\""}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019972573619*^9, 3.5701997704691896`*^9}, 
   3.6253989447892065`*^9, {3.625398996951206*^9, 3.625398996952206*^9}},
 CellLabel->
  "(Local2) In[24]:=",ExpressionUUID->"40499830-6521-4ef5-8127-1b2b609b4b47"],

Cell[BoxData[
 RowBox[{
  RowBox[{"SetProperty", "[", 
   RowBox[{"type_String", ",", " ", 
    RowBox[{"{", "y__Rule", "}"}]}], "]"}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "list", "}"}], ",", "\n", "  ", 
    RowBox[{
     RowBox[{"list", " ", "=", " ", 
      RowBox[{"Select", "[", 
       RowBox[{
        RowBox[{"ToExpression", "[", "allElements", "]"}], ",", " ", 
        RowBox[{
         RowBox[{"MemberQ", "[", 
          RowBox[{
           RowBox[{"Map", "[", 
            RowBox[{"ToUpperCase", ",", "#", ",", 
             RowBox[{"{", "2", "}"}]}], "]"}], ",", " ", 
           RowBox[{"Rule", "[", 
            RowBox[{"\"\<TYPE\>\"", ",", 
             RowBox[{"ToUpperCase", "[", "type", "]"}]}], "]"}], ",", " ", 
           "2"}], "]"}], " ", "&"}]}], "]"}]}], ";", "\n", "  ", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Length", "[", "list", "]"}], " ", ">", " ", "0"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{
         RowBox[{"SetProperty", "[", 
          RowBox[{"#", ",", " ", "y"}], "]"}], " ", "&"}], " ", "/@", " ", 
        "list"}], ",", "\[IndentingNewLine]", 
       RowBox[{"Message", "[", 
        RowBox[{
         RowBox[{"SetProperty", "::", "\"\<wrongtype\>\""}], ",", " ", 
         "type"}], "]"}]}], "\[IndentingNewLine]", "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57018991731219*^9, 3.57018992845219*^9}, {
   3.57019146056419*^9, 3.5701914621641903`*^9}, {3.57019949187919*^9, 
   3.57019952226119*^9}, 3.5701995703221903`*^9, {3.5701996326861897`*^9, 
   3.57019971898619*^9}, {3.570346613535572*^9, 3.5703466155171022`*^9}, 
   3.6253989447912064`*^9, {3.6253989969542065`*^9, 3.6253989969562063`*^9}, {
   3.625504035826016*^9, 3.6255040403934727`*^9}, {3.6255040718126144`*^9, 
   3.6255040738078136`*^9}, 3.625504261340565*^9, {3.6881121833526936`*^9, 
   3.6881122046012936`*^9}},
 CellLabel->
  "(Local2) In[25]:=",ExpressionUUID->"0e792dba-89ea-4508-8c3d-d14576728249"]
}, Closed]],

Cell[CellGroupData[{

Cell["UpValues", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6254668324365444`*^9, 
  3.6254668337885447`*^9}},ExpressionUUID->"0a239995-dc48-4949-b2d9-\
a3992e94de25"],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "x__", "]"}], ",", "y__Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "name", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"name", "=", 
      RowBox[{"\"\<NAME\>\"", "/.", 
       RowBox[{"Join", "[", 
        RowBox[{
         RowBox[{"{", "y", "}"}], ",", 
         RowBox[{"{", "x", "}"}]}], "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"element", "[", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Rule", "[", 
           RowBox[{"#", ",", 
            RowBox[{"#", "/.", 
             RowBox[{"Join", "[", 
              RowBox[{
               RowBox[{"{", "y", "}"}], ",", 
               RowBox[{"{", "x", "}"}]}], "]"}]}]}], "]"}], "&"}], ",", 
         RowBox[{"Union", "[", 
          RowBox[{
           RowBox[{"Join", "[", 
            RowBox[{
             RowBox[{"{", "y", "}"}], ",", 
             RowBox[{"{", "x", "}"}]}], "]"}], "\[LeftDoubleBracket]", 
           RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], "]"}]}], 
        "]"}]}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701876744784403`*^9, 3.57018767792844*^9}, {
   3.57018778477844*^9, 3.57018784830844*^9}, {3.57018856790119*^9, 
   3.57018858846119*^9}, {3.57018862145119*^9, 3.57018863644119*^9}, {
   3.57018873522119*^9, 3.57018876258119*^9}, {3.57018898426119*^9, 
   3.57018898599119*^9}, {3.5701890254811897`*^9, 3.57018918848219*^9}, {
   3.57018969451219*^9, 3.5701897858621902`*^9}, {3.57018982499219*^9, 
   3.57018982731219*^9}, {3.57018986840219*^9, 3.57018986977219*^9}, {
   3.57019027603319*^9, 3.57019027931319*^9}, 3.5701914583041897`*^9, {
   3.57019153483419*^9, 3.57019154693419*^9}, {3.5703470099624825`*^9, 
   3.5703470108048882`*^9}},
 CellLabel->
  "(Local2) In[26]:=",ExpressionUUID->"8f9c92e6-1445-462d-b2d4-c857346bc27f"],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "x__", "]"}], ",", 
    RowBox[{"Rule", "[", 
     RowBox[{"y_", ",", "Null"}], "]"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "name", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"name", "=", 
      RowBox[{"\"\<NAME\>\"", "/.", 
       RowBox[{"Join", "[", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{"Rule", "[", 
           RowBox[{"y", ",", "Null"}], "]"}], "}"}], ",", 
         RowBox[{"{", "x", "}"}]}], "]"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"element", "[", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Rule", "[", 
           RowBox[{"#", ",", 
            RowBox[{"#", "/.", 
             RowBox[{"{", "x", "}"}]}]}], "]"}], "&"}], ",", 
         RowBox[{"Complement", "[", 
          RowBox[{
           RowBox[{
            RowBox[{"{", "x", "}"}], "\[LeftDoubleBracket]", 
            RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], ",", 
           RowBox[{"{", "y", "}"}]}], "]"}]}], "]"}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701876744784403`*^9, 3.57018767792844*^9}, {
   3.57018778477844*^9, 3.57018784830844*^9}, {3.57018856790119*^9, 
   3.57018858846119*^9}, {3.57018862145119*^9, 3.57018863644119*^9}, {
   3.57018873522119*^9, 3.57018876258119*^9}, {3.57018898426119*^9, 
   3.57018898599119*^9}, {3.5701890254811897`*^9, 3.57018918848219*^9}, {
   3.57018969451219*^9, 3.5701897858621902`*^9}, {3.57018982499219*^9, 
   3.57018982731219*^9}, {3.57018986840219*^9, 3.57018986977219*^9}, {
   3.57019027603319*^9, 3.57019027931319*^9}, 3.5701914583041897`*^9, {
   3.57019153483419*^9, 3.57019154693419*^9}, {3.5703470099624825`*^9, 
   3.5703470108048882`*^9}, {3.625398854347206*^9, 3.625398861363206*^9}, {
   3.625398899304206*^9, 3.6253989102232065`*^9}, {3.625399052127206*^9, 
   3.625399226139206*^9}},
 CellLabel->
  "(Local2) In[27]:=",ExpressionUUID->"0abe48ba-0915-4d0c-88ff-1e6366e3c905"],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"Rule", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"elementDefinition", "[", "list__", "]"}], "[", "var_String", 
     "]"}], ",", "val_"}], "]"}], ":=", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list", "]"}], ",", " ", 
    RowBox[{"Rule", "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", "var", "]"}], ",", "val"}], "]"}]}], 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, 3.6254105678742065`*^9},
 CellLabel->
  "(Local2) In[28]:=",ExpressionUUID->"78c3b840-7eb2-482b-b6e8-d6b5d12c58ec"],

Cell["\<\
commandDefinition /: Rule[commandDefinition[list__][var_String], val_] := \
SetProperty[commandDefinition[list], Rule[ToUpperCase[var], val]]\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, 3.6254105678742065`*^9, {3.6881119821264935`*^9, 
   3.6881119849664936`*^9}, 3.6881123682392936`*^9, {3.7728659064087276`*^9, 
   3.7728659268648386`*^9}},
 CellLabel->
  "In[770]:=",ExpressionUUID->"97ac2441-516a-4f2c-aa13-98b4432d2529"],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{
   RowBox[{"elementDefinition", "[", "list__", "]"}], "[", 
   RowBox[{"Rule", "[", 
    RowBox[{"var_String", ",", "val_"}], "]"}], "]"}], ":=", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list", "]"}], ",", " ", 
    RowBox[{"Rule", "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", "var", "]"}], ",", "val"}], "]"}]}], 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, {3.625409340096206*^9, 3.625409359294206*^9}, {
   3.625410562842206*^9, 3.625410564273206*^9}},
 CellLabel->
  "(Local2) In[29]:=",ExpressionUUID->"871956f3-e9ad-44c7-8844-9721174cb57c"],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{
   RowBox[{"elementDefinition", "[", "list__", "]"}], "[", "rules__Rule", 
   "]"}], ":=", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list", "]"}], ",", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"Rule", "[", 
        RowBox[{
         RowBox[{"ToUpperCase", "[", 
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", 
         RowBox[{"#", "[", 
          RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "&"}], ",", 
      RowBox[{"{", "rules", "}"}]}], "]"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, {3.625409340096206*^9, 3.625409359294206*^9}, {
   3.6254094016522064`*^9, 3.6254094041412063`*^9}, {3.625409435057206*^9, 
   3.625409442577206*^9}, {3.625409508469206*^9, 3.6254095477462063`*^9}, {
   3.625410580547206*^9, 3.625410586721206*^9}, {3.6254164640062065`*^9, 
   3.6254165073252063`*^9}, {3.625416543385206*^9, 3.6254165494102063`*^9}},
 CellLabel->
  "(Local2) In[30]:=",ExpressionUUID->"8e923f3f-fa86-4feb-b52e-b2c9b9e1df18"],

Cell["\<\
elementDefinition /: elementDefinition[list__][var_String] := \
ToUpperCase[var] /. {list}\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}, {3.6253119588293095`*^9, 
   3.625311994917918*^9}, {3.625400759076206*^9, 3.625400804300206*^9}, 
   3.625407732894206*^9, {3.625407951512206*^9, 3.6254079676402063`*^9}, 
   3.625408388492206*^9},ExpressionUUID->"77198642-a8b5-4910-853a-\
ecd27ff94d1f"],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"Rule", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"elementDefinition", "[", "list__", "]"}], "[", "var_String", 
     "]"}], ",", "val_"}], "]"}], ":=", 
  RowBox[{"SetProperty", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list", "]"}], ",", " ", 
    RowBox[{"Rule", "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", "var", "]"}], ",", "val"}], "]"}]}], 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625416829576206*^9, 3.6254168656262064`*^9}, {
  3.6254169254732065`*^9, 3.625416940321206*^9}},
 CellLabel->
  "(Local2) In[31]:=",ExpressionUUID->"909d9d52-1a92-4dd2-8a72-31b05ff2366d"],

Cell["\<\
elementDefinition /: elementDefinition[list__][var_String] := \
GetProperty[elementDefinition[list], var]\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.625416829576206*^9, 3.6254168656262064`*^9}, {
   3.6254169693182063`*^9, 3.625417035103206*^9}, {3.625417119386206*^9, 
   3.625417124491206*^9}, 
   3.625417491609206*^9},ExpressionUUID->"9f476184-52e9-4d06-9019-\
53f877cef310"],

Cell[BoxData[
 RowBox[{"elementDefinition", " ", "/:", " ", 
  RowBox[{"Part", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list__", "]"}], ",", " ", "var_"}], 
   "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"#", "===", 
       RowBox[{"ToUpperCase", "[", "var", "]"}]}], ",", "0", ",", "#"}], 
     "]"}], "&"}], "[", 
   RowBox[{
    RowBox[{"ToUpperCase", "[", "var", "]"}], " ", "/.", " ", 
    RowBox[{"MapAt", "[", 
     RowBox[{"ToUpperCase", ",", 
      RowBox[{"{", "list", "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"All", ",", "1"}], "}"}]}], "]"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, 
   3.625407732894206*^9, {3.625407811913206*^9, 3.6254078119142065`*^9}, 
   3.625408527467206*^9, {3.6254092990412064`*^9, 3.625409299043206*^9}, {
   3.625497286418143*^9, 3.6254973252200227`*^9}, 3.7728664331198096`*^9},
 CellLabel->
  "(Local2) In[32]:=",ExpressionUUID->"fce60726-0e19-4011-8efa-8fac0bff736d"],

Cell[BoxData[
 RowBox[{"elementDefinition", " ", "/:", " ", 
  RowBox[{
   RowBox[{"elementDefinition", "[", "list__", "]"}], "[", " ", "var_String", 
   "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"#", "===", 
       RowBox[{"ToUpperCase", "[", "var", "]"}]}], ",", "0", ",", "#"}], 
     "]"}], "&"}], "[", 
   RowBox[{
    RowBox[{"ToUpperCase", "[", "var", "]"}], " ", "/.", " ", 
    RowBox[{"MapAt", "[", 
     RowBox[{"ToUpperCase", ",", 
      RowBox[{"{", "list", "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"All", ",", "1"}], "}"}]}], "]"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, 
   3.625407732894206*^9, {3.625407811913206*^9, 3.6254078119142065`*^9}, 
   3.625408527467206*^9, {3.6254092990412064`*^9, 3.625409299043206*^9}, {
   3.625497286418143*^9, 3.6254973252200227`*^9}, {3.679851701675555*^9, 
   3.679851718509921*^9}, {3.6798518619651065`*^9, 3.6798518854327993`*^9}, {
   3.7728664341925616`*^9, 3.772866436208258*^9}},
 CellLabel->
  "(Local2) In[33]:=",ExpressionUUID->"3f216b75-57d0-4c4c-8cb1-cb75c8926d56"],

Cell[BoxData[
 RowBox[{"elementDefinition", " ", "/:", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"elementDefinition", "[", "list__", "]"}], "[", " ", "var_String",
     "]"}], "/;", 
   RowBox[{
    RowBox[{"ToUpperCase", "[", "var", "]"}], "\[Equal]", 
    "\"\<LENGTH\>\""}]}], " ", ":=", " ", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "val", "}"}], ",", 
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"(", 
        RowBox[{"val", "=", 
         RowBox[{"\"\<LENGTH\>\"", " ", "/.", " ", 
          RowBox[{"{", "list", "}"}]}]}], ")"}], "===", "\"\<LENGTH\>\""}], 
      ",", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"val", "=", 
           RowBox[{"\"\<L\>\"", " ", "/.", " ", 
            RowBox[{"{", "list", "}"}]}]}], ")"}], "===", "\"\<L\>\""}], ",", 
        "0", ",", "val"}], "]"}], ",", "val"}], "]"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, 
   3.625407732894206*^9, {3.625407811913206*^9, 3.6254078119142065`*^9}, 
   3.625408527467206*^9, {3.6254092990412064`*^9, 3.625409299043206*^9}, {
   3.625497286418143*^9, 3.6254973252200227`*^9}, {3.679851701675555*^9, 
   3.679851718509921*^9}, {3.6798518619651065`*^9, 3.6798518854327993`*^9}, {
   3.699614738828368*^9, 3.699614880338665*^9}},
 CellLabel->
  "(Local2) In[34]:=",ExpressionUUID->"ac22ea63-4196-4a42-852f-5e157aee1412"],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"ReplaceAll", "[", 
   RowBox[{
    RowBox[{"var_String", "|", "var_Symbol"}], ",", 
    RowBox[{"elementDefinition", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{"ToUpperCase", "[", 
    RowBox[{"ToString", "[", "var", "]"}], "]"}], "/.", 
   RowBox[{"{", "list", "}"}]}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}},
 CellLabel->
  "(Local2) In[35]:=",ExpressionUUID->"c7c836ed-1b3a-4202-8292-609e191aa13b"],

Cell[BoxData[
 RowBox[{"commandDefinition", "/:", 
  RowBox[{"ReplaceAll", "[", 
   RowBox[{
    RowBox[{"var_String", "|", "var_Symbol"}], ",", 
    RowBox[{"commandDefinition", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{"ToUpperCase", "[", 
    RowBox[{"ToString", "[", "var", "]"}], "]"}], "/.", 
   RowBox[{"{", "list", "}"}]}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}, {3.6253114732997613`*^9, 
   3.625311477500181*^9}},
 CellLabel->
  "(Local2) In[36]:=",ExpressionUUID->"6760efcb-5bca-4143-938c-3a5dfa20e9e7"],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"ReplaceAll", "[", 
   RowBox[{"var_List", ",", 
    RowBox[{"elementDefinition", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ToUpperCase", "[", 
      RowBox[{"ToString", "[", "#", "]"}], "]"}], "/.", 
     RowBox[{"{", "list", "}"}]}], "&"}], "/@", "var"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.570346776504729*^9}},
 CellLabel->
  "(Local2) In[37]:=",ExpressionUUID->"81148b1e-44d2-475c-be6a-3bc2ff92d814"],

Cell[BoxData[
 RowBox[{"commandDefinition", "/:", 
  RowBox[{"ReplaceAll", "[", 
   RowBox[{"var_List", ",", 
    RowBox[{"commandDefinition", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ToUpperCase", "[", 
      RowBox[{"ToString", "[", "#", "]"}], "]"}], "/.", 
     RowBox[{"{", "list", "}"}]}], "&"}], "/@", "var"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.570346776504729*^9}, {3.6253114828677177`*^9, 
   3.6253114837718086`*^9}},
 CellLabel->
  "(Local2) In[38]:=",ExpressionUUID->"5a43dcdb-be71-4969-b9b5-5f8d0fcda50a"],

Cell[BoxData[
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"capitalRuleNames", "[", 
   RowBox[{"elementDefinition", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Map", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Rule", "[", 
      RowBox[{
       RowBox[{"ToUpperCase", "[", 
        RowBox[{"#", "[", 
         RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", 
       RowBox[{"#", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "&"}], ",", 
    RowBox[{"{", "list", "}"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}, {3.6253119588293095`*^9, 
   3.625311994917918*^9}},
 CellLabel->
  "(Local2) In[39]:=",ExpressionUUID->"0ac53347-5404-4679-a753-b296ad3c748a"],

Cell[BoxData[
 RowBox[{"commandDefinition", "/:", 
  RowBox[{"capitalRuleNames", "[", 
   RowBox[{"commandDefinition", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Map", "[", 
   RowBox[{
    RowBox[{
     RowBox[{"Rule", "[", 
      RowBox[{
       RowBox[{"StringReplace", "[", 
        RowBox[{
         RowBox[{"ToLowerCase", "[", 
          RowBox[{"#", "[", 
           RowBox[{"[", "1", "]"}], "]"}], "]"}], ",", 
         RowBox[{"\"\<sdds\>\"", "\[Rule]", "\"\<SDDS\>\""}]}], "]"}], ",", 
       RowBox[{"#", "[", 
        RowBox[{"[", "2", "]"}], "]"}]}], "]"}], "&"}], ",", 
    RowBox[{"{", "list", "}"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}, {3.6253119588293095`*^9, 
   3.6253120166950955`*^9}, {3.625312915038921*^9, 3.6253129160350204`*^9}, {
   3.625397239698206*^9, 3.6253972500012064`*^9}},
 CellLabel->
  "(Local2) In[40]:=",ExpressionUUID->"8ee4eed9-bbd0-43ba-bd7e-d4bc5ab2a95c"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"ReplaceAll", "[", 
    RowBox[{"var_", ",", 
     RowBox[{"elementLine", "[", "list_", "]"}]}], "]"}], "/;", 
   RowBox[{
    RowBox[{"Length", "[", 
     RowBox[{"{", "list", "}"}], "]"}], ">", "1"}]}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{"ToUpperCase", "[", 
      RowBox[{"ToString", "[", "var", "]"}], "]"}], "/.", 
     RowBox[{"{", "#", "}"}]}], "&"}], "/@", "list"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
  3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
  3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
  3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
  3.5703457055832825`*^9}},
 CellLabel->
  "(Local2) In[41]:=",ExpressionUUID->"2b350736-4b5f-4ba2-b3e5-5d876f353ab8"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"ReplaceAll", "[", 
    RowBox[{"var_", ",", 
     RowBox[{"elementLine", "[", "list_", "]"}]}], "]"}], "/;", 
   RowBox[{
    RowBox[{"Length", "[", 
     RowBox[{"{", "list", "}"}], "]"}], "==", "1"}]}], ":=", 
  RowBox[{
   RowBox[{"ToUpperCase", "[", 
    RowBox[{"ToString", "[", "var", "]"}], "]"}], "/.", "list"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701994171321898`*^9}, 3.5703457078541193`*^9},
 CellLabel->
  "(Local2) In[42]:=",ExpressionUUID->"8275efc7-d66f-4b59-b890-66f3cfabdc85"],

Cell["\<\
elementLine /: ReplaceAll[var_, elementLine[list__]] := var /. # /. {var -> \
0} & /@ {list}\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019121810319*^9, 3.57019129848319*^9}, {
   3.5701915055541897`*^9, 3.57019150654419*^9}, 
   3.6253217893112593`*^9},ExpressionUUID->"692f0640-314f-4978-8a48-\
7977f9ad3862"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MapAt", "[", 
  RowBox[{"ToUpperCase", ",", 
   RowBox[{"{", 
    RowBox[{"\"\<a\>\"", "\[Rule]", "1"}], "}"}], ",", 
   RowBox[{"{", 
    RowBox[{"All", ",", "1"}], "}"}]}], "]"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.772866377538679*^9, 3.7728663953203545`*^9}},
 CellLabel->
  "(Local2) In[43]:=",ExpressionUUID->"89b4011f-7858-4735-95d9-c79623af7ee8"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"\<\"A\"\>", "\[Rule]", "1"}], "}"}]], "Output",
 InitializationGroup->True,
 CellChangeTimes->{
  3.7728663957537746`*^9, 3.772969392355497*^9, 3.773398513613372*^9, 
   3.773573449159051*^9, 3.775198537105386*^9, 3.775202359218477*^9, 
   3.7752025697567987`*^9, {3.775283136418275*^9, 3.775283158421*^9}, 
   3.7870365303296404`*^9},
 CellLabel->
  "(Local2) Out[43]=",ExpressionUUID->"6a9efae6-3631-4fc2-8b7c-5360ca6d67c3"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"commandDefinition", " ", "/:", " ", 
  RowBox[{
   RowBox[{"commandDefinition", "[", "list__", "]"}], "[", " ", "var_String", 
   "]"}], " ", ":=", " ", 
  RowBox[{
   RowBox[{
    RowBox[{"If", "[", 
     RowBox[{
      RowBox[{"#", "===", 
       RowBox[{"ToUpperCase", "[", "var", "]"}]}], ",", 
      RowBox[{
       RowBox[{"Print", "[", "#", "]"}], ";", "0"}], ",", "#"}], "]"}], "&"}],
    "[", 
   RowBox[{
    RowBox[{"ToUpperCase", "[", "var", "]"}], " ", "/.", " ", 
    RowBox[{"MapAt", "[", 
     RowBox[{"ToUpperCase", ",", 
      RowBox[{"{", "list", "}"}], ",", 
      RowBox[{"{", 
       RowBox[{"All", ",", "1"}], "}"}]}], "]"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, 
   3.625407732894206*^9, {3.625407811913206*^9, 3.6254078119142065`*^9}, 
   3.625408527467206*^9, {3.6254092990412064`*^9, 3.625409299043206*^9}, {
   3.625497286418143*^9, 3.6254973252200227`*^9}, {3.679851701675555*^9, 
   3.679851718509921*^9}, {3.6798518619651065`*^9, 3.6798518854327993`*^9}, {
   3.7728659559878025`*^9, 3.772865956963487*^9}, {3.772866318106744*^9, 
   3.7728663197288637`*^9}, {3.7728663510713587`*^9, 
   3.7728663698246107`*^9}, {3.7728664010474977`*^9, 3.7728664104332857`*^9}},
 CellLabel->
  "(Local2) In[44]:=",ExpressionUUID->"cbf100b4-9fd0-4b7b-b1ad-4c8941bb4443"],

Cell["\<\
elementLine /: -elementLine[list__] := elementLine[Sequence @@ \
Reverse@(Switch[\"TYPE\" /. #,
        \"SectorBend\", elementDefinition[Sequence @@ DeleteCases[#, \
Rule[\"E1\" | \"E2\", a_]], Sequence @@ Cases[BEND1, Rule[\"E1\", a_] :> \
Rule[\"E2\", a]], Sequence @@ Cases[BEND1, Rule[\"E2\", a_] :> Rule[\"E1\", \
a]], \"REVERSED\" -> True],
        \"RectBend\", elementDefinition[Sequence @@ DeleteCases[#, \
Rule[\"E1\" | \"E2\", a_]], Sequence @@ Cases[BEND1, Rule[\"E1\", a_] :> \
Rule[\"E2\", a]], Sequence @@ Cases[BEND1, Rule[\"E2\", a_] :> Rule[\"E1\", \
a]], \"REVERSED\" -> True],
        _, #] & /@ {list})]\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, 
   3.6253234686081724`*^9},ExpressionUUID->"4f31dbeb-acfc-4c3e-a73b-\
66b67cf16982"],

Cell["\<\
elementLine /: -elementLine[list__] := elementLine[Sequence @@ Cases[{list}, \
Except[Rule[\"NAME\", _String]]], \"NAME\" -> (\"-\" <> Cases[{list}, \
Rule[\"NAME\", a_String] :> a])]\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.625323611830493*^9, 3.6253236875600653`*^9}, {
   3.6253237814594545`*^9, 3.625323816380946*^9}, {3.625323850574365*^9, 
   3.625323906167924*^9}, {3.625324494380739*^9, 3.625324525501851*^9}, {
   3.6253245692512255`*^9, 3.625324627394039*^9}, 
   3.625324952260523*^9},ExpressionUUID->"b2ba8561-19df-426a-9fba-\
c8416031d593"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"-", 
   RowBox[{"elementLine", "[", "list__", "]"}]}], ":=", 
  RowBox[{"elementLine", "[", 
   RowBox[{
    RowBox[{"Sequence", "@@", 
     RowBox[{"Cases", "[", 
      RowBox[{
       RowBox[{"{", "list", "}"}], ",", 
       RowBox[{"Except", "[", 
        RowBox[{"Rule", "[", 
         RowBox[{"\"\<REVERSED\>\"", ",", "_Boolean"}], "]"}], "]"}]}], 
      "]"}]}], ",", 
    RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "True"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.625323611830493*^9, 3.6253236875600653`*^9}, {
   3.6253237814594545`*^9, 3.625323816380946*^9}, {3.625323850574365*^9, 
   3.625323906167924*^9}, {3.625324494380739*^9, 3.625324525501851*^9}, {
   3.6253245692512255`*^9, 3.625324627394039*^9}, {3.6253249549577923`*^9, 
   3.6253249654458413`*^9}, {3.6253886635704117`*^9, 3.625388664011456*^9}, {
   3.688976795013027*^9, 3.688976796666627*^9}, {3.688976898187027*^9, 
   3.688976898389827*^9}, {3.6890593492015*^9, 3.6890593504349*^9}},
 CellLabel->
  "(Local2) In[45]:=",ExpressionUUID->"a9f9a8e0-c3e7-4c1c-adea-e0576ea7365c"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"-", 
   RowBox[{"elementLine", "[", "list__", "]"}]}], ":=", 
  RowBox[{"elementLine", "[", 
   RowBox[{
    RowBox[{"Sequence", "@@", 
     RowBox[{"Reverse", "[", 
      RowBox[{"Cases", "[", 
       RowBox[{
        RowBox[{"{", "list", "}"}], ",", 
        RowBox[{"Except", "[", 
         RowBox[{"Rule", "[", 
          RowBox[{"\"\<REVERSED\>\"", ",", "_Boolean"}], "]"}], "]"}]}], 
       "]"}], "]"}]}], ",", 
    RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "True"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.625323611830493*^9, 3.6253236875600653`*^9}, {
   3.6253237814594545`*^9, 3.625323816380946*^9}, {3.625323850574365*^9, 
   3.625323906167924*^9}, {3.625324494380739*^9, 3.625324525501851*^9}, {
   3.6253245692512255`*^9, 3.625324627394039*^9}, {3.6253249549577923`*^9, 
   3.6253249654458413`*^9}, {3.6253886635704117`*^9, 3.625388664011456*^9}, {
   3.688976795013027*^9, 3.688976796666627*^9}, {3.688976898187027*^9, 
   3.688976898389827*^9}, {3.688976949668827*^9, 3.688976956051227*^9}, 
   3.688977030193227*^9, {3.6890593469384995`*^9, 3.6890593482811*^9}},
 CellLabel->
  "(Local2) In[46]:=",ExpressionUUID->"f078485b-8f2d-4a61-9d0f-eb6db67a6e59"],

Cell["\<\
elementLine /: Times[mult_Integer, elementLine[list__]] := \
elementLine[Sequence @@ Flatten[Table[{list}, {mult}]]]\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, 
   3.6978709043250217`*^9},ExpressionUUID->"8f45ab65-e0a2-402b-b816-\
5c29aa3b979d"],

Cell[BoxData[{
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"Times", "[", 
   RowBox[{
    RowBox[{"elementDefinition", "[", "list__", "]"}], ",", "multiplier_"}], 
   "]"}], ":=", 
  RowBox[{"Sequence", "@@", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"elementDefinition", "[", "list", "]"}], ",", "multiplier"}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"elementDefinition", "/:", 
  RowBox[{"Times", "[", 
   RowBox[{"multiplier_", ",", 
    RowBox[{"elementDefinition", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{"Sequence", "@@", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"elementDefinition", "[", "list", "]"}], ",", "multiplier"}], 
    "]"}]}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, {3.625409340096206*^9, 3.625409359294206*^9}, {
   3.6254094016522064`*^9, 3.6254094041412063`*^9}, {3.625409435057206*^9, 
   3.625409442577206*^9}, {3.625409508469206*^9, 3.6254095477462063`*^9}, {
   3.625410580547206*^9, 3.625410586721206*^9}, {3.6254164640062065`*^9, 
   3.6254165073252063`*^9}, {3.625416543385206*^9, 3.6254165494102063`*^9}, {
   3.6978706662769213`*^9, 3.697870724692602*^9}, {3.69787076358738*^9, 
   3.697870767828228*^9}},
 CellLabel->
  "(Local2) In[47]:=",ExpressionUUID->"fd9c6510-639e-451c-9e4b-e6a618782dee"],

Cell[BoxData[{
 RowBox[{"elementLine", "/:", 
  RowBox[{"Times", "[", 
   RowBox[{
    RowBox[{"elementLine", "[", "list__", "]"}], ",", "multiplier_"}], "]"}], 
  ":=", 
  RowBox[{"Sequence", "@@", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"elementLine", "[", "list", "]"}], ",", "multiplier"}], 
    "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{"elementLine", "/:", 
  RowBox[{"Times", "[", 
   RowBox[{"multiplier_", ",", 
    RowBox[{"elementLine", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{"Sequence", "@@", 
   RowBox[{"Table", "[", 
    RowBox[{
     RowBox[{"elementLine", "[", "list", "]"}], ",", "multiplier"}], 
    "]"}]}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625401610512206*^9, 3.625401630823206*^9}, {
   3.6254071288382063`*^9, 3.625407196834206*^9}, {3.625407269840206*^9, 
   3.6254072703032064`*^9}, 3.625407324403206*^9, {3.625407367887206*^9, 
   3.625407379502206*^9}, {3.6254074106122065`*^9, 3.625407487254206*^9}, {
   3.6254075499472065`*^9, 3.6254075811852064`*^9}, {3.625407647852206*^9, 
   3.625407648500206*^9}, {3.6254076914112062`*^9, 3.625407699834206*^9}, {
   3.625407758158206*^9, 3.625407802683206*^9}, {3.6254078412892065`*^9, 
   3.625407865448206*^9}, {3.625409340096206*^9, 3.625409359294206*^9}, {
   3.6254094016522064`*^9, 3.6254094041412063`*^9}, {3.625409435057206*^9, 
   3.625409442577206*^9}, {3.625409508469206*^9, 3.6254095477462063`*^9}, {
   3.625410580547206*^9, 3.625410586721206*^9}, {3.6254164640062065`*^9, 
   3.6254165073252063`*^9}, {3.625416543385206*^9, 3.6254165494102063`*^9}, {
   3.6978706662769213`*^9, 3.697870724692602*^9}, {3.69787076358738*^9, 
   3.697870809510563*^9}},
 CellLabel->
  "(Local2) In[49]:=",ExpressionUUID->"8b56c788-3ed0-4049-b466-ab1f1a658cd0"],

Cell["\<\
elementLine /: Names[elementLine[list__]] := ToString /@ Flatten[(-2 \
Boole[\"Reversed\" /. # /. {\"Reversed\" -> False}] + 1) (\"NAME\" /. # /. \
{\"NAME\" -> {}}) & /@ Map[Cases[#, _Rule, {1}] &, {list}]]\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798526453772573`*^9, 3.6798526575096836`*^9}, {3.688728374543023*^9, 
   3.6887283858847494`*^9}, 
   3.6890002922122316`*^9},ExpressionUUID->"7e2ec45e-4f27-4101-b7d1-\
50a6b496fcbf"],

Cell["\<\
elementLine /: Names[elementLine[list__, \"Reversed\" -> True]] := ToString \
/@ Flatten[(-2 Boole[\"Reversed\" /. # /. {\"Reversed\" -> False}] + 1) \
(\"NAME\" /. # /. {\"NAME\" -> {}}) & /@ Map[Cases[#, _Rule, {1}] &, {list}]]\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798526453772573`*^9, 3.6798526575096836`*^9}, {3.688728312463439*^9, 
   3.688728326036135*^9}, {3.688728375697482*^9, 3.6887283895507965`*^9}, 
   3.688977145043827*^9, 
   3.688977204459627*^9},ExpressionUUID->"d65fc2d7-a436-4ec2-beed-\
ebe1bfe26836"],

Cell["\<\
elementLine /: Names[a : elementLine[list__]] := Block[{},
  Flatten[(-2 Boole[\"REVERSED\" /. # /. {\"REVERSED\" -> False}] + 1) \
(\"NAME\" /. # /. {\"NAME\" -> {}}) & /@ Select[{list}, (Head[#] === \
elementDefinition || Head[#] === elementLine &)]]
  ]\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798526453772573`*^9, 3.6798526575096836`*^9}, {3.688728374543023*^9, 
   3.6887283858847494`*^9}, {3.6889772134572268`*^9, 3.688977268358027*^9}, {
   3.688977299307227*^9, 3.688977334406427*^9}, {3.6890002805364313`*^9, 
   3.6890003095568314`*^9}, {3.6890003800140314`*^9, 3.689000397998232*^9}, {
   3.6890005914948316`*^9, 3.6890006317712317`*^9}, {3.6890587562448997`*^9, 
   3.6890587619741*^9}, {3.6890588460185*^9, 3.6890588468296995`*^9}, {
   3.6890589539981*^9, 3.6890590147803*^9}, {3.6890590830113*^9, 
   3.6890591147444997`*^9}, {3.6890591866453*^9, 3.6890592482871*^9}, 
   3.6890592879467*^9, 3.6890593648175*^9, {3.6890643200276995`*^9, 
   3.6890643202460995`*^9}, {3.6890643511625*^9, 3.6890643527046995`*^9}, {
   3.6890646898237*^9, 3.6890647116039*^9}, {3.6893387357513056`*^9, 
   3.6893387574147053`*^9}, {3.6893388932955055`*^9, 
   3.6893388934203053`*^9}, {3.6893390208221054`*^9, 3.6893390218537054`*^9}, 
   3.689339152809106*^9, {3.6893392114663057`*^9, 3.6893392172889056`*^9}, 
   3.6893392544155054`*^9, {3.6893394461705055`*^9, 3.689339455144106*^9}, {
   3.6978701880297914`*^9, 3.697870211567998*^9}, {3.6978702501467123`*^9, 
   3.6978702585223875`*^9}, 3.697870950311717*^9, 
   3.705815180646565*^9},ExpressionUUID->"09c36257-76e0-48e2-ab0f-\
3f961d2f4a30"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Names", "[", 
   RowBox[{
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", 
    RowBox[{"ignoreReverse_:", "False"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"reversed", "=", 
      RowBox[{
       RowBox[{"\"\<REVERSED\>\"", "/.", "a"}], "/.", 
       RowBox[{"{", 
        RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"ignoreReverse", "&&", "reversed"}], ",", 
         RowBox[{"Reverse", "[", "#", "]"}], ",", "#"}], "]"}], "&"}], "@", 
      "\[IndentingNewLine]", 
      RowBox[{"Flatten", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"-", "2"}], " ", 
             RowBox[{"Boole", "[", 
              RowBox[{
               RowBox[{"\"\<REVERSED\>\"", "/.", "#"}], "/.", 
               RowBox[{"{", 
                RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}], 
              "]"}]}], "+", "1"}], ")"}], " ", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"\"\<NAME\>\"", "/.", "#"}], "/.", 
            RowBox[{"{", 
             RowBox[{"\"\<NAME\>\"", "\[Rule]", 
              RowBox[{"{", "}"}]}], "}"}]}], ")"}]}], "&"}], "/@", 
        RowBox[{"Select", "[", 
         RowBox[{
          RowBox[{"{", "list", "}"}], ",", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{"Head", "[", "#", "]"}], "===", "elementDefinition"}], "||", 
             RowBox[{
              RowBox[{"Head", "[", "#", "]"}], "===", "elementLine"}]}], 
            "&"}], ")"}]}], "]"}]}], "]"}]}]}]}], "\[IndentingNewLine]", 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798526453772573`*^9, 3.6798526575096836`*^9}, {3.688728374543023*^9, 
   3.6887283858847494`*^9}, {3.6889772134572268`*^9, 3.688977268358027*^9}, {
   3.688977299307227*^9, 3.688977334406427*^9}, {3.6890002805364313`*^9, 
   3.6890003095568314`*^9}, {3.6890003800140314`*^9, 3.689000397998232*^9}, {
   3.6890005914948316`*^9, 3.6890006317712317`*^9}, {3.6890587562448997`*^9, 
   3.6890587619741*^9}, {3.6890588460185*^9, 3.6890588468296995`*^9}, {
   3.6890589539981*^9, 3.6890590147803*^9}, {3.6890590830113*^9, 
   3.6890591147444997`*^9}, {3.6890591866453*^9, 3.6890592482871*^9}, 
   3.6890592879467*^9, 3.6890593648175*^9, {3.6890643200276995`*^9, 
   3.6890643202460995`*^9}, {3.6890643511625*^9, 3.6890643527046995`*^9}, {
   3.6890646898237*^9, 3.6890647116039*^9}, {3.6893387357513056`*^9, 
   3.6893387574147053`*^9}, {3.6893388932955055`*^9, 
   3.6893388934203053`*^9}, {3.6893390208221054`*^9, 3.6893390218537054`*^9}, 
   3.689339152809106*^9, {3.6893392114663057`*^9, 3.6893392172889056`*^9}, 
   3.6893392544155054`*^9, {3.6893394461705055`*^9, 3.689339455144106*^9}, {
   3.6978701880297914`*^9, 3.697870211567998*^9}, {3.6978702501467123`*^9, 
   3.6978702585223875`*^9}, 3.697870950311717*^9, {3.704799737471345*^9, 
   3.704799900743745*^9}},
 CellLabel->
  "(Local2) In[51]:=",ExpressionUUID->"2165f751-d587-4241-967a-f8810b4e7774"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Names", "[", 
   RowBox[{
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", 
    RowBox[{"n_Integer:", "1"}]}], "]"}], ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], " ", 
         RowBox[{"Boole", "[", 
          RowBox[{
           RowBox[{"\"\<REVERSED\>\"", "/.", "#"}], "/.", 
           RowBox[{"{", 
            RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}], 
          "]"}]}], "+", "1"}], ")"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"\"\<NAME\>\"", "/.", "#"}], "/.", 
        RowBox[{"{", 
         RowBox[{"\"\<NAME\>\"", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}], ")"}]}], "&"}], "/@", 
    RowBox[{"Cases", "[", 
     RowBox[{"a", ",", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{"elementLine", "|", "elementDefinition"}], ")"}], "[", "__", 
       "]"}], ",", "n"}], "]"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798526453772573`*^9, 3.6798526575096836`*^9}, {3.688728374543023*^9, 
   3.6887283858847494`*^9}, {3.6889772134572268`*^9, 3.688977268358027*^9}, {
   3.688977299307227*^9, 3.688977334406427*^9}, {3.6890002805364313`*^9, 
   3.6890003095568314`*^9}, {3.6890003800140314`*^9, 3.689000397998232*^9}, {
   3.6890005914948316`*^9, 3.6890006317712317`*^9}, {3.6890587562448997`*^9, 
   3.6890587619741*^9}, {3.6890588460185*^9, 3.6890588468296995`*^9}, {
   3.6890589539981*^9, 3.6890590147803*^9}, {3.6890590830113*^9, 
   3.6890591147444997`*^9}, {3.6890591866453*^9, 3.6890592482871*^9}, 
   3.6890592879467*^9, 3.6890593648175*^9, {3.6890643250234995`*^9, 
   3.6890643251951*^9}, 3.6893371049753056`*^9, {3.6893389340167055`*^9, 
   3.6893389414251056`*^9}, 3.6893390253345056`*^9, 3.6893391559447055`*^9, {
   3.6995956455419216`*^9, 3.6995956495409217`*^9}, {3.7886065170392494`*^9, 
   3.7886065336371546`*^9}, {3.7886067636236544`*^9, 
   3.788606766649089*^9}},ExpressionUUID->"7355f7d5-e481-40b0-a331-\
c0c8bc5b7057"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Names", "[", 
   RowBox[{
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", "\[Infinity]"}], 
   "]"}], ":=", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"-", "2"}], " ", 
         RowBox[{"Boole", "[", 
          RowBox[{
           RowBox[{"\"\<REVERSED\>\"", "/.", "#"}], "/.", 
           RowBox[{"{", 
            RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}], 
          "]"}]}], "+", "1"}], ")"}], " ", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"\"\<NAME\>\"", "/.", "#"}], "/.", 
        RowBox[{"{", 
         RowBox[{"\"\<NAME\>\"", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}], ")"}]}], "&"}], "/@", 
    RowBox[{"Join", "[", 
     RowBox[{"Cases", "[", 
      RowBox[{"a", ",", 
       RowBox[{"elementDefinition", "[", "__", "]"}], ",", "\[Infinity]"}], 
      "]"}], "]"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798526453772573`*^9, 3.6798526575096836`*^9}, {3.688728374543023*^9, 
   3.6887283858847494`*^9}, {3.6889772134572268`*^9, 3.688977268358027*^9}, {
   3.688977299307227*^9, 3.688977334406427*^9}, {3.6890002805364313`*^9, 
   3.6890003095568314`*^9}, {3.6890003800140314`*^9, 3.689000397998232*^9}, {
   3.6890005914948316`*^9, 3.6890006317712317`*^9}, {3.6890587562448997`*^9, 
   3.6890587619741*^9}, {3.6890588460185*^9, 3.6890588468296995`*^9}, {
   3.6890589539981*^9, 3.6890590147803*^9}, {3.6890590830113*^9, 
   3.6890591147444997`*^9}, {3.6890591866453*^9, 3.6890592482871*^9}, 
   3.6890592879467*^9, 3.6890593648175*^9, {3.6890643250234995`*^9, 
   3.6890643251951*^9}, {3.6890643791168995`*^9, 3.6890643843111*^9}, {
   3.6893389350659056`*^9, 3.689338944332906*^9}, 3.6893390263173056`*^9, 
   3.6893391576919055`*^9, {3.699595655900922*^9, 3.6995956615399218`*^9}},
 CellLabel->
  "(Local2) In[53]:=",ExpressionUUID->"0adde27f-45f8-4d6d-9df1-d702e2f9ca88"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Length", "[", 
   RowBox[{"elementLine", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", 
    RowBox[{"Total", "@", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"-", "2"}], 
            RowBox[{"Boole", "[", 
             RowBox[{
              RowBox[{"\"\<REVERSED\>\"", "/.", "#"}], "/.", 
              RowBox[{"{", 
               RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}], 
             "]"}]}], "+", "1"}], ")"}], 
         RowBox[{"(", 
          RowBox[{
           RowBox[{"\"\<LENGTH\>\"", "/.", "#"}], "/.", 
           RowBox[{"{", 
            RowBox[{"\"\<LENGTH\>\"", "\[Rule]", 
             RowBox[{"{", "}"}]}], "}"}]}], ")"}]}], "&"}], "/@", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Cases", "[", 
           RowBox[{"#", ",", "_Rule", ",", "\[Infinity]"}], "]"}], "&"}], ",", 
         RowBox[{"Flatten", "[", 
          RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}], 
      "]"}]}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798519963244734`*^9, 3.6798520253167706`*^9}, {3.6890588475317*^9, 
   3.6890588482815*^9}, {3.6890589554644995`*^9, 3.6890589561363*^9}, {
   3.6890593431321*^9, 3.6890593441461*^9}, {3.697871110427734*^9, 
   3.697871111010851*^9}, {3.6978739481476645`*^9, 3.697874005616156*^9}},
 CellLabel->
  "(Local2) In[54]:=",ExpressionUUID->"ad2ac8dd-a2a4-4b00-b078-2a4f0726be65"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Lengths", "[", 
   RowBox[{"elementLine", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", 
    RowBox[{"Flatten", "[", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"(", 
         RowBox[{
          RowBox[{
           RowBox[{"-", "2"}], 
           RowBox[{"Boole", "[", 
            RowBox[{
             RowBox[{"\"\<REVERSED\>\"", "/.", "#"}], "/.", 
             RowBox[{"{", 
              RowBox[{"\"\<REVERSED\>\"", "\[Rule]", "False"}], "}"}]}], 
            "]"}]}], "+", "1"}], ")"}], 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"\"\<LENGTH\>\"", "/.", "#"}], "/.", 
          RowBox[{"{", 
           RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "0"}], "}"}]}], ")"}]}], 
       "&"}], "/@", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"Cases", "[", 
          RowBox[{"#", ",", "_Rule", ",", "\[Infinity]"}], "]"}], "&"}], ",", 
        RowBox[{"Flatten", "[", 
         RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}], "]"}]}],
    "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798519963244734`*^9, 3.6798520253167706`*^9}, {3.6890588475317*^9, 
   3.6890588482815*^9}, {3.6890589554644995`*^9, 3.6890589561363*^9}, {
   3.6890593431321*^9, 3.6890593441461*^9}, {3.697871110427734*^9, 
   3.697871111010851*^9}, {3.6978739481476645`*^9, 3.697874005616156*^9}, {
   3.6978783847102833`*^9, 3.697878402897729*^9}, {3.6978784342227397`*^9, 
   3.6978784353011537`*^9}, 3.697897631242633*^9},
 CellLabel->
  "(Local2) In[55]:=",ExpressionUUID->"063613e1-d759-4197-9bc5-45a13896b31e"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Length", "[", "list__elementLine", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", 
    RowBox[{"Total", "@", 
     RowBox[{"Map", "[", 
      RowBox[{"Length", ",", 
       RowBox[{"Flatten", "[", 
        RowBox[{"{", "list", "}"}], "]"}]}], "]"}]}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019081137319*^9, 3.57019087204319*^9}, {3.57019113904319*^9, 
   3.57019115941319*^9}, {3.57019147096419*^9, 3.57019147777419*^9}, {
   3.5701993708951902`*^9, 3.5701993845581903`*^9}, {3.570345698691924*^9, 
   3.5703457055832825`*^9}, {3.5703508723478084`*^9, 3.570350968623435*^9}, {
   3.5703510577953515`*^9, 3.5703510657471466`*^9}, {3.5703510964362154`*^9, 
   3.5703511153021016`*^9}, {3.570351174604903*^9, 3.5703512003453293`*^9}, {
   3.570351260063357*^9, 3.5703512933700256`*^9}, 3.5703517985569696`*^9, {
   3.5703519428989697`*^9, 3.57035197326497*^9}, {3.5703520051379695`*^9, 
   3.57035200988997*^9}, {3.5704320532649183`*^9, 3.570432061106702*^9}, {
   3.6253001224067855`*^9, 3.6253001289764423`*^9}, {3.625301428542386*^9, 
   3.6253014674302745`*^9}, {3.6253015117757087`*^9, 3.625301528424373*^9}, {
   3.625301566473178*^9, 3.6253015746899996`*^9}, {3.625301607019232*^9, 
   3.625301607866317*^9}, {3.6253889695630083`*^9, 3.6253893265517035`*^9}, {
   3.625411013814206*^9, 3.625411034637206*^9}, {3.6254111287582064`*^9, 
   3.625411163389206*^9}, {3.625411211433206*^9, 3.625411245648206*^9}, {
   3.6798519963244734`*^9, 3.6798520253167706`*^9}, {3.6890588475317*^9, 
   3.6890588482815*^9}, {3.6890589554644995`*^9, 3.6890589561363*^9}, {
   3.6890593431321*^9, 3.6890593441461*^9}, {3.697871110427734*^9, 
   3.697871111010851*^9}, {3.6978711502772026`*^9, 3.697871188791404*^9}, {
   3.697871341561452*^9, 3.697871370443227*^9}, {3.6978714196870737`*^9, 
   3.697871424686573*^9}, {3.6978738471249638`*^9, 3.6978738499575305`*^9}, {
   3.697873962013937*^9, 3.6978739658206987`*^9}, 3.697878367575059*^9},
 CellLabel->
  "(Local2) In[56]:=",ExpressionUUID->"0a2fa101-a99e-40d3-aead-d734432ca522"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"ReplaceAll", "[", 
   RowBox[{
    RowBox[{"var_String", "|", "var_Symbol"}], ",", 
    RowBox[{"elementLine", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{
   RowBox[{"ToUpperCase", "[", 
    RowBox[{"ToString", "[", "var", "]"}], "]"}], "/.", 
   RowBox[{"Cases", "[", 
    RowBox[{
     RowBox[{"{", "list", "}"}], ",", "_Rule"}], "]"}]}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019000874219*^9, 3.57019006400219*^9}, {
   3.57019146502419*^9, 3.5701914656641903`*^9}, 3.5703467053100653`*^9, {
   3.570346754988744*^9, 3.5703467619631057`*^9}, {3.689000821548832*^9, 
   3.6890008239698315`*^9}, {3.6890587059111*^9, 3.6890587124339*^9}, 
   3.6890588165905*^9, {3.6890588981070995`*^9, 3.6890588993103*^9}, {
   3.6890592770460997`*^9, 3.6890592772021*^9}},
 CellLabel->
  "(Local2) In[57]:=",ExpressionUUID->"1d3ea552-d4b8-447e-bb28-8337e9a7ae8b"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Flatten", "[", 
   RowBox[{"a", ":", 
    RowBox[{"elementLine", "[", "list__", "]"}]}], "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"Names", "[", 
    RowBox[{"a", ",", "\[Infinity]"}], "]"}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}},
 CellLabel->
  "(Local2) In[58]:=",ExpressionUUID->"457268c9-0028-4840-ad3e-b1c5827888ef"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Flatten", "[", 
   RowBox[{
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", "n_Integer"}], "]"}],
   ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"Names", "[", 
    RowBox[{"a", ",", "Integer"}], "]"}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6893388829085054`*^9, 3.6893388903109055`*^9}},
 CellLabel->
  "(Local2) In[59]:=",ExpressionUUID->"17d68e71-0abf-4b8e-b4c6-1d8241426451"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Flatten", "[", "a__elementLine", "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"Names", "[", 
    RowBox[{
     RowBox[{"elementLine", "[", "a", "]"}], ",", "\[Infinity]"}], "]"}], 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6893388829085054`*^9, 3.6893388903109055`*^9}, {3.6894016753259015`*^9, 
  3.6894016854271016`*^9}, {3.6894017355745015`*^9, 3.6894017367757015`*^9}},
 CellLabel->
  "(Local2) In[60]:=",ExpressionUUID->"8e23bb75-7e7b-400f-b543-22f1c771dde7"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Part", "[", 
   RowBox[{
    RowBox[{"elementLine", "[", "a__", "]"}], ",", "pos_"}], "]"}], ":=", 
  RowBox[{
   RowBox[{"Flatten", "[", 
    RowBox[{"elementLine", "[", "a", "]"}], "]"}], "[", 
   RowBox[{"[", "pos", "]"}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978770824392915`*^9, 3.6978771400536575`*^9}},
 CellLabel->
  "(Local2) In[61]:=",ExpressionUUID->"4167d7de-b1d8-4483-9b14-eeb4149bf9e6"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Part", "[", 
   RowBox[{
    RowBox[{"elementLine", "[", "a__", "]"}], ",", "All", ",", "pos_"}], 
   "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"#", "[", 
     RowBox[{"[", 
      RowBox[{"ToUpperCase", "@", "pos"}], "]"}], "]"}], "&"}], "/@", 
   RowBox[{"Flatten", "[", 
    RowBox[{"elementLine", "[", "a", "]"}], "]"}]}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978770824392915`*^9, 3.6978771400536575`*^9}, {
  3.7729694830773325`*^9, 3.7729695124823637`*^9}},
 CellLabel->
  "(Local2) In[62]:=",ExpressionUUID->"f7876c4f-d6fc-4ee9-a402-a14783887f6a"],

Cell["elementLine /: List[a__elementLine] := a", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.697872742514086*^9, 3.6978727820069833`*^9}, 
   3.6978728577211227`*^9},ExpressionUUID->"641ea09b-e15b-4e0a-862d-\
150520245832"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Unprotect", "[", "Flatten", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Flatten", "[", 
   RowBox[{"{", "a__elementLine", "}"}], "]"}], ":=", 
  RowBox[{"ToExpression", "[", 
   RowBox[{"Names", "[", 
    RowBox[{
     RowBox[{"elementLine", "[", "a", "]"}], ",", "\[Infinity]"}], "]"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"Protect", "[", "Flatten", "]"}], ";"}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
   3.6893388829085054`*^9, 3.6893388903109055`*^9}, {3.6894014402561016`*^9, 
   3.6894014928863015`*^9}, 3.6894015582903013`*^9, {3.6894016074285016`*^9, 
   3.6894016190197015`*^9}},
 CellLabel->
  "(Local2) In[63]:=",ExpressionUUID->"d0f27bef-7aa0-406d-a8f9-153c2da16793"],

Cell["elementLine /: {a__elementLine} := elementLine[a]", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
   3.6893367480223055`*^9, 3.6893368453355055`*^9}, 3.6893371367111053`*^9, 
   3.6893371684211054`*^9, 3.6893372212323055`*^9, {3.6893372814775057`*^9, 
   3.6893372814775057`*^9}, {3.6893373315609055`*^9, 3.689337334917906*^9}, 
   3.6893383316985054`*^9, {3.6893387763437057`*^9, 3.6893387763437057`*^9}, 
   3.6893390138303056`*^9},ExpressionUUID->"cdd225b1-3dc2-4530-81e2-\
449e4a2bd155"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ")"}], "[", "var_", "]"}],
   ":=", 
  RowBox[{
   RowBox[{
    RowBox[{
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"#", "===", 
         RowBox[{"ToUpperCase", "[", "var", "]"}]}], ",", "0", ",", "#"}], 
       "]"}], "&"}], "[", 
     RowBox[{
      RowBox[{"ToUpperCase", "[", "var", "]"}], " ", "/.", " ", "#"}], "]"}], 
    "&"}], "/@", 
   RowBox[{"Flatten", "[", "a", "]"}]}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
  3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
  3.6890728741088*^9, 3.6890729315778*^9}},
 CellLabel->
  "(Local2) In[66]:=",ExpressionUUID->"39449819-3108-44f6-95bb-2a06c1c18cbf"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ")"}], "[", 
   "\"\<NAME\>\"", "]"}], ":=", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{"\"\<NAME\>\"", "/.", "a"}], "/.", 
    RowBox[{"{", 
     RowBox[{"\"\<NAME\>\"", "\[Rule]", 
      RowBox[{"{", "}"}]}], "}"}]}], ")"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
  3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
  3.6890728741088*^9, 3.6890729315778*^9}, {3.6995991505564213`*^9, 
  3.6995991875984216`*^9}},
 CellLabel->
  "(Local2) In[67]:=",ExpressionUUID->"74ada242-ffbc-4c42-9830-f04433dc71b2"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ")"}], "[", 
   RowBox[{"All", ",", "str_String"}], "]"}], ":=", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{
     RowBox[{"#", "[", "str", "]"}], "&"}], "/@", 
    RowBox[{"Flatten", "[", "a", "]"}]}], ")"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
  3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
  3.6890728741088*^9, 3.6890729315778*^9}, {3.6995991505564213`*^9, 
  3.6995991875984216`*^9}, {3.7976569778793907`*^9, 3.797656992553435*^9}, {
  3.7976570308351493`*^9, 3.797657065035734*^9}, {3.797658963413348*^9, 
  3.797658964113449*^9}},ExpressionUUID->"37d75d7c-fba8-469a-8452-\
8ca1e9938d23"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ")"}], "[", 
   RowBox[{"All", ",", 
    RowBox[{"Rule", "[", 
     RowBox[{"a_", ",", "b_"}], "]"}]}], "]"}], ":=", 
  RowBox[{"(", 
   RowBox[{
    RowBox[{
     RowBox[{"#", "[", 
      RowBox[{"Rule", "[", 
       RowBox[{"a", ",", "b"}], "]"}], "]"}], "&"}], "/@", 
    RowBox[{"Flatten", "[", "a", "]"}]}], ")"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
   3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
   3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
   3.6890728741088*^9, 3.6890729315778*^9}, {3.6995991505564213`*^9, 
   3.6995991875984216`*^9}, {3.7976569778793907`*^9, 3.797656992553435*^9}, {
   3.7976570308351493`*^9, 3.797657065035734*^9}, {3.797658963413348*^9, 
   3.797658964113449*^9}, {3.797659004463132*^9, 3.7976590245007935`*^9}, {
   3.7976592630316944`*^9, 3.797659270481305*^9}, 
   3.797659457399502*^9},ExpressionUUID->"b2dcbc06-5b75-41e3-a2ce-\
ecb868d513ec"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{
   RowBox[{"(", 
    RowBox[{"a", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ")"}], "[", 
   RowBox[{"All", ",", "rules__Rule"}], "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"Block", "[", 
     RowBox[{
      RowBox[{"{", 
       RowBox[{"rule", "=", "#"}], "}"}], ",", 
      RowBox[{
       RowBox[{
        RowBox[{"#", "[", "rule", "]"}], "&"}], "/@", 
       RowBox[{"Flatten", "[", "a", "]"}]}]}], "]"}], "&"}], "/@", 
   RowBox[{"{", "rules", "}"}]}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
   3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
   3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
   3.6890728741088*^9, 3.6890729315778*^9}, {3.6995991505564213`*^9, 
   3.6995991875984216`*^9}, {3.7976569778793907`*^9, 3.797656992553435*^9}, {
   3.7976570308351493`*^9, 3.797657065035734*^9}, {3.797658963413348*^9, 
   3.797658964113449*^9}, {3.797659004463132*^9, 3.7976590245007935`*^9}, {
   3.797659075500372*^9, 3.797659104960657*^9}, {3.79765919730814*^9, 
   3.7976592056433506`*^9}, {3.797659288484208*^9, 3.7976592900241003`*^9}, {
   3.797659376132861*^9, 3.7976594198729277`*^9}, 
   3.7976594547707977`*^9},ExpressionUUID->"f20d9c07-76e1-406f-ac79-\
2aa78d598023"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Select", "[", 
   RowBox[{
    RowBox[{"(", 
     RowBox[{"a", ":", 
      RowBox[{"elementLine", "[", "list__", "]"}]}], ")"}], ",", 
    RowBox[{"var_", "\[Rule]", "type_"}]}], "]"}], ":=", 
  RowBox[{"elementLine", "[", 
   RowBox[{"Sequence", "@@", 
    RowBox[{"(", 
     RowBox[{"Select", "[", 
      RowBox[{
       RowBox[{"Flatten", "[", "a", "]"}], ",", 
       RowBox[{
        RowBox[{"StringMatchQ", "[", 
         RowBox[{
          RowBox[{"ToLowerCase", "[", 
           RowBox[{"#", "[", "var", "]"}], "]"}], ",", 
          RowBox[{"ToLowerCase", "[", "type", "]"}]}], "]"}], "&"}]}], "]"}], 
     ")"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
   3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
   3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
   3.6890728741088*^9, 3.6890729315778*^9}, {3.6995991505564213`*^9, 
   3.6995991875984216`*^9}, {3.7976569778793907`*^9, 3.797656992553435*^9}, {
   3.7976570308351493`*^9, 3.797657065035734*^9}, {3.797657160531563*^9, 
   3.7976572325575857`*^9}, {3.7976572927244344`*^9, 3.797657292881048*^9}, 
   3.797657575367767*^9, {3.797657685923396*^9, 3.7976577022522078`*^9}, {
   3.7976577549099236`*^9, 3.7976577953219957`*^9}, {3.797657912666695*^9, 
   3.797657918496401*^9}, {3.7976579681077194`*^9, 
   3.7976579695640907`*^9}},ExpressionUUID->"c51cc57a-d73d-4a9c-9d9f-\
a4c5866df871"],

Cell["\<\
elementLine /: (a : elementLine[list__])[\"TYPE\"?type_, str_] := (#[str] & \
/@ a[\"TYPE\" -> type])\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
   3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
   3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
   3.6890728741088*^9, 3.6890729315778*^9}, {3.6995991505564213`*^9, 
   3.6995991875984216`*^9}, {3.7976569778793907`*^9, 3.797656992553435*^9}, {
   3.7976570308351493`*^9, 3.797657065035734*^9}, {3.797657160531563*^9, 
   3.797657170151249*^9}, {3.797657246953206*^9, 3.7976572579752665`*^9}, {
   3.7976572966102824`*^9, 3.7976572967528715`*^9}, 3.7976575790679817`*^9, 
   3.7976577200616655`*^9},ExpressionUUID->"c7251893-cead-4a68-8ca6-\
320eb6ebf47b"],

Cell[BoxData[
 RowBox[{"elementLine", "/:", 
  RowBox[{"Join", "[", "a__elementLine", "]"}], ":=", 
  RowBox[{"elementLine", "[", "a", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890725768947997`*^9, 3.6890726240698*^9}, {
  3.6890726671927996`*^9, 3.6890726942028*^9}, {3.6890727608938*^9, 
  3.6890727668738*^9}, {3.6890728253627996`*^9, 3.6890728283138*^9}, {
  3.6890728741088*^9, 3.6890729315778*^9}, {3.689339471205106*^9, 
  3.6893394854693055`*^9}},
 CellLabel->
  "(Local2) In[68]:=",ExpressionUUID->"6eeb39a1-e2b3-4732-aff5-f6e15b6e3e97"]
}, Closed]],

Cell[CellGroupData[{

Cell["elementLine", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6254668387155447`*^9, 
  3.6254668447815447`*^9}},ExpressionUUID->"633b4ed6-9a31-4c77-a991-\
8ba272be8145"],

Cell["\<\
Clear[line];
ClearAttributes[line, HoldAll];
SetAttributes[line, HoldFirst]
line[name_, {list__}] := Block[{},
  Clear[Evaluate[ToString[HoldForm[name]]]];
  Evaluate[ToExpression[ToString[name]]] := elementLine[Sequence @@ \
Cases[{list}, Rule[\"NAME\", a_] :> ToExpression[a], {2}], \"NAME\" -> \
ToString[HoldForm[name]]]
  ]\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.57018730058844*^9, 3.57018736330844*^9}, {
   3.57018741812844*^9, 3.5701874275784397`*^9}, {3.5701874643684397`*^9, 
   3.5701874686884403`*^9}, {3.57018751410844*^9, 3.5701875801184397`*^9}, {
   3.57018879582119*^9, 3.57018882244119*^9}, {3.57018896454119*^9, 
   3.57018896497119*^9}, {3.57019091452319*^9, 3.57019096789319*^9}, {
   3.57019100196319*^9, 3.57019103412319*^9}, {3.57019108444319*^9, 
   3.57019112344319*^9}, {3.57019148629419*^9, 3.57019149082419*^9}, 
   3.570351408646497*^9, {3.57035151545397*^9, 3.5703515187819695`*^9}, {
   3.5703515723459697`*^9, 3.5703515808409696`*^9}, {3.5703516394139695`*^9, 
   3.57035169496297*^9}, {3.570431388887487*^9, 3.5704313898635845`*^9}, {
   3.5704317036029553`*^9, 3.5704317669812927`*^9}, {3.5704317994145355`*^9, 
   3.570431823254919*^9}, 3.5704319039149847`*^9, {3.57043194417201*^9, 
   3.5704319444440374`*^9}, {3.6253203183041735`*^9, 
   3.6253203196263056`*^9}, {3.625320373345677*^9, 3.625320383091652*^9}, {
   3.6253204154038825`*^9, 3.625320422726615*^9}, {3.62532070851019*^9, 
   3.6253207611204505`*^9}, {3.6253207967050085`*^9, 
   3.6253208619395313`*^9}, {3.625320927822119*^9, 3.62532101693703*^9}, {
   3.62532105144248*^9, 3.6253210605783935`*^9}, {3.625396466668206*^9, 
   3.625396536281206*^9}, {3.6253966217722063`*^9, 3.6253966230982065`*^9}, 
   3.6890595421769*^9},ExpressionUUID->"ef0d04d9-e47e-4537-85b2-f8b6f9d9318d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "line", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAttributes", "[", 
   RowBox[{"line", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{"SetAttributes", "[", 
  RowBox[{"line", ",", "HoldFirst"}], "]"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"line", "[", 
   RowBox[{"name_", ",", 
    RowBox[{"{", "list__", "}"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Clear", "[", 
      RowBox[{"Evaluate", "[", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Evaluate", "[", 
       RowBox[{"ToExpression", "[", 
        RowBox[{"ToString", "[", "name", "]"}], "]"}], "]"}], ":=", 
      RowBox[{"elementLine", "[", 
       RowBox[{
        RowBox[{"Sequence", "@@", 
         RowBox[{"ToExpression", "[", 
          RowBox[{"Evaluate", "[", 
           RowBox[{"Names", "[", 
            RowBox[{"elementLine", "[", 
             RowBox[{"Evaluate", "[", "list", "]"}], "]"}], "]"}], "]"}], 
          "]"}]}], ",", 
        RowBox[{"\"\<NAME\>\"", "\[Rule]", 
         RowBox[{"ToString", "[", 
          RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", "name"}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57018730058844*^9, 3.57018736330844*^9}, {
   3.57018741812844*^9, 3.5701874275784397`*^9}, {3.5701874643684397`*^9, 
   3.5701874686884403`*^9}, {3.57018751410844*^9, 3.5701875801184397`*^9}, {
   3.57018879582119*^9, 3.57018882244119*^9}, {3.57018896454119*^9, 
   3.57018896497119*^9}, {3.57019091452319*^9, 3.57019096789319*^9}, {
   3.57019100196319*^9, 3.57019103412319*^9}, {3.57019108444319*^9, 
   3.57019112344319*^9}, {3.57019148629419*^9, 3.57019149082419*^9}, 
   3.570351408646497*^9, {3.57035151545397*^9, 3.5703515187819695`*^9}, {
   3.5703515723459697`*^9, 3.5703515808409696`*^9}, {3.5703516394139695`*^9, 
   3.57035169496297*^9}, {3.570431388887487*^9, 3.5704313898635845`*^9}, {
   3.5704317036029553`*^9, 3.5704317669812927`*^9}, {3.5704317994145355`*^9, 
   3.570431823254919*^9}, 3.5704319039149847`*^9, {3.57043194417201*^9, 
   3.5704319444440374`*^9}, {3.6253203183041735`*^9, 
   3.6253203196263056`*^9}, {3.625320373345677*^9, 3.625320383091652*^9}, {
   3.6253204154038825`*^9, 3.625320422726615*^9}, {3.62532070851019*^9, 
   3.6253207611204505`*^9}, {3.6253207967050085`*^9, 
   3.6253208619395313`*^9}, {3.625320927822119*^9, 3.62532101693703*^9}, {
   3.62532105144248*^9, 3.6253210605783935`*^9}, {3.625396466668206*^9, 
   3.625396536281206*^9}, {3.6253966217722063`*^9, 3.6253966230982065`*^9}, {
   3.625410934323206*^9, 3.6254109944942064`*^9}, {3.625411041212206*^9, 
   3.625411048875206*^9}, {3.625411263669206*^9, 3.6254112667652063`*^9}, {
   3.625416338433206*^9, 3.6254163387912064`*^9}, {3.6878713352634306`*^9, 
   3.6878713709284306`*^9}, {3.6890004701890316`*^9, 
   3.6890004750904317`*^9}, {3.6890005449120317`*^9, 3.6890005476304317`*^9}},
 CellLabel->
  "(Local2) In[69]:=",ExpressionUUID->"93cc81de-b725-41f6-a269-070e8ca0279a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "line", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAttributes", "[", 
   RowBox[{"line", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"line", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"line", "[", 
   RowBox[{"name_", ",", 
    RowBox[{"{", "list__", "}"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "nameS", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Clear", "[", 
      RowBox[{"Evaluate", "[", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Evaluate", "[", 
       RowBox[{"ToExpression", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}], "]"}], ":=", 
      RowBox[{"elementLine", "[", 
       RowBox[{
        RowBox[{"\"\<NAME\>\"", "\[Rule]", 
         RowBox[{"ToString", "[", 
          RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
        RowBox[{"Sequence", "@@", "\[IndentingNewLine]", 
         RowBox[{"Evaluate", "[", 
          RowBox[{"Map", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"Which", "[", "\[IndentingNewLine]", 
              RowBox[{
               RowBox[{
                RowBox[{"Head", "[", "#", "]"}], "===", "Times"}], ",", 
               RowBox[{
                RowBox[{"#", "[", 
                 RowBox[{"[", "1", "]"}], "]"}], "*", 
                RowBox[{"ToExpression", "[", 
                 RowBox[{"#", "[", 
                  RowBox[{"[", "2", "]"}], "]"}], "]"}]}], ",", 
               "\[IndentingNewLine]", "True", ",", 
               RowBox[{"ToExpression", "[", "#", "]"}]}], 
              "\[IndentingNewLine]", "]"}], "&"}], ",", "\[IndentingNewLine]", 
            RowBox[{"Names", "[", 
             RowBox[{
              RowBox[{"elementLine", "[", "list", "]"}], ",", "1"}], "]"}]}], 
           "]"}], "]"}]}]}], "]"}]}], ";", "\[IndentingNewLine]", "name"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57018730058844*^9, 3.57018736330844*^9}, {
   3.57018741812844*^9, 3.5701874275784397`*^9}, {3.5701874643684397`*^9, 
   3.5701874686884403`*^9}, {3.57018751410844*^9, 3.5701875801184397`*^9}, {
   3.57018879582119*^9, 3.57018882244119*^9}, {3.57018896454119*^9, 
   3.57018896497119*^9}, {3.57019091452319*^9, 3.57019096789319*^9}, {
   3.57019100196319*^9, 3.57019103412319*^9}, {3.57019108444319*^9, 
   3.57019112344319*^9}, {3.57019148629419*^9, 3.57019149082419*^9}, 
   3.570351408646497*^9, {3.57035151545397*^9, 3.5703515187819695`*^9}, {
   3.5703515723459697`*^9, 3.5703515808409696`*^9}, {3.5703516394139695`*^9, 
   3.57035169496297*^9}, {3.570431388887487*^9, 3.5704313898635845`*^9}, {
   3.5704317036029553`*^9, 3.5704317669812927`*^9}, {3.5704317994145355`*^9, 
   3.570431823254919*^9}, 3.5704319039149847`*^9, {3.57043194417201*^9, 
   3.5704319444440374`*^9}, {3.6253203183041735`*^9, 
   3.6253203196263056`*^9}, {3.625320373345677*^9, 3.625320383091652*^9}, {
   3.6253204154038825`*^9, 3.625320422726615*^9}, {3.62532070851019*^9, 
   3.6253207611204505`*^9}, {3.6253207967050085`*^9, 
   3.6253208619395313`*^9}, {3.625320927822119*^9, 3.62532101693703*^9}, {
   3.62532105144248*^9, 3.6253210605783935`*^9}, {3.625396466668206*^9, 
   3.625396536281206*^9}, {3.6253966217722063`*^9, 3.6253966230982065`*^9}, {
   3.625410934323206*^9, 3.6254109944942064`*^9}, {3.625411041212206*^9, 
   3.625411048875206*^9}, {3.625411263669206*^9, 3.6254112667652063`*^9}, {
   3.625416338433206*^9, 3.6254163387912064`*^9}, {3.6878713352634306`*^9, 
   3.6878713709284306`*^9}, {3.6890004701890316`*^9, 
   3.6890004750904317`*^9}, {3.6890005449120317`*^9, 
   3.6890005476304317`*^9}, {3.6890641233343*^9, 3.6890641496654997`*^9}, 
   3.6890642264258995`*^9, {3.6890648345049*^9, 3.6890649484037*^9}, {
   3.6890650970099*^9, 3.6890651318547*^9}, {3.6890652081923*^9, 
   3.6890652107205*^9}, {3.6890653250273*^9, 3.6890653286621*^9}, {
   3.6890720427662*^9, 3.6890720960761995`*^9}, {3.6890721371625996`*^9, 
   3.6890721681127996`*^9}, {3.6890722123216*^9, 3.6890722169432*^9}, {
   3.6890722626474*^9, 3.6890722630218*^9}, {3.689336942711506*^9, 
   3.6893369464995055`*^9}, {3.689337001398306*^9, 3.6893371110743055`*^9}, 
   3.6893371851109056`*^9, {3.6893373634231057`*^9, 3.6893373908499055`*^9}, 
   3.689338168176306*^9, {3.689338198923506*^9, 3.6893382195951056`*^9}, {
   3.6893383405803056`*^9, 3.6893383408299055`*^9}, {3.6893383782563057`*^9, 
   3.6893383961517057`*^9}, {3.6978699885058947`*^9, 
   3.6978700043620653`*^9}, {3.6979739644113946`*^9, 
   3.6979740485413947`*^9}, {3.6979740951163945`*^9, 
   3.6979741654143944`*^9}, {3.6979742000843945`*^9, 
   3.6979742993343945`*^9}, {3.6979746819003944`*^9, 
   3.6979748607913947`*^9}, {3.697975090915395*^9, 3.6979750911073947`*^9}, {
   3.6995953104439216`*^9, 3.6995953119549217`*^9}, {3.699595366060422*^9, 
   3.699595367754922*^9}, {3.699595469661422*^9, 3.6995954698854218`*^9}, {
   3.6996027814074216`*^9, 3.6996028219284215`*^9}, 3.699602906765422*^9, 
   3.699602948815922*^9, {3.6996029896739216`*^9, 3.699602990185422*^9}, {
   3.699603045194422*^9, 3.699603045631922*^9}},
 CellLabel->
  "(Local2) In[73]:=",ExpressionUUID->"cae3a935-d612-426b-8f7a-39fc32af4482"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "line", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ClearAttributes", "[", 
   RowBox[{"line", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"line", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"line", "[", 
   RowBox[{"name_", ",", 
    RowBox[{"{", "list__", "}"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "nameS", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"Clear", "[", 
      RowBox[{"Evaluate", "[", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Evaluate", "[", 
       RowBox[{"ToExpression", "[", 
        RowBox[{"ToString", "[", 
         RowBox[{"HoldForm", "[", "name", "]"}], "]"}], "]"}], "]"}], ":=", 
      RowBox[{"elementLine", "[", 
       RowBox[{
        RowBox[{"\"\<NAME\>\"", "\[Rule]", 
         RowBox[{"ToString", "[", 
          RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
        RowBox[{"Sequence", "@@", "\[IndentingNewLine]", 
         RowBox[{"Map", "[", "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{
            RowBox[{"Which", "[", "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{
               RowBox[{"Head", "[", "#", "]"}], "===", "Times"}], ",", 
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", "1", "]"}], "]"}], "*", 
               RowBox[{"ToExpression", "[", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "2", "]"}], "]"}], "]"}]}], ",", 
              "\[IndentingNewLine]", "True", ",", 
              RowBox[{"ToExpression", "[", "#", "]"}]}], 
             "\[IndentingNewLine]", "]"}], "&"}], ",", "\[IndentingNewLine]", 
           RowBox[{"Names", "[", 
            RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", "name"}]}], "\[IndentingNewLine]",
    "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57018730058844*^9, 3.57018736330844*^9}, {
   3.57018741812844*^9, 3.5701874275784397`*^9}, {3.5701874643684397`*^9, 
   3.5701874686884403`*^9}, {3.57018751410844*^9, 3.5701875801184397`*^9}, {
   3.57018879582119*^9, 3.57018882244119*^9}, {3.57018896454119*^9, 
   3.57018896497119*^9}, {3.57019091452319*^9, 3.57019096789319*^9}, {
   3.57019100196319*^9, 3.57019103412319*^9}, {3.57019108444319*^9, 
   3.57019112344319*^9}, {3.57019148629419*^9, 3.57019149082419*^9}, 
   3.570351408646497*^9, {3.57035151545397*^9, 3.5703515187819695`*^9}, {
   3.5703515723459697`*^9, 3.5703515808409696`*^9}, {3.5703516394139695`*^9, 
   3.57035169496297*^9}, {3.570431388887487*^9, 3.5704313898635845`*^9}, {
   3.5704317036029553`*^9, 3.5704317669812927`*^9}, {3.5704317994145355`*^9, 
   3.570431823254919*^9}, 3.5704319039149847`*^9, {3.57043194417201*^9, 
   3.5704319444440374`*^9}, {3.6253203183041735`*^9, 
   3.6253203196263056`*^9}, {3.625320373345677*^9, 3.625320383091652*^9}, {
   3.6253204154038825`*^9, 3.625320422726615*^9}, {3.62532070851019*^9, 
   3.6253207611204505`*^9}, {3.6253207967050085`*^9, 
   3.6253208619395313`*^9}, {3.625320927822119*^9, 3.62532101693703*^9}, {
   3.62532105144248*^9, 3.6253210605783935`*^9}, {3.625396466668206*^9, 
   3.625396536281206*^9}, {3.6253966217722063`*^9, 3.6253966230982065`*^9}, {
   3.625410934323206*^9, 3.6254109944942064`*^9}, {3.625411041212206*^9, 
   3.625411048875206*^9}, {3.625411263669206*^9, 3.6254112667652063`*^9}, {
   3.625416338433206*^9, 3.6254163387912064`*^9}, {3.6878713352634306`*^9, 
   3.6878713709284306`*^9}, {3.6890004701890316`*^9, 
   3.6890004750904317`*^9}, {3.6890005449120317`*^9, 
   3.6890005476304317`*^9}, {3.6890641233343*^9, 3.6890641496654997`*^9}, 
   3.6890642264258995`*^9, {3.6890648345049*^9, 3.6890649484037*^9}, {
   3.6890650970099*^9, 3.6890651318547*^9}, {3.6890652081923*^9, 
   3.6890652107205*^9}, {3.6890653250273*^9, 3.6890653286621*^9}, {
   3.6890720427662*^9, 3.6890720960761995`*^9}, {3.6890721371625996`*^9, 
   3.6890721681127996`*^9}, {3.6890722123216*^9, 3.6890722169432*^9}, {
   3.6890722626474*^9, 3.6890722630218*^9}, {3.689336942711506*^9, 
   3.6893369464995055`*^9}, {3.689337001398306*^9, 3.6893371110743055`*^9}, 
   3.6893371851109056`*^9, {3.6893373634231057`*^9, 3.6893373908499055`*^9}, 
   3.689338168176306*^9, {3.689338198923506*^9, 3.6893382195951056`*^9}, {
   3.6893383405803056`*^9, 3.6893383408299055`*^9}, {3.6893383782563057`*^9, 
   3.6893383961517057`*^9}, {3.6978699885058947`*^9, 
   3.6978700043620653`*^9}, {3.6979739644113946`*^9, 
   3.6979740485413947`*^9}, {3.6979740951163945`*^9, 
   3.6979741654143944`*^9}, {3.6979742000843945`*^9, 
   3.6979742993343945`*^9}, {3.6979746819003944`*^9, 
   3.6979748607913947`*^9}, {3.697975090915395*^9, 3.6979750911073947`*^9}, {
   3.6995953104439216`*^9, 3.6995953119549217`*^9}, {3.699595366060422*^9, 
   3.699595367754922*^9}, {3.699595469661422*^9, 3.6995954698854218`*^9}, {
   3.6996027814074216`*^9, 3.6996028219284215`*^9}, 3.699602906765422*^9, 
   3.699602948815922*^9, {3.6996029896739216`*^9, 3.699602990185422*^9}, {
   3.699603045194422*^9, 3.699603045631922*^9}, 3.699603078735922*^9, {
   3.6996031265684214`*^9, 3.6996031674089217`*^9}, {3.7047147349708023`*^9, 
   3.704714735113802*^9}},
 CellLabel->
  "(Local2) In[77]:=",ExpressionUUID->"cb2dc241-7376-4a8d-b44c-15b79f5a5ba8"]
}, Closed]],

Cell[CellGroupData[{

Cell["element Helper Functions", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.625466852539544*^9, 
  3.6254668567065444`*^9}},ExpressionUUID->"6c31029b-60a5-4ce5-a116-\
e5246231bb98"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Unprotect", "[", 
  RowBox[{"quad", ",", "sext", ",", "sbend", ",", "rbend", ",", "drift"}], 
  "]"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697869305936945*^9, 3.697869315275445*^9}, {
  3.6978696144649453`*^9, 3.697869615243945*^9}},
 CellLabel->
  "(Local2) In[81]:=",ExpressionUUID->"4bdf931d-626a-4b51-a433-e5bca3c634ae"],

Cell[BoxData[
 RowBox[{"{", "}"}]], "Output",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978693160699453`*^9, 3.697869319538945*^9}, {
   3.6978696051914454`*^9, 3.6978696182289453`*^9}, 3.697870536772026*^9, 
   3.697870916198896*^9, 3.6978728902746325`*^9, 3.6978734519794507`*^9, 
   3.6978734999335394`*^9, 3.697876801517174*^9, 3.697878155662506*^9, 
   3.6978784988294587`*^9, 3.6978795789125695`*^9, 3.6978947976327524`*^9, 
   3.697895286011333*^9, {3.697895339727333*^9, 3.697895348718933*^9}, 
   3.697895410212533*^9, 3.6978964892506332`*^9, 3.697896636359633*^9, 
   3.697896686341833*^9, 3.697897274613633*^9, 3.6979756641923943`*^9, 
   3.6995946805544214`*^9, 3.699594725589922*^9, 3.7009956630571356`*^9, 
   3.700995700151845*^9, 3.704695781110106*^9, 3.704786737448502*^9, 
   3.705759271010208*^9, 3.705815237100565*^9, 3.705817094459565*^9, 
   3.705817151198565*^9, 3.705817715323565*^9, 3.732606514494866*^9, 
   3.765525343669234*^9, 3.7655270783315477`*^9, 3.77113473424783*^9, 
   3.771651732135846*^9, 3.7717368529895487`*^9, 3.7717663197522717`*^9, 
   3.77227600602112*^9, 3.7724502264991627`*^9, 3.7727762975381413`*^9, 
   3.772802706903051*^9, 3.7728027450107155`*^9, 3.772859806858409*^9, 
   3.772861109921141*^9, 3.7729693931168857`*^9, 3.7733985141661267`*^9, 
   3.7735734496361103`*^9, 3.7751985400525246`*^9, 3.7752023598198695`*^9, 
   3.775202570360217*^9, {3.775283136770334*^9, 3.775283158811985*^9}, 
   3.7870365313788047`*^9},
 CellLabel->
  "(Local2) Out[81]=",ExpressionUUID->"c75aa035-d991-4732-a283-7571fd3a7bf4"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"Clear", "[", 
  RowBox[{
  "quad", ",", "sext", ",", "sbend", ",", "csbend", ",", "quadrupole", ",", 
   "kquadrupole", ",", "sextupole", ",", "ksextupole", ",", "sectorbend", ",",
    "rbend", ",", "crbend", ",", "csrcsbend", ",", "drift", ",", "marker", 
   ",", "monitor", ",", "bpm", ",", "hkick", ",", "vkick", ",", "kick", ",", 
   "lcav", ",", "rfca", ",", "profile", ",", "watch"}], "]"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697869453219945*^9, 3.697869492305445*^9}, {
  3.6978695636949453`*^9, 3.6978696018269453`*^9}, {3.69787951472747*^9, 
  3.6978795155698376`*^9}},
 CellLabel->
  "(Local2) In[82]:=",ExpressionUUID->"eea750cf-de7f-4874-a7ff-ba8e6047b343"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"watch", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"watch", "[", 
   RowBox[{"name_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Watch\>\""}], ",", 
      RowBox[{"\"\<FILENAME\>\"", "\[Rule]", "\"\<\\\"%s-%03ld.w1\\\"\>\""}], 
      ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"label", "==", "\"\<\>\""}], ",", "Null", ",", "label"}], 
        "]"}]}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"watch", "[", 
   RowBox[{"name_", ",", 
    RowBox[{"filename_String:", "\"\<\\\"%s-%03ld.w1\\\"\>\""}], ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Watch\>\""}], ",", 
      RowBox[{"\"\<FILENAME\>\"", "\[Rule]", "filename"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"label", "==", "\"\<\>\""}], ",", "Null", ",", "label"}], 
        "]"}]}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887079305444`*^9, 
   3.6254887106095448`*^9}, {3.625496808483354*^9, 3.625496811962702*^9}, {
   3.6978694242349453`*^9, 3.6978694504709454`*^9}, 3.6978781215942154`*^9, {
   3.6978795218797965`*^9, 3.697879573883563*^9}, 3.697894795603752*^9, {
   3.697895334071933*^9, 3.697895346499733*^9}, 3.697896478450433*^9, {
   3.697896608088833*^9, 3.6978966097980328`*^9}, {3.6978967277640333`*^9, 
   3.697896753752833*^9}, {3.6978971439852333`*^9, 3.697897156044633*^9}, {
   3.697897193469833*^9, 3.697897196201833*^9}, {3.6978972576952333`*^9, 
   3.697897259664233*^9}},
 CellLabel->
  "(Local2) In[83]:=",ExpressionUUID->"b5143ccd-5e4a-456f-ab1b-6337c53b7786"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"quad", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"quad", "[", "in__", "]"}], ":=", 
  RowBox[{"kquadrupole", "[", "in", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887079305444`*^9, 
   3.6254887106095448`*^9}, {3.625496808483354*^9, 3.625496811962702*^9}, {
   3.6254968503805437`*^9, 3.6254968612126265`*^9}},
 CellLabel->
  "(Local2) In[86]:=",ExpressionUUID->"ad3cbbaf-3bdc-4d2d-b4f2-801b941f72b3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"quadrupole", ",", "HoldAll"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"quadrupole", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Quadrupole\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K1\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887079305444`*^9, 
   3.6254887106095448`*^9}, {3.625496808483354*^9, 3.625496811962702*^9}, {
   3.6978694242349453`*^9, 3.6978694504709454`*^9}, 3.6978781215942154`*^9, 
   3.697894793434352*^9, 3.6978953571975327`*^9, 3.697895400566333*^9},
 CellLabel->
  "(Local2) In[88]:=",ExpressionUUID->"267bad92-6e96-437f-be63-c6e81c68410d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"kquadrupole", ",", "HoldAll"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kquadrupole", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<KQuad\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K1\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887131305447`*^9, 
   3.6254887178325443`*^9}, {3.625496815091015*^9, 3.625496839524458*^9}, {
   3.6978781171709003`*^9, 3.69787811756091*^9}, 3.6978947921531525`*^9, {
   3.697895372012333*^9, 3.697895401096733*^9}},
 CellLabel->
  "(Local2) In[90]:=",ExpressionUUID->"50bf5d2f-4b10-4d79-9251-055e810e5efb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"sextupole", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sextupole", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Sextupole\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K2\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887079305444`*^9, 
   3.6254887106095448`*^9}, {3.625489342289544*^9, 3.6254893516085443`*^9}, {
   3.6254894200285444`*^9, 3.6254894320035443`*^9}, {3.625496818395345*^9, 
   3.625496823882894*^9}, 3.6978781237022696`*^9, 3.697894791024952*^9, {
   3.697895375338133*^9, 3.697895401268333*^9}},
 CellLabel->
  "(Local2) In[92]:=",ExpressionUUID->"4a5eb579-d7f9-431e-b3c2-88ddfa0d4be4"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "sext", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"sext", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sext", "[", "in__", "]"}], ":=", 
  RowBox[{"ksextupole", "[", "in", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625500595290997*^9, 3.62550060792126*^9}, {
   3.6255006741958866`*^9, 3.625500679108378*^9}, 3.697879712096084*^9},
 CellLabel->
  "(Local2) In[94]:=",ExpressionUUID->"e4565606-339d-4ea4-9874-316bca2bd531"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ksextupole", ",", "HoldAll"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ksextupole", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<KSext\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K2\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.6254878589125443`*^9, 
   3.6254878624485445`*^9}, {3.6254887079305444`*^9, 
   3.6254887106095448`*^9}, {3.625489342289544*^9, 3.6254893516085443`*^9}, {
   3.625496826971203*^9, 3.625496827536259*^9}, 3.6255005116476336`*^9, 
   3.697878125433914*^9, 3.697894788631752*^9, {3.6978953757769327`*^9, 
   3.697895401439933*^9}},
 CellLabel->
  "(Local2) In[97]:=",ExpressionUUID->"464c3f38-a8cb-400c-85a6-f7e9728bf842"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"sectorbend", ",", "HoldAll"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sectorbend", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", "angle_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<SectorBend\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K1\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "angle"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254967633288393`*^9, 
   3.625496766689175*^9}, 3.697878126943955*^9, 3.697894787288152*^9, {
   3.6978953761357327`*^9, 3.697895401595933*^9}},
 CellLabel->
  "(Local2) In[99]:=",ExpressionUUID->"28fbc324-da45-4fec-ac35-eee62651272a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"sbend", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"sbend", "[", "in__", "]"}], ":=", 
  RowBox[{"csbend", "[", "in", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254887225295444`*^9, 
   3.6254887529745445`*^9}, {3.6254967734408503`*^9, 3.625496788016308*^9}},
 CellLabel->
  "(Local2) In[101]:=",ExpressionUUID->"89f367bb-ad31-4892-84dd-c722616475db"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"rbend", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rbend", "[", "in__", "]"}], ":=", 
  RowBox[{"crbend", "[", "in", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254887225295444`*^9, 
   3.6254887529745445`*^9}, {3.6254967734408503`*^9, 3.625496788016308*^9}, {
   3.6254969823437386`*^9, 3.625496984206925*^9}, {3.6254970535778613`*^9, 
   3.625497064009904*^9}},
 CellLabel->
  "(Local2) In[103]:=",ExpressionUUID->"b5dcd337-889b-44ba-b775-4e402f8885f9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"csbend", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"csbend", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", "angle_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<CSBend\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K1\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "angle"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254887225295444`*^9, 
   3.6254887529745445`*^9}, 3.6978781294576197`*^9, 3.6978947850105524`*^9, {
   3.697895376369733*^9, 3.6978954017207327`*^9}},
 CellLabel->
  "(Local2) In[105]:=",ExpressionUUID->"ce82d79c-01e8-4b6f-9b4a-ffdbbd708acf"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"crbend", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"crbend", "[", "in__", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "elem", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"elem", "=", 
      RowBox[{"csbend", "[", "in", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"SetProperty", "[", 
      RowBox[{"elem", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<E1\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"elem", "[", 
            RowBox[{"[", "\"\<E1\>\"", "]"}], "]"}], "+", 
           FractionBox[
            RowBox[{"elem", "[", 
             RowBox[{"[", "\"\<BENDANGLE\>\"", "]"}], "]"}], "2"]}]}], ",", 
         RowBox[{"\"\<E2\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"elem", "[", 
            RowBox[{"[", "\"\<E2\>\"", "]"}], "]"}], "+", 
           FractionBox[
            RowBox[{"elem", "[", 
             RowBox[{"[", "\"\<BENDANGLE\>\"", "]"}], "]"}], "2"]}]}]}], 
        "}"}]}], "]"}]}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254887225295444`*^9, 
   3.6254887529745445`*^9}, 3.6254970696204653`*^9, {3.6254971871842203`*^9, 
   3.6254972260611076`*^9}, {3.625497342408741*^9, 3.6254973437608767`*^9}, {
   3.625497382921792*^9, 3.6254974197804775`*^9}, {3.6254977917126675`*^9, 
   3.6254977945689526`*^9}, {3.6894049982483015`*^9, 3.6894050005777016`*^9}},
 CellLabel->
  "(Local2) In[107]:=",ExpressionUUID->"fe7c4e08-3669-4656-968e-7731bb412863"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"csrcsbend", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"csrcsbend", "[", 
   RowBox[{"name_", ",", "length_", ",", "strength_", ",", "angle_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<CSRCSBend\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<K1\>\"", "\[Rule]", "strength"}], ",", 
      RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "angle"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019047625319*^9}, {3.57019151190419*^9, 
   3.57019151265419*^9}, 3.57019746825019*^9, 3.57019819289219*^9, {
   3.570345566205922*^9, 3.570345583131562*^9}, {3.570348167626055*^9, 
   3.5703481678912444`*^9}, 3.5703494321495776`*^9, {3.5703506088504615`*^9, 
   3.57035063233981*^9}, 3.5703512199263706`*^9, {3.6254887225295444`*^9, 
   3.6254887498235445`*^9}, 3.6978781318176813`*^9, 3.697894783729352*^9, {
   3.6978953765725327`*^9, 3.697895401861133*^9}},
 CellLabel->
  "(Local2) In[109]:=",ExpressionUUID->"c8891bab-ae5f-4995-80f0-d843e9fbbff3"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"drift", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"drift", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<EDrift\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, 
   3.6978781354701757`*^9, 3.6978947802485523`*^9, {3.6978953767909327`*^9, 
   3.697895402032733*^9}},
 CellLabel->
  "(Local2) In[111]:=",ExpressionUUID->"373c5ff6-56bb-43f9-b2fa-8b405ac23232"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"marker", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"marker", "[", 
   RowBox[{"name_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Mark\>\""}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, 3.697878138061842*^9, 
   3.6978947815297523`*^9, {3.697895376993733*^9, 3.697895402173133*^9}, 
   3.697896620181233*^9, {3.6978972665880327`*^9, 3.697897266759633*^9}},
 CellLabel->
  "(Local2) In[113]:=",ExpressionUUID->"d8583562-2e36-47fe-86bc-d193cc95fcb9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"bpm", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"bpm", "[", "in__", "]"}], ":=", 
  RowBox[{"monitor", "[", "in", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.625496173610873*^9, 3.625496183019814*^9}},
 CellLabel->
  "(Local2) In[115]:=",ExpressionUUID->"5f6d7599-0aa6-4f4b-b845-2e2d963e7140"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"vbpm", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vbpm", "[", "in__", "]"}], ":=", 
  RowBox[{"vmonitor", "[", "in", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.625496173610873*^9, 3.625496183019814*^9}, {
   3.6978794334767337`*^9, 3.6978794344635334`*^9}, 3.6978794887989335`*^9},
 CellLabel->
  "(Local2) In[117]:=",ExpressionUUID->"c7097a89-efed-40e5-a229-8e6cf46999da"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"hbpm", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"hbpm", "[", "in__", "]"}], ":=", 
  RowBox[{"hmonitor", "[", "in", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.625496173610873*^9, 3.625496183019814*^9}, {
   3.6978794564429336`*^9, 3.6978794572535334`*^9}, 3.6978794902575336`*^9},
 CellLabel->
  "(Local2) In[119]:=",ExpressionUUID->"219301f1-c971-40c3-b193-135fd1fb1250"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"vmonitor", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vmonitor", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<VMon\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, 
   3.697878139465878*^9, {3.697879410031934*^9, 3.6978794467283335`*^9}, {
   3.697894767349552*^9, 3.6978947678799524`*^9}, {3.697895377196533*^9, 
   3.697895402344733*^9}},
 CellLabel->
  "(Local2) In[121]:=",ExpressionUUID->"970f1b84-414b-438f-8b79-23493cf3b240"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"hmonitor", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"hmonitor", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<HMon\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, 
   3.697878139465878*^9, {3.697879410031934*^9, 3.6978794648045335`*^9}, 
   3.697894770653952*^9, {3.697895377414933*^9, 3.697895402500733*^9}},
 CellLabel->
  "(Local2) In[123]:=",ExpressionUUID->"eddc8007-6395-45dc-a539-12c875088c55"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"monitor", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"monitor", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Monitor\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<CO_FITPOINT\>\"", "\[Rule]", "0"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, 
   3.697878139465878*^9, 3.6978947721203523`*^9, {3.697895377851733*^9, 
   3.6978954026411333`*^9}},
 CellLabel->
  "(Local2) In[125]:=",ExpressionUUID->"59e41d79-c78c-4806-bee5-2c459bc7b198"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"hkick", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"hkick", "[", 
   RowBox[{"name_", ",", "length_", ",", "kick_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<HKicker\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<KICK\>\"", "\[Rule]", "kick"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549633269878*^9}, {3.6254964305645657`*^9, 
   3.6254964322607355`*^9}, {3.625496511071616*^9, 3.625496511231632*^9}, {
   3.6255085122366123`*^9, 3.6255085126216507`*^9}, {3.6255747883150167`*^9, 
   3.625574788898634*^9}, {3.6255753233600044`*^9, 3.6255753302868896`*^9}, 
   3.697878141704137*^9, 3.6978947734951525`*^9, {3.697895378272933*^9, 
   3.697895402797133*^9}},
 CellLabel->
  "(Local2) In[127]:=",ExpressionUUID->"c73fd047-2292-4a32-ad7a-2d8f094f37ab"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"vkick", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"vkick", "[", 
   RowBox[{"name_", ",", "length_", ",", "kick_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<VKicker\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<KICK\>\"", "\[Rule]", "kick"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549635180169*^9}, {3.625496429285438*^9, 
   3.6254964294614553`*^9}, {3.6254965089114*^9, 3.625496509055414*^9}, 
   3.625508515031892*^9, {3.6255747855849714`*^9, 3.6255747861765895`*^9}, {
   3.625575324751783*^9, 3.625575333558544*^9}, 3.6978781436229863`*^9, 
   3.6978947748553524`*^9, {3.697895378678533*^9, 3.697895402968733*^9}},
 CellLabel->
  "(Local2) In[129]:=",ExpressionUUID->"6db7b4b2-e263-4260-a44c-86c630cc76d0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"kick", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"kick", "[", 
   RowBox[{"name_", ",", "length_", ",", "hkick_", ",", "vkick_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Kicker\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<KICK\>\"", "\[Rule]", "hkick"}], ",", 
      RowBox[{"\"\<VKICK\>\"", "\[Rule]", "vkick"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", "label"}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549635180169*^9}, {3.6254964069802074`*^9, 
   3.6254964659401035`*^9}, {3.6255085169180803`*^9, 
   3.6255085234297314`*^9}, {3.625575093995141*^9, 3.6255750943427105`*^9}, 
   3.697878145719644*^9, 3.697894776884352*^9, {3.697895379507333*^9, 
   3.697895403109133*^9}},
 CellLabel->
  "(Local2) In[131]:=",ExpressionUUID->"36fcd260-fdae-4207-9e60-10dc4eda3601"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"lcav", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"lcav", "[", "in__", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "elem", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"elem", "=", 
      RowBox[{"rfca", "[", "in", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"SetProperty", "[", 
      RowBox[{"elem", ",", 
       RowBox[{"{", 
        RowBox[{
         RowBox[{"\"\<PHASE\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{
            RowBox[{"elem", "[", 
             RowBox[{"[", "\"\<CAVITYPHASE\>\"", "]"}], "]"}], "*", "360"}], 
           "+", "90"}]}], ",", 
         RowBox[{"\"\<VOLT\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"elem", "[", 
            RowBox[{"[", "\"\<VOLTAGEGAIN\>\"", "]"}], "]"}], "*", 
           SuperscriptBox["10", "6"]}]}], ",", 
         RowBox[{"\"\<FREQ\>\"", "\[Rule]", 
          RowBox[{
           RowBox[{"elem", "[", 
            RowBox[{"[", "\"\<FREQUENCY\>\"", "]"}], "]"}], "*", 
           SuperscriptBox["10", "6"]}]}], ",", 
         RowBox[{"\"\<CAVITYPHASE\>\"", "\[Rule]", "Null"}], ",", 
         RowBox[{"\"\<VOLTAGEGAIN\>\"", "\[Rule]", "Null"}], ",", 
         RowBox[{"\"\<FREQUENCY\>\"", "\[Rule]", "Null"}]}], "}"}]}], 
      "]"}]}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549635180169*^9}, {3.6254964069802074`*^9, 
   3.6254964659401035`*^9}, {3.6254976069361916`*^9, 3.625497639647462*^9}, {
   3.625497801781674*^9, 3.625497816030099*^9}, {3.6254978675432496`*^9, 
   3.6254980132478185`*^9}, {3.625498075690062*^9, 3.6254980980763006`*^9}},
 CellLabel->
  "(Local2) In[133]:=",ExpressionUUID->"749df081-5359-4ae5-abe4-fe3159d6963c"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"rfca", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"rfca", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"element", "[", 
     RowBox[{
      RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<RFCA\>\""}], ",", 
      RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "length"}], ",", 
      RowBox[{"\"\<NAME\>\"", "\[Rule]", 
       RowBox[{"ToString", "[", 
        RowBox[{"HoldForm", "[", "name", "]"}], "]"}]}], ",", 
      RowBox[{"\"\<LABEL\>\"", "\[Rule]", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"label", "\[Equal]", "\"\<\>\""}], ",", "Null", ",", 
         "label"}], "]"}]}], ",", 
      RowBox[{"Sequence", "@@", 
       RowBox[{"replaceRuleNames", "[", 
        RowBox[{"{", "extra", "}"}], "]"}]}]}], "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549635180169*^9}, {3.6254964069802074`*^9, 
   3.6254964659401035`*^9}, {3.6254976069361916`*^9, 3.6254976218796854`*^9}, 
   3.6978781483913126`*^9, {3.6978953813429327`*^9, 3.697895403280733*^9}},
 CellLabel->
  "(Local2) In[135]:=",ExpressionUUID->"01d496ad-61c7-4f96-9d12-63fa847b3658"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"profile", ",", "HoldAll"}], "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"profile", "[", 
   RowBox[{"name_", ",", "length_", ",", 
    RowBox[{"label_String:", "\"\<\>\""}], ",", "extra___Rule"}], "]"}], ":=", 
  RowBox[{"monitor", "[", 
   RowBox[{"name", ",", "length", ",", "label", ",", "extra"}], 
   "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701903544031897`*^9, 3.5701904419331903`*^9}, {
   3.57019047249319*^9, 3.57019053095319*^9}, {3.57019056980319*^9, 
   3.5701906011831903`*^9}, {3.57019064249319*^9, 3.5701906629331903`*^9}, 
   3.57019151669419*^9, {3.57019745530619*^9, 3.57019745847519*^9}, 
   3.57019819487519*^9, {3.5703455671702843`*^9, 3.570345593618413*^9}, 
   3.5703481710111246`*^9, 3.5703494304335775`*^9, 3.6254894957035446`*^9, {
   3.6254959761411285`*^9, 3.625496005533067*^9}, {3.6254960486633797`*^9, 
   3.6254960515836716`*^9}, {3.6254960939049034`*^9, 
   3.6254961556920815`*^9}, {3.625496251046616*^9, 3.6254962512306347`*^9}, {
   3.6254963071282234`*^9, 3.62549635180169*^9}, {3.6254964069802074`*^9, 
   3.6254964659401035`*^9}, {3.6254976069361916`*^9, 
   3.6254976218796854`*^9}, {3.679851341338002*^9, 3.6798513899437213`*^9}, 
   3.697878150177765*^9, {3.697895382419333*^9, 3.6978954041231327`*^9}},
 CellLabel->
  "(Local2) In[137]:=",ExpressionUUID->"af87c782-40e0-4b51-9ffd-e33d6496abd5"]
}, Closed]],

Cell[CellGroupData[{

Cell["String Commands", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.697975827434395*^9, 
  3.6979758311863947`*^9}},ExpressionUUID->"15e9b705-2cb0-4bb0-a4b7-\
3d93b378f6b4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"wrapString", "[", "inputstring_String", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"string", "=", "inputstring"}], ",", 
      RowBox[{"string2", "=", "\"\<\>\""}], ",", "stringpos"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"StringLength", "[", "string", "]"}], ">", "80"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"stringpos", ":=", 
         RowBox[{"Last", "[", 
          RowBox[{"Select", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"StringPosition", "[", 
              RowBox[{"string", ",", "\"\<,\>\""}], "]"}], 
             "\[LeftDoubleBracket]", 
             RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], ",", 
            RowBox[{
             RowBox[{"#", "<", "80"}], "&"}]}], "]"}], "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"While", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"StringLength", "[", "string", "]"}], ">", "80"}], ",", 
          RowBox[{
           RowBox[{"string2", "=", 
            RowBox[{"StringJoin", "[", 
             RowBox[{"string2", ",", 
              RowBox[{
               RowBox[{"StringTake", "[", 
                RowBox[{"string", ",", "stringpos"}], "]"}], "<>", 
               "\"\<&\\n\>\""}]}], "]"}]}], ";", 
           RowBox[{"string", "=", 
            RowBox[{"StringDrop", "[", 
             RowBox[{"string", ",", "stringpos"}], "]"}]}]}]}], "]"}]}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"string2", "=", "string"}], ";"}]}], "\[IndentingNewLine]", 
      "]"}], ";", "\[IndentingNewLine]", "string2"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.4050713651704445`*^9, 3.405071372779917*^9}, {
   3.4698897007760286`*^9, 3.4698897039947786`*^9}, 3.4698900880260286`*^9, {
   3.6979759057513943`*^9, 3.697975928005395*^9}, 3.6979762988643947`*^9, {
   3.6979766425365944`*^9, 3.6979767331889944`*^9}},
 CellLabel->
  "(Local2) In[139]:=",ExpressionUUID->"44fd1918-269f-48df-a452-6b747826e12d"],

Cell[BoxData[
 RowBox[{
  RowBox[{"wrapString", "[", "inputstring_String", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
      RowBox[{"splitstring", "=", 
       RowBox[{"StringSplit", "[", 
        RowBox[{"inputstring", ",", "\"\<\\n\>\""}], "]"}]}], ",", 
      "stringpos", ",", "wrappedstrings"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"wrappedstrings", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"Block", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{
            RowBox[{"string", "=", "#"}], ",", 
            RowBox[{"string2", "=", "\"\<\>\""}]}], "}"}], ",", 
          "\[IndentingNewLine]", 
          RowBox[{
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"StringLength", "[", "string", "]"}], ">", "80"}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"stringpos", ":=", 
               RowBox[{"Last", "[", 
                RowBox[{"Select", "[", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"StringPosition", "[", 
                    RowBox[{"string", ",", "\"\<,\>\""}], "]"}], 
                   "\[LeftDoubleBracket]", 
                   RowBox[{"All", ",", "1"}], "\[RightDoubleBracket]"}], ",", 
                  RowBox[{
                   RowBox[{"#", "<", "80"}], "&"}]}], "]"}], "]"}]}], ";", 
              "\[IndentingNewLine]", 
              RowBox[{"While", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"StringLength", "[", "string", "]"}], ">", "80"}], 
                ",", 
                RowBox[{
                 RowBox[{"string2", "=", 
                  RowBox[{"StringJoin", "[", 
                   RowBox[{"string2", ",", 
                    RowBox[{
                    RowBox[{"StringTake", "[", 
                    RowBox[{"string", ",", "stringpos"}], "]"}], "<>", 
                    "\"\<&\\n\>\""}]}], "]"}]}], ";", 
                 RowBox[{"string", "=", 
                  RowBox[{"StringDrop", "[", 
                   RowBox[{"string", ",", "stringpos"}], "]"}]}]}]}], "]"}], 
              ";", "\[IndentingNewLine]", 
              RowBox[{"string2", "=", 
               RowBox[{"StringJoin", "[", 
                RowBox[{"string2", ",", "string"}], "]"}]}]}], ",", 
             "\[IndentingNewLine]", 
             RowBox[{
              RowBox[{"string2", "=", "string"}], ";", "\[IndentingNewLine]", 
              "string2"}]}], "]"}], ";", "\[IndentingNewLine]", 
           RowBox[{"string2", "<>", "\"\<\\n\>\""}]}]}], 
         "\[IndentingNewLine]", "]"}], "&"}], "/@", "splitstring"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"StringJoin", "@@", "wrappedstrings"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.4050713651704445`*^9, 3.405071372779917*^9}, {
   3.4698897007760286`*^9, 3.4698897039947786`*^9}, 3.4698900880260286`*^9, {
   3.6979759057513943`*^9, 3.697975928005395*^9}, 3.6979762988643947`*^9, {
   3.6979766425365944`*^9, 3.6979767331889944`*^9}, {3.7047926328671017`*^9, 
   3.704792649185102*^9}, {3.704792693727502*^9, 3.704792846531702*^9}, {
   3.704792882286902*^9, 3.704792897470502*^9}, {3.7047929837147017`*^9, 
   3.704792985245502*^9}, {3.7047930209027023`*^9, 3.704793025196702*^9}, {
   3.704793107393302*^9, 3.704793137865302*^9}, {3.7047931888397017`*^9, 
   3.704793205833502*^9}, {3.704793242903302*^9, 3.704793279215502*^9}},
 CellLabel->
  "(Local2) In[140]:=",ExpressionUUID->"e38b9b95-35bc-4a86-a3e8-361a3287a2a0"]
}, Closed]],

Cell[CellGroupData[{

Cell["MADRules", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.625466793671544*^9, 
  3.6254667951665444`*^9}},ExpressionUUID->"f0d4f2fb-ba2c-4c2a-aea6-\
a5d6b581dc15"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<SBEND\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<sbend\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
    ",", 
    RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<angle\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<Type\>\""}], ",", "\"\<E1\>\"", 
    ",", "\"\<E2\>\""}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
  3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
  3.57019748677619*^9}, {3.57019805418019*^9, 3.5701980585471897`*^9}, {
  3.5703455954792376`*^9, 3.5703456402494154`*^9}, {3.570346920979512*^9, 
  3.570346921338315*^9}, {3.5703597243650403`*^9, 3.570359724781082*^9}, {
  3.570359930404642*^9, 3.570359935573159*^9}, {3.5704312894265423`*^9, 
  3.5704312903706365`*^9}, {3.5704320768462763`*^9, 3.5704320925428457`*^9}, {
  3.7870526351713758`*^9, 
  3.7870526356920075`*^9}},ExpressionUUID->"0a888e57-2e9b-4afc-9050-\
3b14cd0cb986"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"TYPE\"\>", "\[Rule]", "\<\"sbend\"\>"}], ",", 
   RowBox[{"\<\"LENGTH\"\>", "\[Rule]", "\<\"L\"\>"}], ",", "\<\"K1\"\>", ",", 
   RowBox[{"\<\"BENDANGLE\"\>", "\[Rule]", "\<\"angle\"\>"}], ",", 
   RowBox[{"\<\"LABEL\"\>", "\[Rule]", "\<\"Type\"\>"}], ",", "\<\"E1\"\>", 
   ",", "\<\"E2\"\>"}], "}"}]], "Output",
 InitializationGroup->True,
 CellChangeTimes->{
  3.687876304874362*^9, 3.6881123748334937`*^9, 3.688717550979176*^9, 
   3.688718164898676*^9, 3.688718268988676*^9, 3.6887273199374924`*^9, 
   3.6887376485038347`*^9, 3.688976907600827*^9, 3.688977698911427*^9, 
   3.6890003134794316`*^9, 3.6890640788374996`*^9, 3.6893185615566053`*^9, 
   3.6893214374527054`*^9, 3.6893372311803055`*^9, 3.6893383476503057`*^9, 
   3.6893386842527056`*^9, 3.6893390333493056`*^9, 3.6893403003465056`*^9, 
   3.6893403309169054`*^9, 3.697869247505945*^9, 3.6978705375316777`*^9, 
   3.697870916814019*^9, 3.697872891040285*^9, 3.697873452419039*^9, 
   3.6978735003121157`*^9, 3.6978768018835907`*^9, 3.697878499203828*^9, 
   3.697975664474395*^9, 3.6995946876244216`*^9, 3.699594726093422*^9, 
   3.7009956637942095`*^9, 3.700995700684898*^9, 3.7046957817809057`*^9, 
   3.704786737947702*^9, 3.7057592716272078`*^9, 3.7058152380235653`*^9, 
   3.705817095772565*^9, 3.705817152500565*^9, 3.705817716607565*^9, 
   3.732606514896866*^9, 3.7655253443184977`*^9, 3.7655270787629147`*^9, 
   3.771134734691645*^9, 3.771651732839804*^9, 3.771736853680129*^9, 
   3.771766320156193*^9, 3.77227600658564*^9, 3.772450228219799*^9, 
   3.7727762978593025`*^9, 3.772802707418174*^9, 3.772802745596425*^9, 
   3.7728598081374097`*^9, 3.772861110478895*^9, 3.772969394106268*^9, 
   3.7733985148748837`*^9, 3.773573450233554*^9, 3.7751985434721165`*^9, 
   3.7752023605359583`*^9, 3.7752025710942287`*^9, {3.775283137269002*^9, 
   3.775283160499652*^9}, 3.787036532663371*^9},
 CellLabel->
  "(Local2) Out[141]=",ExpressionUUID->"28435e1c-6372-4da5-989d-a3a241ae9e0c"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<CSBEND\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<sbend\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
    ",", 
    RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<angle\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<Type\>\""}], ",", "\"\<E1\>\"", 
    ",", "\"\<E2\>\""}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
  3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
  3.57019748677619*^9}, {3.57019805418019*^9, 3.5701980585471897`*^9}, {
  3.5703455954792376`*^9, 3.5703456402494154`*^9}, {3.570346920979512*^9, 
  3.570346921338315*^9}, {3.5703597243650403`*^9, 3.570359724781082*^9}, {
  3.570359930404642*^9, 3.570359935573159*^9}, {3.5704312894265423`*^9, 
  3.5704312903706365`*^9}, {3.5704320768462763`*^9, 3.5704320925428457`*^9}, {
  3.7870526351713758`*^9, 
  3.787052640694186*^9}},ExpressionUUID->"e5dd2976-0702-4571-bd12-\
c799ccce08da"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<KQUAD\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<quad\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
    ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345047519*^9}, {3.57019348319319*^9, 
   3.57019348383319*^9}, 3.5701974895281897`*^9, {3.570345600746317*^9, 
   3.5703456148128896`*^9}, {3.570346919325902*^9, 3.5703469315719805`*^9}, {
   3.7870526707207127`*^9, 
   3.787052697275011*^9}},ExpressionUUID->"5d933b57-2357-4cc0-894b-\
b358f815d030"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"LENGTH\"\>", "\[Rule]", "\<\"L\"\>"}], ",", "\<\"K1\"\>", ",", 
   RowBox[{"\<\"LABEL\"\>", "\[Rule]", "\<\"TYPE\"\>"}]}], "}"}]], "Output",
 InitializationGroup->True,
 CellChangeTimes->{
  3.687876304889962*^9, 3.688112374880294*^9, 3.6887175510291758`*^9, 
   3.6887181649736757`*^9, 3.688718269058676*^9, 3.6887273199530954`*^9, 
   3.688737648518836*^9, 3.688976907616427*^9, 3.6889776989270267`*^9, 
   3.6890003135106316`*^9, 3.6890640788687*^9, 3.6893185615722055`*^9, 
   3.6893214374947057`*^9, 3.6893372312271056`*^9, 3.6893383476815057`*^9, 
   3.6893386842839055`*^9, 3.6893390333649054`*^9, 3.6893403003777056`*^9, 
   3.689340330948106*^9, 3.6978692475309453`*^9, 3.6978705375601835`*^9, 
   3.6978709168970356`*^9, 3.6978728910697913`*^9, 3.6978734524340415`*^9, 
   3.697873500325618*^9, 3.6978768018835907`*^9, 3.6978784992350245`*^9, 
   3.697975664486395*^9, 3.699594687692422*^9, 3.6995947261169214`*^9, 
   3.7009956638182116`*^9, 3.7009957007018995`*^9, 3.704695781812106*^9, 
   3.7047867379633017`*^9, 3.705759271649208*^9, 3.705815238052565*^9, 
   3.705817095808565*^9, 3.7058171525385647`*^9, 3.7058177166485653`*^9, 
   3.732606514912466*^9, 3.7655253443803635`*^9, 3.765527078788843*^9, 
   3.7711347347255926`*^9, 3.7716517329093676`*^9, 3.771736853724546*^9, 
   3.771766320202071*^9, 3.7722760066294947`*^9, 3.7724502282676697`*^9, 
   3.772776297896206*^9, 3.772802707449092*^9, 3.772802745646532*^9, 
   3.7728598081922636`*^9, 3.7728611105178204`*^9, 3.772969394175083*^9, 
   3.773398514927771*^9, 3.773573450257455*^9, 3.7751985436216817`*^9, 
   3.77520236058585*^9, 3.7752025711640706`*^9, {3.775283137343831*^9, 
   3.7752831605485506`*^9}, 3.787036532776101*^9},
 CellLabel->
  "(Local2) Out[142]=",ExpressionUUID->"fa106259-d354-473f-999c-7c4dc281dd98"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<DRIFT\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<drift\>\""}], ",", " ", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}, {
   3.787052674573417*^9, 3.78705267938755*^9}, 3.7870527509665613`*^9, {
   3.787052799047063*^9, 3.7870528017488327`*^9}, {3.7870575107954645`*^9, 
   3.787057511111623*^9}},ExpressionUUID->"1b853435-d8f5-4a14-9179-\
a2b8e4875e25"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<CSRDRIFT\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<drift\>\""}], ",", " ", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}, {
   3.787052674573417*^9, 3.78705267938755*^9}, 3.7870527509665613`*^9, {
   3.787052799047063*^9, 
   3.7870528017488327`*^9}},ExpressionUUID->"d824bf4a-fd3c-4f2a-8621-\
3791018226ec"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"LENGTH\"\>", "\[Rule]", "\<\"L\"\>"}], ",", 
   RowBox[{"\<\"LABEL\"\>", "\[Rule]", "\<\"TYPE\"\>"}]}], "}"}]], "Output",
 InitializationGroup->True,
 CellChangeTimes->{
  3.687876304905562*^9, 3.6881123749114933`*^9, 3.688717551049176*^9, 
   3.688718165073676*^9, 3.6887182690986757`*^9, 3.6887273199530954`*^9, 
   3.6887376485338373`*^9, 3.6889769076320267`*^9, 3.688977698942627*^9, 
   3.6890003135418315`*^9, 3.6890640788998995`*^9, 3.6893185615878057`*^9, 
   3.6893214375237055`*^9, 3.6893372312427053`*^9, 3.6893383477127056`*^9, 
   3.6893386842995057`*^9, 3.6893390333805056`*^9, 3.689340300393306*^9, 
   3.6893403309637055`*^9, 3.6978692475574455`*^9, 3.6978705375906897`*^9, 
   3.697870916937544*^9, 3.6978728911133003`*^9, 3.697873452451045*^9, 
   3.6978735003401213`*^9, 3.6978768018991833`*^9, 3.6978784992506237`*^9, 
   3.697975664500395*^9, 3.699594687716922*^9, 3.6995947261379213`*^9, 
   3.700995663842214*^9, 3.7009957007189016`*^9, 3.7046957818277063`*^9, 
   3.704786737978902*^9, 3.705759271668208*^9, 3.705815238079565*^9, 
   3.705817095843565*^9, 3.7058171525785646`*^9, 3.705817716783565*^9, 
   3.732606514928066*^9, 3.7655253444431934`*^9, 3.765527078820736*^9, 
   3.771134734764487*^9, 3.7716517329732246`*^9, 3.7717368537745223`*^9, 
   3.771766320243958*^9, 3.77227600667238*^9, 3.772450228312913*^9, 
   3.7727762979072113`*^9, 3.7728027074879866`*^9, 3.772802745701386*^9, 
   3.7728598082461205`*^9, 3.7728611105586815`*^9, 3.7729693942488856`*^9, 
   3.773398514991602*^9, 3.7735734502803946`*^9, 3.7751985437662954`*^9, 
   3.7752023606336975`*^9, 3.775202571237846*^9, {3.775283137390706*^9, 
   3.775283160592405*^9}, 3.787036532858886*^9},
 CellLabel->
  "(Local2) Out[143]=",ExpressionUUID->"7a58b408-b24a-4c69-942c-5c40345f4ce3"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<MAXAMP\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<drift\>\""}], ",", " ", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}, {
   3.787052674573417*^9, 3.78705267938755*^9}, 3.7870527509665613`*^9, {
   3.787052799047063*^9, 3.7870528017488327`*^9}, {3.7940427582677574`*^9, 
   3.7940427591294346`*^9}},ExpressionUUID->"c64c9467-52e5-4aa0-8811-\
20068437886c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<KICKER\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<kicker\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}, {
   3.787052674573417*^9, 3.78705267938755*^9}, 3.7870527509665613`*^9, {
   3.7870527907272854`*^9, 
   3.787052804564313*^9}},ExpressionUUID->"f2e90c71-cfda-468c-aff9-\
40171d03ea09"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<MONI\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<drift\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}, {
   3.787052674573417*^9, 3.78705267938755*^9}, 3.7870527509665613`*^9, {
   3.7870527907272854`*^9, 
   3.787052818004095*^9}},ExpressionUUID->"de82f336-d071-42cb-9e59-\
7951fd2bccd7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<MONITOR\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<drift\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}, {
   3.787052674573417*^9, 3.78705267938755*^9}, 3.7870527509665613`*^9, {
   3.7870527907272854`*^9, 3.787052818004095*^9}, {3.7923229869125385`*^9, 
   3.7923229871359663`*^9}},ExpressionUUID->"f1e3b8a4-6df9-4ef9-b777-\
6ffc28bfcbb6"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<SCREEN\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<drift\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}, {
   3.787052674573417*^9, 3.78705267938755*^9}, 3.7870527509665613`*^9, {
   3.7870527907272854`*^9, 
   3.7870528264204755`*^9}},ExpressionUUID->"34bf1d09-720b-4bfb-8a88-\
e81f0f66286c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<VALVE\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<drift\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}, {
   3.787052674573417*^9, 3.78705267938755*^9}, 3.7870527509665613`*^9, {
   3.7870527907272854`*^9, 3.7870528264204755`*^9}, {3.7961076896860104`*^9, 
   3.796107690278426*^9}},ExpressionUUID->"c924cd7d-bd1a-496e-9a0e-\
2e3dfe9f26f5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<BELLOWS\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<drift\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}, {
   3.787052674573417*^9, 3.78705267938755*^9}, 3.7870527509665613`*^9, {
   3.7870527907272854`*^9, 3.7870528264204755`*^9}, {3.7961076896860104`*^9, 
   3.796107690278426*^9}, {3.7961101141270638`*^9, 
   3.7961101153278275`*^9}},ExpressionUUID->"c935c2b4-1391-443e-8582-\
16ea31c7aca0"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRules", "[", "\"\<SHUTTER\>\"", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<drift\>\""}], ",", 
    RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
    RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<TYPE\>\""}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, {3.5703456021813602`*^9, 
   3.570345615632914*^9}, {3.570346914848673*^9, 3.5703469288887634`*^9}, {
   3.787052674573417*^9, 3.78705267938755*^9}, 3.7870527509665613`*^9, {
   3.7870527907272854`*^9, 3.7870528264204755`*^9}, {3.7961076929682426`*^9, 
   3.7961076938090277`*^9}},ExpressionUUID->"a2202568-3a4d-4b6b-8bb0-\
ebb8e945bd9b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"MADRules", "[", "\"\<call\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<filename\>\"", "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.688718096306176*^9, 3.688718253328676*^9, {3.787053943431245*^9, 
   3.7870539572403035`*^9}},ExpressionUUID->"6b169f1b-21ec-409e-b80b-\
6cfb0f15063b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"MADRules", "[", "\"\<use\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<period\>\"", "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.688718096306176*^9, 3.688718253328676*^9, {3.787053943431245*^9, 
   3.7870539662934055`*^9}},ExpressionUUID->"6edaad64-5b3e-4a7a-9066-\
79db0d152d01"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"MADRules", "[", "\"\<select\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<range\>\"", ",", " ", "\"\<flag\>\"", ",", "\"\<full\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.688718096306176*^9, 3.688718253328676*^9, {3.787053943431245*^9, 
   3.7870539821956935`*^9}, {3.787055363658111*^9, 
   3.787055366070627*^9}},ExpressionUUID->"e4e09f6f-a9d3-4b6d-9ecf-\
c039d60d6322"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"MADRules", "[", "\"\<optics\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<betx\>\"", ",", "\"\<bety\>\"", ",", 
     "\"\<alfx\>\"", ",", "\"\<alfy\>\"", ",", "\"\<columns\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.688718096306176*^9, 3.688718253328676*^9, {3.787053943431245*^9, 
   3.7870540043226147`*^9}, {3.7870546270617056`*^9, 
   3.7870546301534476`*^9}, {3.787055368928124*^9, 3.787055369981283*^9}, {
   3.787055502478855*^9, 3.787055504062624*^9}, {3.78705617577489*^9, 
   3.7870561778344307`*^9}},ExpressionUUID->"870b896a-363f-4ff7-9605-\
9ca28723565f"]
}, Closed]],

Cell[CellGroupData[{

Cell["ElegantRules", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6254667735525446`*^9, 3.6254667763205442`*^9}, 
   3.688718254361676*^9},ExpressionUUID->"e749a4a5-d5c4-44f1-8ed4-\
1babd3cbc179"],

Cell[CellGroupData[{

Cell["From AutoScraper", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.687876065772558*^9, 
  3.6878760772952023`*^9}},ExpressionUUID->"5e358711-3ad6-4d79-8b9f-\
f6a2ec59802b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ALPH\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<XMAX\>\"", ",", " ", "\"\<XS1\>\"", ",", " ", "\"\<XS2\>\"", ",", 
     " ", "\"\<DP1\>\"", ",", " ", "\"\<DP2\>\"", ",", " ", "\"\<XPUCK\>\"", 
     ",", " ", "\"\<WIDTHPUCK\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<TILT\>\"", ",", 
     " ", "\"\<PART\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717320393176*^9, 3.688718254483676*^9, 
  3.6890755837458*^9},
 CellLabel->
  "(Local2) In[144]:=",ExpressionUUID->"32bf4f4e-2ea4-4ea9-add2-707fc5242d50"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BGGEXP\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LFIELD\>\"", ",", " ", "\"\<FILENAME\>\"", ",", " ", 
     "\"\<STRENGTH\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", 
     ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<MAXIMUM_M\>\"", ",", " ", "\"\<MAXIMUM_2N\>\"", ",", " ", 
     "\"\<Z_INTERVAL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173212591763`*^9, 3.688718254493676*^9, 
  3.6890755842237997`*^9},
 CellLabel->
  "(Local2) In[145]:=",ExpressionUUID->"7721d728-15df-482e-8261-6aa9edef1dff"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BMAPXY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<STRENGTH\>\"", ",", " ", "\"\<ACCURACY\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<FILENAME\>\"", ",", " ", "\"\<FX\>\"", 
     ",", " ", "\"\<FY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173221931763`*^9, 3.688718254503676*^9, 
  3.6890755846238*^9},
 CellLabel->
  "(Local2) In[146]:=",ExpressionUUID->"4565f86c-bf0f-45e0-9150-09ca71d7d3da"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BMXYZ\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LFIELD\>\"", ",", " ", "\"\<STRENGTH\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<FILENAME\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717322942176*^9, 3.6887182545136757`*^9, 
  3.6890755848938*^9},
 CellLabel->
  "(Local2) In[147]:=",ExpressionUUID->"95a666f5-2d65-4b7d-b72c-f28daf27fd59"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BRAT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<ACCURACY\>\"", 
     ",", " ", "\"\<METHOD\>\"", ",", " ", "\"\<FILENAME\>\"", ",", " ", 
     "\"\<XVERTEX\>\"", ",", " ", "\"\<ZVERTEX\>\"", ",", " ", 
     "\"\<XENTRY\>\"", ",", " ", "\"\<ZENTRY\>\"", ",", " ", "\"\<XEXIT\>\"", 
     ",", " ", "\"\<ZEXIT\>\"", ",", " ", "\"\<DXMAP\>\"", ",", " ", 
     "\"\<DZMAP\>\"", ",", " ", "\"\<YAWMAP\>\"", ",", " ", "\"\<FACTOR\>\"", 
     ",", " ", "\"\<USE_FTABLE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717323746176*^9, 3.688718254523676*^9, 
  3.6890755850937996`*^9},
 CellLabel->
  "(Local2) In[148]:=",ExpressionUUID->"e450a35b-7b0b-48eb-bf91-68c26d906dd0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BUMPER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", 
     " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<TIME_OFFSET\>\"", ",", " ", "\"\<PERIODIC\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<FIRE_ON_PASS\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<WAVEFORM\>\"", ",", " ", 
     "\"\<DEFLECTION_MAP\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717324610176*^9, 3.688718254533676*^9, 
  3.6890755852637997`*^9},
 CellLabel->
  "(Local2) In[149]:=",ExpressionUUID->"ebea9307-b6da-4840-9e3d-d60e3775a4a7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CENTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X\>\"", ",", " ", "\"\<XP\>\"", ",", " ", "\"\<Y\>\"", ",", " ", 
     "\"\<YP\>\"", ",", " ", "\"\<S\>\"", ",", " ", "\"\<DELTA\>\"", ",", 
     " ", "\"\<T\>\"", ",", " ", "\"\<ONCE_ONLY\>\"", ",", " ", 
     "\"\<ON_PASS\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717325334176*^9, 3.688718254543676*^9, 
  3.6890755854337997`*^9},
 CellLabel->
  "(Local2) In[150]:=",ExpressionUUID->"15f3f105-92af-497e-aa25-6ec1c8223673"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CEPL\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RAMP_TIME\>\"", ",", " ", "\"\<TIME_OFFSET\>\"", ",", " ", 
     "\"\<VOLTAGE\>\"", ",", " ", "\"\<GAP\>\"", ",", " ", 
     "\"\<STATIC_VOLTAGE\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"",
      ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<N_STEPS\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717326192176*^9, 3.6887182545536757`*^9, 
  3.6890755856138*^9},
 CellLabel->
  "(Local2) In[151]:=",ExpressionUUID->"da001cbe-c587-4244-91cc-dde8cee34c10"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CHARGE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<TOTAL\>\"", ",", " ", "\"\<PER_PARTICLE\>\"", ",", " ", 
     "\"\<ALLOW_TOTAL_CHANGE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717326966176*^9, 3.688718254563676*^9, 
  3.6890755857637997`*^9},
 CellLabel->
  "(Local2) In[152]:=",ExpressionUUID->"ae8133e1-49ae-4f93-aeb4-9daccba54c9f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CLEAN\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<MODE\>\"", ",", " ", "\"\<XLIMIT\>\"", ",", " ", "\"\<XPLIMIT\>\"", 
     ",", " ", "\"\<YLIMIT\>\"", ",", " ", "\"\<YPLIMIT\>\"", ",", " ", 
     "\"\<TLIMIT\>\"", ",", " ", "\"\<DELTALIMIT\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717327685176*^9, 3.688718254573676*^9, 
  3.6890755859337997`*^9},
 CellLabel->
  "(Local2) In[153]:=",ExpressionUUID->"bbf815a0-b9f6-41d9-a1ef-ebf3a0ab4aa9"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CORGPIPE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RADIUS\>\"", ",", " ", "\"\<PERIOD\>\"", ",", " ", "\"\<GAP\>\"", 
     ",", " ", "\"\<DEPTH\>\"", ",", " ", "\"\<DT\>\"", ",", " ", 
     "\"\<TMAX\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<SMOOTHING\>\"", ",", " ", 
     "\"\<SG_HALFWIDTH\>\"", ",", " ", "\"\<SG_ORDER\>\"", ",", " ", 
     "\"\<CHANGE_P0\>\"", ",", " ", "\"\<ALLOW_LONG_BEAM\>\"", ",", " ", 
     "\"\<RAMP_PASSES\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717328737176*^9, 3.6887182545836763`*^9, 
  3.6890755861038*^9},
 CellLabel->
  "(Local2) In[154]:=",ExpressionUUID->"591fd31b-492f-4ffc-af4b-f394ec8b8b72"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<K1\>\"", ",", " ", "\"\<K2\>\"", ",", 
     " ", "\"\<K3\>\"", ",", " ", "\"\<K4\>\"", ",", " ", "\"\<K5\>\"", ",", 
     " ", "\"\<K6\>\"", ",", " ", "\"\<K7\>\"", ",", " ", "\"\<K8\>\"", ",", 
     " ", "\"\<E1\>\"", ",", " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",",
      " ", "\"\<H1\>\"", ",", " ", "\"\<H2\>\"", ",", " ", "\"\<HGAP\>\"", 
     ",", " ", "\"\<FINT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"",
      ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<ETILT\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<NONLINEAR\>\"", ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", 
     "\"\<EDGE1_EFFECTS\>\"", ",", " ", "\"\<EDGE2_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE_ORDER\>\"", ",", " ", "\"\<FRINGE\>\"", ",", " ", 
     "\"\<INTEGRATION_ORDER\>\"", ",", " ", "\"\<EDGE1_KICK_LIMIT\>\"", ",", 
     " ", "\"\<EDGE2_KICK_LIMIT\>\"", ",", " ", "\"\<KICK_LIMIT_SCALING\>\"", 
     ",", " ", "\"\<USE_BN\>\"", ",", " ", "\"\<EXPANSION_ORDER\>\"", ",", 
     " ", "\"\<B1\>\"", ",", " ", "\"\<B2\>\"", ",", " ", "\"\<B3\>\"", ",", 
     " ", "\"\<B4\>\"", ",", " ", "\"\<B5\>\"", ",", " ", "\"\<B6\>\"", ",", 
     " ", "\"\<B7\>\"", ",", " ", "\"\<B8\>\"", ",", " ", 
     "\"\<XREFERENCE\>\"", ",", " ", "\"\<F1\>\"", ",", " ", "\"\<F2\>\"", 
     ",", " ", "\"\<F3\>\"", ",", " ", "\"\<F4\>\"", ",", " ", "\"\<F5\>\"", 
     ",", " ", "\"\<F6\>\"", ",", " ", "\"\<F7\>\"", ",", " ", "\"\<F8\>\"", 
     ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", 
     "\"\<SQRT_ORDER\>\"", ",", " ", "\"\<USE_RAD_DIST\>\"", ",", " ", 
     "\"\<ADD_OPENING_ANGLE\>\"", ",", " ", "\"\<PHOTON_OUTPUT_FILE\>\"", ",",
      " ", "\"\<PHOTON_LOW_ENERGY_CUTOFF\>\"", ",", " ", 
     "\"\<REFERENCE_CORRECTION\>\"", ",", " ", "\"\<TRACKING_MATRIX\>\"", ",",
      " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717330269176*^9, 3.688718254584676*^9, 
  3.6890755862637997`*^9},
 CellLabel->
  "(Local2) In[155]:=",ExpressionUUID->"79ef1014-0311-4a8d-82d9-00919342c282"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSRCSBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<K1\>\"", ",", " ", "\"\<K2\>\"", ",", 
     " ", "\"\<K3\>\"", ",", " ", "\"\<K4\>\"", ",", " ", "\"\<K5\>\"", ",", 
     " ", "\"\<K6\>\"", ",", " ", "\"\<K7\>\"", ",", " ", "\"\<K8\>\"", ",", 
     " ", "\"\<E1\>\"", ",", " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",",
      " ", "\"\<H1\>\"", ",", " ", "\"\<H2\>\"", ",", " ", "\"\<HGAP\>\"", 
     ",", " ", "\"\<FINT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"",
      ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<ETILT\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<NONLINEAR\>\"", ",", " ", "\"\<LINEARIZE\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<EDGE1_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE2_EFFECTS\>\"", ",", " ", "\"\<EDGE_ORDER\>\"", ",", " ", 
     "\"\<INTEGRATION_ORDER\>\"", ",", " ", "\"\<BINS\>\"", ",", " ", 
     "\"\<BIN_ONCE\>\"", ",", " ", "\"\<BIN_RANGE_FACTOR\>\"", ",", " ", 
     "\"\<SG_HALFWIDTH\>\"", ",", " ", "\"\<SG_ORDER\>\"", ",", " ", 
     "\"\<SGDERIV_HALFWIDTH\>\"", ",", " ", "\"\<SGDERIV_ORDER\>\"", ",", 
     " ", "\"\<TRAPAZOID_INTEGRATION\>\"", ",", " ", "\"\<OUTPUT_FILE\>\"", 
     ",", " ", "\"\<OUTPUT_INTERVAL\>\"", ",", " ", 
     "\"\<OUTPUT_LAST_WAKE_ONLY\>\"", ",", " ", "\"\<STEADY_STATE\>\"", ",", 
     " ", "\"\<IGF\>\"", ",", " ", "\"\<USE_BN\>\"", ",", " ", 
     "\"\<EXPANSION_ORDER\>\"", ",", " ", "\"\<B1\>\"", ",", " ", 
     "\"\<B2\>\"", ",", " ", "\"\<B3\>\"", ",", " ", "\"\<B4\>\"", ",", " ", 
     "\"\<B5\>\"", ",", " ", "\"\<B6\>\"", ",", " ", "\"\<B7\>\"", ",", " ", 
     "\"\<B8\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",",
      " ", "\"\<CSR\>\"", ",", " ", "\"\<BLOCK_CSR\>\"", ",", " ", 
     "\"\<DERBENEV_CRITERION_MODE\>\"", ",", " ", 
     "\"\<PARTICLE_OUTPUT_FILE\>\"", ",", " ", 
     "\"\<PARTICLE_OUTPUT_INTERVAL\>\"", ",", " ", 
     "\"\<SLICE_ANALYSIS_INTERVAL\>\"", ",", " ", 
     "\"\<LOW_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<LOW_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", "\"\<CLIP_NEGATIVE_BINS\>\"",
      ",", " ", "\"\<WAKE_FILTER_FILE\>\"", ",", " ", 
     "\"\<WFF_FREQ_COLUMN\>\"", ",", " ", "\"\<WFF_REAL_COLUMN\>\"", ",", 
     " ", "\"\<WFF_IMAG_COLUMN\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717331692176*^9, 3.688718254615676*^9, 
  3.6890755864337997`*^9},
 CellLabel->
  "(Local2) In[156]:=",ExpressionUUID->"df47acab-ba57-4b7e-ba90-a44efd4bb63f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSRDRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ATTENUATION_LENGTH\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<SPREAD\>\"", ",", " ", 
     "\"\<USE_OVERTAKING_LENGTH\>\"", ",", " ", "\"\<OL_MULTIPLIER\>\"", ",", 
     " ", "\"\<USE_SALDIN54\>\"", ",", " ", "\"\<SALDIN54POINTS\>\"", ",", 
     " ", "\"\<CSR\>\"", ",", " ", "\"\<SALDIN54NORM_MODE\>\"", ",", " ", 
     "\"\<SPREAD_MODE\>\"", ",", " ", "\"\<WAVELENGTH_MODE\>\"", ",", " ", 
     "\"\<BUNCHLENGTH_MODE\>\"", ",", " ", "\"\<SALDIN54_OUTPUT\>\"", ",", 
     " ", "\"\<USE_STUPAKOV\>\"", ",", " ", "\"\<STUPAKOV_OUTPUT\>\"", ",", 
     " ", "\"\<STUPAKOV_OUTPUT_INTERVAL\>\"", ",", " ", 
     "\"\<SLICE_ANALYSIS_INTERVAL\>\"", ",", " ", "\"\<LINEARIZE\>\"", ",", 
     " ", "\"\<LSC_BINS\>\"", ",", " ", "\"\<LSC_INTERPOLATE\>\"", ",", " ", 
     "\"\<LSC_LOW_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<LSC_LOW_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<LSC_HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<LSC_HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<LSC_RADIUS_FACTOR\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.688717332920176*^9, {3.688717526905176*^9, 3.688717527265176*^9}, 
   3.688718254625676*^9, 3.6890755865937996`*^9},
 CellLabel->
  "(Local2) In[157]:=",ExpressionUUID->"2adedc10-6636-46a3-88d8-b71975b5e763"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CWIGGLER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<B_MAX\>\"", ",", " ", "\"\<BX_MAX\>\"", ",", " ", "\"\<BY_MAX\>\"", 
     ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", 
     ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<PERIODS\>\"", ",", " ", 
     "\"\<STEPS_PER_PERIOD\>\"", ",", " ", "\"\<INTEGRATION_ORDER\>\"", ",", 
     " ", "\"\<BY_FILE\>\"", ",", " ", "\"\<BX_FILE\>\"", ",", " ", 
     "\"\<BY_SPLIT_POLE\>\"", ",", " ", "\"\<BX_SPLIT_POLE\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", 
     "\"\<ISR1PART\>\"", ",", " ", "\"\<SINUSOIDAL\>\"", ",", " ", 
     "\"\<VERTICAL\>\"", ",", " ", "\"\<HELICAL\>\"", ",", " ", 
     "\"\<FORCE_MATCHED\>\"", ",", " ", "\"\<FIELD_OUTPUT\>\"", ",", " ", 
     "\"\<VERBOSITY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173339581757`*^9, 3.688718254635676*^9, 
  3.6890755867437997`*^9},
 CellLabel->
  "(Local2) In[158]:=",ExpressionUUID->"b1cd54fd-c484-433b-b417-f159e7ec6c41"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<DRIF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<ORDER\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717334698176*^9, 3.6887182546456757`*^9, 
  3.6890755869038*^9},
 CellLabel->
  "(Local2) In[159]:=",ExpressionUUID->"4d49d046-d7aa-4ab0-b532-2cffea132950"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<DSCATTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<PLANE\>\"", ",", " ", "\"\<FILENAME\>\"", ",", " ", 
     "\"\<VALUENAME\>\"", ",", " ", "\"\<CDFNAME\>\"", ",", " ", 
     "\"\<PDFNAME\>\"", ",", " ", "\"\<ONCEPERPARTICLE\>\"", ",", " ", 
     "\"\<FACTOR\>\"", ",", " ", "\"\<PROBABILITY\>\"", ",", " ", 
     "\"\<GROUPID\>\"", ",", " ", "\"\<RANDOMSIGN\>\"", ",", " ", 
     "\"\<LIMITPERPASS\>\"", ",", " ", "\"\<LIMITTOTAL\>\"", ",", " ", 
     "\"\<STARTONPASS\>\"", ",", " ", "\"\<ENDONPASS\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173356611757`*^9, 3.688718254655676*^9, 
  3.6890755870638*^9},
 CellLabel->
  "(Local2) In[160]:=",ExpressionUUID->"f80304cd-af99-4a84-9173-d44d806a9451"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ECOL\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"", ",", " ", "\"\<DX\>\"", ",", 
     " ", "\"\<DY\>\"", ",", " ", "\"\<OPEN_SIDE\>\"", ",", " ", 
     "\"\<EXPONENT\>\"", ",", " ", "\"\<YEXPONENT\>\"", ",", " ", 
     "\"\<INVERT\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173366541758`*^9, 3.688718254665676*^9, 
  3.6890755872237997`*^9},
 CellLabel->
  "(Local2) In[161]:=",ExpressionUUID->"c939955a-3a2d-4778-8354-e9dba3afa7b3"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EDRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717337619176*^9, 3.688718254665676*^9, 
  3.6890755873738*^9},
 CellLabel->
  "(Local2) In[162]:=",ExpressionUUID->"a2f21bf6-88ee-4394-9db6-af07441c9898"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EHKICK\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KICK\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<CALIBRATION\>\"",
      ",", " ", "\"\<STEERING\>\"", ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717338374176*^9, 3.6887182546756763`*^9, 
  3.6890755875338*^9},
 CellLabel->
  "(Local2) In[163]:=",ExpressionUUID->"ccfb8555-e7f0-44d1-ab7e-a8e3dca8ddb6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EKICKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<HKICK\>\"", ",", " ", "\"\<VKICK\>\"", ",", " ", "\"\<TILT\>\"", ",",
      " ", "\"\<HCALIBRATION\>\"", ",", " ", "\"\<VCALIBRATION\>\"", ",", 
     " ", "\"\<STEERING\>\"", ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717339222176*^9, 3.688718254685676*^9, 
  3.6890755876938*^9},
 CellLabel->
  "(Local2) In[164]:=",ExpressionUUID->"0e68abfd-5656-4ad7-a9aa-e6d352d85d9e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ELSE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173400761757`*^9, 3.688718254695676*^9, 
  3.6890755878538*^9},
 CellLabel->
  "(Local2) In[165]:=",ExpressionUUID->"3de81f71-ab9d-4872-a495-cde98435082e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EMATRIX\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<DZ\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<YAW\>\"", 
     ",", " ", "\"\<PITCH\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<C1\>\"", ",", " ", "\"\<C2\>\"", ",", " ", "\"\<C3\>\"", ",", " ", 
     "\"\<C4\>\"", ",", " ", "\"\<C5\>\"", ",", " ", "\"\<C6\>\"", ",", " ", 
     "\"\<DELTAP\>\"", ",", " ", "\"\<R11\>\"", ",", " ", "\"\<R12\>\"", ",", 
     " ", "\"\<R13\>\"", ",", " ", "\"\<R14\>\"", ",", " ", "\"\<R15\>\"", 
     ",", " ", "\"\<R16\>\"", ",", " ", "\"\<R21\>\"", ",", " ", 
     "\"\<R22\>\"", ",", " ", "\"\<R23\>\"", ",", " ", "\"\<R24\>\"", ",", 
     " ", "\"\<R25\>\"", ",", " ", "\"\<R26\>\"", ",", " ", "\"\<R31\>\"", 
     ",", " ", "\"\<R32\>\"", ",", " ", "\"\<R33\>\"", ",", " ", 
     "\"\<R34\>\"", ",", " ", "\"\<R35\>\"", ",", " ", "\"\<R36\>\"", ",", 
     " ", "\"\<R41\>\"", ",", " ", "\"\<R42\>\"", ",", " ", "\"\<R43\>\"", 
     ",", " ", "\"\<R44\>\"", ",", " ", "\"\<R45\>\"", ",", " ", 
     "\"\<R46\>\"", ",", " ", "\"\<R51\>\"", ",", " ", "\"\<R52\>\"", ",", 
     " ", "\"\<R53\>\"", ",", " ", "\"\<R54\>\"", ",", " ", "\"\<R55\>\"", 
     ",", " ", "\"\<R56\>\"", ",", " ", "\"\<R61\>\"", ",", " ", 
     "\"\<R62\>\"", ",", " ", "\"\<R63\>\"", ",", " ", "\"\<R64\>\"", ",", 
     " ", "\"\<R65\>\"", ",", " ", "\"\<R66\>\"", ",", " ", "\"\<T111\>\"", 
     ",", " ", "\"\<T121\>\"", ",", " ", "\"\<T122\>\"", ",", " ", 
     "\"\<T131\>\"", ",", " ", "\"\<T132\>\"", ",", " ", "\"\<T133\>\"", ",", 
     " ", "\"\<T141\>\"", ",", " ", "\"\<T142\>\"", ",", " ", "\"\<T143\>\"", 
     ",", " ", "\"\<T144\>\"", ",", " ", "\"\<T151\>\"", ",", " ", 
     "\"\<T152\>\"", ",", " ", "\"\<T153\>\"", ",", " ", "\"\<T154\>\"", ",", 
     " ", "\"\<T155\>\"", ",", " ", "\"\<T161\>\"", ",", " ", "\"\<T162\>\"", 
     ",", " ", "\"\<T163\>\"", ",", " ", "\"\<T164\>\"", ",", " ", 
     "\"\<T165\>\"", ",", " ", "\"\<T166\>\"", ",", " ", "\"\<T211\>\"", ",", 
     " ", "\"\<T221\>\"", ",", " ", "\"\<T222\>\"", ",", " ", "\"\<T231\>\"", 
     ",", " ", "\"\<T232\>\"", ",", " ", "\"\<T233\>\"", ",", " ", 
     "\"\<T241\>\"", ",", " ", "\"\<T242\>\"", ",", " ", "\"\<T243\>\"", ",", 
     " ", "\"\<T244\>\"", ",", " ", "\"\<T251\>\"", ",", " ", "\"\<T252\>\"", 
     ",", " ", "\"\<T253\>\"", ",", " ", "\"\<T254\>\"", ",", " ", 
     "\"\<T255\>\"", ",", " ", "\"\<T261\>\"", ",", " ", "\"\<T262\>\"", ",", 
     " ", "\"\<T263\>\"", ",", " ", "\"\<T264\>\"", ",", " ", "\"\<T265\>\"", 
     ",", " ", "\"\<T266\>\"", ",", " ", "\"\<T311\>\"", ",", " ", 
     "\"\<T321\>\"", ",", " ", "\"\<T322\>\"", ",", " ", "\"\<T331\>\"", ",", 
     " ", "\"\<T332\>\"", ",", " ", "\"\<T333\>\"", ",", " ", "\"\<T341\>\"", 
     ",", " ", "\"\<T342\>\"", ",", " ", "\"\<T343\>\"", ",", " ", 
     "\"\<T344\>\"", ",", " ", "\"\<T351\>\"", ",", " ", "\"\<T352\>\"", ",", 
     " ", "\"\<T353\>\"", ",", " ", "\"\<T354\>\"", ",", " ", "\"\<T355\>\"", 
     ",", " ", "\"\<T361\>\"", ",", " ", "\"\<T362\>\"", ",", " ", 
     "\"\<T363\>\"", ",", " ", "\"\<T364\>\"", ",", " ", "\"\<T365\>\"", ",", 
     " ", "\"\<T366\>\"", ",", " ", "\"\<T411\>\"", ",", " ", "\"\<T421\>\"", 
     ",", " ", "\"\<T422\>\"", ",", " ", "\"\<T431\>\"", ",", " ", 
     "\"\<T432\>\"", ",", " ", "\"\<T433\>\"", ",", " ", "\"\<T441\>\"", ",", 
     " ", "\"\<T442\>\"", ",", " ", "\"\<T443\>\"", ",", " ", "\"\<T444\>\"", 
     ",", " ", "\"\<T451\>\"", ",", " ", "\"\<T452\>\"", ",", " ", 
     "\"\<T453\>\"", ",", " ", "\"\<T454\>\"", ",", " ", "\"\<T455\>\"", ",", 
     " ", "\"\<T461\>\"", ",", " ", "\"\<T462\>\"", ",", " ", "\"\<T463\>\"", 
     ",", " ", "\"\<T464\>\"", ",", " ", "\"\<T465\>\"", ",", " ", 
     "\"\<T466\>\"", ",", " ", "\"\<T511\>\"", ",", " ", "\"\<T521\>\"", ",", 
     " ", "\"\<T522\>\"", ",", " ", "\"\<T531\>\"", ",", " ", "\"\<T532\>\"", 
     ",", " ", "\"\<T533\>\"", ",", " ", "\"\<T541\>\"", ",", " ", 
     "\"\<T542\>\"", ",", " ", "\"\<T543\>\"", ",", " ", "\"\<T544\>\"", ",", 
     " ", "\"\<T551\>\"", ",", " ", "\"\<T552\>\"", ",", " ", "\"\<T553\>\"", 
     ",", " ", "\"\<T554\>\"", ",", " ", "\"\<T555\>\"", ",", " ", 
     "\"\<T561\>\"", ",", " ", "\"\<T562\>\"", ",", " ", "\"\<T563\>\"", ",", 
     " ", "\"\<T564\>\"", ",", " ", "\"\<T565\>\"", ",", " ", "\"\<T566\>\"", 
     ",", " ", "\"\<T611\>\"", ",", " ", "\"\<T621\>\"", ",", " ", 
     "\"\<T622\>\"", ",", " ", "\"\<T631\>\"", ",", " ", "\"\<T632\>\"", ",", 
     " ", "\"\<T633\>\"", ",", " ", "\"\<T641\>\"", ",", " ", "\"\<T642\>\"", 
     ",", " ", "\"\<T643\>\"", ",", " ", "\"\<T644\>\"", ",", " ", 
     "\"\<T651\>\"", ",", " ", "\"\<T652\>\"", ",", " ", "\"\<T653\>\"", ",", 
     " ", "\"\<T654\>\"", ",", " ", "\"\<T655\>\"", ",", " ", "\"\<T661\>\"", 
     ",", " ", "\"\<T662\>\"", ",", " ", "\"\<T663\>\"", ",", " ", 
     "\"\<T664\>\"", ",", " ", "\"\<T665\>\"", ",", " ", "\"\<T666\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717341931176*^9, 3.6887182547156763`*^9, 
  3.6890755880137997`*^9},
 CellLabel->
  "(Local2) In[166]:=",ExpressionUUID->"97d5f53d-b315-4526-9dee-e67cb8ad9a82"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EMITTANCE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<EMITX\>\"", ",", " ", "\"\<EMITY\>\"", ",", " ", "\"\<EMITNX\>\"", 
     ",", " ", "\"\<EMITNY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717342678176*^9, 3.688718254725676*^9, 
  3.6890755881737995`*^9},
 CellLabel->
  "(Local2) In[167]:=",ExpressionUUID->"0551c11d-ae5d-4f94-9c0f-db0fa1ef2997"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ENERGY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CENTRAL_ENERGY\>\"", ",", " ", "\"\<CENTRAL_MOMENTUM\>\"", ",", " ", 
     "\"\<MATCH_BEAMLINE\>\"", ",", " ", "\"\<MATCH_PARTICLES\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717343492176*^9, 3.688718254735676*^9, 
  3.6890755883437996`*^9},
 CellLabel->
  "(Local2) In[168]:=",ExpressionUUID->"dd7062f8-83cb-40ef-ade9-3cd0cfc75319"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EVKICK\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KICK\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<CALIBRATION\>\"",
      ",", " ", "\"\<STEERING\>\"", ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717344574176*^9, 3.688718254745676*^9, 
  3.6890755885038*^9},
 CellLabel->
  "(Local2) In[169]:=",ExpressionUUID->"badf49a4-857d-4a76-8957-be5e549bd038"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<FLOOR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X\>\"", ",", " ", "\"\<Y\>\"", ",", " ", "\"\<Z\>\"", ",", " ", 
     "\"\<THETA\>\"", ",", " ", "\"\<PHI\>\"", ",", " ", "\"\<PSI\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173452711763`*^9, 3.6887182547556763`*^9, 
  3.6890755886737995`*^9},
 CellLabel->
  "(Local2) In[170]:=",ExpressionUUID->"ea15a630-1c92-4e0a-896b-5f4e5a520daf"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<FMULT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", 
     "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", 
     " ", "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<FILENAME\>\"", ",", " ", 
     "\"\<SQRT_ORDER\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717346216176*^9, 3.688718254765676*^9, 
  3.6890755888338*^9},
 CellLabel->
  "(Local2) In[171]:=",ExpressionUUID->"97db34ff-6aa7-4635-9abe-b37013f3b23a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<FRFMODE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FILENAME\>\"", ",", " ", "\"\<BIN_SIZE\>\"", ",", " ", 
     "\"\<N_BINS\>\"", ",", " ", "\"\<RIGID_UNTIL_PASS\>\"", ",", " ", 
     "\"\<USE_SYMM_DATA\>\"", ",", " ", "\"\<FACTOR\>\"", ",", " ", 
     "\"\<CUTOFF\>\"", ",", " ", "\"\<OUTPUT_FILE\>\"", ",", " ", 
     "\"\<FLUSH_INTERVAL\>\"", ",", " ", "\"\<RAMP_PASSES\>\"", ",", " ", 
     "\"\<RESET_FOR_EACH_STEP\>\"", ",", " ", "\"\<LONG_RANGE_ONLY\>\"", ",", 
     " ", "\"\<N_CAVITIES\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717347140176*^9, 3.688718254775676*^9, 
  3.6890755889937997`*^9},
 CellLabel->
  "(Local2) In[172]:=",ExpressionUUID->"038453f4-cb57-4df3-a613-01dd2dbab5fe"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<FTABLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<L1\>\"", ",", " ", "\"\<L2\>\"", ",", 
     " ", "\"\<E1\>\"", ",", " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",",
      " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", 
     " ", "\"\<FACTOR\>\"", ",", " ", "\"\<THRESHOLD\>\"", ",", " ", 
     "\"\<INPUT_FILE\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<VERBOSE\>\"", ",", " ", "\"\<SIMPLE_INPUT\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173480831757`*^9, 3.688718254785676*^9, 
  3.6890755891737995`*^9},
 CellLabel->
  "(Local2) In[173]:=",ExpressionUUID->"675cd46e-3f20-486f-8867-7d03e3751f50"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<FTRFMODE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FILENAME\>\"", ",", " ", "\"\<BIN_SIZE\>\"", ",", " ", 
     "\"\<N_BINS\>\"", ",", " ", "\"\<RIGID_UNTIL_PASS\>\"", ",", " ", 
     "\"\<USE_SYMM_DATA\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", 
     ",", " ", "\"\<XFACTOR\>\"", ",", " ", "\"\<YFACTOR\>\"", ",", " ", 
     "\"\<CUTOFF\>\"", ",", " ", "\"\<OUTPUT_FILE\>\"", ",", " ", 
     "\"\<FLUSH_INTERVAL\>\"", ",", " ", "\"\<RAMP_PASSES\>\"", ",", " ", 
     "\"\<RESET_FOR_EACH_STEP\>\"", ",", " ", "\"\<LONG_RANGE_ONLY\>\"", ",", 
     " ", "\"\<N_CAVITIES\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717349057176*^9, 3.688718254795676*^9, 
  3.6890755893238*^9},
 CellLabel->
  "(Local2) In[174]:=",ExpressionUUID->"dfe0d4f7-cc22-4e62-8645-2d2d560c169f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<GFWIGGLER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<B_MAX\>\"", ",", " ", "\"\<SHIM_SCALE\>\"", ",", " ", "\"\<DX\>\"", 
     ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<TILT\>\"",
      ",", " ", "\"\<PERIODS\>\"", ",", " ", "\"\<STEP\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<END_POLE\>\"", ",", " ", 
     "\"\<SHIM_ON\>\"", ",", " ", "\"\<INPUT_FILE\>\"", ",", " ", 
     "\"\<SHIM_INPUT\>\"", ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", "\"\<X0\>\"", ",",
      " ", "\"\<GAP0\>\"", ",", " ", "\"\<D_GAP\>\"", ",", " ", 
     "\"\<PHASE_1\>\"", ",", " ", "\"\<PHASE_2\>\"", ",", " ", 
     "\"\<PHASE_3\>\"", ",", " ", "\"\<PHASE_4\>\"", ",", " ", 
     "\"\<VERBOSITY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173502381763`*^9, 3.688718254795676*^9, 
  3.6890755894838*^9},
 CellLabel->
  "(Local2) In[175]:=",ExpressionUUID->"0eb9e461-d871-4b84-b80d-e4672d2a6ae3"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<HISTOGRAM\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<INTERVAL\>\"", ",", " ", "\"\<START_PASS\>\"", ",", " ", 
     "\"\<BINS\>\"", ",", " ", "\"\<FIXED_BIN_SIZE\>\"", ",", " ", 
     "\"\<X_DATA\>\"", ",", " ", "\"\<Y_DATA\>\"", ",", " ", 
     "\"\<LONGIT_DATA\>\"", ",", " ", "\"\<BIN_SIZE_FACTOR\>\"", ",", " ", 
     "\"\<NORMALIZE\>\"", ",", " ", "\"\<DISABLE\>\"", ",", " ", 
     "\"\<SPARSE\>\"", ",", " ", "\"\<START_PID\>\"", ",", " ", 
     "\"\<END_PID\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717351358176*^9, 3.688718254805676*^9, 
  3.6890755896538*^9},
 CellLabel->
  "(Local2) In[176]:=",ExpressionUUID->"2669e609-afdc-4977-ad44-63c5d7650416"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<HKICK\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KICK\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<CALIBRATION\>\"", ",", " ", "\"\<EDGE_EFFECTS\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<STEERING\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717352231176*^9, 3.6887182548156757`*^9, 
  3.6890755898138*^9},
 CellLabel->
  "(Local2) In[177]:=",ExpressionUUID->"3b359e3f-6592-4ce9-8823-334c1bde93d9"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<HMON\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<WEIGHT\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<CALIBRATION\>\"", ",", " ", 
     "\"\<SETPOINT\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<READOUT\>\"", ",", " ", "\"\<CO_FITPOINT\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717353402176*^9, 3.688718254825676*^9, 
  3.6890755899838*^9},
 CellLabel->
  "(Local2) In[178]:=",ExpressionUUID->"c2503ac1-cc73-43ab-ada8-8596a474efcc"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<IBSCATTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FACTOR\>\"", ",", " ", "\"\<DO_X\>\"", ",", " ", "\"\<DO_Y\>\"", ",",
      " ", "\"\<DO_Z\>\"", ",", " ", "\"\<NSLICE\>\"", ",", " ", 
     "\"\<SMOOTH\>\"", ",", " ", "\"\<FORCE_MATCHED_TWISS\>\"", ",", " ", 
     "\"\<ISRING\>\"", ",", " ", "\"\<INTERVAL\>\"", ",", " ", 
     "\"\<FILENAME\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", 
     "\"\<VERBOSE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717354222176*^9, 3.688718254835676*^9, 
  3.6890755901438*^9},
 CellLabel->
  "(Local2) In[179]:=",ExpressionUUID->"54d4035d-2a11-47f3-ab8d-aee8912fff80"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ILMATRIX\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<NUX\>\"", ",", " ", "\"\<NUY\>\"", ",", " ", "\"\<NUX1M\>\"", ",", 
     " ", "\"\<NUY1M\>\"", ",", " ", "\"\<NUX2M\>\"", ",", " ", 
     "\"\<NUY2M\>\"", ",", " ", "\"\<NUX3M\>\"", ",", " ", "\"\<NUY3M\>\"", 
     ",", " ", "\"\<NUX1AX\>\"", ",", " ", "\"\<NUY1AX\>\"", ",", " ", 
     "\"\<NUX1AY\>\"", ",", " ", "\"\<NUY1AY\>\"", ",", " ", "\"\<NUX2AX\>\"",
      ",", " ", "\"\<NUY2AX\>\"", ",", " ", "\"\<NUX2AY\>\"", ",", " ", 
     "\"\<NUY2AY\>\"", ",", " ", "\"\<NUX1AX1AY\>\"", ",", " ", 
     "\"\<NUY1AX1AY\>\"", ",", " ", "\"\<BETAX\>\"", ",", " ", 
     "\"\<BETAY\>\"", ",", " ", "\"\<BETAX1M\>\"", ",", " ", 
     "\"\<BETAY1M\>\"", ",", " ", "\"\<ALPHAX\>\"", ",", " ", 
     "\"\<ALPHAY\>\"", ",", " ", "\"\<ALPHAX1M\>\"", ",", " ", 
     "\"\<ALPHAY1M\>\"", ",", " ", "\"\<ETAX\>\"", ",", " ", "\"\<ETAPX\>\"", 
     ",", " ", "\"\<ETAY\>\"", ",", " ", "\"\<ETAPY\>\"", ",", " ", 
     "\"\<ETAX1\>\"", ",", " ", "\"\<ETAPX1\>\"", ",", " ", "\"\<ETAY1\>\"", 
     ",", " ", "\"\<ETAPY1\>\"", ",", " ", "\"\<ALPHAC\>\"", ",", " ", 
     "\"\<ALPHAC2\>\"", ",", " ", "\"\<ALPHAC3\>\"", ",", " ", 
     "\"\<DS1AX\>\"", ",", " ", "\"\<DS1AY\>\"", ",", " ", "\"\<DS2AX\>\"", 
     ",", " ", "\"\<DS2AY\>\"", ",", " ", "\"\<DS1AX1AY\>\"", ",", " ", 
     "\"\<TILT\>\"", ",", " ", "\"\<CROSS_RESONANCE\>\"", ",", " ", 
     "\"\<VERBOSITY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717355433176*^9, 3.688718254845676*^9, 
  3.6890755903437996`*^9},
 CellLabel->
  "(Local2) In[180]:=",ExpressionUUID->"f8ce70b4-1dc9-45db-959f-971b540599ff"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KICKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<HKICK\>\"", ",", " ", "\"\<VKICK\>\"", ",", " ", "\"\<TILT\>\"", ",",
      " ", "\"\<B2\>\"", ",", " ", "\"\<HCALIBRATION\>\"", ",", " ", 
     "\"\<VCALIBRATION\>\"", ",", " ", "\"\<EDGE_EFFECTS\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<STEERING\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717356216176*^9, 3.6887182548556757`*^9, 
  3.6890755904838*^9},
 CellLabel->
  "(Local2) In[181]:=",ExpressionUUID->"27e65019-482b-4c9c-a888-ee292115cdbe"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KOCT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K3\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<BORE\>\"", ",", 
     " ", "\"\<B\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<N_KICKS\>\"", 
     ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<SYSTEMATIC_MULTIPOLES\>\"",
      ",", " ", "\"\<RANDOM_MULTIPOLES\>\"", ",", " ", 
     "\"\<INTEGRATION_ORDER\>\"", ",", " ", "\"\<SQRT_ORDER\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", "\"\<GROUP\>\"", 
     ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717357053176*^9, 3.688718254865676*^9, 
  3.6890755906547995`*^9},
 CellLabel->
  "(Local2) In[182]:=",ExpressionUUID->"f72244b8-d88e-4277-88c4-d99944b5faa7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KPOLY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<COEFFICIENT\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", 
     ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<FACTOR\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", "\"\<PLANE\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717357869176*^9, 3.688718254875676*^9, 
  3.6890755907948*^9},
 CellLabel->
  "(Local2) In[183]:=",ExpressionUUID->"758eeacc-75c8-4eca-9160-6d44610db4ec"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KQUAD\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K1\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<BORE\>\"", ",", 
     " ", "\"\<B\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<HKICK\>\"", 
     ",", " ", "\"\<VKICK\>\"", ",", " ", "\"\<HCALIBRATION\>\"", ",", " ", 
     "\"\<VCALIBRATION\>\"", ",", " ", "\"\<HSTEERING\>\"", ",", " ", 
     "\"\<VSTEERING\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<SYSTEMATIC_MULTIPOLES\>\"", ",", 
     " ", "\"\<EDGE_MULTIPOLES\>\"", ",", " ", "\"\<RANDOM_MULTIPOLES\>\"", 
     ",", " ", "\"\<STEERING_MULTIPOLES\>\"", ",", " ", 
     "\"\<INTEGRATION_ORDER\>\"", ",", " ", "\"\<SQRT_ORDER\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", 
     "\"\<EDGE1_EFFECTS\>\"", ",", " ", "\"\<EDGE2_EFFECTS\>\"", ",", " ", 
     "\"\<LEFFECTIVE\>\"", ",", " ", "\"\<I0P\>\"", ",", " ", "\"\<I1P\>\"", 
     ",", " ", "\"\<I2P\>\"", ",", " ", "\"\<I3P\>\"", ",", " ", 
     "\"\<LAMBDA2P\>\"", ",", " ", "\"\<I0M\>\"", ",", " ", "\"\<I1M\>\"", 
     ",", " ", "\"\<I2M\>\"", ",", " ", "\"\<I3M\>\"", ",", " ", 
     "\"\<LAMBDA2M\>\"", ",", " ", "\"\<EDGE1_LINEAR\>\"", ",", " ", 
     "\"\<EDGE2_LINEAR\>\"", ",", " ", "\"\<EDGE1_NONLINEAR_FACTOR\>\"", ",", 
     " ", "\"\<EDGE2_NONLINEAR_FACTOR\>\"", ",", " ", "\"\<RADIAL\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173591161757`*^9, 3.688718254885676*^9, 
  3.6890755909648*^9},
 CellLabel->
  "(Local2) In[184]:=",ExpressionUUID->"ae74d2c6-f1f4-4751-a3d7-55da3755b126"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KQUSE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K1\>\"", ",", " ", "\"\<K2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", 
     "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<FSE1\>\"", ",", " ", "\"\<FSE2\>\"", ",", " ", "\"\<N_KICKS\>\"", 
     ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<INTEGRATION_ORDER\>\"", 
     ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", 
     "\"\<MATRIX_TRACKING\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717359994176*^9, 3.688718254886676*^9, 
  3.6890755911247997`*^9},
 CellLabel->
  "(Local2) In[185]:=",ExpressionUUID->"16703368-7d50-40ec-95ff-430050f19142"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KSBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<K1\>\"", ",", " ", "\"\<K2\>\"", ",", 
     " ", "\"\<K3\>\"", ",", " ", "\"\<K4\>\"", ",", " ", "\"\<E1\>\"", ",", 
     " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<H1\>\"", ",",
      " ", "\"\<H2\>\"", ",", " ", "\"\<HGAP\>\"", ",", " ", "\"\<FINT\>\"", 
     ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", 
     ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<ETILT\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<NONLINEAR\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<EDGE1_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE2_EFFECTS\>\"", ",", " ", "\"\<EDGE_ORDER\>\"", ",", " ", 
     "\"\<PARAXIAL\>\"", ",", " ", "\"\<TRANSPORT\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717360941176*^9, 3.688718254893676*^9, 
  3.6890755912948*^9},
 CellLabel->
  "(Local2) In[186]:=",ExpressionUUID->"ded0310e-ca93-4414-8754-74cdf1092882"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KSEXT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<BORE\>\"", ",", 
     " ", "\"\<B\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<HKICK\>\"", 
     ",", " ", "\"\<VKICK\>\"", ",", " ", "\"\<HCALIBRATION\>\"", ",", " ", 
     "\"\<VCALIBRATION\>\"", ",", " ", "\"\<HSTEERING\>\"", ",", " ", 
     "\"\<VSTEERING\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<SYSTEMATIC_MULTIPOLES\>\"", ",", 
     " ", "\"\<EDGE_MULTIPOLES\>\"", ",", " ", "\"\<RANDOM_MULTIPOLES\>\"", 
     ",", " ", "\"\<STEERING_MULTIPOLES\>\"", ",", " ", 
     "\"\<INTEGRATION_ORDER\>\"", ",", " ", "\"\<SQRT_ORDER\>\"", ",", " ", 
     "\"\<ISR\>\"", ",", " ", "\"\<ISR1PART\>\"", ",", " ", "\"\<GROUP\>\"", 
     ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717361982176*^9, 3.688718254903676*^9, 
  3.6890755917148*^9},
 CellLabel->
  "(Local2) In[187]:=",ExpressionUUID->"f21445a7-dca6-4242-acba-beed1da7268e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<LMIRROR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RX\>\"", ",", " ", "\"\<RY\>\"", ",", " ", "\"\<THETA\>\"", ",", 
     " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<YAW\>\"", ",", " ", "\"\<PITCH\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717362986176*^9, 3.688718254912676*^9, 
  3.6890755919047995`*^9},
 CellLabel->
  "(Local2) In[188]:=",ExpressionUUID->"676091fc-6100-4802-83bb-c3567b7e1765"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<LRWAKE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<INPUTFILE\>\"", ",", " ", "\"\<TCOLUMN\>\"", ",", " ", 
     "\"\<WXCOLUMN\>\"", ",", " ", "\"\<WYCOLUMN\>\"", ",", " ", 
     "\"\<WZCOLUMN\>\"", ",", " ", "\"\<QXCOLUMN\>\"", ",", " ", 
     "\"\<QYCOLUMN\>\"", ",", " ", "\"\<FACTOR\>\"", ",", " ", 
     "\"\<XFACTOR\>\"", ",", " ", "\"\<YFACTOR\>\"", ",", " ", 
     "\"\<ZFACTOR\>\"", ",", " ", "\"\<QXFACTOR\>\"", ",", " ", 
     "\"\<QYFACTOR\>\"", ",", " ", "\"\<TURNS_TO_KEEP\>\"", ",", " ", 
     "\"\<RAMP_PASSES\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.688717363989176*^9, {3.688717511840176*^9, 3.6887175125501757`*^9}, 
   3.688718254922676*^9, 3.6890755920648*^9},
 CellLabel->
  "(Local2) In[189]:=",ExpressionUUID->"e25e1cdc-f62d-46a1-82e7-e2b05e8b3b71"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<LSCDRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LEFFECTIVE\>\"", ",", " ", "\"\<BINS\>\"", ",", " ", 
     "\"\<SMOOTHING\>\"", ",", " ", "\"\<SG_HALFWIDTH\>\"", ",", " ", 
     "\"\<SG_ORDER\>\"", ",", " ", "\"\<INTERPOLATE\>\"", ",", " ", 
     "\"\<LOW_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<LOW_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", "\"\<RADIUS_FACTOR\>\"", ",",
      " ", "\"\<LSC\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173648841763`*^9, 3.6887182549406757`*^9, 
  3.6890755922548*^9},
 CellLabel->
  "(Local2) In[190]:=",ExpressionUUID->"9059fdcd-1744-48fe-80ab-6f492ca9bed7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<LSRMDLTR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<BU\>\"", ",", " ", "\"\<PERIODS\>\"", ",", " ", "\"\<METHOD\>\"", 
     ",", " ", "\"\<FIELD_EXPANSION\>\"", ",", " ", "\"\<ACCURACY\>\"", ",", 
     " ", "\"\<N_STEPS\>\"", ",", " ", "\"\<POLE_FACTOR1\>\"", ",", " ", 
     "\"\<POLE_FACTOR2\>\"", ",", " ", "\"\<POLE_FACTOR3\>\"", ",", " ", 
     "\"\<LASER_WAVELENGTH\>\"", ",", " ", "\"\<LASER_PEAK_POWER\>\"", ",", 
     " ", "\"\<LASER_W0\>\"", ",", " ", "\"\<LASER_PHASE\>\"", ",", " ", 
     "\"\<LASER_X0\>\"", ",", " ", "\"\<LASER_Y0\>\"", ",", " ", 
     "\"\<LASER_Z0\>\"", ",", " ", "\"\<LASER_TILT\>\"", ",", " ", 
     "\"\<LASER_M\>\"", ",", " ", "\"\<LASER_N\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", 
     "\"\<TIME_PROFILE\>\"", ",", " ", "\"\<TIME_OFFSET\>\"", ",", " ", 
     "\"\<HELICAL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173663001757`*^9, 3.688718254950676*^9, 
  3.6890755927447996`*^9},
 CellLabel->
  "(Local2) In[191]:=",ExpressionUUID->"11f9a54a-493f-4b0f-8f2d-a5d504597759"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<LTHINLENS\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FX\>\"", ",", " ", "\"\<FY\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<TILT\>\"", ",", 
     " ", "\"\<YAW\>\"", ",", " ", "\"\<PITCH\>\"", ",", " ", "\"\<GROUP\>\"",
      ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173670241756`*^9, 3.688718254960676*^9, 
  3.6890755929648*^9},
 CellLabel->
  "(Local2) In[192]:=",ExpressionUUID->"ba49ccab-8451-44c7-b7f7-9068292d1e95"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MAGNIFY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<MX\>\"", ",", " ", "\"\<MXP\>\"", ",", " ", "\"\<MY\>\"", ",", " ", 
     "\"\<MYP\>\"", ",", " ", "\"\<MS\>\"", ",", " ", "\"\<MDP\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717367998176*^9, 3.688718254970676*^9, 
  3.6890755931547995`*^9},
 CellLabel->
  "(Local2) In[193]:=",ExpressionUUID->"7dda487f-dbc6-4e40-8863-663fb006a024"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MALIGN\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DXP\>\"", ",", " ", "\"\<DYP\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<DT\>\"", ",", " ", 
     "\"\<DP\>\"", ",", " ", "\"\<DE\>\"", ",", " ", "\"\<ON_PASS\>\"", ",", 
     " ", "\"\<FORCE_MODIFY_MATRIX\>\"", ",", " ", "\"\<START_PID\>\"", ",", 
     " ", "\"\<END_PID\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717368784176*^9, 3.6887182549806757`*^9, 
  3.6890755934607997`*^9},
 CellLabel->
  "(Local2) In[194]:=",ExpressionUUID->"5eb4a544-67c9-4fee-af8c-2dd692f86343"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MAPSOLENOID\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<ETILT\>\"", ",", 
     " ", "\"\<EYAW\>\"", ",", " ", "\"\<EPITCH\>\"", ",", " ", 
     "\"\<N_STEPS\>\"", ",", " ", "\"\<INPUTFILE\>\"", ",", " ", 
     "\"\<RCOLUMN\>\"", ",", " ", "\"\<ZCOLUMN\>\"", ",", " ", 
     "\"\<BRCOLUMN\>\"", ",", " ", "\"\<BZCOLUMN\>\"", ",", " ", 
     "\"\<FACTOR\>\"", ",", " ", "\"\<BXUNIFORM\>\"", ",", " ", 
     "\"\<BYUNIFORM\>\"", ",", " ", "\"\<LUNIFORM\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717369644176*^9, 3.688718254990676*^9, 
  3.6890755936807995`*^9},
 CellLabel->
  "(Local2) In[195]:=",ExpressionUUID->"20714319-4502-485d-b223-d294c0672428"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MARK\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<FITPOINT\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717370506176*^9, 3.688718255000676*^9, 
  3.6890755939807997`*^9},
 CellLabel->
  "(Local2) In[196]:=",ExpressionUUID->"70ae8b81-9fed-403c-9f0b-b53ea7a13e75"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MATR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<ORDER\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717371170176*^9, 3.688718255010676*^9, 
  3.6890755942538*^9},
 CellLabel->
  "(Local2) In[197]:=",ExpressionUUID->"daecc5a9-e6a6-4817-9406-85146829811e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MATTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LEFFECTIVE\>\"", ",", " ", "\"\<XO\>\"", ",", " ", 
     "\"\<ENERGY_DECAY\>\"", ",", " ", "\"\<ENERGY_STRAGGLE\>\"", ",", " ", 
     "\"\<NUCLEAR_BREMSSTRAHLUNG\>\"", ",", " ", "\"\<ELECTRON_RECOIL\>\"", 
     ",", " ", "\"\<Z\>\"", ",", " ", "\"\<A\>\"", ",", " ", "\"\<RHO\>\"", 
     ",", " ", "\"\<PLIMIT\>\"", ",", " ", "\"\<WIDTH\>\"", ",", " ", 
     "\"\<SPACING\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<CENTER\>\"", 
     ",", " ", "\"\<N_SLOTS\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717372115176*^9, 3.6887182550206757`*^9, 
  3.6890755944637995`*^9},
 CellLabel->
  "(Local2) In[198]:=",ExpressionUUID->"8cfd5dd2-4dc7-4161-b845-fe21b9b5c98b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MAXAMP\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"", ",", " ", 
     "\"\<ELLIPTICAL\>\"", ",", " ", "\"\<EXPONENT\>\"", ",", " ", 
     "\"\<YEXPONENT\>\"", ",", " ", "\"\<OPEN_SIDE\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173728841763`*^9, 3.688718255030676*^9, 
  3.6890755949337997`*^9},
 CellLabel->
  "(Local2) In[199]:=",ExpressionUUID->"393415c5-471a-40ba-b0c4-d3a86c1b1cf5"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MBUMPER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<STRENGTH\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",",
      " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<TIME_OFFSET\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<PERIODIC\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<FIRE_ON_PASS\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<WAVEFORM\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717373864176*^9, 3.688718255030676*^9, 
  3.6890755951337996`*^9},
 CellLabel->
  "(Local2) In[200]:=",ExpressionUUID->"04c74958-7e2d-4e90-bff6-29d67f5e3ec2"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MHISTOGRAM\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FILE1D\>\"", ",", " ", "\"\<FILE2DH\>\"", ",", " ", 
     "\"\<FILE2DV\>\"", ",", " ", "\"\<FILE2DL\>\"", ",", " ", 
     "\"\<FILE4D\>\"", ",", " ", "\"\<FILE6D\>\"", ",", " ", 
     "\"\<INPUT_BINS\>\"", ",", " ", "\"\<INTERVAL\>\"", ",", " ", 
     "\"\<START_PASS\>\"", ",", " ", "\"\<NORMALIZE\>\"", ",", " ", 
     "\"\<DISABLE\>\"", ",", " ", "\"\<LUMPED\>\"", ",", " ", "\"\<GROUP\>\"",
      ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717374813176*^9, 3.688718255040676*^9, 
  3.6890755953138*^9},
 CellLabel->
  "(Local2) In[201]:=",ExpressionUUID->"c794599b-5d5f-4786-b079-a2b6dad39350"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MODRF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<VOLT\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", "\"\<FREQ\>\"", ",", 
     " ", "\"\<Q\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<AMMAG\>\"", ",", " ", "\"\<AMPHASE\>\"", ",", " ", "\"\<AMFREQ\>\"",
      ",", " ", "\"\<AMDECAY\>\"", ",", " ", "\"\<PMMAG\>\"", ",", " ", 
     "\"\<PMPHASE\>\"", ",", " ", "\"\<PMFREQ\>\"", ",", " ", 
     "\"\<PMDECAY\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717375637176*^9, 3.6887182550506763`*^9, 
  3.6890755955338*^9},
 CellLabel->
  "(Local2) In[202]:=",ExpressionUUID->"f34bad4f-933e-42d9-bdb4-e217059dcc11"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MONI\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<WEIGHT\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<XCALIBRATION\>\"", ",", " ", 
     "\"\<YCALIBRATION\>\"", ",", " ", "\"\<XSETPOINT\>\"", ",", " ", 
     "\"\<YSETPOINT\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<XREADOUT\>\"", ",", " ", "\"\<YREADOUT\>\"", ",", " ", 
     "\"\<CO_FITPOINT\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173764291763`*^9, 3.688718255060676*^9, 
  3.6890755957257996`*^9},
 CellLabel->
  "(Local2) In[203]:=",ExpressionUUID->"099b2a81-b4f3-4aeb-84aa-3664027dd2e6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MRFDF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FACTOR\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<A1\>\"", ",", 
     " ", "\"\<A2\>\"", ",", " ", "\"\<A3\>\"", ",", " ", "\"\<A4\>\"", ",", 
     " ", "\"\<A5\>\"", ",", " ", "\"\<B1\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<B3\>\"", ",", " ", "\"\<B4\>\"", ",", " ", "\"\<B5\>\"", ",", 
     " ", "\"\<FREQUENCY1\>\"", ",", " ", "\"\<FREQUENCY2\>\"", ",", " ", 
     "\"\<FREQUENCY3\>\"", ",", " ", "\"\<FREQUENCY4\>\"", ",", " ", 
     "\"\<FREQUENCY5\>\"", ",", " ", "\"\<PHASE1\>\"", ",", " ", 
     "\"\<PHASE2\>\"", ",", " ", "\"\<PHASE3\>\"", ",", " ", "\"\<PHASE4\>\"",
      ",", " ", "\"\<PHASE5\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173772791758`*^9, 3.688718255070676*^9, 
  3.6890755958957996`*^9},
 CellLabel->
  "(Local2) In[204]:=",ExpressionUUID->"11bea02b-f043-42c2-9e67-958e24b6e3c1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MULT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KNL\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<BORE\>\"", ",", 
     " ", "\"\<BTIPL\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", 
     ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FACTOR\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173781861763`*^9, 3.688718255080676*^9, 
  3.6890755964178*^9},
 CellLabel->
  "(Local2) In[205]:=",ExpressionUUID->"fb32cf9a-1811-4209-942d-12af2073b6e2"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<NIBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<E1\>\"", ",", " ", "\"\<E2\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",",
      " ", "\"\<DZ\>\"", ",", " ", "\"\<FINT\>\"", ",", " ", "\"\<HGAP\>\"", 
     ",", " ", "\"\<FP1\>\"", ",", " ", "\"\<FP2\>\"", ",", " ", 
     "\"\<FP3\>\"", ",", " ", "\"\<FP4\>\"", ",", " ", "\"\<FSE\>\"", ",", 
     " ", "\"\<ETILT\>\"", ",", " ", "\"\<ACCURACY\>\"", ",", " ", 
     "\"\<MODEL\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ADJUST_BOUNDARY\>\"", ",", " ", 
     "\"\<ADJUST_FIELD\>\"", ",", " ", "\"\<FUDGE_PATH_LENGTH\>\"", ",", " ", 
     "\"\<FRINGE_POSITION\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.6887173791681757`*^9, {3.6887175047921762`*^9, 3.688717505790176*^9}, 
   3.688718255081676*^9, 3.6890755966177998`*^9},
 CellLabel->
  "(Local2) In[206]:=",ExpressionUUID->"51edca4f-2c13-4dde-b61c-e24f5392112e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<NISEPT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<E1\>\"", ",", " ", "\"\<B1\>\"", ",", 
     " ", "\"\<Q1REF\>\"", ",", " ", "\"\<FLEN\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<MODEL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173800241756`*^9, 3.688718255084676*^9, 
  3.6890755967878*^9},
 CellLabel->
  "(Local2) In[207]:=",ExpressionUUID->"bc7e9bc1-e0ee-4c58-940b-b3f671ef705a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<OCTU\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K3\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717380733176*^9, 3.688718255108676*^9, 
  3.6890755972478*^9},
 CellLabel->
  "(Local2) In[208]:=",ExpressionUUID->"4763315a-5650-4019-8032-b13e4b59c58d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<PEPPOT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RADII\>\"", ",", " ", "\"\<TRANSMISSION\>\"", ",", " ", 
     "\"\<TILT\>\"", ",", " ", "\"\<THETA_RMS\>\"", ",", " ", 
     "\"\<N_HOLES\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717381397176*^9, 3.688718255118676*^9, 
  3.6890755974477997`*^9},
 CellLabel->
  "(Local2) In[209]:=",ExpressionUUID->"06194d2d-3051-47f7-9796-355bb2f971d4"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<PFILTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DELTALIMIT\>\"", ",", " ", "\"\<LOWERFRACTION\>\"", ",", " ", 
     "\"\<UPPERFRACTION\>\"", ",", " ", "\"\<FIXPLIMITS\>\"", ",", " ", 
     "\"\<BEAMCENTERED\>\"", ",", " ", "\"\<BINS\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717382173176*^9, 3.688718255128676*^9, 
  3.6890755976077995`*^9},
 CellLabel->
  "(Local2) In[210]:=",ExpressionUUID->"5e2e866f-b873-4b66-b4ae-ef33f153b9b7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<QUAD\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K1\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<HKICK\>\"", ",", " ", "\"\<VKICK\>\"", ",", " ", 
     "\"\<HCALIBRATION\>\"", ",", " ", "\"\<VCALIBRATION\>\"", ",", " ", 
     "\"\<HSTEERING\>\"", ",", " ", "\"\<VSTEERING\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<EDGE1_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE2_EFFECTS\>\"", ",", " ", "\"\<FRINGE_TYPE\>\"", ",", " ", 
     "\"\<FFRINGE\>\"", ",", " ", "\"\<LEFFECTIVE\>\"", ",", " ", 
     "\"\<I0P\>\"", ",", " ", "\"\<I1P\>\"", ",", " ", "\"\<I2P\>\"", ",", 
     " ", "\"\<I3P\>\"", ",", " ", "\"\<LAMBDA2P\>\"", ",", " ", 
     "\"\<I0M\>\"", ",", " ", "\"\<I1M\>\"", ",", " ", "\"\<I2M\>\"", ",", 
     " ", "\"\<I3M\>\"", ",", " ", "\"\<LAMBDA2M\>\"", ",", " ", 
     "\"\<RADIAL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173841091757`*^9, 3.6887182551386757`*^9, 
  3.6890755980478*^9},
 CellLabel->
  "(Local2) In[211]:=",ExpressionUUID->"a2f320d9-781f-4dd8-93e8-3b381bb7fd0b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<QUFRINGE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K1\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<DIRECTION\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717384857176*^9, 3.688718255158676*^9, 
  3.6890755982517996`*^9},
 CellLabel->
  "(Local2) In[212]:=",ExpressionUUID->"5c351f48-5379-4ecb-b678-e2885c94d21a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RAMPP\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<WAVEFORM\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717385606176*^9, 3.6887182551786757`*^9, 
  3.6890755986818*^9},
 CellLabel->
  "(Local2) In[213]:=",ExpressionUUID->"a77f7a13-5baa-4474-9a32-63ae124d0341"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RAMPRF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<VOLT\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", "\"\<FREQ\>\"", ",", 
     " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<VOLT_WAVEFORM\>\"", ",", 
     " ", "\"\<PHASE_WAVEFORM\>\"", ",", " ", "\"\<FREQ_WAVEFORM\>\"", ",", 
     " ", "\"\<FIDUCIAL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717386673176*^9, 3.688718255188676*^9, 
  3.6890755988918*^9},
 CellLabel->
  "(Local2) In[214]:=",ExpressionUUID->"0cae4046-16bc-4011-a38b-8dc6633f07c9"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RBEN\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<K1\>\"", ",", " ", "\"\<E1\>\"", ",", 
     " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<K2\>\"", ",",
      " ", "\"\<H1\>\"", ",", " ", "\"\<H2\>\"", ",", " ", "\"\<HGAP\>\"", 
     ",", " ", "\"\<FINT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"",
      ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<ETILT\>\"", ",", " ", "\"\<EDGE1_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE2_EFFECTS\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<EDGE_ORDER\>\"", ",", " ", "\"\<TRANSPORT\>\"", ",", " ", 
     "\"\<USE_BN\>\"", ",", " ", "\"\<B1\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717387789176*^9, 3.688718255198676*^9, 
  3.6890755992637997`*^9},
 CellLabel->
  "(Local2) In[215]:=",ExpressionUUID->"124b0de6-e2fc-4502-9bc5-9ee68187544a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RCOL\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"", ",", " ", "\"\<DX\>\"", ",", 
     " ", "\"\<DY\>\"", ",", " ", "\"\<OPEN_SIDE\>\"", ",", " ", 
     "\"\<INVERT\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717388638176*^9, 3.6887182552086763`*^9, 
  3.6890755994637995`*^9},
 CellLabel->
  "(Local2) In[216]:=",ExpressionUUID->"e5e7df91-157e-4f02-9c51-a47dc7b9b24a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RECIRC\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717389329176*^9, 3.688718255218676*^9, 
  3.6890755996337996`*^9},
 CellLabel->
  "(Local2) In[217]:=",ExpressionUUID->"c21a6838-bd19-4f4a-a7d0-189d5af6735a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<REFLECT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717390309176*^9, 3.688718255228676*^9, 
  3.6890755997827997`*^9},
 CellLabel->
  "(Local2) In[218]:=",ExpressionUUID->"5fd53d38-8742-4153-802c-2f5f2c47e552"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<REMCOR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X\>\"", ",", " ", "\"\<XP\>\"", ",", " ", "\"\<Y\>\"", ",", " ", 
     "\"\<YP\>\"", ",", " ", "\"\<WITH\>\"", ",", " ", "\"\<ONCE_ONLY\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717390974176*^9, 3.688718255228676*^9, 
  3.6890755999537997`*^9},
 CellLabel->
  "(Local2) In[219]:=",ExpressionUUID->"de619a3d-fb5f-41a4-8fc1-dd0de3e53615"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFCA\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<VOLT\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", "\"\<FREQ\>\"", ",", 
     " ", "\"\<Q\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<CHANGE_P0\>\"", ",", " ", "\"\<CHANGE_T\>\"", ",", " ", 
     "\"\<FIDUCIAL\>\"", ",", " ", "\"\<END1_FOCUS\>\"", ",", " ", 
     "\"\<END2_FOCUS\>\"", ",", " ", "\"\<BODY_FOCUS_MODEL\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<T_REFERENCE\>\"", ",", " ", "\"\<LINEARIZE\>\"", ",", " ", 
     "\"\<LOCK_PHASE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717391860176*^9, 3.6887182552486763`*^9, 
  3.6890756003238*^9},
 CellLabel->
  "(Local2) In[220]:=",ExpressionUUID->"d36cb609-fec2-425e-a611-6b25d7b3f017"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFCW\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CELL_LENGTH\>\"", ",", " ", "\"\<VOLT\>\"", ",", " ", 
     "\"\<PHASE\>\"", ",", " ", "\"\<FREQ\>\"", ",", " ", "\"\<Q\>\"", ",", 
     " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<CHANGE_P0\>\"", ",", " ", 
     "\"\<CHANGE_T\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<END1_FOCUS\>\"", ",", " ", "\"\<END2_FOCUS\>\"", ",", " ", 
     "\"\<BODY_FOCUS_MODEL\>\"", ",", " ", "\"\<N_KICKS\>\"", ",", " ", 
     "\"\<ZWAKE\>\"", ",", " ", "\"\<TRWAKE\>\"", ",", " ", 
     "\"\<WAKEFILE\>\"", ",", " ", "\"\<ZWAKEFILE\>\"", ",", " ", 
     "\"\<TRWAKEFILE\>\"", ",", " ", "\"\<TCOLUMN\>\"", ",", " ", 
     "\"\<WXCOLUMN\>\"", ",", " ", "\"\<WYCOLUMN\>\"", ",", " ", 
     "\"\<WZCOLUMN\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<SMOOTHING\>\"", ",", " ", 
     "\"\<SG_HALFWIDTH\>\"", ",", " ", "\"\<SG_ORDER\>\"", ",", " ", 
     "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<LINEARIZE\>\"", ",",
      " ", "\"\<LSC\>\"", ",", " ", "\"\<LSC_BINS\>\"", ",", " ", 
     "\"\<LSC_INTERPOLATE\>\"", ",", " ", "\"\<LSC_LOW_FREQUENCY_CUTOFF0\>\"",
      ",", " ", "\"\<LSC_LOW_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<LSC_HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<LSC_HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", 
     "\"\<LSC_RADIUS_FACTOR\>\"", ",", " ", "\"\<WAKES_AT_END\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173935431757`*^9, 3.688718255258676*^9, 
  3.6890756004937997`*^9},
 CellLabel->
  "(Local2) In[221]:=",ExpressionUUID->"eb005ec9-cbb3-4488-a975-281cb05c3cac"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFDF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<PHASE\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<FREQUENCY\>\"", 
     ",", " ", "\"\<VOLTAGE\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<B2\>\"", ",", " ", "\"\<TIME_OFFSET\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<STANDING_WAVE\>\"", ",", " ", "\"\<VOLTAGE_WAVEFORM\>\"", ",", " ", 
     "\"\<VOLTAGE_PERIODIC\>\"", ",", " ", "\"\<ALIGN_WAVEFORMS\>\"", ",", 
     " ", "\"\<VOLTAGE_NOISE\>\"", ",", " ", "\"\<PHASE_NOISE\>\"", ",", " ", 
     "\"\<GROUP_VOLTAGE_NOISE\>\"", ",", " ", "\"\<GROUP_PHASE_NOISE\>\"", 
     ",", " ", "\"\<VOLTAGE_NOISE_GROUP\>\"", ",", " ", 
     "\"\<PHASE_NOISE_GROUP\>\"", ",", " ", "\"\<START_PASS\>\"", ",", " ", 
     "\"\<END_PASS\>\"", ",", " ", "\"\<DRIFT_MATRIX\>\"", ",", " ", 
     "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<MAGNETIC_DEFLECTION\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717394802176*^9, 3.688718255268676*^9, 
  3.6890756009737997`*^9},
 CellLabel->
  "(Local2) In[222]:=",ExpressionUUID->"98795177-c018-4039-83ef-b4c0ea8ef496"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFMODE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RA\>\"", ",", " ", "\"\<RS\>\"", ",", " ", "\"\<Q\>\"", ",", " ", 
     "\"\<FREQ\>\"", ",", " ", "\"\<CHARGE\>\"", ",", " ", 
     "\"\<INITIAL_V\>\"", ",", " ", "\"\<INITIAL_PHASE\>\"", ",", " ", 
     "\"\<INITIAL_T\>\"", ",", " ", "\"\<BETA\>\"", ",", " ", 
     "\"\<BIN_SIZE\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<PRELOAD\>\"", ",", " ", 
     "\"\<PRELOAD_CHARGE\>\"", ",", " ", "\"\<PRELOAD_FACTOR\>\"", ",", " ", 
     "\"\<PRELOAD_HARMONIC\>\"", ",", " ", "\"\<RIGID_UNTIL_PASS\>\"", ",", 
     " ", "\"\<DETUNED_UNTIL_PASS\>\"", ",", " ", "\"\<SAMPLE_INTERVAL\>\"", 
     ",", " ", "\"\<FLUSH_INTERVAL\>\"", ",", " ", "\"\<RECORD\>\"", ",", 
     " ", "\"\<SINGLE_PASS\>\"", ",", " ", "\"\<PASS_INTERVAL\>\"", ",", " ", 
     "\"\<FREQ_WAVEFORM\>\"", ",", " ", "\"\<Q_WAVEFORM\>\"", ",", " ", 
     "\"\<RAMP_PASSES\>\"", ",", " ", "\"\<BINLESS\>\"", ",", " ", 
     "\"\<RESET_FOR_EACH_STEP\>\"", ",", " ", "\"\<LONG_RANGE_ONLY\>\"", ",", 
     " ", "\"\<N_CAVITIES\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", 
     " ", "\"\<BUNCH_INTERVAL\>\"", ",", " ", "\"\<DRIVE_FREQUENCY\>\"", ",", 
     " ", "\"\<V_SETPOINT\>\"", ",", " ", "\"\<PHASE_SETPOINT\>\"", ",", " ", 
     "\"\<UPDATE_INTERVAL\>\"", ",", " ", "\"\<AMPLITUDE_FILTER\>\"", ",", 
     " ", "\"\<PHASE_FILTER\>\"", ",", " ", "\"\<IN_PHASE_FILTER\>\"", ",", 
     " ", "\"\<QUADRATURE_FILTER\>\"", ",", " ", "\"\<FEEDBACK_RECORD\>\"", 
     ",", " ", "\"\<MUTE_GENERATOR\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717396302176*^9, 3.688718255278676*^9, 
  3.6890756011837997`*^9},
 CellLabel->
  "(Local2) In[223]:=",ExpressionUUID->"859c0f40-e3fd-4194-9a14-3da2d6404e09"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFTM110\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<PHASE\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<FREQUENCY\>\"", 
     ",", " ", "\"\<VOLTAGE\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", 
     " ", "\"\<VOLTAGE_WAVEFORM\>\"", ",", " ", "\"\<VOLTAGE_PERIODIC\>\"", 
     ",", " ", "\"\<ALIGN_WAVEFORMS\>\"", ",", " ", "\"\<VOLTAGE_NOISE\>\"", 
     ",", " ", "\"\<PHASE_NOISE\>\"", ",", " ", "\"\<GROUP_VOLTAGE_NOISE\>\"",
      ",", " ", "\"\<GROUP_PHASE_NOISE\>\"", ",", " ", 
     "\"\<VOLTAGE_NOISE_GROUP\>\"", ",", " ", "\"\<PHASE_NOISE_GROUP\>\"", 
     ",", " ", "\"\<START_PASS\>\"", ",", " ", "\"\<END_PASS\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717397993176*^9, 3.688718255278676*^9, 
  3.6890756013437996`*^9},
 CellLabel->
  "(Local2) In[224]:=",ExpressionUUID->"4b1b9f5b-2dcc-4dd2-a3c6-2e50db33d6db"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFTMEZ0\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FREQUENCY\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", 
     "\"\<EZ_PEAK\>\"", ",", " ", "\"\<TIME_OFFSET\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<ETILT\>\"", ",", 
     " ", "\"\<EYAW\>\"", ",", " ", "\"\<EPITCH\>\"", ",", " ", 
     "\"\<N_STEPS\>\"", ",", " ", "\"\<RADIAL_ORDER\>\"", ",", " ", 
     "\"\<CHANGE_P0\>\"", ",", " ", "\"\<INPUTFILE\>\"", ",", " ", 
     "\"\<ZCOLUMN\>\"", ",", " ", "\"\<EZCOLUMN\>\"", ",", " ", 
     "\"\<SOLENOID_FILE\>\"", ",", " ", "\"\<SOLENOID_ZCOLUMN\>\"", ",", " ", 
     "\"\<SOLENOID_RCOLUMN\>\"", ",", " ", "\"\<SOLENOID_BZCOLUMN\>\"", ",", 
     " ", "\"\<SOLENOID_BRCOLUMN\>\"", ",", " ", "\"\<SOLENOID_FACTOR\>\"", 
     ",", " ", "\"\<SOLENOID_DX\>\"", ",", " ", "\"\<SOLENOID_DY\>\"", ",", 
     " ", "\"\<SOLENOID_DZ\>\"", ",", " ", "\"\<SOLENOID_ETILT\>\"", ",", 
     " ", "\"\<SOLENOID_EYAW\>\"", ",", " ", "\"\<SOLENOID_EPITCH\>\"", ",", 
     " ", "\"\<BX_STRAY\>\"", ",", " ", "\"\<BY_STRAY\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<FIDUCIAL\>\"", ",", " ", "\"\<FIELD_TEST_FILE\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173991021757`*^9, 3.6887182552886763`*^9, 
  3.6890756015137997`*^9},
 CellLabel->
  "(Local2) In[225]:=",ExpressionUUID->"b188c137-cd68-4bdb-85d7-318c7681f028"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RIMULT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<FACTOR\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887173998301764`*^9, 3.688718255298676*^9, 
  3.6890756019768*^9},
 CellLabel->
  "(Local2) In[226]:=",ExpressionUUID->"389e0836-c55c-4b04-ba20-042fa0b33253"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RMDF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<TILT\>\"", ",", " ", "\"\<RAMP_TIME\>\"", ",", " ", 
     "\"\<VOLTAGE\>\"", ",", " ", "\"\<GAP\>\"", ",", " ", 
     "\"\<TIME_OFFSET\>\"", ",", " ", "\"\<N_SECTIONS\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717400553176*^9, 3.688718255308676*^9, 
  3.6890756021568*^9},
 CellLabel->
  "(Local2) In[227]:=",ExpressionUUID->"fab21c0b-377c-4dc3-968d-158954f897b5"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ROTATE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<TILT\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887174012261763`*^9, 3.688718255318676*^9, 
  3.6890756023268*^9},
 CellLabel->
  "(Local2) In[228]:=",ExpressionUUID->"d70e4ee1-478f-4910-9c58-3d6814882092"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SAMPLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FRACTION\>\"", ",", " ", "\"\<INTERVAL\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717401864176*^9, 3.688718255328676*^9, 
  3.6890756024768*^9},
 CellLabel->
  "(Local2) In[229]:=",ExpressionUUID->"57e2037a-7e41-4c85-8f6c-b1a4f3caa753"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SBEN\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<K1\>\"", ",", " ", "\"\<E1\>\"", ",", 
     " ", "\"\<E2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<K2\>\"", ",",
      " ", "\"\<H1\>\"", ",", " ", "\"\<H2\>\"", ",", " ", "\"\<HGAP\>\"", 
     ",", " ", "\"\<FINT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"",
      ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<ETILT\>\"", ",", " ", "\"\<EDGE1_EFFECTS\>\"", ",", " ", 
     "\"\<EDGE2_EFFECTS\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<EDGE_ORDER\>\"", ",", " ", "\"\<TRANSPORT\>\"", ",", " ", 
     "\"\<USE_BN\>\"", ",", " ", "\"\<B1\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717403751176*^9, 3.6887182553296757`*^9, 
  3.6890756028268*^9},
 CellLabel->
  "(Local2) In[230]:=",ExpressionUUID->"714a08bf-16c4-458b-ad7c-369c2711a51e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElegantRules", "[", "\"\<SBEND\>\"", "]"}], ":=", 
  RowBox[{"ElegantRules", "[", "\"\<SBEN\>\"", "]"}]}]], "Input",
 CellChangeTimes->{{3.788504338341392*^9, 
  3.788504342230732*^9}},ExpressionUUID->"eccc4e5c-d214-434d-83a9-\
7ce410d54b75"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SCATTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<X\>\"", ",", " ", "\"\<XP\>\"", ",", " ", "\"\<Y\>\"", ",", " ", 
     "\"\<YP\>\"", ",", " ", "\"\<DP\>\"", ",", " ", "\"\<PROBABILITY\>\"", 
     ",", " ", "\"\<STARTONPASS\>\"", ",", " ", "\"\<ENDONPASS\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717404666176*^9, 3.6887182553416758`*^9, 
  3.6890756030058*^9},
 CellLabel->
  "(Local2) In[231]:=",ExpressionUUID->"dc2f98e0-9bbf-4b50-91a5-2d1e012092c5"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SCMULT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887174054691763`*^9, 3.688718255351676*^9, 
  3.6890756031758*^9},
 CellLabel->
  "(Local2) In[232]:=",ExpressionUUID->"07d61cf0-c678-40e0-b8de-e8d16136adc0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SCRAPER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<XO\>\"", ",", " ", "\"\<ENERGY_DECAY\>\"", ",", " ", 
     "\"\<ENERGY_STRAGGLE\>\"", ",", " ", "\"\<NUCLEAR_BREMSSTRAHLUNG\>\"", 
     ",", " ", "\"\<ELECTRON_RECOIL\>\"", ",", " ", "\"\<Z\>\"", ",", " ", 
     "\"\<A\>\"", ",", " ", "\"\<RHO\>\"", ",", " ", "\"\<PLIMIT\>\"", ",", 
     " ", "\"\<POSITION\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", 
     ",", " ", "\"\<INSERT_FROM\>\"", ",", " ", "\"\<DIRECTION\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887174062451763`*^9, 3.688718255361676*^9, 
  3.6890756037497997`*^9},
 CellLabel->
  "(Local2) In[233]:=",ExpressionUUID->"4646c207-ea00-47c5-97b9-7fbf9ee4f156"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SCRIPT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<COMMAND\>\"", ",", " ", "\"\<USE_CSH\>\"", ",", " ", 
     "\"\<VERBOSITY\>\"", ",", " ", "\"\<START_PASS\>\"", ",", " ", 
     "\"\<END_PASS\>\"", ",", " ", "\"\<PASS_INTERVAL\>\"", ",", " ", 
     "\"\<ON_PASS\>\"", ",", " ", "\"\<DIRECTORY\>\"", ",", " ", 
     "\"\<ROOTNAME\>\"", ",", " ", "\"\<INPUT_EXTENSION\>\"", ",", " ", 
     "\"\<OUTPUT_EXTENSION\>\"", ",", " ", "\"\<KEEP_FILES\>\"", ",", " ", 
     "\"\<DRIFT_MATRIX\>\"", ",", " ", "\"\<USE_PARTICLE_ID\>\"", ",", " ", 
     "\"\<NO_NEW_PARTICLES\>\"", ",", " ", "\"\<NP0\>\"", ",", " ", 
     "\"\<NP1\>\"", ",", " ", "\"\<NP2\>\"", ",", " ", "\"\<NP3\>\"", ",", 
     " ", "\"\<NP4\>\"", ",", " ", "\"\<NP5\>\"", ",", " ", "\"\<NP6\>\"", 
     ",", " ", "\"\<NP7\>\"", ",", " ", "\"\<NP8\>\"", ",", " ", 
     "\"\<NP9\>\"", ",", " ", "\"\<SP0\>\"", ",", " ", "\"\<SP1\>\"", ",", 
     " ", "\"\<SP2\>\"", ",", " ", "\"\<SP3\>\"", ",", " ", "\"\<SP4\>\"", 
     ",", " ", "\"\<SP5\>\"", ",", " ", "\"\<SP6\>\"", ",", " ", 
     "\"\<SP7\>\"", ",", " ", "\"\<SP8\>\"", ",", " ", "\"\<SP9\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.6887174077851763`*^9, {3.688717493442176*^9, 3.688717494182176*^9}, 
   3.688718255371676*^9, 3.6890756039298*^9},
 CellLabel->
  "(Local2) In[234]:=",ExpressionUUID->"4d2416ba-f13b-4c99-99f0-dc950228db94"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SEXT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<K2\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", 
     "\"\<FFRINGE\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", "\"\<GROUP\>\"", 
     ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887174084761763`*^9, 3.6887182553816757`*^9, 
  3.6890756040998*^9},
 CellLabel->
  "(Local2) In[235]:=",ExpressionUUID->"dbc348d1-3fdf-431f-b42f-50b45208993a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SOLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KS\>\"", ",", " ", "\"\<B\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", "\"\<ORDER\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887174092921762`*^9, 3.688718255391676*^9, 
  3.6890756044937997`*^9},
 CellLabel->
  "(Local2) In[236]:=",ExpressionUUID->"506320d7-f9b6-4566-b807-72403158617b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SREFFECTS\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<JX\>\"", ",", " ", "\"\<JY\>\"", ",", " ", "\"\<JDELTA\>\"", ",", 
     " ", "\"\<EXREF\>\"", ",", " ", "\"\<EYREF\>\"", ",", " ", 
     "\"\<SDELTAREF\>\"", ",", " ", "\"\<DDELTAREF\>\"", ",", " ", 
     "\"\<PREF\>\"", ",", " ", "\"\<COUPLING\>\"", ",", " ", 
     "\"\<FRACTION\>\"", ",", " ", "\"\<DAMPING\>\"", ",", " ", 
     "\"\<QEXCITATION\>\"", ",", " ", "\"\<LOSSES\>\"", ",", " ", 
     "\"\<CUTOFF\>\"", ",", " ", "\"\<INCLUDE_OFFSETS\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.6887174103001757`*^9, {3.688717483157176*^9, 3.6887174843371763`*^9}, 
   3.688718255401676*^9, 3.6890756046737995`*^9},
 CellLabel->
  "(Local2) In[237]:=",ExpressionUUID->"f2e231de-e69b-41ce-8541-b720e305838d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<STRAY\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<LBX\>\"", ",", " ", "\"\<LBY\>\"", ",", " ", "\"\<GBX\>\"", ",", 
     " ", "\"\<GBY\>\"", ",", " ", "\"\<GBZ\>\"", ",", " ", "\"\<ORDER\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717410994176*^9, 3.688718255411676*^9, 
  3.6890756048338*^9},
 CellLabel->
  "(Local2) In[238]:=",ExpressionUUID->"d378fb31-e155-471f-a08f-4f62b07ae97e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TFBDRIVER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ID\>\"", ",", " ", "\"\<STRENGTH\>\"", ",", " ", 
     "\"\<KICK_LIMIT\>\"", ",", " ", "\"\<DELAY\>\"", ",", " ", 
     "\"\<LONGITUDINAL\>\"", ",", " ", "\"\<OUTPUT_FILE\>\"", ",", " ", 
     "\"\<A0\>\"", ",", " ", "\"\<A1\>\"", ",", " ", "\"\<A2\>\"", ",", " ", 
     "\"\<A3\>\"", ",", " ", "\"\<A4\>\"", ",", " ", "\"\<A5\>\"", ",", " ", 
     "\"\<A6\>\"", ",", " ", "\"\<A7\>\"", ",", " ", "\"\<A8\>\"", ",", " ", 
     "\"\<A9\>\"", ",", " ", "\"\<A10\>\"", ",", " ", "\"\<A11\>\"", ",", 
     " ", "\"\<A12\>\"", ",", " ", "\"\<A13\>\"", ",", " ", "\"\<A14\>\"", 
     ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", 
     "\"\<UPDATE_INTERVAL\>\"", ",", " ", "\"\<OUTPUT_INTERVAL\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717412078176*^9, 3.6887182554216757`*^9, 
  3.6890756050238*^9},
 CellLabel->
  "(Local2) In[239]:=",ExpressionUUID->"cd1ec410-3b13-4d75-8495-831d6d6b900d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TFBPICKUP\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ID\>\"", ",", " ", "\"\<PLANE\>\"", ",", " ", "\"\<RMS_NOISE\>\"", 
     ",", " ", "\"\<A0\>\"", ",", " ", "\"\<A1\>\"", ",", " ", "\"\<A2\>\"", 
     ",", " ", "\"\<A3\>\"", ",", " ", "\"\<A4\>\"", ",", " ", "\"\<A5\>\"", 
     ",", " ", "\"\<A6\>\"", ",", " ", "\"\<A7\>\"", ",", " ", "\"\<A8\>\"", 
     ",", " ", "\"\<A9\>\"", ",", " ", "\"\<A10\>\"", ",", " ", "\"\<A11\>\"",
      ",", " ", "\"\<A12\>\"", ",", " ", "\"\<A13\>\"", ",", " ", 
     "\"\<A14\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", 
     "\"\<UPDATE_INTERVAL\>\"", ",", " ", "\"\<REFERENCE_FREQUENCY\>\"", ",", 
     " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<GROUP\>\"", 
     ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717413130176*^9, 3.688718255431676*^9, 
  3.6890756055438*^9},
 CellLabel->
  "(Local2) In[240]:=",ExpressionUUID->"dc23d376-4010-45a0-87b7-f8ef2bd8e530"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TMCF\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FREQUENCY\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", 
     "\"\<TIME_OFFSET\>\"", ",", " ", "\"\<RADIAL_OFFSET\>\"", ",", " ", 
     "\"\<TILT\>\"", ",", " ", "\"\<ER\>\"", ",", " ", "\"\<BPHI\>\"", ",", 
     " ", "\"\<EZ\>\"", ",", " ", "\"\<ACCURACY\>\"", ",", " ", 
     "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"", ",", " ", "\"\<DX\>\"", ",", 
     " ", "\"\<DY\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<N_STEPS\>\"", ",", " ", "\"\<METHOD\>\"", ",", " ", 
     "\"\<FIDUCIAL\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887174138781757`*^9, 3.688718255431676*^9, 
  3.6890756057137995`*^9},
 CellLabel->
  "(Local2) In[241]:=",ExpressionUUID->"c3203971-6797-4921-9606-886b6f97135d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TRCOUNT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717414680176*^9, 3.688718255441676*^9, 
  3.6890756058837996`*^9},
 CellLabel->
  "(Local2) In[242]:=",ExpressionUUID->"094fc10c-8de7-4ad6-905f-88c38d867594"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TRFMODE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RA\>\"", ",", " ", "\"\<RS\>\"", ",", " ", "\"\<Q\>\"", ",", " ", 
     "\"\<FREQ\>\"", ",", " ", "\"\<CHARGE\>\"", ",", " ", "\"\<BETA\>\"", 
     ",", " ", "\"\<BIN_SIZE\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<PLANE\>\"", ",", " ", 
     "\"\<SAMPLE_INTERVAL\>\"", ",", " ", "\"\<PER_PARTICLE_OUTPUT\>\"", ",", 
     " ", "\"\<RECORD\>\"", ",", " ", "\"\<SINGLE_PASS\>\"", ",", " ", 
     "\"\<RIGID_UNTIL_PASS\>\"", ",", " ", "\"\<DX\>\"", ",", " ", 
     "\"\<DY\>\"", ",", " ", "\"\<XFACTOR\>\"", ",", " ", "\"\<YFACTOR\>\"", 
     ",", " ", "\"\<RAMP_PASSES\>\"", ",", " ", "\"\<BINLESS\>\"", ",", " ", 
     "\"\<RESET_FOR_EACH_STEP\>\"", ",", " ", "\"\<LONG_RANGE_ONLY\>\"", ",", 
     " ", "\"\<N_CAVITIES\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887174160761757`*^9, 3.688718255451676*^9, 
  3.6890756063738*^9},
 CellLabel->
  "(Local2) In[243]:=",ExpressionUUID->"b777e3c1-84f0-43d8-bffe-50e22e1e2d6e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TRWAKE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<INPUTFILE\>\"", ",", " ", "\"\<TCOLUMN\>\"", ",", " ", 
     "\"\<WXCOLUMN\>\"", ",", " ", "\"\<WYCOLUMN\>\"", ",", " ", 
     "\"\<CHARGE\>\"", ",", " ", "\"\<FACTOR\>\"", ",", " ", 
     "\"\<XFACTOR\>\"", ",", " ", "\"\<YFACTOR\>\"", ",", " ", 
     "\"\<N_BINS\>\"", ",", " ", "\"\<INTERPOLATE\>\"", ",", " ", 
     "\"\<SMOOTHING\>\"", ",", " ", "\"\<SG_HALFWIDTH\>\"", ",", " ", 
     "\"\<SG_ORDER\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<X_DRIVE_EXPONENT\>\"", ",", " ", 
     "\"\<Y_DRIVE_EXPONENT\>\"", ",", " ", "\"\<X_PROBE_EXPONENT\>\"", ",", 
     " ", "\"\<Y_PROBE_EXPONENT\>\"", ",", " ", "\"\<RAMP_PASSES\>\"", ",", 
     " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717417147176*^9, 3.6887182554616756`*^9, 
  3.6890756065537996`*^9},
 CellLabel->
  "(Local2) In[244]:=",ExpressionUUID->"0e0f0286-011a-4914-bae3-db15f5ed9011"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TSCATTER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717417750176*^9, 3.688718255471676*^9, 
  3.6890756067137995`*^9},
 CellLabel->
  "(Local2) In[245]:=",ExpressionUUID->"57254ddb-9178-48b3-b6d2-4710c072abc1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TUBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<ANGLE\>\"", ",", " ", "\"\<FSE\>\"", ",", " ", "\"\<OFFSET\>\"", ",",
      " ", "\"\<MAGNET_WIDTH\>\"", ",", " ", "\"\<MAGNET_ANGLE\>\"", ",", 
     " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717418408176*^9, 3.688718255481676*^9, 
  3.6890756072098*^9},
 CellLabel->
  "(Local2) In[246]:=",ExpressionUUID->"8708c79b-6669-4abd-a305-7c365d8d0e64"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TWISS\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<BETAX\>\"", ",", " ", "\"\<ALPHAX\>\"", ",", " ", "\"\<ETAX\>\"", 
     ",", " ", "\"\<ETAXP\>\"", ",", " ", "\"\<BETAY\>\"", ",", " ", 
     "\"\<ALPHAY\>\"", ",", " ", "\"\<ETAY\>\"", ",", " ", "\"\<ETAYP\>\"", 
     ",", " ", "\"\<FROM_BEAM\>\"", ",", " ", "\"\<FROM_0VALUES\>\"", ",", 
     " ", "\"\<COMPUTE_ONCE\>\"", ",", " ", "\"\<APPLY_ONCE\>\"", ",", " ", 
     "\"\<VERBOSE\>\"", ",", " ", "\"\<DISABLE\>\"", ",", " ", 
     "\"\<BETAX0\>\"", ",", " ", "\"\<ALPHAX0\>\"", ",", " ", "\"\<ETAX0\>\"",
      ",", " ", "\"\<ETAXP0\>\"", ",", " ", "\"\<BETAY0\>\"", ",", " ", 
     "\"\<ALPHAY0\>\"", ",", " ", "\"\<ETAY0\>\"", ",", " ", "\"\<ETAYP0\>\"",
      ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717419320176*^9, 3.6887182554916763`*^9, 
  3.6890756073898*^9},
 CellLabel->
  "(Local2) In[247]:=",ExpressionUUID->"8eeadaf3-50f6-41c3-bad8-fe46dfc6e71f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TWLA\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FREQUENCY\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", 
     "\"\<TIME_OFFSET\>\"", ",", " ", "\"\<EZ\>\"", ",", " ", 
     "\"\<B_SOLENOID\>\"", ",", " ", "\"\<ACCURACY\>\"", ",", " ", 
     "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"", ",", " ", "\"\<DX\>\"", ",", 
     " ", "\"\<DY\>\"", ",", " ", "\"\<BETA_WAVE\>\"", ",", " ", 
     "\"\<ALPHA\>\"", ",", " ", "\"\<PHASE_REFERENCE\>\"", ",", " ", 
     "\"\<N_STEPS\>\"", ",", " ", "\"\<FOCUSSING\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<CHANGE_P0\>\"", ",", " ", "\"\<SUM_BN2\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887174201541758`*^9, 3.688718255501676*^9, 
  3.6890756075498*^9},
 CellLabel->
  "(Local2) In[248]:=",ExpressionUUID->"22146d41-dc03-4f3e-88f3-4a1785f0a3c0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TWMTA\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FREQUENCY\>\"", ",", " ", "\"\<PHASE\>\"", ",", " ", "\"\<EZ\>\"", 
     ",", " ", "\"\<ACCURACY\>\"", ",", " ", "\"\<X_MAX\>\"", ",", " ", 
     "\"\<Y_MAX\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", 
     " ", "\"\<KX\>\"", ",", " ", "\"\<BETA_WAVE\>\"", ",", " ", 
     "\"\<BSOL\>\"", ",", " ", "\"\<ALPHA\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<N_STEPS\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717421131176*^9, 3.688718255511676*^9, 
  3.6890756076997995`*^9},
 CellLabel->
  "(Local2) In[249]:=",ExpressionUUID->"efbe9182-89ff-49d6-bf71-cad788611f67"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<TWPL\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RAMP_TIME\>\"", ",", " ", "\"\<TIME_OFFSET\>\"", ",", " ", 
     "\"\<VOLTAGE\>\"", ",", " ", "\"\<GAP\>\"", ",", " ", 
     "\"\<STATIC_VOLTAGE\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", 
     "\"\<ACCURACY\>\"", ",", " ", "\"\<X_MAX\>\"", ",", " ", "\"\<Y_MAX\>\"",
      ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", 
     "\"\<PHASE_REFERENCE\>\"", ",", " ", "\"\<N_STEPS\>\"", ",", " ", 
     "\"\<METHOD\>\"", ",", " ", "\"\<FIDUCIAL\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717422263176*^9, 3.688718255521676*^9, 
  3.6890756082198*^9},
 CellLabel->
  "(Local2) In[250]:=",ExpressionUUID->"16d4cccc-7567-4ccd-b3b0-e867069d56ba"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<UKICKMAP\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<TILT\>\"", ",", " ", "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", 
     "\"\<DZ\>\"", ",", " ", "\"\<FIELD_FACTOR\>\"", ",", " ", 
     "\"\<XY_FACTOR\>\"", ",", " ", "\"\<INPUT_FILE\>\"", ",", " ", 
     "\"\<N_KICKS\>\"", ",", " ", "\"\<PERIODS\>\"", ",", " ", "\"\<KREF\>\"",
      ",", " ", "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", " ", 
     "\"\<x \[LongDash] Horizontal position in meters.\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717423313176*^9, 3.688718255521676*^9, 
  3.6890756083998*^9},
 CellLabel->
  "(Local2) In[251]:=",ExpressionUUID->"2396f770-dc4d-44ad-8840-de348e0b2c43"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<VKICK\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KICK\>\"", ",", " ", "\"\<TILT\>\"", ",", " ", "\"\<B2\>\"", ",", 
     " ", "\"\<CALIBRATION\>\"", ",", " ", "\"\<EDGE_EFFECTS\>\"", ",", " ", 
     "\"\<ORDER\>\"", ",", " ", "\"\<STEERING\>\"", ",", " ", 
     "\"\<SYNCH_RAD\>\"", ",", " ", "\"\<ISR\>\"", ",", " ", "\"\<LERAD\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717424400176*^9, 3.6887182555316763`*^9, 
  3.6890756085498*^9},
 CellLabel->
  "(Local2) In[252]:=",ExpressionUUID->"55bf2f99-f2ef-42c9-96fa-6a813672e951"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<VMON\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<WEIGHT\>\"", ",", 
     " ", "\"\<TILT\>\"", ",", " ", "\"\<CALIBRATION\>\"", ",", " ", 
     "\"\<SETPOINT\>\"", ",", " ", "\"\<ORDER\>\"", ",", " ", 
     "\"\<READOUT\>\"", ",", " ", "\"\<CO_FITPOINT\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887174251091757`*^9, 3.688718255541676*^9, 
  3.6890756087198*^9},
 CellLabel->
  "(Local2) In[253]:=",ExpressionUUID->"e0989313-dd67-459e-adb2-d291bd33438b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<WAKE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<INPUTFILE\>\"", ",", " ", "\"\<TCOLUMN\>\"", ",", " ", 
     "\"\<WCOLUMN\>\"", ",", " ", "\"\<CHARGE\>\"", ",", " ", 
     "\"\<FACTOR\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<SMOOTHING\>\"", ",", " ", 
     "\"\<SG_HALFWIDTH\>\"", ",", " ", "\"\<SG_ORDER\>\"", ",", " ", 
     "\"\<CHANGE_P0\>\"", ",", " ", "\"\<ALLOW_LONG_BEAM\>\"", ",", " ", 
     "\"\<RAMP_PASSES\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717425972176*^9, 3.688718255551676*^9, 
  3.6890756088708*^9},
 CellLabel->
  "(Local2) In[254]:=",ExpressionUUID->"ce1fde76-b0e7-4c72-b957-f274870b8d37"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<WATCH\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<FRACTION\>\"", ",", " ", "\"\<START_PID\>\"", ",", " ", 
     "\"\<END_PID\>\"", ",", " ", "\"\<INTERVAL\>\"", ",", " ", 
     "\"\<START_PASS\>\"", ",", " ", "\"\<END_PASS\>\"", ",", " ", 
     "\"\<FILENAME\>\"", ",", " ", "\"\<LABEL\>\"", ",", " ", "\"\<MODE\>\"", 
     ",", " ", "\"\<X_DATA\>\"", ",", " ", "\"\<Y_DATA\>\"", ",", " ", 
     "\"\<LONGIT_DATA\>\"", ",", " ", "\"\<EXCLUDE_SLOPES\>\"", ",", " ", 
     "\"\<FLUSH_INTERVAL\>\"", ",", " ", "\"\<DISABLE\>\"", ",", " ", 
     "\"\<USE_DISCONNECT\>\"", ",", " ", "\"\<INDEX_OFFSET\>\"", ",", " ", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887174268521757`*^9, 3.688718255561676*^9, 
  3.6890756098118*^9},
 CellLabel->
  "(Local2) In[255]:=",ExpressionUUID->"215332e1-f934-4f66-acc4-3271a390369d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<WIGGLER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RADIUS\>\"", ",", " ", "\"\<K\>\"", ",", " ", "\"\<B\>\"", ",", " ", 
     "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<DZ\>\"", ",", " ", 
     "\"\<TILT\>\"", ",", " ", "\"\<POLES\>\"", ",", " ", "\"\<FOCUSING\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717427782176*^9, 3.6887182555716763`*^9, 
  3.6890756102018*^9},
 CellLabel->
  "(Local2) In[256]:=",ExpressionUUID->"a77540a7-ee87-4b37-9bc2-e761b1bfc095"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ZLONGIT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CHARGE\>\"", ",", " ", "\"\<BROAD_BAND\>\"", ",", " ", "\"\<RA\>\"", 
     ",", " ", "\"\<RS\>\"", ",", " ", "\"\<Q\>\"", ",", " ", "\"\<FREQ\>\"", 
     ",", " ", "\"\<ZREAL\>\"", ",", " ", "\"\<ZIMAG\>\"", ",", " ", 
     "\"\<BIN_SIZE\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<MAX_N_BINS\>\"", ",", " ", "\"\<WAKES\>\"", ",", " ", 
     "\"\<WAKE_INTERVAL\>\"", ",", " ", "\"\<WAKE_START\>\"", ",", " ", 
     "\"\<WAKE_END\>\"", ",", " ", "\"\<AREA_WEIGHT\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<SMOOTHING\>\"", ",", " ", 
     "\"\<SG_ORDER\>\"", ",", " ", "\"\<SG_HALFWIDTH\>\"", ",", " ", 
     "\"\<REVERSE_TIME_ORDER\>\"", ",", " ", "\"\<FACTOR\>\"", ",", " ", 
     "\"\<START_ON_PASS\>\"", ",", " ", "\"\<RAMP_PASSES\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", "\"\<BUNCHED_BEAM_MODE\>\"", 
     ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717428940176*^9, 3.688718255581676*^9, 
  3.6890756106418*^9},
 CellLabel->
  "(Local2) In[257]:=",ExpressionUUID->"85833a55-0ea0-43ae-b924-2ff71217028b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ZTRANSVERSE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CHARGE\>\"", ",", " ", "\"\<BROAD_BAND\>\"", ",", " ", "\"\<RS\>\"", 
     ",", " ", "\"\<Q\>\"", ",", " ", "\"\<FREQ\>\"", ",", " ", 
     "\"\<INPUTFILE\>\"", ",", " ", "\"\<FREQCOLUMN\>\"", ",", " ", 
     "\"\<ZXREAL\>\"", ",", " ", "\"\<ZXIMAG\>\"", ",", " ", "\"\<ZYREAL\>\"",
      ",", " ", "\"\<ZYIMAG\>\"", ",", " ", "\"\<BIN_SIZE\>\"", ",", " ", 
     "\"\<INTERPOLATE\>\"", ",", " ", "\"\<N_BINS\>\"", ",", " ", 
     "\"\<MAX_N_BINS\>\"", ",", " ", "\"\<SMOOTHING\>\"", ",", " ", 
     "\"\<SG_ORDER\>\"", ",", " ", "\"\<SG_HALFWIDTH\>\"", ",", " ", 
     "\"\<DX\>\"", ",", " ", "\"\<DY\>\"", ",", " ", "\"\<FACTOR\>\"", ",", 
     " ", "\"\<XFACTOR\>\"", ",", " ", "\"\<YFACTOR\>\"", ",", " ", 
     "\"\<WAKES\>\"", ",", " ", "\"\<WAKE_INTERVAL\>\"", ",", " ", 
     "\"\<WAKE_START\>\"", ",", " ", "\"\<WAKE_END\>\"", ",", " ", 
     "\"\<START_ON_PASS\>\"", ",", " ", "\"\<RAMP_PASSES\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF0\>\"", ",", " ", 
     "\"\<HIGH_FREQUENCY_CUTOFF1\>\"", ",", " ", "\"\<X_DRIVE_EXPONENT\>\"", 
     ",", " ", "\"\<Y_DRIVE_EXPONENT\>\"", ",", " ", 
     "\"\<X_PROBE_EXPONENT\>\"", ",", " ", "\"\<Y_PROBE_EXPONENT\>\"", ",", 
     " ", "\"\<BUNCHED_BEAM_MODE\>\"", ",", " ", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688717430081176*^9, 3.688718255582676*^9, 
  3.6890756130417995`*^9},
 CellLabel->
  "(Local2) In[258]:=",ExpressionUUID->"87b526c5-dc43-425b-ac44-aa489c9978f0"]
}, Closed]],

Cell[CellGroupData[{

Cell["Manually Defined", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.687876124961326*^9, 
  3.687876127441742*^9}},ExpressionUUID->"e8419cdf-3928-4b57-bf51-\
98a649a143ec"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SECTORBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<SBEN\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<L\>\"", ",", "\"\<ANGLE\>\"", ",", "\"\<K1\>\"", ",", "\"\<E1\>\"", 
     ",", "\"\<E2\>\"", ",", "\"\<TILT\>\"", ",", "\"\<K2\>\"", ",", 
     "\"\<H1\>\"", ",", "\"\<H2\>\"", ",", "\"\<HGAP\>\"", ",", 
     "\"\<FINT\>\"", ",", "\"\<DX\>\"", ",", "\"\<DY\>\"", ",", "\"\<DZ\>\"", 
     ",", "\"\<FSE\>\"", ",", "\"\<ETILT\>\"", ",", "\"\<EDGE1_EFFECTS\>\"", 
     ",", "\"\<EDGE2_EFFECTS\>\"", ",", "\"\<ORDER\>\"", ",", 
     "\"\<EDGE_ORDER\>\"", ",", "\"\<TRANSPORT\>\"", ",", "\"\<USE_BN\>\"", 
     ",", "\"\<B1\>\"", ",", "\"\<B2\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
   3.57019748677619*^9}, {3.57019765390119*^9, 3.57019765481319*^9}, {
   3.57019779478819*^9, 3.57019780083619*^9}, {3.57034564949046*^9, 
   3.570345661538511*^9}, 3.5703468468724546`*^9, 3.570346934208397*^9, 
   3.570359727581362*^9, 3.570431293074907*^9, {3.625300838543392*^9, 
   3.625300842263764*^9}, {3.6254885302765446`*^9, 3.625488531716544*^9}, {
   3.625489070242544*^9, 3.6254890813855443`*^9}},
 CellLabel->
  "(Local2) In[259]:=",ExpressionUUID->"5c8088e7-a7b6-4ab0-aa89-e3c3aacf65d7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<CSBEN\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<ANGLE\>\"", ",", "\"\<K1\>\"", ",", "\"\<K2\>\"", ",", "\"\<K3\>\"",
      ",", "\"\<K4\>\"", ",", "\"\<K5\>\"", ",", "\"\<K6\>\"", ",", 
     "\"\<K7\>\"", ",", "\"\<K8\>\"", ",", "\"\<E1\>\"", ",", "\"\<E2\>\"", 
     ",", "\"\<TILT\>\"", ",", "\"\<H1\>\"", ",", "\"\<H2\>\"", ",", 
     "\"\<HGAP\>\"", ",", "\"\<FINT\>\"", ",", "\"\<DX\>\"", ",", 
     "\"\<DY\>\"", ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", ",", 
     "\"\<ETILT\>\"", ",", "\"\<N_KICKS\>\"", ",", "\"\<NONLINEAR\>\"", ",", 
     "\"\<SYNCH_RAD\>\"", ",", "\"\<EDGE1_EFFECTS\>\"", ",", 
     "\"\<EDGE2_EFFECTS\>\"", ",", "\"\<EDGE_ORDER\>\"", ",", 
     "\"\<FRINGE\>\"", ",", "\"\<INTEGRATION_ORDER\>\"", ",", 
     "\"\<EDGE1_KICK_LIMIT\>\"", ",", "\"\<EDGE2_KICK_LIMIT\>\"", ",", 
     "\"\<KICK_LIMIT_SCALING\>\"", ",", "\"\<USE_BN\>\"", ",", 
     "\"\<EXPANSION_ORDER\>\"", ",", "\"\<B1\>\"", ",", "\"\<B2\>\"", ",", 
     "\"\<B3\>\"", ",", "\"\<B4\>\"", ",", "\"\<B5\>\"", ",", "\"\<B6\>\"", 
     ",", "\"\<B7\>\"", ",", "\"\<B8\>\"", ",", "\"\<XREFERENCE\>\"", ",", 
     "\"\<F1\>\"", ",", "\"\<F2\>\"", ",", "\"\<F3\>\"", ",", "\"\<F4\>\"", 
     ",", "\"\<F5\>\"", ",", "\"\<F6\>\"", ",", "\"\<F7\>\"", ",", 
     "\"\<F8\>\"", ",", "\"\<ISR\>\"", ",", "\"\<ISR1PART\>\"", ",", 
     "\"\<SQRT_ORDER\>\"", ",", "\"\<USE_RAD_DIST\>\"", ",", 
     "\"\<ADD_OPENING_ANGLE\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
   3.57019748677619*^9}, {3.57019765390119*^9, 3.57019765481319*^9}, {
   3.57019779478819*^9, 3.57019780083619*^9}, {3.57034564949046*^9, 
   3.570345661538511*^9}, 3.5703468468724546`*^9, 3.570346934208397*^9, 
   3.570359727581362*^9, 3.570431293074907*^9, {3.625300838543392*^9, 
   3.625300842263764*^9}, {3.6254885302765446`*^9, 3.625488531716544*^9}, {
   3.6254887649895444`*^9, 3.6254887659095445`*^9}, {3.6254888615825443`*^9, 
   3.6254889011925445`*^9}, {3.6254896998455443`*^9, 3.6254897051955442`*^9}},
 CellLabel->
  "(Local2) In[260]:=",ExpressionUUID->"2ed8e948-1769-49d6-b2d6-ffb0ec495262"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSRCSBEND\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<CSRCSBEND\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", 
     RowBox[{"\"\<BENDANGLE\>\"", "\[Rule]", "\"\<ANGLE\>\""}], ",", 
     "\"\<ANGLE\>\"", ",", "\"\<K1\>\"", ",", "\"\<K2\>\"", ",", "\"\<K3\>\"",
      ",", "\"\<K4\>\"", ",", "\"\<K5\>\"", ",", "\"\<K6\>\"", ",", 
     "\"\<K7\>\"", ",", "\"\<K8\>\"", ",", "\"\<E1\>\"", ",", "\"\<E2\>\"", 
     ",", "\"\<TILT\>\"", ",", "\"\<H1\>\"", ",", "\"\<H2\>\"", ",", 
     "\"\<HGAP\>\"", ",", "\"\<FINT\>\"", ",", "\"\<DX\>\"", ",", 
     "\"\<DY\>\"", ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", ",", 
     "\"\<ETILT\>\"", ",", "\"\<N_KICKS\>\"", ",", "\"\<NONLINEAR\>\"", ",", 
     "\"\<LINEARIZE\>\"", ",", "\"\<SYNCH_RAD\>\"", ",", 
     "\"\<EDGE1_EFFECTS\>\"", ",", "\"\<EDGE2_EFFECTS\>\"", ",", 
     "\"\<EDGE_ORDER\>\"", ",", "\"\<INTEGRATION_ORDER\>\"", ",", 
     "\"\<BINS\>\"", ",", "\"\<BIN_ONCE\>\"", ",", "\"\<BIN_RANGE_FACTOR\>\"",
      ",", "\"\<SG_HALFWIDTH\>\"", ",", "\"\<SG_ORDER\>\"", ",", 
     "\"\<SGDERIV_HALFWIDTH\>\"", ",", "\"\<SGDERIV_ORDER\>\"", ",", 
     "\"\<TRAPAZOID_INTEGRATION\>\"", ",", "\"\<OUTPUT_FILE\>\"", ",", 
     "\"\<OUTPUT_INTERVAL\>\"", ",", "\"\<OUTPUT_LAST_WAKE_ONLY\>\"", ",", 
     "\"\<STEADY_STATE\>\"", ",", "\"\<IGF\>\"", ",", "\"\<USE_BN\>\"", ",", 
     "\"\<EXPANSION_ORDER\>\"", ",", "\"\<B1\>\"", ",", "\"\<B2\>\"", ",", 
     "\"\<B3\>\"", ",", "\"\<B4\>\"", ",", "\"\<B5\>\"", ",", "\"\<B6\>\"", 
     ",", "\"\<B7\>\"", ",", "\"\<B8\>\"", ",", "\"\<ISR\>\"", ",", 
     "\"\<ISR1PART\>\"", ",", "\"\<CSR\>\"", ",", "\"\<BLOCK_CSR\>\"", ",", 
     "\"\<DERBENEV_CRITERION_MODE\>\"", ",", "\"\<PARTICLE_OUTPUT_FILE\>\"", 
     ",", "\"\<PARTICLE_OUTPUT_INTERVAL\>\"", ",", 
     "\"\<SLICE_ANALYSIS_INTERVAL\>\"", ",", "\"\<LOW_FREQUENCY_CUTOFF0\>\"", 
     ",", "\"\<LOW_FREQUENCY_CUTOFF1\>\"", ",", 
     "\"\<HIGH_FREQUENCY_CUTOFF0\>\"", ",", "\"\<HIGH_FREQUENCY_CUTOFF1\>\"", 
     ",", "\"\<CLIP_NEGATIVE_BINS\>\"", ",", "\"\<WAKE_FILTER_FILE\>\"", ",", 
     "\"\<WFF_FREQ_COLUMN\>\"", ",", "\"\<WFF_REAL_COLUMN\>\"", ",", 
     "\"\<WFF_IMAG_COLUMN\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
   3.57019748677619*^9}, {3.57019765390119*^9, 3.57019765481319*^9}, {
   3.57019779478819*^9, 3.57019780083619*^9}, {3.57034564949046*^9, 
   3.570345661538511*^9}, 3.5703468468724546`*^9, 3.570346934208397*^9, 
   3.570359727581362*^9, 3.570431293074907*^9, {3.625300838543392*^9, 
   3.625300842263764*^9}, {3.6254885302765446`*^9, 3.625488531716544*^9}, {
   3.625488907636544*^9, 3.6254889105785446`*^9}, {3.6254889854585447`*^9, 
   3.625488989169544*^9}, 3.6254894520945444`*^9, {3.625489711822544*^9, 
   3.6254897125805445`*^9}},
 CellLabel->
  "(Local2) In[261]:=",ExpressionUUID->"a7aa7993-4023-4b2f-8299-3d32575aabe2"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KQUAD\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<KQUAD\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
     ",", "\"\<TILT\>\"", ",", "\"\<BORE\>\"", ",", "\"\<B\>\"", ",", 
     "\"\<DX\>\"", ",", "\"\<DY\>\"", ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", 
     ",", "\"\<HKICK\>\"", ",", "\"\<VKICK\>\"", ",", "\"\<HCALIBRATION\>\"", 
     ",", "\"\<VCALIBRATION\>\"", ",", "\"\<HSTEERING\>\"", ",", 
     "\"\<VSTEERING\>\"", ",", "\"\<N_KICKS\>\"", ",", "\"\<SYNCH_RAD\>\"", 
     ",", "\"\<SYSTEMATIC_MULTIPOLES\>\"", ",", "\"\<RANDOM_MULTIPOLES\>\"", 
     ",", "\"\<STEERING_MULTIPOLES\>\"", ",", "\"\<INTEGRATION_ORDER\>\"", 
     ",", "\"\<SQRT_ORDER\>\"", ",", "\"\<ISR\>\"", ",", "\"\<ISR1PART\>\"", 
     ",", "\"\<EDGE1_EFFECTS\>\"", ",", "\"\<EDGE2_EFFECTS\>\"", ",", 
     "\"\<I0P\>\"", ",", "\"\<I1P\>\"", ",", "\"\<I2P\>\"", ",", 
     "\"\<I3P\>\"", ",", "\"\<LAMBDA2P\>\"", ",", "\"\<I0M\>\"", ",", 
     "\"\<I1M\>\"", ",", "\"\<I2M\>\"", ",", "\"\<I3M\>\"", ",", 
     "\"\<LAMBDA2M\>\"", ",", "\"\<RADIAL\>\"", ",", "\"\<GROUP\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345047519*^9}, {3.57019348319319*^9, 
   3.57019348383319*^9}, 3.5701974895281897`*^9, 3.57019765770919*^9, {
   3.57019826069419*^9, 3.57019826320619*^9}, {3.5702004028823123`*^9, 
   3.57020053796482*^9}, {3.5703468393520017`*^9, 3.5703469111046495`*^9}, {
   3.625300381103653*^9, 3.625300382327775*^9}, {3.625300741060645*^9, 
   3.62530074301184*^9}, {3.625396008250206*^9, 3.6253960118412066`*^9}, 
   3.625487503992544*^9, {3.6254879035315447`*^9, 3.625488075520544*^9}, {
   3.625488356393544*^9, 3.6254883598245444`*^9}, {3.6254884204155445`*^9, 
   3.6254884231415443`*^9}},
 CellLabel->
  "(Local2) In[262]:=",ExpressionUUID->"32d0a985-470f-48ce-a85a-8fddda234dff"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<QUADRUPOLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<QUAD\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
     ",", "\"\<N_KICKS\>\"", ",", "\"\<TILT\>\"", ",", "\"\<DX\>\"", ",", 
     "\"\<DY\>\"", ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", ",", 
     "\"\<HKICK\>\"", ",", "\"\<VKICK\>\"", ",", "\"\<HCALIBRATION\>\"", ",", 
     "\"\<VCALIBRATION\>\"", ",", "\"\<HSTEERING\>\"", ",", 
     "\"\<VSTEERING\>\"", ",", "\"\<ORDER\>\"", ",", "\"\<EDGE1_EFFECTS\>\"", 
     ",", "\"\<EDGE2_EFFECTS\>\"", ",", "\"\<FRINGE_TYPE\>\"", ",", 
     "\"\<FFRINGE\>\"", ",", "\"\<I0P\>\"", ",", "\"\<I1P\>\"", ",", 
     "\"\<I2P\>\"", ",", "\"\<I3P\>\"", ",", "\"\<LAMBDA2P\>\"", ",", 
     "\"\<I0M\>\"", ",", "\"\<I1M\>\"", ",", "\"\<I2M\>\"", ",", 
     "\"\<I3M\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345047519*^9}, {3.57019348319319*^9, 
   3.57019348383319*^9}, 3.5701974895281897`*^9, 3.57019765770919*^9, {
   3.57019826069419*^9, 3.57019826320619*^9}, {3.5702004028823123`*^9, 
   3.57020053796482*^9}, {3.5703468393520017`*^9, 3.5703469111046495`*^9}, {
   3.625300381103653*^9, 3.625300382327775*^9}, {3.625300741060645*^9, 
   3.62530074301184*^9}, {3.625396008250206*^9, 3.6253960118412066`*^9}, 
   3.625487503992544*^9, {3.6254885346775446`*^9, 3.6254885358825445`*^9}, {
   3.625489122848544*^9, 3.6254891331265445`*^9}, 3.6254892333125443`*^9, {
   3.6255013408995504`*^9, 3.6255013410595665`*^9}},
 CellLabel->
  "(Local2) In[263]:=",ExpressionUUID->"c399bc84-04dd-463b-b3e7-cf86a2d20407"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SEXTUPOLE\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<SEXT\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
     ",", "\"\<L\>\"", ",", "\"\<K2\>\"", ",", "\"\<TILT\>\"", ",", 
     "\"\<DX\>\"", ",", "\"\<DY\>\"", ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", 
     ",", "\"\<FFRINGE\>\"", ",", "\"\<ORDER\>\"", ",", "\"\<GROUP\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345047519*^9}, {3.57019348319319*^9, 
   3.57019348383319*^9}, 3.5701974895281897`*^9, 3.57019765770919*^9, {
   3.57019826069419*^9, 3.57019826320619*^9}, {3.5702004028823123`*^9, 
   3.57020053796482*^9}, {3.5703468393520017`*^9, 3.5703469111046495`*^9}, {
   3.625300381103653*^9, 3.625300382327775*^9}, {3.625300741060645*^9, 
   3.62530074301184*^9}, {3.625396008250206*^9, 3.6253960118412066`*^9}, 
   3.625487503992544*^9, {3.6254885346775446`*^9, 3.6254885358825445`*^9}, {
   3.625489122848544*^9, 3.6254891331265445`*^9}, 3.6254892333125443`*^9, {
   3.6254893185635443`*^9, 3.625489325742544*^9}, {3.625489437827544*^9, 
   3.6254894674765444`*^9}, {3.6255013394184027`*^9, 3.625501339582419*^9}},
 CellLabel->
  "(Local2) In[264]:=",ExpressionUUID->"b544a6a8-1caa-4685-8d2d-64b7db21901a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KSEXT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<KSEXT\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<K1\>\"", 
     ",", "\"\<L\>\"", ",", "\"\<K2\>\"", ",", "\"\<TILT\>\"", ",", 
     "\"\<BORE\>\"", ",", "\"\<B\>\"", ",", "\"\<DX\>\"", ",", "\"\<DY\>\"", 
     ",", "\"\<DZ\>\"", ",", "\"\<FSE\>\"", ",", "\"\<N_KICKS\>\"", ",", 
     "\"\<SYNCH_RAD\>\"", ",", "\"\<SYSTEMATIC_MULTIPOLES\>\"", ",", 
     "\"\<RANDOM_MULTIPOLES\>\"", ",", "\"\<INTEGRATION_ORDER\>\"", ",", 
     "\"\<SQRT_ORDER\>\"", ",", "\"\<ISR\>\"", ",", "\"\<ISR1PART\>\"", ",", 
     "\"\<GROUP\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345047519*^9}, {3.57019348319319*^9, 
   3.57019348383319*^9}, 3.5701974895281897`*^9, 3.57019765770919*^9, {
   3.57019826069419*^9, 3.57019826320619*^9}, {3.5702004028823123`*^9, 
   3.57020053796482*^9}, {3.5703468393520017`*^9, 3.5703469111046495`*^9}, {
   3.625300381103653*^9, 3.625300382327775*^9}, {3.625300741060645*^9, 
   3.62530074301184*^9}, {3.625396008250206*^9, 3.6253960118412066`*^9}, 
   3.625487503992544*^9, {3.6254885346775446`*^9, 3.6254885358825445`*^9}, {
   3.625489122848544*^9, 3.6254891331265445`*^9}, 3.6254892333125443`*^9, {
   3.6254893185635443`*^9, 3.625489325742544*^9}, {3.6254894447545443`*^9, 
   3.6254894452985444`*^9}, {3.6255013377502356`*^9, 3.6255013379152517`*^9}},
 CellLabel->
  "(Local2) In[265]:=",ExpressionUUID->"b2183c29-8855-4aba-8b47-32f58b2d32de"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<DRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<DRIFT\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.6254891414205446`*^9}, 
   3.6254892312795444`*^9, {3.6254895849615445`*^9, 3.6254896188785443`*^9}, {
   3.6255013207075315`*^9, 3.6255013208615465`*^9}},
 CellLabel->
  "(Local2) In[266]:=",ExpressionUUID->"052be298-07e9-4788-a51a-5cb0b71878df"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<EDRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<EDRIFT\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.6254891414205446`*^9}, 
   3.6254892312795444`*^9, {3.6254895849615445`*^9, 3.6254896123355446`*^9}, {
   3.6255013179092517`*^9, 3.6255013180502653`*^9}},
 CellLabel->
  "(Local2) In[267]:=",ExpressionUUID->"cc5bb0f9-6343-49c2-a62d-cc38ca3709fd"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<CSRDRIFT\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<CSRDRIFT\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<ATTENUATION_LENGTH\>\"", ",", "\"\<DZ\>\"", ",", 
     "\"\<N_KICKS\>\"", ",", "\"\<SPREAD\>\"", ",", 
     "\"\<USE_OVERTAKING_LENGTH\>\"", ",", "\"\<OL_MULTIPLIER\>\"", ",", 
     "\"\<USE_SALDIN54\>\"", ",", "\"\<SALDIN54POINTS\>\"", ",", 
     "\"\<CSR\>\"", ",", "\"\<SALDIN54NORM_MODE\>\"", ",", 
     "\"\<SPREAD_MODE\>\"", ",", "\"\<WAVELENGTH_MODE\>\"", ",", 
     "\"\<BUNCHLENGTH_MODE\>\"", ",", "\"\<SALDIN54_OUTPUT\>\"", ",", 
     "\"\<USE_STUPAKOV\>\"", ",", "\"\<STUPAKOV_OUTPUT\>\"", ",", 
     "\"\<STUPAKOV_OUTPUT_INTERVAL\>\"", ",", 
     "\"\<SLICE_ANALYSIS_INTERVAL\>\"", ",", "\"\<LINEARIZE\>\"", ",", 
     "\"\<GROUP\>\"", ",", 
     RowBox[{"ToUpperCase", "[", "\"\<lsc_high_frequency_cutoff0\>\"", "]"}], 
     ",", 
     RowBox[{"ToUpperCase", "[", "\"\<lsc_high_frequency_cutoff1\>\"", "]"}], 
     ",", 
     RowBox[{"ToUpperCase", "[", "\"\<lsc_bins\>\"", "]"}]}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.625501324381899*^9, 
   3.625501324527913*^9}, {3.7728714689388485`*^9, 3.7728714976830053`*^9}},
 CellLabel->
  "(Local2) In[268]:=",ExpressionUUID->"4cbff6af-9893-43f1-9d95-8ee675419ede"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MARKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<MARK\>\""}], ",", "\"\<DX\>\"", 
     ",", "\"\<DY\>\"", ",", "\"\<FITPOINT\>\"", ",", "\"\<GROUP\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019348597719*^9, 3.57019348661719*^9}, {3.57019748146419*^9, 
   3.57019748677619*^9}, {3.57019765390119*^9, 3.57019765481319*^9}, {
   3.57019779478819*^9, 3.57019780083619*^9}, {3.57034564949046*^9, 
   3.570345661538511*^9}, 3.5703468468724546`*^9, 3.570346934208397*^9, 
   3.570359727581362*^9, 3.570431293074907*^9, {3.625300838543392*^9, 
   3.625300842263764*^9}, {3.6254885302765446`*^9, 3.625488531716544*^9}, {
   3.625489070242544*^9, 3.6254890813855443`*^9}, {3.6254960173262463`*^9, 
   3.625496040885602*^9}, {3.6254962631018214`*^9, 3.6254962635018616`*^9}},
 CellLabel->
  "(Local2) In[269]:=",ExpressionUUID->"f8c8fc3a-fda5-42c1-8307-f507d223b920"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<MONITOR\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<MONI\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<DX\>\"", ",", "\"\<DY\>\"", ",", "\"\<WEIGHT\>\"", ",", 
     "\"\<TILT\>\"", ",", "\"\<XCALIBRATION\>\"", ",", "\"\<YCALIBRATION\>\"",
      ",", "\"\<ORDER\>\"", ",", "\"\<XREADOUT\>\"", ",", "\"\<YREADOUT\>\"", 
     ",", "\"\<CO_FITPOINT\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.625501327186179*^9, 3.625501327334194*^9}},
 CellLabel->
  "(Local2) In[270]:=",ExpressionUUID->"b6088bf3-32a8-4781-9ecf-9a2091400a9b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<HKICKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<HKICK\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<KICK\>\"", ",", "\"\<TILT\>\"", ",", "\"\<B2\>\"", ",", 
     "\"\<CALIBRATION\>\"", ",", "\"\<EDGE_EFFECTS\>\"", ",", "\"\<ORDER\>\"",
      ",", "\"\<STEERING\>\"", ",", "\"\<SYNCH_RAD\>\"", ",", "\"\<ISR\>\"", 
     ",", "\"\<LERAD\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.6254963601135216`*^9, 
   3.6254963739459047`*^9}, {3.625496517463255*^9, 3.625496517623271*^9}, {
   3.6255013285443153`*^9, 3.6255013286903296`*^9}},
 CellLabel->
  "(Local2) In[271]:=",ExpressionUUID->"681499d8-2b0e-40d8-89e4-99a71f5247de"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<VKICKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<VKICK\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<KICK\>\"", ",", "\"\<TILT\>\"", ",", "\"\<B2\>\"", ",", 
     "\"\<CALIBRATION\>\"", ",", "\"\<EDGE_EFFECTS\>\"", ",", "\"\<ORDER\>\"",
      ",", "\"\<STEERING\>\"", ",", "\"\<SYNCH_RAD\>\"", ",", "\"\<ISR\>\"", 
     ",", "\"\<LERAD\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.6254963601135216`*^9, 
   3.6254963817946897`*^9}, {3.6254965185673656`*^9, 3.625496518735382*^9}, {
   3.6255013298834486`*^9, 3.625501330067467*^9}},
 CellLabel->
  "(Local2) In[272]:=",ExpressionUUID->"b755fabc-564d-476d-9e13-7e03cf0d296b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<KICKER\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<KICKER\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<HKICK\>\"", ",", "\"\<VKICK\>\"", ",", "\"\<TILT\>\"", ",", 
     "\"\<B2\>\"", ",", "\"\<HCALIBRATION\>\"", ",", "\"\<VCALIBRATION\>\"", 
     ",", "\"\<EDGE_EFFECTS\>\"", ",", "\"\<ORDER\>\"", ",", 
     "\"\<STEERING\>\"", ",", "\"\<SYNCH_RAD\>\"", ",", "\"\<ISR\>\"", ",", 
     "\"\<LERAD\>\"", ",", "\"\<GROUP\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.6254963601135216`*^9, 
   3.6254963817946897`*^9}, {3.6254964894064493`*^9, 
   3.6254965058350925`*^9}, {3.6255013314226027`*^9, 3.6255013315636168`*^9}},
 CellLabel->
  "(Local2) In[273]:=",ExpressionUUID->"6f3ea4db-6815-4d16-99e3-69469916b93f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<RFCA\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<RFCA\>\""}], ",", 
     RowBox[{"\"\<LENGTH\>\"", "\[Rule]", "\"\<L\>\""}], ",", "\"\<L\>\"", 
     ",", "\"\<VOLT\>\"", ",", "\"\<PHASE\>\"", ",", "\"\<FREQ\>\"", ",", 
     "\"\<Q\>\"", ",", "\"\<PHASE_REFERENCE\>\"", ",", "\"\<CHANGE_P0\>\"", 
     ",", "\"\<CHANGE_T\>\"", ",", "\"\<FIDUCIAL\>\"", ",", 
     "\"\<END1_FOCUS\>\"", ",", "\"\<END2_FOCUS\>\"", ",", 
     "\"\<BODY_FOCUS_MODEL\>\"", ",", "\"\<N_KICKS\>\"", ",", "\"\<DX\>\"", 
     ",", "\"\<DY\>\"", ",", "\"\<T_REFERENCE\>\"", ",", "\"\<LINEARIZE\>\"", 
     ",", "\"\<LOCK_PHASE\>\"", ",", "\"\<GROUP\>\"", ",", 
     RowBox[{"\"\<FREQUENCY\>\"", "\[Rule]", "\"\<FREQ\>\""}]}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.6254963601135216`*^9, 
   3.6254963817946897`*^9}, {3.6254964894064493`*^9, 
   3.6254965058350925`*^9}, {3.6254976472402215`*^9, 
   3.6254977046099577`*^9}, {3.625501333204781*^9, 3.625501333358796*^9}},
 CellLabel->
  "(Local2) In[274]:=",ExpressionUUID->"9de54d0d-76de-4872-b781-8fbd6bc0c744"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SCREEN\>\"", "]"}], "=", 
   RowBox[{"ElegantRules", "[", "\"\<MONITOR\>\"", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.625501327186179*^9, 3.625501327334194*^9}, {
   3.679851307724781*^9, 3.679851314851206*^9}, {3.772868597531318*^9, 
   3.7728686154220996`*^9}},
 CellLabel->
  "(Local2) In[275]:=",ExpressionUUID->"8cb99599-aab8-4f3d-bff4-a5450d398a83"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<PROFILE\>\"", "]"}], "=", 
   RowBox[{"ElegantRules", "[", "\"\<MONITOR\>\"", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.625501327186179*^9, 3.625501327334194*^9}, {
   3.679851307724781*^9, 3.679851314851206*^9}},
 CellLabel->
  "(Local2) In[276]:=",ExpressionUUID->"619d7692-3331-44ea-a1e5-41aafeda3a93"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<VALVE\>\"", "]"}], "=", 
   RowBox[{"ElegantRules", "[", "\"\<DRIFT\>\"", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.625501327186179*^9, 3.625501327334194*^9}, {
   3.679851307724781*^9, 3.679851314851206*^9}, {3.7961077129498644`*^9, 
   3.796107718194883*^9}},ExpressionUUID->"0e82cda4-4b2e-46b8-906a-\
df8d9bb1d0f8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<SHUTTER\>\"", "]"}], "=", 
   RowBox[{"ElegantRules", "[", "\"\<DRIFT\>\"", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.625501327186179*^9, 3.625501327334194*^9}, {
   3.679851307724781*^9, 3.679851314851206*^9}, {3.7961077129498644`*^9, 
   3.796107724396325*^9}},ExpressionUUID->"415f8549-d887-464d-9651-\
b8bf1fbf1080"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<BELLOWS\>\"", "]"}], "=", 
   RowBox[{"ElegantRules", "[", "\"\<DRIFT\>\"", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6254885379165444`*^9, 
   3.6254885384755445`*^9}, {3.6254891379825444`*^9, 3.625489149756544*^9}, {
   3.625489212360544*^9, 3.6254892283125443`*^9}, {3.6254962390534167`*^9, 
   3.6254962577242837`*^9}, {3.625501327186179*^9, 3.625501327334194*^9}, {
   3.679851307724781*^9, 3.679851314851206*^9}, {3.7961077129498644`*^9, 
   3.796107724396325*^9}, {3.796110155731913*^9, 
   3.796110156673371*^9}},ExpressionUUID->"1953812c-3bbf-4a30-b3b5-\
675dc7ccf28d"]
}, Closed]],

Cell["Elegant Command Rules", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6254962223777494`*^9, 3.625496225763088*^9}, {
  3.679851066168979*^9, 
  3.679851066265999*^9}},ExpressionUUID->"43ed55fc-9813-46fb-9238-\
93ea1ed19e25"],

Cell[CellGroupData[{

Cell["Autoscraper", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6881083247422934`*^9, 
  3.6881083266650934`*^9}},ExpressionUUID->"51e4b231-cc86-4f44-9a20-\
3cd4f33e1e1e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<alter_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<type\>\"", ",", 
     " ", "\"\<exclude\>\"", ",", " ", "\"\<value\>\"", ",", " ", 
     "\"\<string_value\>\"", ",", " ", "\"\<differential\>\"", ",", " ", 
     "\"\<multiplicative\>\"", ",", " ", "\"\<verbose\>\"", ",", " ", 
     "\"\<allow_missing_elements\>\"", ",", " ", 
     "\"\<allow_missing_parameters\>\"", ",", " ", "\"\<start_occurence\>\"", 
     ",", " ", "\"\<end_occurence\>\"", ",", " ", "\"\<s_start\>\"", ",", 
     " ", "\"\<s_end\>\"", ",", " ", "\"\<before\>\"", ",", " ", 
     "\"\<after\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718096306176*^9, 3.688718253328676*^9},
 CellLabel->
  "(Local2) In[277]:=",ExpressionUUID->"7c5ce697-9c81-4db2-9c9c-dc62450dfc26"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<amplification_factors\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<uncorrected_orbit_function\>\"", ",", 
     " ", "\"\<corrected_orbit_function\>\"", ",", " ", 
     "\"\<kick_function\>\"", ",", " ", "\"\<name\>\"", ",", " ", 
     "\"\<type\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<plane\>\"", ",",
      " ", "\"\<change\>\"", ",", " ", "\"\<number_to_do\>\"", ",", " ", 
     "\"\<maximum_z\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718096666176*^9, 3.6887182533486757`*^9},
 CellLabel->
  "(Local2) In[278]:=",ExpressionUUID->"fea9da47-aaa6-4bc1-989f-f23a47481fee"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<analyze_map\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<printout\>\"", ",", " ", 
     "\"\<delta_x\>\"", ",", " ", "\"\<delta_xp\>\"", ",", " ", 
     "\"\<delta_y\>\"", ",", " ", "\"\<delta_yp\>\"", ",", " ", 
     "\"\<delta_s\>\"", ",", " ", "\"\<delta_dp\>\"", ",", " ", 
     "\"\<accuracy_factor\>\"", ",", " ", "\"\<center_on_orbit\>\"", ",", 
     " ", "\"\<verbosity\>\"", ",", " ", "\"\<canonical_variables\>\"", ",", 
     " ", "\"\<printout_order\>\"", ",", " ", "\"\<periodic\>\"", ",", " ", 
     "\"\<beta_x\>\"", ",", " ", "\"\<alpha_x\>\"", ",", " ", "\"\<eta_x\>\"",
      ",", " ", "\"\<etap_x\>\"", ",", " ", "\"\<beta_y\>\"", ",", " ", 
     "\"\<alpha_y\>\"", ",", " ", "\"\<eta_y\>\"", ",", " ", 
     "\"\<etap_y\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718097056176*^9, 3.688718253358676*^9},
 CellLabel->
  "(Local2) In[279]:=",ExpressionUUID->"ad1d91fd-c423-4c1e-8d1a-9b4e078d9f14"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<aperture_data\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<input\>\"", ",", " ", "\"\<periodic\>\"", ",", " ", 
     "\"\<persistent\>\"", ",", " ", "\"\<disable\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718097388176*^9, 3.688718253378676*^9},
 CellLabel->
  "(Local2) In[280]:=",ExpressionUUID->"4ffcd1a2-8402-4a2f-8cb3-891a6718aaa8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<bunched_beam\>\"", "]"}], " ", "=", " ", 
   RowBox[{"{", 
    RowBox[{
    "\"\<bunch\>\"", ",", " ", "\"\<n_particles_per_bunch\>\"", ",", " ", 
     "\"\<time_start\>\"", ",", " ", "\"\<matched_to_cell\>\"", ",", " ", 
     "\"\<emit_x\>\"", ",", " ", "\"\<emit_nx\>\"", ",", " ", 
     "\"\<beta_x\>\"", ",", " ", "\"\<alpha_x\>\"", ",", " ", "\"\<eta_x\>\"",
      ",", " ", "\"\<etap_x\>\"", ",", " ", "\"\<emit_y\>\"", ",", " ", 
     "\"\<emit_ny\>\"", ",", " ", "\"\<beta_y\>\"", ",", " ", 
     "\"\<alpha_y\>\"", ",", " ", "\"\<eta_y\>\"", ",", " ", "\"\<etap_y\>\"",
      ",", " ", "\"\<use_twiss_command_values\>\"", ",", " ", "\"\<Po\>\"", 
     ",", " ", "\"\<sigma_dp\>\"", ",", " ", "\"\<sigma_s\>\"", ",", " ", 
     "\"\<dp_s_coupling\>\"", ",", " ", "\"\<emit_z\>\"", ",", " ", 
     "\"\<beta_z\>\"", ",", " ", "\"\<alpha_z\>\"", ",", " ", 
     "\"\<momentum_chirp\>\"", ",", " ", "\"\<one_random_bunch\>\"", ",", 
     " ", "\"\<symmetrize\>\"", ",", " ", "\"\<optimized_halton\>\"", ",", 
     " ", "\"\<limit_invariants\>\"", ",", " ", "\"\<limit_in_4d\>\"", ",", 
     " ", "\"\<first_is_fiducial\>\"", ",", " ", 
     "\"\<save_initial_coordinates\>\"", ",", " ", "\"\<halton_sequence\>\"", 
     ",", " ", "\"\<halton_radix\>\"", ",", " ", "\"\<randomize_order\>\"", 
     ",", " ", "\"\<enforce_rms_values\>\"", ",", " ", 
     "\"\<distribution_cutoff\>\"", ",", " ", "\"\<distribution_type\>\"", 
     ",", " ", "\"\<centroid\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.688718098089176*^9, 3.688718253398676*^9, {3.788589826773472*^9, 
   3.788589842150425*^9}},ExpressionUUID->"e5dfab91-8741-4baf-bc3b-\
f3ee9c062ca8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<change_particle\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<mass_ratio\>\"", ",", " ", 
     "\"\<charge_ratio\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718098419176*^9, 3.688718253408676*^9},
 CellLabel->
  "(Local2) In[282]:=",ExpressionUUID->"775cc0ad-0649-480c-94ec-5c213ba84943"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<chromaticity\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<sextupoles\>\"", ",", " ", "\"\<dnux_dp\>\"", ",", " ", 
     "\"\<dnuy_dp\>\"", ",", " ", "\"\<sextupole_tweek\>\"", ",", " ", 
     "\"\<correction_fraction\>\"", ",", " ", "\"\<n_iterations\>\"", ",", 
     " ", "\"\<tolerance\>\"", ",", " ", "\"\<strength_log\>\"", ",", " ", 
     "\"\<change_defined_values\>\"", ",", " ", "\"\<strength_limit\>\"", ",",
      " ", "\"\<use_perturbed_matrix\>\"", ",", " ", 
     "\"\<exit_on_failure\>\"", ",", " ", "\"\<verbosity\>\"", ",", " ", 
     "\"\<dK2_weight\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718098801176*^9, 3.6887182534286757`*^9},
 CellLabel->
  "(Local2) In[283]:=",ExpressionUUID->"cbd95d79-02a3-408e-bf96-3c67b92ed9aa"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<closed_orbit\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<output_monitors_only\>\"", ",", " ", 
     "\"\<start_from_centroid\>\"", ",", " ", 
     "\"\<start_from_dp_centroid\>\"", ",", " ", 
     "\"\<closed_orbit_accuracy\>\"", ",", " ", 
     "\"\<closed_orbit_iterations\>\"", ",", " ", 
     "\"\<iteration_fraction\>\"", ",", " ", "\"\<fixed_length\>\"", ",", 
     " ", "\"\<start_from_recirc\>\"", ",", " ", "\"\<verbosity\>\"", ",", 
     " ", "\"\<tracking_turns\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887180992121763`*^9, 3.688718253438676*^9},
 CellLabel->
  "(Local2) In[284]:=",ExpressionUUID->"e312ceb4-49b8-468a-a008-f70769eda431"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<correct\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<mode\>\"", ",", " ", "\"\<method\>\"", ",", " ", 
     "\"\<trajectory_output\>\"", ",", " ", "\"\<corrector_output\>\"", ",", 
     " ", "\"\<statistics\>\"", ",", " ", "\"\<verbose\>\"", ",", " ", 
     "\"\<fixed_length\>\"", ",", " ", "\"\<fixed_length_matrix\>\"", ",", 
     " ", "\"\<n_xy_cycles\>\"", ",", " ", "\"\<minimum_cycles\>\"", ",", 
     " ", "\"\<n_iterations\>\"", ",", " ", "\"\<prezero_correctors\>\"", ",",
      " ", "\"\<track_before_and_after\>\"", ",", " ", 
     "\"\<start_from_centroid\>\"", ",", " ", "\"\<use_actual_beam\>\"", ",", 
     " ", "\"\<closed_orbit_accuracy\>\"", ",", " ", 
     "\"\<closed_orbit_iterations\>\"", ",", " ", 
     "\"\<closed_orbit_iteration_fraction\>\"", ",", " ", 
     "\"\<closed_orbit_tracking_turns\>\"", ",", " ", 
     "\"\<use_perturbed_matrix\>\"", ",", " ", "\"\<disable\>\"", ",", " ", 
     "\"\<use_response_from_computed_orbits\>\"", ",", " ", 
     "\"\<corrector_tweek\>\"", ",", " ", "\"\<corrector_limit\>\"", ",", 
     " ", "\"\<correction_fraction\>\"", ",", " ", 
     "\"\<correction_accuracy\>\"", ",", " ", "\"\<do_correction\>\"", ",", 
     " ", "\"\<remove_smallest_SVs\>\"", ",", " ", "\"\<keep_largest_SVs\>\"",
      ",", " ", "\"\<minimum_SV_ratio\>\"", ",", " ", 
     "\"\<auto_limit_SVs\>\"", ",", " ", "\"\<removed_pegged\>\"", ",", " ", 
     "\"\<threading_divisor\>\"", ",", " ", "\"\<threading_correctors\>\"", 
     ",", " ", "\"\<bpm_noise\>\"", ",", " ", "\"\<bpm_noise_cutoff\>\"", ",",
      " ", "\"\<bpm_noise_distribution\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718099775176*^9, 3.6887182534586763`*^9},
 CellLabel->
  "(Local2) In[285]:=",ExpressionUUID->"99c0b9f8-ac62-48a3-a61c-16bbffe5a52f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<correction_matrix_output\>\"", "]"}], 
   "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<KnL_units\>\"", ",", " ", "\"\<BnL_units\>\"", ",", " ", 
     "\"\<output_at_each_step\>\"", ",", " ", 
     "\"\<output_before_tune_correction\>\"", ",", " ", 
     "\"\<fixed_length\>\"", ",", " ", "\"\<coupled\>\"", ",", " ", 
     "\"\<use_response_from_computed_orbits\>\"", ",", " ", 
     "\"\<response\>\"", ",", " ", "\"\<inverse\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718100158176*^9, 3.688718253478676*^9},
 CellLabel->
  "(Local2) In[286]:=",ExpressionUUID->"0504b3ef-d276-4aef-a123-1e44afb8e722"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<correct_tunes\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<quadrupoles\>\"", ",", " ", "\"\<tune_x\>\"", ",", " ", 
     "\"\<tune_y\>\"", ",", " ", "\"\<n_iterations\>\"", ",", " ", 
     "\"\<correction_fraction\>\"", ",", " ", "\"\<tolerance\>\"", ",", " ", 
     "\"\<step_up_interval\>\"", ",", " ", "\"\<max_correction_fraction\>\"", 
     ",", " ", "\"\<delta_correction_fraction\>\"", ",", " ", 
     "\"\<strength_log\>\"", ",", " ", "\"\<change_defined_values\>\"", ",", 
     " ", "\"\<use_perturbed_matrix\>\"", ",", " ", "\"\<dK1_weight\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718100783176*^9, 3.6887182534986763`*^9},
 CellLabel->
  "(Local2) In[287]:=",ExpressionUUID->"02b6737a-3a0e-4599-835b-1c164e864ce7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<coupled_twiss_output\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<output_at_each_step\>\"", ",", " ", 
     "\"\<emittances_from_twiss_command\>\"", ",", " ", "\"\<emit_x\>\"", ",",
      " ", "\"\<emittance_ratio\>\"", ",", " ", "\"\<sigma_dp\>\"", ",", " ", 
     "\"\<calculate_3d_coupling\>\"", ",", " ", "\"\<verbosity\>\"", ",", 
     " ", "\"\<concat_order\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718101163176*^9, 3.688718253508676*^9},
 CellLabel->
  "(Local2) In[288]:=",ExpressionUUID->"faac74c4-edf7-4617-af3b-8a59ae447218"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<divide_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<exclude\>\"", 
     ",", " ", "\"\<divisions\>\"", ",", " ", "\"\<maximum_length\>\"", ",", 
     " ", "\"\<clear\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718101603176*^9, 3.688718253518676*^9},
 CellLabel->
  "(Local2) In[289]:=",ExpressionUUID->"bfb74be7-4bdf-41d0-91d8-fcf44d350072"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<error_element\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<element_type\>\"", ",", " ", 
     "\"\<item\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<amplitude\>\"", 
     ",", " ", "\"\<cutoff\>\"", ",", " ", "\"\<bind\>\"", ",", " ", 
     "\"\<bind_number\>\"", ",", " ", "\"\<post_correction\>\"", ",", " ", 
     "\"\<fractional\>\"", ",", " ", "\"\<additive\>\"", ",", " ", 
     "\"\<allow_missing_elements\>\"", ",", " ", "\"\<after\>\"", ",", " ", 
     "\"\<before\>\"", ",", "\"\<bind_across_names\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{
  3.688718102013176*^9, 3.6887182535386763`*^9, {3.8063214100934334`*^9, 
   3.8063214117534447`*^9}},ExpressionUUID->"9cd01b5d-b61d-4364-b18c-\
691743381518"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<error_control\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<clear_error_settings\>\"", ",", " ", 
     "\"\<summarize_error_settings\>\"", ",", " ", 
     "\"\<no_errors_for_first_step\>\"", ",", " ", "\"\<error_log\>\"", ",", 
     " ", "\"\<error_factor\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718102473176*^9, 3.688718253558676*^9},
 CellLabel->
  "(Local2) In[291]:=",ExpressionUUID->"d6121bd5-e2f2-4e1d-a6fc-de754e894453"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<find_aperture\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<search_output\>\"", ",", " ", 
     "\"\<boundary\>\"", ",", " ", "\"\<mode\>\"", ",", " ", "\"\<xmin\>\"", 
     ",", " ", "\"\<xmax\>\"", ",", " ", "\"\<ymin\>\"", ",", " ", 
     "\"\<ymax\>\"", ",", " ", "\"\<nx\>\"", ",", " ", "\"\<ny\>\"", ",", 
     " ", "\"\<n_splits\>\"", ",", " ", "\"\<split_fraction\>\"", ",", " ", 
     "\"\<desired_resolution\>\"", ",", " ", "\"\<assume_nonincreasing\>\"", 
     ",", " ", "\"\<verbosity\>\"", ",", " ", "\"\<offset_by_orbit\>\"", ",", 
     " ", "\"\<n_lines\>\"", ",", " ", "\"\<optimization_mode\>\""}], "}"}]}],
   ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718102913176*^9, 3.688718253568676*^9},
 CellLabel->
  "(Local2) In[292]:=",ExpressionUUID->"e53ec809-5186-48c3-8580-8b0006ee9778"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<floor_coordinates\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<X0\>\"", ",", " ", "\"\<Z0\>\"", ",", 
     " ", "\"\<theta0\>\"", ",", " ", "\"\<include_vertices\>\"", ",", " ", 
     "\"\<vertices_only\>\"", ",", " ", "\"\<magnet_centers\>\"", ",", " ", 
     "\"\<store_vertices\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718103273176*^9, 3.688718253578676*^9},
 CellLabel->
  "(Local2) In[293]:=",ExpressionUUID->"121c34cc-0066-4437-983b-f63ca8c2463b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<frequency_map\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<xmin\>\"", ",", " ", "\"\<xmax\>\"", ",",
      " ", "\"\<ymin\>\"", ",", " ", "\"\<ymax\>\"", ",", " ", 
     "\"\<delta_min\>\"", ",", " ", "\"\<delta_max\>\"", ",", " ", 
     "\"\<nx\>\"", ",", " ", "\"\<ny\>\"", ",", " ", "\"\<ndelta\>\"", ",", 
     " ", "\"\<verbosity\>\"", ",", " ", "\"\<include_changes\>\"", ",", " ", 
     "\"\<quadratic_spacing\>\"", ",", " ", "\"\<full_grid_output\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718103673176*^9, 3.688718253599676*^9},
 CellLabel->
  "(Local2) In[294]:=",ExpressionUUID->"254622e7-261c-4f23-b06d-efecc9fe1f2f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<global_settings\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<inhibit_fsync\>\"", ",", " ", "\"\<echo_namelists\>\"", ",", " ", 
     "\"\<SR_gaussian_limit\>\"", ",", " ", "\"\<log_file\>\"", ",", " ", 
     "\"\<error_log_file\>\"", ",", " ", "\"\<mpi_randomization_mode\>\"", 
     ",", " ", "\"\<exact_normalized_emittance\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718104328176*^9, 3.688718253609676*^9},
 CellLabel->
  "(Local2) In[295]:=",ExpressionUUID->"591ff7d8-477a-424d-9843-eedf69a18cca"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<insert_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<exclude\>\"", 
     ",", " ", "\"\<s_start\>\"", ",", " ", "\"\<s_end\>\"", ",", " ", 
     "\"\<skip\>\"", ",", " ", "\"\<disable\>\"", ",", " ", 
     "\"\<add_at_end\>\"", ",", " ", "\"\<add_at_start\>\"", ",", " ", 
     "\"\<element_def\>\"", ",", " ", "\"\<total_occurrences\>\"", ",", " ", 
     "\"\<occurrence\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718104731176*^9, 3.688718253619676*^9},
 CellLabel->
  "(Local2) In[296]:=",ExpressionUUID->"03a77da3-0a56-4771-8215-b29c08aef642"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<insert_sceffects\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<exclude\>\"", 
     ",", " ", "\"\<disable\>\"", ",", " ", "\"\<clear\>\"", ",", " ", 
     "\"\<element_prefix\>\"", ",", " ", "\"\<skip\>\"", ",", " ", 
     "\"\<vertical\>\"", ",", " ", "\"\<horizontal\>\"", ",", " ", 
     "\"\<nonlinear\>\"", ",", " ", "\"\<uniform_distribution\>\"", ",", " ", 
     "\"\<verbosity\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718105132176*^9, 3.688718253629676*^9},
 CellLabel->
  "(Local2) In[297]:=",ExpressionUUID->"72f6eda2-7a45-49a3-9fe5-b18f5a8926dc"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{
   "ElegantRules", "[", "\"\<linear_chromatic_tracking_setup\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<nux\>\"", ",", " ", "\"\<betax\>\"", ",", " ", "\"\<alphax\>\"", ",",
      " ", "\"\<etax\>\"", ",", " ", "\"\<etapx\>\"", ",", " ", "\"\<nuy\>\"",
      ",", " ", "\"\<betay\>\"", ",", " ", "\"\<alphay\>\"", ",", " ", 
     "\"\<etay\>\"", ",", " ", "\"\<etapy\>\"", ",", " ", "\"\<alphac\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718105465176*^9, 3.6887182536496763`*^9},
 CellLabel->
  "(Local2) In[298]:=",ExpressionUUID->"b81b5440-b915-4dc2-bd64-6cda49d92834"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<link_control\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<clear_links\>\"", ",", " ", "\"\<summarize_links\>\"", ",", " ", 
     "\"\<verbosity\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718105757176*^9, 3.688718253659676*^9},
 CellLabel->
  "(Local2) In[299]:=",ExpressionUUID->"a5c52b9e-c3fb-4494-bdb8-8ad0f2b125a5"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<link_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<target\>\"", ",", " ", "\"\<exclude\>\"", ",", " ", "\"\<item\>\"", 
     ",", " ", "\"\<source\>\"", ",", " ", "\"\<source_position\>\"", ",", 
     " ", "\"\<mode\>\"", ",", " ", "\"\<equation\>\"", ",", " ", 
     "\"\<minimium\>\"", ",", " ", "\"\<maximum\>\"", ",", " ", 
     "\"\<exclude_self\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718106108176*^9, 3.688718253669676*^9},
 CellLabel->
  "(Local2) In[300]:=",ExpressionUUID->"bcb5b6de-52bf-48b7-a4df-649ce805809e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<load_parameters\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<filename_list\>\"", ",", " ", 
     "\"\<include_name_pattern\>\"", ",", " ", "\"\<exclude_name_pattern\>\"",
      ",", " ", "\"\<include_item_pattern\>\"", ",", " ", 
     "\"\<exclude_item_pattern\>\"", ",", " ", "\"\<include_type_pattern\>\"",
      ",", " ", "\"\<exclude_type_pattern\>\"", ",", " ", 
     "\"\<edit_name_command\>\"", ",", " ", "\"\<change_defined_values\>\"", 
     ",", " ", "\"\<clear_settings\>\"", ",", " ", 
     "\"\<allow_missing_elements\>\"", ",", " ", 
     "\"\<allow_missing_parameters\>\"", ",", " ", 
     "\"\<allow_missing_files\>\"", ",", " ", "\"\<force_occurence_data\>\"", 
     ",", " ", "\"\<verbose\>\"", ",", " ", "\"\<skip_pages\>\"", ",", " ", 
     "\"\<use_first\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718106588176*^9, 3.688718253679676*^9},
 CellLabel->
  "(Local2) In[301]:=",ExpressionUUID->"276f9c3c-21e2-459c-863d-5819a57dceea"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<matrix_output\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<printout\>\"", ",", " ", "\"\<printout_order\>\"", ",", " ", 
     "\"\<full_matrix_only\>\"", ",", " ", "\"\<SDDS_output\>\"", ",", " ", 
     "\"\<SDDS_output_order\>\"", ",", " ", "\"\<individual_matrices\>\"", 
     ",", " ", "\"\<SDDS_output_match\>\"", ",", " ", 
     "\"\<output_at_each_step\>\"", ",", " ", "\"\<start_from\>\"", ",", " ", 
     "\"\<start_from_occurrence\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718106928176*^9, 3.688718253699676*^9},
 CellLabel->
  "(Local2) In[302]:=",ExpressionUUID->"46d87c50-095f-433c-a915-bd70a1d86378"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<modulate_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<type\>\"", ",", 
     " ", "\"\<expression\>\"", ",", " ", "\"\<filename\>\"", ",", " ", 
     "\"\<time_column\>\"", ",", " ", "\"\<amplitude_column\>\"", ",", " ", 
     "\"\<refresh_matrix\>\"", ",", " ", "\"\<differential\>\"", ",", " ", 
     "\"\<multiplicative\>\"", ",", " ", "\"\<start_occurence\>\"", ",", " ", 
     "\"\<end_occurence\>\"", ",", " ", "\"\<s_start\>\"", ",", " ", 
     "\"\<s_end\>\"", ",", " ", "\"\<before\>\"", ",", " ", "\"\<after\>\"", 
     ",", " ", "\"\<verbose\>\"", ",", " ", "\"\<verbose_threshold\>\"", ",", 
     " ", "\"\<record\>\"", ",", " ", "\"\<flush_record\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718107460176*^9, 3.688718253709676*^9},
 CellLabel->
  "(Local2) In[303]:=",ExpressionUUID->"01a32e79-2079-4e61-9a8e-d95a89a36ad7"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<moments_output\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<output_at_each_step\>\"", ",", " ", 
     "\"\<output_before_tune_correction\>\"", ",", " ", 
     "\"\<final_values_only\>\"", ",", " ", "\"\<verbosity\>\"", ",", " ", 
     "\"\<matched\>\"", ",", " ", "\"\<equilibrium\>\"", ",", " ", 
     "\"\<radiation\>\"", ",", " ", "\"\<n_slices\>\"", ",", " ", 
     "\"\<slice_etilted\>\"", ",", " ", "\"\<emit_x\>\"", ",", " ", 
     "\"\<beta_x\>\"", ",", " ", "\"\<alpha_x\>\"", ",", " ", "\"\<eta_x\>\"",
      ",", " ", "\"\<etap_x\>\"", ",", " ", "\"\<emit_y\>\"", ",", " ", 
     "\"\<beta_y\>\"", ",", " ", "\"\<alpha_y\>\"", ",", " ", "\"\<eta_y\>\"",
      ",", " ", "\"\<etap_y\>\"", ",", " ", "\"\<emit_z\>\"", ",", " ", 
     "\"\<beta_z\>\"", ",", " ", "\"\<alpha_z\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718107971176*^9, 3.688718253719676*^9},
 CellLabel->
  "(Local2) In[304]:=",ExpressionUUID->"956059b7-9f46-4c7a-8bee-2805c32cc1d5"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<momentum_aperture\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<x_initial\>\"", ",", " ", 
     "\"\<y_initial\>\"", ",", " ", "\"\<delta_negative_start\>\"", ",", " ", 
     "\"\<delta_positive_start\>\"", ",", " ", "\"\<delta_negative_limit\>\"",
      ",", " ", "\"\<delta_positive_limit\>\"", ",", " ", 
     "\"\<delta_step_size\>\"", ",", " ", "\"\<steps_back\>\"", ",", " ", 
     "\"\<splits\>\"", ",", " ", "\"\<split_step_divisor\>\"", ",", " ", 
     "\"\<skip_elements\>\"", ",", " ", "\"\<process_elements\>\"", ",", " ", 
     "\"\<s_start\>\"", ",", " ", "\"\<s_end\>\"", ",", " ", 
     "\"\<include_name_pattern\>\"", ",", " ", "\"\<include_type_pattern\>\"",
      ",", " ", "\"\<fiducialize\>\"", ",", " ", "\"\<verbosity\>\"", ",", 
     " ", "\"\<soft_failure\>\"", ",", " ", "\"\<output_mode\>\"", ",", " ", 
     "\"\<forbid_resonance_crossing\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887181085031757`*^9, 3.6887182537296762`*^9},
 CellLabel->
  "(Local2) In[305]:=",ExpressionUUID->"7df0383f-52d8-46bf-98db-11f6083c2119"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimize\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<summarize_setup\>\"", "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887181088111763`*^9, 3.6887182537496758`*^9},
 CellLabel->
  "(Local2) In[306]:=",ExpressionUUID->"a7671ff0-ecc0-4dfd-a806-baae9f00aae6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimization_constraint\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<quantity\>\"", ",", " ", "\"\<lower\>\"", ",", " ", 
     "\"\<upper\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718109144176*^9, 3.688718253759676*^9},
 CellLabel->
  "(Local2) In[307]:=",ExpressionUUID->"089e8149-b9e1-42ae-8a13-d0846759d27d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimization_covariable\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<equation\>\"", 
     ",", " ", "\"\<disable\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718109527176*^9, 3.688718253769676*^9},
 CellLabel->
  "(Local2) In[308]:=",ExpressionUUID->"ffcf8cda-1990-409d-b60c-d127e0d21c88"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimization_setup\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<equation\>\"", ",", " ", "\"\<mode\>\"", ",", " ", "\"\<method\>\"", 
     ",", " ", "\"\<tolerance\>\"", ",", " ", "\"\<target\>\"", ",", " ", 
     "\"\<center_on_orbit\>\"", ",", " ", "\"\<center_momentum_also\>\"", ",",
      " ", "\"\<soft_failure\>\"", ",", " ", "\"\<n_passes\>\"", ",", " ", 
     "\"\<n_evaluations\>\"", ",", " ", "\"\<n_restarts\>\"", ",", " ", 
     "\"\<matrix_order\>\"", ",", " ", "\"\<log_file\>\"", ",", " ", 
     "\"\<term_log_file\>\"", ",", " ", "\"\<output_sparsing_factor\>\"", ",",
      " ", "\"\<balance_terms\>\"", ",", " ", 
     "\"\<restart_worst_term_factor\>\"", ",", " ", 
     "\"\<restart_worst_terms\>\"", ",", " ", "\"\<verbose\>\"", ",", " ", 
     "\"\<balance_terms\>\"", ",", " ", "\"\<simplex_divisor\>\"", ",", " ", 
     "\"\<simplex_pass_range_factor\>\"", ",", " ", 
     "\"\<include_simplex_1d_scans\>\"", ",", " ", 
     "\"\<start_from_simplex_vertex1\>\"", ",", " ", 
     "\"\<restart_random_numbers\>\"", ",", " ", "\"\<interrupt_file\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718110323176*^9, 3.688718253779676*^9},
 CellLabel->
  "(Local2) In[309]:=",ExpressionUUID->"e93fe700-5100-4513-a767-b7615fee3444"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<parallel_optimization_setup\>\"", "]"}], 
   "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<method\>\"", ",", " ", "\"\<random_factor\>\"", ",", " ", 
     "\"\<n_iterations\>\"", ",", " ", "\"\<max_no_change\>\"", ",", " ", 
     "\"\<population_size\>\"", ",", " ", "\"\<population_log\>\"", ",", " ", 
     "\"\<print_all_individuals\>\"", ",", " ", 
     "\"\<output_sparsing_factor\>\"", ",", " ", "\"\<crossover\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718110822176*^9, 3.688718253799676*^9},
 CellLabel->
  "(Local2) In[310]:=",ExpressionUUID->"98ca7b10-c230-407c-a9c3-5bc9f9c8d41b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimization_term\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<term\>\"", ",", " ", "\"\<weight\>\"", ",", " ", 
     "\"\<field_string\>\"", ",", " ", "\"\<field_initial_value\>\"", ",", 
     " ", "\"\<field_final_value\>\"", ",", " ", "\"\<field_interval\>\"", 
     ",", " ", "\"\<input_file\>\"", ",", " ", "\"\<input_column\>\"", ",", 
     " ", "\"\<verbose\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718111191176*^9, 3.688718253809676*^9},
 CellLabel->
  "(Local2) In[311]:=",ExpressionUUID->"e08026c1-413f-45b4-a078-eb19e74c30b0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<optimization_variable\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<lower_limit\>\"",
      ",", " ", "\"\<upper_limit\>\"", ",", " ", "\"\<step_size\>\"", ",", 
     " ", "\"\<disable\>\"", ",", " ", "\"\<force_inside\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718111540176*^9, 3.688718253819676*^9},
 CellLabel->
  "(Local2) In[312]:=",ExpressionUUID->"10a383d1-1201-4fe3-8684-0fec7121874e"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<print_dictionary\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<filename\>\"", ",", " ", "\"\<SDDS_form\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718111835676*^9, 3.6887182538296757`*^9},
 CellLabel->
  "(Local2) In[313]:=",ExpressionUUID->"71cbdc89-ab0e-4f1d-a4e5-b7794110cfdb"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<ramp_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<type\>\"", ",", 
     " ", "\"\<start_pass\>\"", ",", " ", "\"\<end_pass\>\"", ",", " ", 
     "\"\<start_value\>\"", ",", " ", "\"\<end_value\>\"", ",", " ", 
     "\"\<differential\>\"", ",", " ", "\"\<multiplicative\>\"", ",", " ", 
     "\"\<start_occurence\>\"", ",", " ", "\"\<end_occurence\>\"", ",", " ", 
     "\"\<exponent\>\"", ",", " ", "\"\<s_start\>\"", ",", " ", 
     "\"\<s_end\>\"", ",", " ", "\"\<before\>\"", ",", " ", "\"\<after\>\"", 
     ",", " ", "\"\<verbose\>\"", ",", " ", "\"\<record\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718112278676*^9, 3.688718253839676*^9},
 CellLabel->
  "(Local2) In[314]:=",ExpressionUUID->"f5260bf8-d5b6-44ee-a280-e3580610ec15"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<rf_setup\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<name\>\"", ",", " ", 
     "\"\<start_occurence\>\"", ",", " ", "\"\<end_occurence\>\"", ",", " ", 
     "\"\<s_start\>\"", ",", " ", "\"\<s_end\>\"", ",", " ", 
     "\"\<set_for_each_step\>\"", ",", " ", "\"\<near_frequency\>\"", ",", 
     " ", "\"\<harmonic\>\"", ",", " ", "\"\<bucket_half_height\>\"", ",", 
     " ", "\"\<over_voltage\>\"", ",", " ", "\"\<total_voltage\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718112731676*^9, 3.688718253859676*^9},
 CellLabel->
  "(Local2) In[315]:=",ExpressionUUID->"5f9cdcca-5940-4133-a6ee-1b932b7e3b8d"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<replace_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<exclude\>\"", 
     ",", " ", "\"\<skip\>\"", ",", " ", "\"\<disable\>\"", ",", " ", 
     "\"\<element_def\>\"", ",", " ", "\"\<total_occurrences\>\"", ",", " ", 
     "\"\<occurrence\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718113080676*^9, 3.688718253869676*^9},
 CellLabel->
  "(Local2) In[316]:=",ExpressionUUID->"97b2ceeb-4580-4dc4-a72f-54641b1ea832"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<rpn_expression\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<expression\>\"", "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718113412676*^9, 3.688718253879676*^9},
 CellLabel->
  "(Local2) In[317]:=",ExpressionUUID->"63a91887-5274-40c3-93dc-c9123e4fc4d9"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<rpn_load\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<tag\>\"", ",", " ", "\"\<filename\>\"", ",", " ", 
     "\"\<match_column\>\"", ",", " ", "\"\<match_column_value\>\"", ",", 
     " ", "\"\<matching_row_number\>\"", ",", " ", "\"\<match_parameter\>\"", 
     ",", " ", "\"\<match_parameter_value\>\"", ",", " ", "\"\<use_row\>\"", 
     ",", " ", "\"\<use_page\>\"", ",", " ", "\"\<load_parameters\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718113831676*^9, 3.688718253889676*^9},
 CellLabel->
  "(Local2) In[318]:=",ExpressionUUID->"2422f628-effc-48b6-b43a-4ed1114a27f1"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<run_control\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<n_steps\>\"", ",", " ", "\"\<bunch_frequency\>\"", ",", " ", 
     "\"\<n_indices\>\"", ",", " ", "\"\<n_passes\>\"", ",", " ", 
     "\"\<n_passes_fiducial\>\"", ",", " ", "\"\<reset_rf_for_each_step\>\"", 
     ",", " ", "\"\<first_is_fiducial\>\"", ",", " ", 
     "\"\<restrict_fiducialization\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718114205676*^9, 3.6887182538996763`*^9},
 CellLabel->
  "(Local2) In[319]:=",ExpressionUUID->"db980222-001a-4ea4-b7b0-546afa571667"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<run_setup\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<lattice\>\"", ",", " ", "\"\<use_beamline\>\"", ",", " ", 
     "\"\<rootname\>\"", ",", " ", "\"\<output\>\"", ",", " ", 
     "\"\<centroid\>\"", ",", " ", "\"\<sigma\>\"", ",", " ", "\"\<final\>\"",
      ",", " ", "\"\<acceptance\>\"", ",", " ", "\"\<losses\>\"", ",", " ", 
     "\"\<magnets\>\"", ",", " ", "\"\<semaphore_file\>\"", ",", " ", 
     "\"\<parameters\>\"", ",", " ", "\"\<combine_bunch_statistics\>\"", ",", 
     " ", "\"\<wrap_around\>\"", ",", " ", "\"\<final_pass\>\"", ",", " ", 
     "\"\<default_order\>\"", ",", " ", "\"\<concat_order\>\"", ",", " ", 
     "\"\<print_statistics\>\"", ",", " ", "\"\<show_element_timing\>\"", ",",
      " ", "\"\<monitor_memory_usage\>\"", ",", " ", 
     "\"\<random_number_seed\>\"", ",", " ", "\"\<correction_iterations\>\"", 
     ",", " ", "\"\<p_central\>\"", ",", " ", "\"\<p_central_mev\>\"", ",", 
     " ", "\"\<always_change_p0\>\"", ",", " ", "\"\<expand_for\>\"", ",", 
     " ", "\"\<tracking_updates\>\"", ",", " ", "\"\<echo_lattice\>\"", ",", 
     " ", "\"\<search_path\>\"", ",", " ", "\"\<element_divisions\>\"", ",", 
     " ", "\"\<load_balancing_on\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718114736676*^9, 3.688718253919676*^9},
 CellLabel->
  "(Local2) In[320]:=",ExpressionUUID->"9a267b9f-024d-4edf-9bb2-caade6875df3"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<sasefel\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<model\>\"", ",", " ", "\"\<beta\>\"", 
     ",", " ", "\"\<undulator_K\>\"", ",", " ", "\"\<undulator_period\>\"", 
     ",", " ", "\"\<slice_fraction\>\"", ",", " ", "\"\<n_slices\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718115074676*^9, 3.688718253929676*^9},
 CellLabel->
  "(Local2) In[321]:=",ExpressionUUID->"dc5f9bf3-562c-4722-a86c-4ef225752512"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<save_lattice\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<filename\>\"", ",", " ", "\"\<output_seq\>\""}], "}"}]}], 
  ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718115377676*^9, 3.6887182539396763`*^9},
 CellLabel->
  "(Local2) In[322]:=",ExpressionUUID->"593492f4-0623-4099-ad57-00b5ca27e026"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<sdds_beam\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<input\>\"", ",", " ", "\"\<input_list\>\"", ",", " ", 
     "\"\<input_type\>\"", ",", " ", "\"\<n_particles_per_ring\>\"", ",", 
     " ", "\"\<selection_parameter\>\"", ",", " ", "\"\<selection_string\>\"",
      ",", " ", "\"\<one_random_bunch\>\"", ",", " ", "\"\<reuse_bunch\>\"", 
     ",", " ", "\"\<prebunched\>\"", ",", " ", 
     "\"\<track_pages_separately\>\"", ",", " ", "\"\<use_bunched_mode\>\"", 
     ",", " ", "\"\<sample_interval\>\"", ",", " ", 
     "\"\<n_tables_to_skip\>\"", ",", " ", "\"\<center_transversely\>\"", ",",
      " ", "\"\<center_arrival_time\>\"", ",", " ", "\"\<sample_fraction\>\"",
      ",", " ", "\"\<p_lower\>\"", ",", " ", "\"\<p_upper\>\"", ",", " ", 
     "\"\<save_initial_coordinates\>\"", ",", " ", "\"\<reverse_t_sign\>\"", 
     ",", " ", "\"\<n_duplicates\>\"", ",", " ", 
     "\"\<duplicate_stagger\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718115876676*^9, 3.688718253949676*^9},
 CellLabel->
  "(Local2) In[323]:=",ExpressionUUID->"5744fd0c-4fb6-42ee-abba-ff5a43154a24"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<semaphores\>\"", "]"}], "=", 
   RowBox[{"{", "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887181161896763`*^9, 3.688718253959676*^9},
 CellLabel->
  "(Local2) In[324]:=",ExpressionUUID->"50565d9d-b833-48cf-a1fa-dab61df69f15"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<slice_analysis\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<output\>\"", ",", " ", "\"\<n_slices\>\"", ",", " ", 
     "\"\<s_start\>\"", ",", " ", "\"\<s_end\>\"", ",", " ", 
     "\"\<final_values_only\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718116519676*^9, 3.6887182539796762`*^9},
 CellLabel->
  "(Local2) In[325]:=",ExpressionUUID->"05eff8c5-8bc0-4c53-901a-f5c5c3d271b3"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<subprocess\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<command\>\"", "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718116810676*^9, 3.688718253989676*^9},
 CellLabel->
  "(Local2) In[326]:=",ExpressionUUID->"1984e521-ef46-4143-94b4-5e11217f41da"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<steering_element\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<element_type\>\"", ",", " ", 
     "\"\<item\>\"", ",", " ", "\"\<plane\>\"", ",", " ", "\"\<tweek\>\"", 
     ",", " ", "\"\<limit\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718117206676*^9, 3.6887182539996758`*^9},
 CellLabel->
  "(Local2) In[327]:=",ExpressionUUID->"64308e7b-649b-48d9-9770-7e53b2c09502"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<touschek_scatter\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<charge\>\"", ",", " ", "\"\<frequency\>\"", ",", " ", 
     "\"\<emit_x\>\"", ",", " ", "\"\<emit_nx\>\"", ",", " ", 
     "\"\<emit_y\>\"", ",", " ", "\"\<emit_ny\>\"", ",", " ", 
     "\"\<sigma_dp\>\"", ",", " ", "\"\<sigma_s\>\"", ",", " ", 
     "\"\<Momentum_Aperture_scale\>\"", ",", " ", "\"\<Momentum_Aperture\>\"",
      ",", " ", "\"\<XDist\>\"", ",", " ", "\"\<YDist\>\"", ",", " ", 
     "\"\<ZDist\>\"", ",", " ", "\"\<TranDist\>\"", ",", " ", 
     "\"\<FullDist\>\"", ",", " ", "\"\<bunch\>\"", ",", " ", "\"\<loss\>\"", 
     ",", " ", "\"\<distribution\>\"", ",", " ", "\"\<initial\>\"", ",", " ", 
     "\"\<output\>\"", ",", " ", "\"\<nbins\>\"", ",", " ", 
     "\"\<sbin_step\>\"", ",", " ", "\"\<n_simulated\>\"", ",", " ", 
     "\"\<ignored_portion\>\"", ",", " ", "\"\<i_start\>\"", ",", " ", 
     "\"\<i_end\>\"", ",", " ", "\"\<do_track\>\"", ",", " ", 
     "\"\<match_position_only\>\"", ",", " ", "\"\<overwrite_files\>\"", ",", 
     " ", "\"\<verbosity\>\"", ",", " ", "\"\<distribution_cutoff\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718117832676*^9, 3.688718254009676*^9},
 CellLabel->
  "(Local2) In[328]:=",ExpressionUUID->"d5c89718-a67f-4b97-ad8a-ead0e19ba143"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<transmute_elements\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<name\>\"", ",", " ", "\"\<type\>\"", ",", " ", "\"\<exclude\>\"", 
     ",", " ", "\"\<new_type\>\"", ",", " ", "\"\<disable\>\"", ",", " ", 
     "\"\<clear\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718118192676*^9, 3.688718254019676*^9},
 CellLabel->
  "(Local2) In[329]:=",ExpressionUUID->"66c402d0-822a-48a3-a708-31db3123d263"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<tune_footprint\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<delta_output\>\"", ",", " ", "\"\<xy_output\>\"", ",", " ", 
     "\"\<xmin\>\"", ",", " ", "\"\<xmax\>\"", ",", " ", "\"\<ymin\>\"", ",", 
     " ", "\"\<ymax\>\"", ",", " ", "\"\<x_for_delta\>\"", ",", " ", 
     "\"\<y_for_delta\>\"", ",", " ", "\"\<delta_min\>\"", ",", " ", 
     "\"\<delta_max\>\"", ",", " ", "\"\<nx\>\"", ",", " ", "\"\<ny\>\"", ",",
      " ", "\"\<ndelta\>\"", ",", " ", "\"\<verbosity\>\"", ",", " ", 
     "\"\<quadratic_spacing\>\"", ",", " ", "\"\<compute_diffusion\>\"", ",", 
     " ", "\"\<diffusion_rate_limit\>\"", ",", " ", "\"\<immediate\>\"", ",", 
     " ", "\"\<filtered_output\>\"", ",", " ", 
     "\"\<ignore_half_integer\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718118692676*^9, 3.6887182540396757`*^9},
 CellLabel->
  "(Local2) In[330]:=",ExpressionUUID->"8421034f-3265-454e-be47-d13ecbc2692a"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<twiss_analysis\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<match_name\>\"", ",", " ", "\"\<start_name\>\"", ",", " ", 
     "\"\<end_name\>\"", ",", " ", "\"\<s_start\>\"", ",", " ", 
     "\"\<s_end\>\"", ",", " ", "\"\<tag\>\"", ",", " ", "\"\<verbosity\>\"", 
     ",", " ", "\"\<clear\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718119069676*^9, 3.688718254049676*^9},
 CellLabel->
  "(Local2) In[331]:=",ExpressionUUID->"fb8d622e-5c10-4c64-8a73-d35e53574ee9"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<twiss_output\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<filename\>\"", ",", " ", "\"\<matched\>\"", ",", " ", 
     "\"\<output_at_each_step\>\"", ",", " ", 
     "\"\<output_before_tune_correction\>\"", ",", " ", 
     "\"\<final_values_only\>\"", ",", " ", "\"\<statistics\>\"", ",", " ", 
     "\"\<radiation_integrals\>\"", ",", " ", "\"\<concat_order\>\"", ",", 
     " ", "\"\<higher_order_chromaticity\>\"", ",", " ", 
     "\"\<higher_order_chromaticity_points\>\"", ",", " ", 
     "\"\<higher_order_chromaticity_range\>\"", ",", " ", 
     "\"\<chromatic_tune_spread_half_range\>\"", ",", " ", 
     "\"\<quick_higher_order_chromaticity\>\"", ",", " ", "\"\<beta_x\>\"", 
     ",", " ", "\"\<alpha_x\>\"", ",", " ", "\"\<eta_x\>\"", ",", " ", 
     "\"\<etap_x\>\"", ",", " ", "\"\<beta_y\>\"", ",", " ", 
     "\"\<alpha_y\>\"", ",", " ", "\"\<eta_y\>\"", ",", " ", "\"\<etap_y\>\"",
      ",", " ", "\"\<reference_file\>\"", ",", " ", 
     "\"\<reference_element\>\"", ",", " ", 
     "\"\<reference_element_occurrence\>\"", ",", " ", 
     "\"\<reflect_reference_values\>\"", ",", " ", 
     "\"\<cavities_are_drifts_if_matched\>\"", ",", " ", 
     "\"\<compute_driving_terms\>\"", ",", " ", 
     "\"\<leading_order_driving_terms_only\>\"", ",", " ", 
     "\"\<s_dependent_driving_terms_file\>\"", ",", " ", 
     "\"\<local_dispersion\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887181198816757`*^9, 3.688718254059676*^9},
 CellLabel->
  "(Local2) In[332]:=",ExpressionUUID->"1f0a9278-47ba-4728-8cdf-98db3f5c1a85"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<track\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<center_on_orbit\>\"", ",", " ", "\"\<center_momentum_also\>\"", ",", 
     " ", "\"\<offset_by_orbit\>\"", ",", " ", "\"\<offset_momentum_also\>\"",
      ",", " ", "\"\<soft_failure\>\"", ",", " ", 
     "\"\<use_linear_chromatic_matrix\>\"", ",", " ", 
     "\"\<longitudinal_ring_only\>\"", ",", " ", 
     "\"\<stop_tracking_particle_limit\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718120318676*^9, 3.6887182540796757`*^9},
 CellLabel->
  "(Local2) In[333]:=",ExpressionUUID->"c1e39dc7-766d-46dc-96a9-c637bed38275"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<tune_shift_with_amplitude\>\"", "]"}], 
   "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<turns\>\"", ",", " ", "\"\<x0\>\"", ",", " ", "\"\<y0\>\"", ",", 
     " ", "\"\<x1\>\"", ",", " ", "\"\<y1\>\"", ",", " ", "\"\<grid_size\>\"",
      ",", " ", "\"\<lines_only\>\"", ",", " ", "\"\<sparse_grid\>\"", ",", 
     " ", "\"\<spread_only\>\"", ",", " ", "\"\<nux_roi_width\>\"", ",", " ", 
     "\"\<nuy_roi_width\>\"", ",", " ", "\"\<scale_down_factor\>\"", ",", 
     " ", "\"\<scale_up_factor\>\"", ",", " ", "\"\<scale_down_limit\>\"", 
     ",", " ", "\"\<scale_up_limit\>\"", ",", " ", 
     "\"\<scaling_iterations\>\"", ",", " ", "\"\<use_concatenation\>\"", ",",
      " ", "\"\<verbose\>\"", ",", " ", "\"\<order\>\"", ",", " ", 
     "\"\<tune_output\>\""}], "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.688718120851676*^9, 3.688718254080676*^9},
 CellLabel->
  "(Local2) In[334]:=",ExpressionUUID->"70100201-e6c7-4aa5-b8ed-b192b791f0e8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"ElegantRules", "[", "\"\<vary_element\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<index_number\>\"", ",", " ", "\"\<index_limit\>\"", ",", " ", 
     "\"\<name\>\"", ",", " ", "\"\<item\>\"", ",", " ", "\"\<initial\>\"", 
     ",", " ", "\"\<final\>\"", ",", " ", "\"\<differential\>\"", ",", " ", 
     "\"\<multiplicative\>\"", ",", " ", "\"\<geometric\>\"", ",", " ", 
     "\"\<enumeration_file\>\"", ",", " ", "\"\<enumeration_column\>\""}], 
    "}"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.6887181212156763`*^9, 3.688718254088676*^9},
 CellLabel->
  "(Local2) In[335]:=",ExpressionUUID->"5ffaa14c-b1d4-42ab-90c9-064ec3af32ee"]
}, Closed]],

Cell[CellGroupData[{

Cell["Manual", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6881083303028936`*^9, 
  3.6881083321748934`*^9}},ExpressionUUID->"a8bdf572-6f18-490c-9fb5-\
ce1c767e809f"],

Cell["\<\
ElegantRules[\"run_setup\"] = ToLowerCase /@ {\"LATTICE\", \"USE_BEAMLINE\", \
\"ROOTNAME\", \"OUTPUT\", \"CENTROID\", \"SIGMA\", \"FINAL\", \"ACCEPTANCE\", \
\"LOSSES\", \"MAGNETS\", \"SEMAPHORE_FILE\", \"PARAMETERS\", \
\"DEFAULT_ORDER\", \"P_CENTRAL\", \"P_CENTRAL_MEV\", \"ALWAYS_CHANGE_P0\", \
\"ELEMENT_DIVISIONS\", \"random_number_seed\"};\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253129319926157`*^9, 3.625312936752092*^9}, 
   3.6254892395275445`*^9, {3.625571111119725*^9, 3.625571112383978*^9}, 
   3.688108430234894*^9},ExpressionUUID->"91bb8e99-801e-44f6-9a72-\
ee96981d322d"],

Cell["\<\
ElegantRules[\"run_control\"] = ToLowerCase /@ {\"N_STEPS\", \"N_PASSES\", \
\"RESET_RF_FOR_EACH_STEP\", \"FIRST_IS_FIDUCIAL\"};\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, 
   3.6254892430155444`*^9, 
   3.688108430234894*^9},ExpressionUUID->"506a0571-c69f-4d30-bed1-\
8928754f8be2"],

Cell["\<\
ElegantRules[\"twiss_output\"] = ToLowerCase /@ {\"filename\", \"matched\", \
\"output_at_each_step\", \"output_before_tune_correction\", \
\"final_values_only\", \"statistics \", \"radiation_integrals\", \
\"concat_order\", \"higher_order_chromaticity\", \
\"higher_order_chromaticity_points\", \"higher_order_chromaticity_points\", \
\"chromatic_tune_spread_half_range\", \"quick_higher_order_chromaticity\", \
\"beta_x\", \"alpha_x\", \"eta_x\", \"etap_x\", \"beta_y\", \"alpha_y\", \
\"eta_y\", \"etap_y\", \"reference_file\", \"reference_element\", \
\"reference_element_occurrence\", \"reflect_reference_values\", \
\"cavities_are_drifts_if_matched\", \"compute_driving_terms\", \
\"leading_order_driving_terms_only\", \"local_dispersion\"};\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.6254892454095445`*^9, 
   3.6254892459685445`*^9}, 
   3.688108430234894*^9},ExpressionUUID->"fa22f813-5cf6-44a9-b801-\
2e0cfda08c4e"],

Cell["\<\
ElegantRules[\"matrix_output\"] = StringReplace[ToLowerCase /@ {\"printout\", \
\"printout_order\", \"full_matrix_only\", \"SDDS_output\", \
\"SDDS_output_order\", \"individual_matrices\", \"SDDS_output_match\", \
\"output_at_each_step\", \"start_from\", \"start_from_occurrence\"}, \"sdds\" \
-> \"SDDS\"];\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.625396759835206*^9, 
   3.625396822012206*^9}, {3.625397278080206*^9, 3.625397286703206*^9}, 
   3.6254892479915447`*^9, 
   3.688108430234894*^9},ExpressionUUID->"f4f4f946-b226-4cb0-bd72-\
e8bb59d517d9"],

Cell["\<\
ElegantRules[\"floor_coordinates\"] = StringReplace[ToLowerCase /@ \
{\"filename\", \"X0\", \"Z0\", \"theta0\", \"include_vertices\", \
\"vertices_only\", \"magnet_centers\"}, \"sdds\" -> \"SDDS\"];\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.625396759835206*^9, 
   3.625396822012206*^9}, {3.625397278080206*^9, 3.625397286703206*^9}, {
   3.6254669156005445`*^9, 3.625466916112544*^9}, {3.6254669719585447`*^9, 
   3.6254670156025443`*^9}, 3.6254892502065444`*^9, 
   3.688108430234894*^9},ExpressionUUID->"5142ae95-bafc-4570-a035-\
1c3df05dc518"],

Cell["\<\
ElegantRules[\"slice_analysis\"] = StringReplace[ToLowerCase /@ {\"output\", \
\"n_slices\", \"s_start\", \"s_end\", \"final_values_only\"}, \"sdds\" -> \
\"SDDS\"];\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.625396759835206*^9, 
   3.625396822012206*^9}, {3.625397278080206*^9, 3.625397286703206*^9}, {
   3.625397356979206*^9, 3.625397360745206*^9}, {3.625397393224206*^9, 
   3.625397412793206*^9}, 3.6254892519585447`*^9, 
   3.688108430234894*^9},ExpressionUUID->"0a749c01-bad9-43f7-af77-\
2044899e6b6f"],

Cell["\<\
ElegantRules[\"bunched_beam\"] = StringReplace[ToLowerCase /@ {\"bunch\", \
\"n_particles_per_bunch\", \"time_start\", \"matched_to_cell\", \"emit_x\", \
\"emit_nx\", \"beta_x\", \"alpha_x\", \"eta_x\", \"etap_x\", \"emit_y\", \
\"emit_ny\", \"beta_y\", \"alpha_y\", \"eta_y\", \"etap_y\", \
\"use_twiss_command_values\", \"Po\", \"sigma_dp\", \"sigma_s\", \
\"dp_s_coupling\", \"emit_z\", \"beta_z\", \"alpha_z\", \"momentum_chirp\", \
\"one_random_bunch\", \"symmetrize\", \"halton_sequence\", \"halton_radix\", \
\"optimized_halton\", \"randomize_order\", \"limit_invariants\", \
\"limit_in_4d\", \"enforce_rms_values[0]\", \"distribution_cutoff[0]\", \
\"distribution_type\", \"centroid\", \"first_is_fiducial\", \
\"save_initial_coordinates\"}, \"sdds\" -> \"SDDS\"];\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.625396759835206*^9, 
   3.625396822012206*^9}, {3.625397278080206*^9, 3.625397286703206*^9}, {
   3.625397356979206*^9, 3.625397360745206*^9}, {3.625397393224206*^9, 
   3.625397412793206*^9}, 3.625397485962206*^9, 3.6253976759432063`*^9, {
   3.625397870557206*^9, 3.625397886620206*^9}, 3.6254892547205443`*^9, 
   3.688108430234894*^9},ExpressionUUID->"033de6b1-3942-4115-b708-\
61a611007b7a"],

Cell["\<\
ElegantRules[\"track\"] = StringReplace[ToLowerCase /@ {\"center_on_orbit\", \
\"center_momentum_also\", \"offset_by_orbit\", \"offset_momentum_also\", \
\"soft_failure\", \"use_linear_chromatic_matrix\", \
\"longitudinal_ring_only\", \"stop_tracking_particle_limit\"}, \"sdds\" -> \
\"SDDS\"];\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.625396759835206*^9, 
   3.625396822012206*^9}, {3.625397278080206*^9, 3.625397286703206*^9}, {
   3.625397356979206*^9, 3.625397360745206*^9}, {3.625397393224206*^9, 
   3.625397412793206*^9}, 3.625397485962206*^9, 3.6253976759432063`*^9, {
   3.625397870557206*^9, 3.625397886620206*^9}, {3.6253980907982063`*^9, 
   3.625398138040206*^9}, 3.6254892571185446`*^9, 
   3.688108430234894*^9},ExpressionUUID->"09a441a3-3e67-4a3f-a52e-\
6b532b2065db"],

Cell["\<\
ElegantRules[\"correction_matrix_output\"] = StringReplace[ToLowerCase /@ \
{\"response[0]\", \"response[1]\", \"response[2]\", \"response[3]\", \
\"inverse[0]\", \"inverse[1]\", \"KnL_units\", \"BnL_units\", \
\"output_at_each_step\", \"output_before_tune_correction\", \"fixed_length\", \
\"coupled\", \"use_response_from_computed_orbits\"}, \"sdds\" -> \"SDDS\"];\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.625396759835206*^9, 
   3.625396822012206*^9}, {3.625397278080206*^9, 3.625397286703206*^9}, {
   3.625397356979206*^9, 3.625397360745206*^9}, {3.625397393224206*^9, 
   3.625397412793206*^9}, 3.625397485962206*^9, 3.6253976759432063`*^9, {
   3.625397870557206*^9, 3.625397886620206*^9}, {3.6253980907982063`*^9, 
   3.625398138040206*^9}, 3.6254892571185446`*^9, {3.6255045480612345`*^9, 
   3.625504599430371*^9}, {3.6255069719906034`*^9, 3.6255069722146254`*^9}, {
   3.6255073911835184`*^9, 3.6255074332987294`*^9}, 
   3.6881084302504935`*^9},ExpressionUUID->"6ea9fc82-d353-415d-8372-\
ad575cee1309"],

Cell["\<\
ElegantRules[\"correct\"] = StringReplace[ToLowerCase /@ {\"mode\", \
\"method\", \"trajectory_output\", \"corrector_output\", \"statistics\", \
\"corrector_tweek\", \"corrector_limit\", \"correction_fraction\", \
\"correction_accuracy\", \"do_correction\", \"remove_smallest_SVs\", \
\"keep_largest_SVs\", \"minimum_SV_ratio\", \"auto_limit_SVs\", \
\"removed_pegged\", \"threading_divisor\", \"threading_correctors\", \
\"bpm_noise\", \"bpm_noise_cutoff\", \"bpm_noise_distribution\", \"verbose\", \
\"fixed_length\", \"fixed_length_matrix\", \"n_xy_cycles\", \
\"minimum_cycles\", \"n_iterations\", \"prezero_correctors\", \
\"track_before_and_after\", \"start_from_centroid\", \"use_actual_beam\", \
\"closed_orbit_accuracy\", \"closed_orbit_iterations\", \
\"closed_orbit_iteration_fraction\", \"use_perturbed_matrix\", \"disable\", \
\"use_response_from_computed_orbits\"}, \"sdds\" -> \"SDDS\"];\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.625396759835206*^9, 
   3.625396822012206*^9}, {3.625397278080206*^9, 3.625397286703206*^9}, {
   3.625397356979206*^9, 3.625397360745206*^9}, {3.625397393224206*^9, 
   3.625397412793206*^9}, 3.625397485962206*^9, 3.6253976759432063`*^9, {
   3.625397870557206*^9, 3.625397886620206*^9}, {3.6253980907982063`*^9, 
   3.625398138040206*^9}, 3.6254892571185446`*^9, {3.6255045480612345`*^9, 
   3.625504599430371*^9}, {3.62550653711412*^9, 3.6255067254919558`*^9}, 
   3.6881084302504935`*^9},ExpressionUUID->"52eea0f6-6e91-49da-a1ac-\
837c0530e1b2"],

Cell["\<\
ElegantRules[\"closed_orbit\"] = StringReplace[ToLowerCase /@ {\"output\", \
\"output_monitors_only\", \"start_from_centroid\", \
\"start_from_dp_centroid\", \"closed_orbit_accuracy\", \
\"closed_orbit_iterations\", \"iteration_fraction\", \"fixed_length\", \
\"start_from_recirc\", \"verbosity\"}, \"sdds\" -> \"SDDS\"];\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.625396759835206*^9, 
   3.625396822012206*^9}, {3.625397278080206*^9, 3.625397286703206*^9}, {
   3.625397356979206*^9, 3.625397360745206*^9}, {3.625397393224206*^9, 
   3.625397412793206*^9}, 3.625397485962206*^9, 3.6253976759432063`*^9, {
   3.625397870557206*^9, 3.625397886620206*^9}, {3.6253980907982063`*^9, 
   3.625398138040206*^9}, 3.6254892571185446`*^9, {3.6255045480612345`*^9, 
   3.625504599430371*^9}, {3.62550653711412*^9, 3.6255067254919558`*^9}, {
   3.6255086611244993`*^9, 3.6255087062530117`*^9}, 
   3.6881084302504935`*^9},ExpressionUUID->"5fcb39d1-435e-4f76-83e4-\
532c6ef99bbc"],

Cell["\<\
ElegantRules[\"error_control\"] = StringReplace[ToLowerCase /@ \
{\"clear_error_settings\", \"summarize_error_settings\", \
\"no_errors_for_first_step\", \"error_log\", \"error_factor\"
     }, \"sdds\" -> \"SDDS\"];\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.625396759835206*^9, 
   3.625396822012206*^9}, {3.625397278080206*^9, 3.625397286703206*^9}, {
   3.625397356979206*^9, 3.625397360745206*^9}, {3.625397393224206*^9, 
   3.625397412793206*^9}, 3.625397485962206*^9, 3.6253976759432063`*^9, {
   3.625397870557206*^9, 3.625397886620206*^9}, {3.6253980907982063`*^9, 
   3.625398138040206*^9}, 3.6254892571185446`*^9, {3.6255045480612345`*^9, 
   3.625504599430371*^9}, {3.62550653711412*^9, 3.6255067254919558`*^9}, {
   3.6255086611244993`*^9, 3.6255087062530117`*^9}, {3.6255706877580695`*^9, 
   3.6255707682331614`*^9}, {3.6255709273689823`*^9, 3.6255709523414755`*^9}, 
   3.6881084302504935`*^9},ExpressionUUID->"ad85881f-a9ef-4bc7-957b-\
dd25d84c7e5a"],

Cell["\<\
ElegantRules[\"error_element\"] = StringReplace[ToLowerCase /@ {\"name\", \
\"element_type\", \"item\", \"type\", \"amplitude\", \"cutoff\", \"bind\", \
\"bind_number\", \"bind_across_names\", \"post_correction\", \"fractional\", \
\"additive\", \"allow_missing_elements\", \"after\", \"before\"}, \"sdds\" -> \
\"SDDS\"];\
\>", "Text",
 InitializationGroup->True,
 CellChangeTimes->{{3.5701929541061897`*^9, 3.57019304629319*^9}, {
   3.57019344593119*^9, 3.57019345629919*^9}, {3.5701934896571903`*^9, 
   3.5701934902641897`*^9}, 3.57019749084019*^9, 3.5701976587971897`*^9, {
   3.5703468404597864`*^9, 3.5703468583871737`*^9}, {3.570346923569129*^9, 
   3.5703469261431456`*^9}, {3.6253107204884877`*^9, 3.625310722592698*^9}, {
   3.6253107674421825`*^9, 3.625310874853923*^9}, {3.6253111509685316`*^9, 
   3.6253111530637407`*^9}, {3.6253127194083595`*^9, 
   3.6253127734977684`*^9}, {3.625312921119529*^9, 3.6253129279752145`*^9}, {
   3.625395644873206*^9, 3.6253958074962063`*^9}, {3.625396759835206*^9, 
   3.625396822012206*^9}, {3.625397278080206*^9, 3.625397286703206*^9}, {
   3.625397356979206*^9, 3.625397360745206*^9}, {3.625397393224206*^9, 
   3.625397412793206*^9}, 3.625397485962206*^9, 3.6253976759432063`*^9, {
   3.625397870557206*^9, 3.625397886620206*^9}, {3.6253980907982063`*^9, 
   3.625398138040206*^9}, 3.6254892571185446`*^9, {3.6255045480612345`*^9, 
   3.625504599430371*^9}, {3.62550653711412*^9, 3.6255067254919558`*^9}, {
   3.6255086611244993`*^9, 3.6255087062530117`*^9}, {3.6255706877580695`*^9, 
   3.6255707682331614`*^9}, 
   3.6881084302504935`*^9},ExpressionUUID->"bb6b6d43-4339-4900-af57-\
22bd2c0e720a"],

Cell[BoxData[
 RowBox[{
  RowBox[{"addRules", "[", "rules_", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Union", "[", 
     RowBox[{"Flatten", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"Switch", "[", 
         RowBox[{
          RowBox[{"Head", "[", "#", "]"}], ",", "\[IndentingNewLine]", 
          "String", ",", 
          RowBox[{"{", 
           RowBox[{"#", ",", 
            RowBox[{"ToUpperCase", "[", "#", "]"}], ",", 
            RowBox[{"ToLowerCase", "[", "#", "]"}]}], "}"}], ",", 
          "\[IndentingNewLine]", "Symbol", ",", 
          RowBox[{"{", 
           RowBox[{"#", ",", 
            RowBox[{"ToString", "[", "#", "]"}], ",", 
            RowBox[{"ToUpperCase", "[", 
             RowBox[{"ToString", "[", "#", "]"}], "]"}], ",", 
            RowBox[{"ToLowerCase", "[", 
             RowBox[{"ToString", "[", "#", "]"}], "]"}], ",", 
            RowBox[{"Symbol", "@", 
             RowBox[{"ToUpperCase", "[", 
              RowBox[{"ToString", "[", "#", "]"}], "]"}]}], ",", 
            RowBox[{"Symbol", "@", 
             RowBox[{"ToLowerCase", "[", 
              RowBox[{"ToString", "[", "#", "]"}], "]"}]}]}], "}"}], ",", 
          "\[IndentingNewLine]", "Rule", ",", 
          RowBox[{"Block", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"a", "=", 
               RowBox[{
               "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}]}], 
              ",", 
              RowBox[{"b", "=", 
               RowBox[{
               "#", "\[LeftDoubleBracket]", "2", 
                "\[RightDoubleBracket]"}]}]}], "}"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"Map", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Rule", "[", 
                RowBox[{"#", ",", "b"}], "]"}], "&"}], ",", 
              RowBox[{"{", 
               RowBox[{"a", ",", 
                RowBox[{"ToString", "[", "a", "]"}], ",", 
                RowBox[{"ToUpperCase", "[", 
                 RowBox[{"ToString", "[", "a", "]"}], "]"}], ",", 
                RowBox[{"ToLowerCase", "[", 
                 RowBox[{"ToString", "[", "a", "]"}], "]"}], ",", 
                RowBox[{"Symbol", "@", 
                 RowBox[{"ToUpperCase", "[", 
                  RowBox[{"ToString", "[", "a", "]"}], "]"}]}], ",", 
                RowBox[{"Symbol", "@", 
                 RowBox[{"ToLowerCase", "[", 
                  RowBox[{"ToString", "[", "a", "]"}], "]"}]}]}], "}"}]}], 
             "]"}]}], "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", 
         "]"}], "&"}], "/@", "rules"}], "]"}], "]"}]}], "\[IndentingNewLine]",
    "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.570200618484723*^9, 3.5702007976665525`*^9}, {
  3.5702008446325493`*^9, 3.5702008921222973`*^9}},
 CellLabel->
  "(Local2) In[336]:=",ExpressionUUID->"bd5bd88e-155a-490d-8c5e-97d8cced3d8c"]
}, Closed]],

Cell[CellGroupData[{

Cell["Write Elements", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.625466784367544*^9, 
  3.6254667863435445`*^9}},ExpressionUUID->"9308bd34-e394-48cf-abd7-\
3d6db5788e1f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"formatString", "[", "in_", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Switch", "[", 
     RowBox[{
      RowBox[{"Head", "[", "in", "]"}], ",", "\[IndentingNewLine]", "String", 
      ",", "in", ",", "\[IndentingNewLine]", "Real", ",", 
      RowBox[{"ToString", "[", 
       RowBox[{"numberRight", "[", "in", "]"}], "]"}], ",", 
      "\[IndentingNewLine]", "Integer", ",", 
      RowBox[{"ToString", "[", "in", "]"}], ",", "\[IndentingNewLine]", 
      "Rational", ",", 
      RowBox[{"ToString", "[", 
       RowBox[{"CForm", "[", "in", "]"}], "]"}], ",", "\[IndentingNewLine]", 
      "List", ",", 
      RowBox[{"MapIndexed", "[", 
       RowBox[{
        RowBox[{
         RowBox[{
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"#2", "[", 
              RowBox[{"[", "1", "]"}], "]"}], ">", "1"}], ",", "\"\<,\>\"", 
            ",", "\"\<\>\""}], "]"}], "<>", 
          RowBox[{"ToString", "[", 
           RowBox[{"CForm", "[", "#", "]"}], "]"}]}], "&"}], ",", "in"}], 
       "]"}], ",", "\[IndentingNewLine]", "_", ",", 
      RowBox[{"ToString", "[", 
       RowBox[{"numberRight", "[", "in", "]"}], "]"}]}], 
     "\[IndentingNewLine]", "]"}]}], "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019829620919*^9, 3.5701983606241903`*^9}, {
   3.57019842636419*^9, 3.57019843193119*^9}, 3.57019846621719*^9, 
   3.57019850869519*^9, {3.57019854955619*^9, 3.5701985761461897`*^9}, {
   3.57019865935719*^9, 3.57019865951719*^9}, {3.625398036415206*^9, 
   3.625398063927206*^9}, {3.679850336883151*^9, 3.6798503418851514`*^9}, 
   3.775202804964041*^9, 3.7752029169478455`*^9},
 CellLabel->
  "(Local2) In[337]:=",ExpressionUUID->"a751db80-8a14-42d4-ac00-32ef29100ef8"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"MADNameRules", "=", 
  RowBox[{"{", 
   RowBox[{
    RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}], ",", " ", 
    RowBox[{"\"\<$\>\"", "\[Rule]", "\"\<\>\""}]}], "}"}]}]], "Input",
 CellChangeTimes->{{3.7870531436385365`*^9, 3.787053147565036*^9}},
 CellLabel->
  "In[585]:=",ExpressionUUID->"47c5b784-984c-463a-a0a6-246ba4910b46"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{
   RowBox[{"\<\"-\"\>", "\[Rule]", "\<\"\"\>"}], ",", 
   RowBox[{"\<\"$\"\>", "\[Rule]", "\<\"\"\>"}]}], "}"}]], "Output",
 CellChangeTimes->{3.787053149220623*^9},
 CellLabel->
  "Out[585]=",ExpressionUUID->"77394671-a8e1-42d4-9f7c-c4d1563b32e9"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "MADElementNames", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MADElementNames", "[", 
   RowBox[{
    RowBox[{"elementLine", "[", "list__", "]"}], ",", 
    RowBox[{"type_:", "None"}]}], "]"}], ":=", 
  RowBox[{"MADElementNames", "/@", 
   RowBox[{"Select", "[", 
    RowBox[{
     RowBox[{"DeleteDuplicates", "[", 
      RowBox[{"Cases", "[", 
       RowBox[{
        RowBox[{"{", "list", "}"}], ",", 
        RowBox[{"elementDefinition", "[", "__Rule", "]"}], ",", 
        "\[Infinity]"}], "]"}], "]"}], ",", 
     RowBox[{
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"type", "===", "None"}], ",", "True", ",", 
        RowBox[{"StringMatchQ", "[", 
         RowBox[{
          RowBox[{"ToUpperCase", "[", 
           RowBox[{"(", 
            RowBox[{"\"\<TYPE\>\"", "/.", "#"}], ")"}], "]"}], ",", 
          RowBox[{"ToUpperCase", "[", "type", "]"}]}], "]"}]}], "]"}], 
      "&"}]}], "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MADElementNames", "[", 
   RowBox[{"elementDefinition", "[", "list__Rule", "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "element", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"element", "=", 
      RowBox[{"capitalRuleNames", "[", 
       RowBox[{"elementDefinition", "[", "list", "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Rule", "[", 
      RowBox[{
       RowBox[{"StringTake", "[", 
        RowBox[{
         RowBox[{"StringReplace", "[", 
          RowBox[{
           RowBox[{"\"\<NAME\>\"", "/.", "element"}], ",", "MADNameRules"}], 
          "]"}], ",", 
         RowBox[{"UpTo", "[", "16", "]"}]}], "]"}], ",", 
       RowBox[{"\"\<NAME\>\"", "/.", "element"}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019801093719*^9, 3.57019801445719*^9}, {
   3.5701981422561903`*^9, 3.57019814531219*^9}, {3.57019838052919*^9, 
   3.57019838180919*^9}, {3.57019859369919*^9, 3.57019859446719*^9}, 
   3.57019864779219*^9, {3.570346797677457*^9, 3.570346812343901*^9}, {
   3.5703469565009403`*^9, 3.570346956812942*^9}, {3.5703591134046783`*^9, 
   3.5703591147706785`*^9}, {3.5703600042040215`*^9, 
   3.5703600241260138`*^9}, {3.570360058575458*^9, 3.570360061911792*^9}, {
   3.5703601367052703`*^9, 3.570360139187518*^9}, {3.5703602976456733`*^9, 
   3.5703602991186733`*^9}, {3.5703603517226734`*^9, 3.570360415174673*^9}, {
   3.570360971299673*^9, 3.570361032735673*^9}, 3.5703610850526733`*^9, {
   3.570431100858687*^9, 3.5704311065002513`*^9}, {3.570431258889488*^9, 
   3.570431276137213*^9}, {3.570431328235422*^9, 3.5704313641410127`*^9}, {
   3.5704321102636175`*^9, 3.5704322419967895`*^9}, {3.570432387985387*^9, 
   3.5704323889614844`*^9}, 3.625488183808544*^9, {3.787052322626586*^9, 
   3.7870523423322744`*^9}, {3.787052519159854*^9, 3.7870525273250513`*^9}, {
   3.787053073697483*^9, 3.787053097918632*^9}, 3.787053153485191*^9, {
   3.7948919719728346`*^9, 3.794891979188553*^9}, 3.794892012054678*^9, {
   3.7948920657652626`*^9, 3.794892183617099*^9}, {3.7948922315679116`*^9, 
   3.7948922464036713`*^9}, 3.794892529164194*^9, {3.79489256609577*^9, 
   3.7948925680086493`*^9}, {3.794892604484499*^9, 3.794892781510473*^9}, {
   3.7948928697593765`*^9, 3.7948930117666435`*^9}, {3.7948930437758417`*^9, 
   3.794893081873839*^9}, {3.794898862507173*^9, 3.794898871613902*^9}, {
   3.794898917963188*^9, 
   3.794898952178195*^9}},ExpressionUUID->"602abb21-61d6-49f8-9f7d-\
5ee421c7615b"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "MADWriteElements", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MADWriteElements", "[", 
   RowBox[{"elementLine", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"MADWriteElements", "/@", 
   RowBox[{"Union", "[", 
    RowBox[{"Cases", "[", 
     RowBox[{
      RowBox[{"{", "list", "}"}], ",", 
      RowBox[{"elementDefinition", "[", "__Rule", "]"}], ",", "\[Infinity]"}],
      "]"}], "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MADWriteElements", "[", 
   RowBox[{"elementDefinition", "[", "list__Rule", "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "element", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"element", "=", 
      RowBox[{"capitalRuleNames", "[", 
       RowBox[{"elementDefinition", "[", "list", "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"StringReplace", "[", 
       RowBox[{
        RowBox[{"\"\<NAME\>\"", "/.", "element"}], ",", "MADNameRules"}], 
       "]"}], "<>", "\"\<:\>\"", "<>", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"\"\<TYPE\>\"", "/.", 
         RowBox[{"Cases", "[", 
          RowBox[{
           RowBox[{"MADRules", "[", 
            RowBox[{"ToUpperCase", "[", 
             RowBox[{"Evaluate", "[", 
              RowBox[{"\"\<TYPE\>\"", "/.", "element"}], "]"}], "]"}], "]"}], 
           ",", 
           RowBox[{
            RowBox[{"Rule", "[", 
             RowBox[{"\"\<TYPE\>\"", ",", "a_"}], "]"}], "\[RuleDelayed]", 
            RowBox[{"Rule", "[", 
             RowBox[{"\"\<TYPE\>\"", ",", "a"}], "]"}]}]}], "]"}]}], "/.", 
        "element"}], ")"}], "<>", 
      RowBox[{"StringJoin", "@@", 
       RowBox[{"(", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"Switch", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"Head", "[", "#", "]"}], ",", "\[IndentingNewLine]", 
            "Symbol", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"#", "/.", "element"}], "/.", 
                 RowBox[{"{", 
                  RowBox[{"#", "\[Rule]", "Null"}], "}"}]}], ")"}], "=!=", 
               "Null"}], ",", 
              RowBox[{"\"\<,\>\"", "<>", 
               RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
               RowBox[{"formatString", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"(", 
                  RowBox[{"#", "/.", "element"}], ")"}], "]"}], "]"}]}], ",", 
              "\"\<\>\""}], "]"}], ",", "\[IndentingNewLine]", "String", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"#", "/.", "element"}], "/.", 
                 RowBox[{"{", 
                  RowBox[{"#", "\[Rule]", "Null"}], "}"}]}], ")"}], "=!=", 
               "Null"}], ",", 
              RowBox[{"\"\<,\>\"", "<>", 
               RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
               RowBox[{"formatString", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"(", 
                  RowBox[{"#", "/.", "element"}], ")"}], "]"}], "]"}]}], ",", 
              "\"\<\>\""}], "]"}], ",", "\[IndentingNewLine]", "Rule", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                  "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}],
                   "/.", "element"}], "/.", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                   "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "\[Rule]", "Null"}], "}"}]}], 
                ")"}], "=!=", "Null"}], ",", 
              RowBox[{"\"\<,\>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{
                "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
                "]"}], "<>", "\"\<=\>\"", "<>", 
               RowBox[{"formatString", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                   "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "/.", "element"}], ")"}], 
                 "]"}], "]"}]}], ",", "\"\<\>\""}], "]"}]}], 
           "\[IndentingNewLine]", "]"}], "&"}], "/@", 
         RowBox[{"DeleteCases", "[", 
          RowBox[{
           RowBox[{"MADRules", "[", 
            RowBox[{"ToUpperCase", "[", 
             RowBox[{"Evaluate", "[", 
              RowBox[{"\"\<TYPE\>\"", "/.", "element"}], "]"}], "]"}], "]"}], 
           ",", 
           RowBox[{"Rule", "[", 
            RowBox[{"\"\<TYPE\>\"", ",", "a_"}], "]"}]}], "]"}]}], ")"}]}], 
      "<>", "\"\<;\\n\>\""}]}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019801093719*^9, 3.57019801445719*^9}, {
   3.5701981422561903`*^9, 3.57019814531219*^9}, {3.57019838052919*^9, 
   3.57019838180919*^9}, {3.57019859369919*^9, 3.57019859446719*^9}, 
   3.57019864779219*^9, {3.570346797677457*^9, 3.570346812343901*^9}, {
   3.5703469565009403`*^9, 3.570346956812942*^9}, {3.5703591134046783`*^9, 
   3.5703591147706785`*^9}, {3.5703600042040215`*^9, 
   3.5703600241260138`*^9}, {3.570360058575458*^9, 3.570360061911792*^9}, {
   3.5703601367052703`*^9, 3.570360139187518*^9}, {3.5703602976456733`*^9, 
   3.5703602991186733`*^9}, {3.5703603517226734`*^9, 3.570360415174673*^9}, {
   3.570360971299673*^9, 3.570361032735673*^9}, 3.5703610850526733`*^9, {
   3.570431100858687*^9, 3.5704311065002513`*^9}, {3.570431258889488*^9, 
   3.570431276137213*^9}, {3.570431328235422*^9, 3.5704313641410127`*^9}, {
   3.5704321102636175`*^9, 3.5704322419967895`*^9}, {3.570432387985387*^9, 
   3.5704323889614844`*^9}, 3.625488183808544*^9, {3.787052322626586*^9, 
   3.7870523423322744`*^9}, {3.787052519159854*^9, 3.7870525273250513`*^9}, {
   3.787053073697483*^9, 3.787053097918632*^9}, 
   3.787053153485191*^9},ExpressionUUID->"d56cafe4-6dcf-40d1-9c8f-\
c7b65bd9a730"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "generateLineDefinitionMAD", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"generateLineDefinitionMAD", "[", 
   RowBox[{
    RowBox[{"line", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", "file_", ",", 
    RowBox[{"subline_:", "False"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Not", "[", "subline", "]"}], ",", 
       RowBox[{"generatedLines", "=", 
        RowBox[{"{", "}"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Map", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"generateLineDefinitionMAD", "[", 
         RowBox[{"#", ",", "file", ",", "True"}], "]"}], "&"}], ",", 
       RowBox[{"Union", "[", 
        RowBox[{
         RowBox[{"Select", "[", 
          RowBox[{
           RowBox[{"{", "list", "}"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Head", "[", "#", "]"}], "===", "elementLine"}], "&"}]}],
           "]"}], ",", 
         RowBox[{"SameTest", "\[Rule]", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"ToUpperCase", "[", 
              RowBox[{"#1", "[", "\"\<NAME\>\"", "]"}], "]"}], "===", 
             RowBox[{"ToUpperCase", "[", 
              RowBox[{"#2", "[", "\"\<NAME\>\"", "]"}], "]"}]}], "&"}], 
           ")"}]}]}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"MemberQ", "[", 
         RowBox[{"generatedLines", ",", 
          RowBox[{"StringReplace", "[", 
           RowBox[{
            RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", "MADNameRules"}],
            "]"}]}], "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"AppendTo", "[", 
         RowBox[{"generatedLines", ",", 
          RowBox[{"StringReplace", "[", 
           RowBox[{
            RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", "MADNameRules"}],
            "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
            RowBox[{"StringReplace", "[", 
             RowBox[{
              RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", 
              RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "<>", 
            "\"\<: Line = (\>\"", "<>", 
            RowBox[{"StringJoin", "@@", "\[IndentingNewLine]", 
             RowBox[{"MapIndexed", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"#2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ">", "1"}], ",", 
                   "\"\<,\>\"", ",", "\"\<\>\""}], "]"}], "<>", 
                 RowBox[{"ToString", "[", "#", "]"}]}], "&"}], ",", 
               RowBox[{"Names", "[", 
                RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}], 
            "<>", "\"\<)\\n\>\""}], "]"}], ";"}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"WriteString", "[", 
         RowBox[{"file", ",", 
          RowBox[{"wrapString", "[", 
           RowBox[{
            RowBox[{"StringReplace", "[", 
             RowBox[{
              RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", 
              "MADNameRules"}], "]"}], "<>", "\"\<: Line = (\>\"", "<>", 
            RowBox[{"StringJoin", "@@", "\[IndentingNewLine]", 
             RowBox[{"MapIndexed", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"#2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ">", "1"}], ",", 
                   "\"\<,\>\"", ",", "\"\<\>\""}], "]"}], "<>", 
                 RowBox[{"StringReplace", "[", 
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], ",", "MADNameRules"}],
                   "]"}]}], "&"}], ",", 
               RowBox[{"Names", "[", 
                RowBox[{
                 RowBox[{"elementLine", "[", "list", "]"}], ",", "True"}], 
                "]"}]}], "]"}]}], "<>", "\"\<);\\n\>\""}], "]"}]}], "]"}]}]}],
       "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.570361290834673*^9, 3.570361333238673*^9}, {
   3.5703613633476734`*^9, 3.570361420523982*^9}, {3.570361450864049*^9, 
   3.5703614652659287`*^9}, 3.5703615198658466`*^9, {3.570361992985564*^9, 
   3.5703620231305785`*^9}, {3.570431167681369*^9, 3.570431241264726*^9}, {
   3.5704322601176014`*^9, 3.5704322685024395`*^9}, {3.5704323283284216`*^9, 
   3.5704323514487333`*^9}, {3.625309990057452*^9, 3.625309995711017*^9}, {
   3.625313471851597*^9, 3.6253135461900296`*^9}, {3.625313621560566*^9, 
   3.6253136752829375`*^9}, {3.625313714347844*^9, 3.625313721148524*^9}, {
   3.6253199118335304`*^9, 3.6253199388662333`*^9}, {3.6253199826206083`*^9, 
   3.625320066863032*^9}, {3.62532108925226*^9, 3.6253211874310775`*^9}, {
   3.6253212431136456`*^9, 3.6253213773990726`*^9}, {3.625321427320064*^9, 
   3.625321460976429*^9}, {3.625321494578789*^9, 3.625321636063936*^9}, {
   3.6253216904423733`*^9, 3.625321709458275*^9}, {3.6253219080011272`*^9, 
   3.62532196734006*^9}, {3.625322027454071*^9, 3.625322075975923*^9}, {
   3.625322214547779*^9, 3.6253222481331367`*^9}, {3.6253223323585587`*^9, 
   3.6253223533376565`*^9}, {3.625322383555678*^9, 3.625322415099832*^9}, 
   3.625322896316949*^9, {3.625322941046421*^9, 3.6253229437106876`*^9}, {
   3.625322992795596*^9, 3.6253231244447594`*^9}, {3.6253231773590508`*^9, 
   3.62532324016133*^9}, {3.6253239485381603`*^9, 3.6253240400613117`*^9}, {
   3.6253240895522604`*^9, 3.6253240902243276`*^9}, {3.6253241324255476`*^9, 
   3.6253242284451485`*^9}, {3.625324270694373*^9, 3.6253244164439464`*^9}, {
   3.6253244476680684`*^9, 3.6253244478280845`*^9}, {3.6253246524195414`*^9, 
   3.6253246563159313`*^9}, {3.6253247938406825`*^9, 3.6253248068409824`*^9}, 
   3.6253249012284203`*^9, {3.6253893494829965`*^9, 3.6253894191309605`*^9}, {
   3.6253894534853954`*^9, 3.625389501015148*^9}, {3.6253895692169676`*^9, 
   3.625389569609007*^9}, 3.6253962278382063`*^9, {3.6979749811553946`*^9, 
   3.6979750507983947`*^9}, {3.6979753020543947`*^9, 3.697975304606395*^9}, {
   3.6979759422213945`*^9, 3.6979759467643948`*^9}, 3.697976081788395*^9, {
   3.6979767535463943`*^9, 3.697976758259595*^9}, {3.697976796029195*^9, 
   3.697976799530595*^9}, {3.6979768524597945`*^9, 3.6979768543815947`*^9}, {
   3.6979768897037945`*^9, 3.6979768926217947`*^9}, 3.699599268133422*^9, {
   3.699603796518922*^9, 3.6996038005974216`*^9}, {3.7047999296305447`*^9, 
   3.704799930769345*^9}, {3.7870531080335674`*^9, 3.78705315872721*^9}, {
   3.78705322460048*^9, 3.787053228285062*^9}, 3.7870532894289846`*^9, {
   3.7886075511566095`*^9, 3.788607552728405*^9}, {3.788615896822456*^9, 
   3.7886159100721316`*^9}},ExpressionUUID->"fbdbf797-eaa6-4ec0-911f-\
44bb0de22ca0"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "generateLineDefinition", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"generateLineDefinition", "[", 
   RowBox[{
    RowBox[{"line", ":", 
     RowBox[{"elementLine", "[", "list__", "]"}]}], ",", "file_", ",", 
    RowBox[{"subline_:", "False"}]}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"Not", "[", "subline", "]"}], ",", 
       RowBox[{"generatedLines", "=", 
        RowBox[{"{", "}"}]}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"Map", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"generateLineDefinition", "[", 
         RowBox[{"#", ",", "file", ",", "True"}], "]"}], "&"}], ",", 
       RowBox[{"Union", "[", 
        RowBox[{
         RowBox[{"Select", "[", 
          RowBox[{
           RowBox[{"{", "list", "}"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Head", "[", "#", "]"}], "===", "elementLine"}], "&"}]}],
           "]"}], ",", 
         RowBox[{"SameTest", "\[Rule]", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{
             RowBox[{"ToUpperCase", "[", 
              RowBox[{"#1", "[", "\"\<NAME\>\"", "]"}], "]"}], "===", 
             RowBox[{"ToUpperCase", "[", 
              RowBox[{"#2", "[", "\"\<NAME\>\"", "]"}], "]"}]}], "&"}], 
           ")"}]}]}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"!", 
        RowBox[{"MemberQ", "[", 
         RowBox[{"generatedLines", ",", 
          RowBox[{"ToUpperCase", "[", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", 
             RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "]"}]}], 
         "]"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"AppendTo", "[", 
         RowBox[{"generatedLines", ",", 
          RowBox[{"ToUpperCase", "[", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", 
             RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "]"}]}], 
         "]"}], ";", "\[IndentingNewLine]", 
        RowBox[{"(*", 
         RowBox[{
          RowBox[{"Print", "[", 
           RowBox[{
            RowBox[{"StringReplace", "[", 
             RowBox[{
              RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", 
              RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "<>", 
            "\"\<: Line = (\>\"", "<>", 
            RowBox[{"StringJoin", "@@", "\[IndentingNewLine]", 
             RowBox[{"MapIndexed", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"#2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ">", "1"}], ",", 
                   "\"\<,\>\"", ",", "\"\<\>\""}], "]"}], "<>", 
                 RowBox[{"ToString", "[", "#", "]"}]}], "&"}], ",", 
               RowBox[{"Names", "[", 
                RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}], 
            "<>", "\"\<)\\n\>\""}], "]"}], ";"}], "*)"}], 
        "\[IndentingNewLine]", 
        RowBox[{"WriteString", "[", 
         RowBox[{"file", ",", 
          RowBox[{"wrapString", "[", 
           RowBox[{
            RowBox[{"StringReplace", "[", 
             RowBox[{
              RowBox[{"line", "[", "\"\<NAME\>\"", "]"}], ",", 
              RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "<>", 
            "\"\<: Line = (\>\"", "<>", 
            RowBox[{"StringJoin", "@@", "\[IndentingNewLine]", 
             RowBox[{"MapIndexed", "[", 
              RowBox[{
               RowBox[{
                RowBox[{
                 RowBox[{"If", "[", 
                  RowBox[{
                   RowBox[{
                    RowBox[{"#2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], ">", "1"}], ",", 
                   "\"\<,\>\"", ",", "\"\<\>\""}], "]"}], "<>", 
                 RowBox[{"ToString", "[", "#", "]"}]}], "&"}], ",", 
               RowBox[{"Names", "[", 
                RowBox[{
                 RowBox[{"elementLine", "[", "list", "]"}], ",", "True"}], 
                "]"}]}], "]"}]}], "<>", "\"\<)\\n\>\""}], "]"}]}], "]"}]}]}], 
      "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.570361290834673*^9, 3.570361333238673*^9}, {
   3.5703613633476734`*^9, 3.570361420523982*^9}, {3.570361450864049*^9, 
   3.5703614652659287`*^9}, 3.5703615198658466`*^9, {3.570361992985564*^9, 
   3.5703620231305785`*^9}, {3.570431167681369*^9, 3.570431241264726*^9}, {
   3.5704322601176014`*^9, 3.5704322685024395`*^9}, {3.5704323283284216`*^9, 
   3.5704323514487333`*^9}, {3.625309990057452*^9, 3.625309995711017*^9}, {
   3.625313471851597*^9, 3.6253135461900296`*^9}, {3.625313621560566*^9, 
   3.6253136752829375`*^9}, {3.625313714347844*^9, 3.625313721148524*^9}, {
   3.6253199118335304`*^9, 3.6253199388662333`*^9}, {3.6253199826206083`*^9, 
   3.625320066863032*^9}, {3.62532108925226*^9, 3.6253211874310775`*^9}, {
   3.6253212431136456`*^9, 3.6253213773990726`*^9}, {3.625321427320064*^9, 
   3.625321460976429*^9}, {3.625321494578789*^9, 3.625321636063936*^9}, {
   3.6253216904423733`*^9, 3.625321709458275*^9}, {3.6253219080011272`*^9, 
   3.62532196734006*^9}, {3.625322027454071*^9, 3.625322075975923*^9}, {
   3.625322214547779*^9, 3.6253222481331367`*^9}, {3.6253223323585587`*^9, 
   3.6253223533376565`*^9}, {3.625322383555678*^9, 3.625322415099832*^9}, 
   3.625322896316949*^9, {3.625322941046421*^9, 3.6253229437106876`*^9}, {
   3.625322992795596*^9, 3.6253231244447594`*^9}, {3.6253231773590508`*^9, 
   3.62532324016133*^9}, {3.6253239485381603`*^9, 3.6253240400613117`*^9}, {
   3.6253240895522604`*^9, 3.6253240902243276`*^9}, {3.6253241324255476`*^9, 
   3.6253242284451485`*^9}, {3.625324270694373*^9, 3.6253244164439464`*^9}, {
   3.6253244476680684`*^9, 3.6253244478280845`*^9}, {3.6253246524195414`*^9, 
   3.6253246563159313`*^9}, {3.6253247938406825`*^9, 3.6253248068409824`*^9}, 
   3.6253249012284203`*^9, {3.6253893494829965`*^9, 3.6253894191309605`*^9}, {
   3.6253894534853954`*^9, 3.625389501015148*^9}, {3.6253895692169676`*^9, 
   3.625389569609007*^9}, 3.6253962278382063`*^9, {3.6979749811553946`*^9, 
   3.6979750507983947`*^9}, {3.6979753020543947`*^9, 3.697975304606395*^9}, {
   3.6979759422213945`*^9, 3.6979759467643948`*^9}, 3.697976081788395*^9, {
   3.6979767535463943`*^9, 3.697976758259595*^9}, {3.697976796029195*^9, 
   3.697976799530595*^9}, {3.6979768524597945`*^9, 3.6979768543815947`*^9}, {
   3.6979768897037945`*^9, 3.6979768926217947`*^9}, 3.699599268133422*^9, {
   3.699603796518922*^9, 3.6996038005974216`*^9}, {3.7047999296305447`*^9, 
   3.704799930769345*^9}, {3.788607520760275*^9, 3.7886075210584517`*^9}, {
   3.788615520781139*^9, 3.788615541371274*^9}, {3.7886156503887033`*^9, 
   3.788615798469866*^9}, {3.788615839589263*^9, 3.7886158713017273`*^9}, {
   3.7886159053098264`*^9, 
   3.788615905445523*^9}},ExpressionUUID->"ff79a171-1628-4ffa-bf9c-\
7821cbaf906f"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "MADWriteElementStrings", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"MADWriteElementStrings", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"MADWriteElementStrings", "[", "lattice_Symbol", "]"}], "/;", 
    RowBox[{
     RowBox[{"Head", "[", 
      RowBox[{"Evaluate", "[", "lattice", "]"}], "]"}], "\[Equal]", 
     "elementLine"}]}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"generatedLines", "=", 
       RowBox[{"{", "\"\<NAME\>\"", "}"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"MADWriteElements", "[", "lattice", "]"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MADWriteElementStrings", "[", "lattice_elementLine", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"MADWriteElements", "[", "lattice", "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019763902419*^9, 3.57019764006419*^9}, {
   3.57019777415119*^9, 3.57019778797519*^9}, {3.5701978746571903`*^9, 
   3.57019789715219*^9}, {3.57019795106819*^9, 3.57019799565819*^9}, {
   3.57019808544419*^9, 3.57019813481719*^9}, {3.57019827800819*^9, 
   3.57019828042519*^9}, {3.57019836937819*^9, 3.5701983756501904`*^9}, {
   3.57019858629219*^9, 3.57019859259619*^9}, {3.57019864310419*^9, 
   3.57019864441719*^9}, {3.5703468137793407`*^9, 3.570346820394843*^9}, {
   3.570350264329013*^9, 3.5703503436269417`*^9}, {3.5703503745090294`*^9, 
   3.5703505545280294`*^9}, 3.570350691317707*^9, {3.5703507390154767`*^9, 
   3.5703508049220667`*^9}, {3.625300331901733*^9, 3.625300342845827*^9}, {
   3.6253007924457827`*^9, 3.6253008129428325`*^9}, 3.62530110414495*^9, {
   3.6253012738949227`*^9, 3.6253013553780704`*^9}, {3.6253101261400585`*^9, 
   3.6253101357160163`*^9}, {3.625312093738799*^9, 3.6253120997624016`*^9}, {
   3.6253133776801805`*^9, 3.6253133822236347`*^9}, {3.625319958819228*^9, 
   3.6253199622105675`*^9}, {3.6253224466439857`*^9, 
   3.6253224469010115`*^9}, {3.6253228705633736`*^9, 3.625322875066824*^9}, {
   3.625323273225636*^9, 3.625323274984812*^9}, {3.6253233335076637`*^9, 
   3.6253233405793705`*^9}, 3.62538954883993*^9, {3.625416238278206*^9, 
   3.625416240302206*^9}, {3.6254162831002064`*^9, 3.625416284819206*^9}, {
   3.6254163618902063`*^9, 3.625416362050206*^9}, {3.787052416393442*^9, 
   3.787052427599784*^9}},ExpressionUUID->"e9cfeb0f-c743-4d58-a381-\
1c0874f942e9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "elegantWriteElements", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elegantWriteElements", "[", 
   RowBox[{"elementLine", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"elegantWriteElements", "/@", 
   RowBox[{"Union", "[", 
    RowBox[{
     RowBox[{"Cases", "[", 
      RowBox[{
       RowBox[{"{", "list", "}"}], ",", 
       RowBox[{"elementDefinition", "[", "__Rule", "]"}], ",", 
       "\[Infinity]"}], "]"}], ",", 
     RowBox[{"SameTest", "\[Rule]", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"ToUpperCase", "[", 
          RowBox[{"#1", "[", "\"\<NAME\>\"", "]"}], "]"}], "===", 
         RowBox[{"ToUpperCase", "[", 
          RowBox[{"#2", "[", "\"\<NAME\>\"", "]"}], "]"}]}], "&"}], ")"}]}]}],
     "]"}]}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elegantWriteElements", "[", 
   RowBox[{"elementDefinition", "[", "list__Rule", "]"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "element", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"element", "=", 
      RowBox[{"capitalRuleNames", "[", 
       RowBox[{"elementDefinition", "[", "list", "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{"\"\<NAME\>\"", "/.", "element"}], ")"}], "<>", "\"\<:\>\"", "<>", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"\"\<TYPE\>\"", "/.", 
         RowBox[{"Cases", "[", 
          RowBox[{
           RowBox[{"ElegantRules", "[", 
            RowBox[{"ToUpperCase", "[", 
             RowBox[{"Evaluate", "[", 
              RowBox[{"\"\<TYPE\>\"", "/.", "element"}], "]"}], "]"}], "]"}], 
           ",", 
           RowBox[{
            RowBox[{"Rule", "[", 
             RowBox[{"\"\<TYPE\>\"", ",", "a_"}], "]"}], "\[RuleDelayed]", 
            RowBox[{"Rule", "[", 
             RowBox[{"\"\<TYPE\>\"", ",", "a"}], "]"}]}]}], "]"}]}], "/.", 
        "element"}], ")"}], "<>", 
      RowBox[{"StringJoin", "@@", 
       RowBox[{"(", "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{
          RowBox[{"Switch", "[", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{"Head", "[", "#", "]"}], ",", "\[IndentingNewLine]", 
            "Symbol", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"#", "/.", "element"}], "/.", 
                 RowBox[{"{", 
                  RowBox[{"#", "\[Rule]", "Null"}], "}"}]}], ")"}], "=!=", 
               "Null"}], ",", 
              RowBox[{"\"\<,\>\"", "<>", 
               RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
               RowBox[{"formatString", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"(", 
                  RowBox[{"#", "/.", "element"}], ")"}], "]"}], "]"}]}], ",", 
              "\"\<\>\""}], "]"}], ",", "\[IndentingNewLine]", "String", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{"#", "/.", "element"}], "/.", 
                 RowBox[{"{", 
                  RowBox[{"#", "\[Rule]", "Null"}], "}"}]}], ")"}], "=!=", 
               "Null"}], ",", 
              RowBox[{"\"\<,\>\"", "<>", 
               RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
               RowBox[{"formatString", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"(", 
                  RowBox[{"#", "/.", "element"}], ")"}], "]"}], "]"}]}], ",", 
              "\"\<\>\""}], "]"}], ",", "\[IndentingNewLine]", "Rule", ",", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"(", 
                RowBox[{
                 RowBox[{
                  RowBox[{
                  "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}],
                   "/.", "element"}], "/.", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                   "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "\[Rule]", "Null"}], "}"}]}], 
                ")"}], "=!=", "Null"}], ",", 
              RowBox[{"\"\<,\>\"", "<>", 
               RowBox[{"ToString", "[", 
                RowBox[{
                "#", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
                "]"}], "<>", "\"\<=\>\"", "<>", 
               RowBox[{"formatString", "[", 
                RowBox[{"Evaluate", "[", 
                 RowBox[{"(", 
                  RowBox[{
                   RowBox[{
                   "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "/.", "element"}], ")"}], 
                 "]"}], "]"}]}], ",", "\"\<\>\""}], "]"}]}], 
           "\[IndentingNewLine]", "]"}], "&"}], "/@", 
         RowBox[{"DeleteCases", "[", 
          RowBox[{
           RowBox[{"ElegantRules", "[", 
            RowBox[{"ToUpperCase", "[", 
             RowBox[{"Evaluate", "[", 
              RowBox[{"\"\<TYPE\>\"", "/.", "element"}], "]"}], "]"}], "]"}], 
           ",", 
           RowBox[{"Rule", "[", 
            RowBox[{"\"\<TYPE\>\"", ",", "a_"}], "]"}]}], "]"}]}], ")"}]}], 
      "<>", "\"\<;\\n\>\""}]}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.570350507079285*^9, 3.570350518864464*^9}, 
   3.5703591170846786`*^9, {3.6253010290954456`*^9, 3.625301035672103*^9}, 
   3.625301132667802*^9, {3.6253099320146484`*^9, 3.625309969103357*^9}, {
   3.625310037818228*^9, 3.6253100835317984`*^9}, {3.625312068699295*^9, 
   3.625312069890414*^9}, {3.625322526231944*^9, 3.6253225427615967`*^9}, {
   3.6253225801623363`*^9, 3.6253225842507453`*^9}, {3.6253226162759476`*^9, 
   3.625322715471866*^9}, {3.6253227477520943`*^9, 3.6253228511884365`*^9}, {
   3.625416267278206*^9, 3.625416270368206*^9}, 3.6254163569892063`*^9, {
   3.6254882502195444`*^9, 3.6254882546025443`*^9}, 3.6254882997695446`*^9, {
   3.6254883911955442`*^9, 3.6254883955215445`*^9}, {3.6254884499905443`*^9, 
   3.6254884539425445`*^9}, {3.6979750684703946`*^9, 
   3.6979750686463947`*^9}, {3.6979755030483947`*^9, 3.697975504040395*^9}, {
   3.788607398329852*^9, 3.7886074204390454`*^9}, {3.788607456831791*^9, 
   3.7886074581692133`*^9}},ExpressionUUID->"22b1ab32-4a40-486c-8aed-\
bf4ba36ec913"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "ElegantWriteElementStrings", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ElegantWriteElementStrings", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{
    RowBox[{"ElegantWriteElementStrings", "[", "lattice_Symbol", "]"}], "/;", 
    RowBox[{
     RowBox[{"Head", "[", 
      RowBox[{"Evaluate", "[", "lattice", "]"}], "]"}], "\[Equal]", 
     "elementLine"}]}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"generatedLines", "=", 
       RowBox[{"{", "\"\<NAME\>\"", "}"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"elegantWriteElements", "[", "lattice", "]"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ElegantWriteElementStrings", "[", "lattice_elementLine", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"elegantWriteElements", "[", "lattice", "]"}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019763902419*^9, 3.57019764006419*^9}, {
   3.57019777415119*^9, 3.57019778797519*^9}, {3.5701978746571903`*^9, 
   3.57019789715219*^9}, {3.57019795106819*^9, 3.57019799565819*^9}, {
   3.57019808544419*^9, 3.57019813481719*^9}, {3.57019827800819*^9, 
   3.57019828042519*^9}, {3.57019836937819*^9, 3.5701983756501904`*^9}, {
   3.57019858629219*^9, 3.57019859259619*^9}, {3.57019864310419*^9, 
   3.57019864441719*^9}, {3.5703468137793407`*^9, 3.570346820394843*^9}, {
   3.570350264329013*^9, 3.5703503436269417`*^9}, {3.5703503745090294`*^9, 
   3.5703505545280294`*^9}, 3.570350691317707*^9, {3.5703507390154767`*^9, 
   3.5703508049220667`*^9}, {3.625300331901733*^9, 3.625300342845827*^9}, {
   3.6253007924457827`*^9, 3.6253008129428325`*^9}, 3.62530110414495*^9, {
   3.6253012738949227`*^9, 3.6253013553780704`*^9}, {3.6253101261400585`*^9, 
   3.6253101357160163`*^9}, {3.625312093738799*^9, 3.6253120997624016`*^9}, {
   3.6253133776801805`*^9, 3.6253133822236347`*^9}, {3.625319958819228*^9, 
   3.6253199622105675`*^9}, {3.6253224466439857`*^9, 
   3.6253224469010115`*^9}, {3.6253228705633736`*^9, 3.625322875066824*^9}, {
   3.625323273225636*^9, 3.625323274984812*^9}, {3.6253233335076637`*^9, 
   3.6253233405793705`*^9}, 3.62538954883993*^9, {3.625416238278206*^9, 
   3.625416240302206*^9}, {3.6254162831002064`*^9, 3.625416284819206*^9}, {
   3.6254163618902063`*^9, 3.625416362050206*^9}},
 CellLabel->
  "(Local2) In[350]:=",ExpressionUUID->"b2ebf276-04c4-409e-931d-61fe664213f7"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "elegantWriteCommand", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elegantWriteCommand", "[", "list__commandDefinition", "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"Quiet", "@", 
     RowBox[{"Block", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"option", ",", "name"}], "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"option", "=", 
         RowBox[{"capitalRuleNames", "[", "#", "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"\"\<&\>\"", "<>", 
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", "option"}], ")"}], "<>", 
         "\"\<\\n\>\"", "<>", 
         RowBox[{"StringJoin", "@@", 
          RowBox[{"(", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"param", "=", 
                   RowBox[{
                    RowBox[{"#", "/.", "option"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"#", "\[Rule]", "Null"}], "}"}]}]}], ")"}], "=!=",
                  "Null"}], ",", "\[IndentingNewLine]", 
                RowBox[{"Switch", "[", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"Head", "[", "param", "]"}], ",", 
                  "\[IndentingNewLine]", "List", ",", 
                  RowBox[{
                   RowBox[{"name", "=", "#"}], ";", "\[IndentingNewLine]", 
                   RowBox[{"MapIndexed", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"Block", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"no", "=", 
                    RowBox[{
                    RowBox[{"#2", "[", 
                    RowBox[{"[", "1", "]"}], "]"}], "-", "1"}]}], "}"}], ",", 
                    "\[IndentingNewLine]", 
                    RowBox[{"\"\<\\t\>\"", "<>", 
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<[\>\"",
                     "<>", 
                    RowBox[{"ToString", "[", "no", "]"}], "<>", "\"\<]=\>\"", 
                    "<>", 
                    RowBox[{"formatString", "[", "#", "]"}], "<>", 
                    "\"\<\\n\>\""}]}], "]"}], "&"}], ",", "param"}], "]"}]}], 
                  ",", "\[IndentingNewLine]", "HoldForm", ",", 
                  RowBox[{"\"\<\\t\>\"", "<>", 
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", "param", "]"}], "<>", 
                   "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Symbol", ",", 
                  RowBox[{"\"\<\\t\>\"", "<>", 
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", "param", "]"}], "<>", 
                   "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "String", ",", 
                  RowBox[{"\"\<\\t\>\"", "<>", 
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", "param", "]"}], "<>", 
                   "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Integer", 
                  ",", 
                  RowBox[{"\"\<\\t\>\"", "<>", 
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", "param", "]"}], "]"}], "<>", 
                   "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Real", ",", 
                  RowBox[{"\"\<\\t\>\"", "<>", 
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", "param", "]"}], "]"}], "<>", 
                   "\"\<\\n\>\""}], ",", "\[IndentingNewLine]", "Rule", ",", 
                  RowBox[{"\"\<\\t\>\"", "<>", 
                   RowBox[{"ToString", "[", 
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", 
                    RowBox[{"Evaluate", "[", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "/.", "option"}], ")"}], "]"}],
                     "]"}], "<>", "\"\<\\n\>\""}], ",", "\[IndentingNewLine]",
                   "_", ",", 
                  RowBox[{"\"\<\\t\>\"", "<>", 
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", "param", "]"}], "<>", 
                   "\"\<\\n\>\""}]}], "\[IndentingNewLine]", "]"}], ",", 
                "\"\<\>\""}], "]"}], ")"}], "&"}], "/@", 
            RowBox[{"ElegantRules", "[", 
             RowBox[{"ToLowerCase", "[", 
              RowBox[{"Evaluate", "[", 
               RowBox[{"\"\<command\>\"", "/.", "option"}], "]"}], "]"}], 
             "]"}]}], ")"}]}], "<>", "\"\<&end\\n\\n\>\""}]}]}], 
      "\[IndentingNewLine]", "]"}]}], "&"}], "/@", 
   RowBox[{"Union", "[", 
    RowBox[{
     RowBox[{"{", "list", "}"}], ",", 
     RowBox[{"SameTest", "\[Rule]", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", 
           RowBox[{"capitalRuleNames", "[", "#1", "]"}]}], ")"}], "\[Equal]", 
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", 
           RowBox[{"capitalRuleNames", "[", "#2", "]"}]}], ")"}]}], "&"}], 
       ")"}]}]}], "]"}]}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625310955594996*^9, 3.6253109566671033`*^9}, {
   3.6253110541108465`*^9, 3.6253110836067963`*^9}, {3.6253111205364885`*^9, 
   3.625311186579092*^9}, {3.62531122946038*^9, 3.625311251684602*^9}, {
   3.625311370017434*^9, 3.6253113727937117`*^9}, 3.6253115255749884`*^9, {
   3.6253115945068808`*^9, 3.625311642730703*^9}, {3.6253117573991685`*^9, 
   3.6253117585912876`*^9}, {3.6253120510495305`*^9, 
   3.6253120572021456`*^9}, {3.625312422905712*^9, 3.625312483376759*^9}, {
   3.625312527422163*^9, 3.625312531842605*^9}, 3.6253126097903996`*^9, {
   3.6253127036817875`*^9, 3.6253127060650253`*^9}, {3.625312845701988*^9, 
   3.6253128499584136`*^9}, {3.6253128946718845`*^9, 
   3.6253129047838955`*^9}, {3.6253129682582426`*^9, 
   3.6253130180362196`*^9}, {3.625397954992206*^9, 3.625397999471206*^9}, 
   3.688717710082176*^9, {3.705735386799608*^9, 3.705735571041608*^9}, {
   3.7057356197856083`*^9, 3.705735621967608*^9}, {3.705735675281608*^9, 
   3.705735676037608*^9}, {3.705735742453608*^9, 3.705735744512608*^9}, {
   3.705742587394608*^9, 3.7057427617526083`*^9}, {3.705752957302608*^9, 
   3.705752978716608*^9}, {3.705753018889608*^9, 3.7057530767746077`*^9}, {
   3.705753140532608*^9, 3.705753157210608*^9}, {3.705753197180608*^9, 
   3.7057532164696083`*^9}, {3.7057533123116083`*^9, 3.705753407088608*^9}, {
   3.7057534589586077`*^9, 3.705753492275608*^9}, {3.705753527098608*^9, 
   3.705753534457608*^9}, {3.705753857236608*^9, 3.705753869516608*^9}, {
   3.705753902074608*^9, 3.705753904034608*^9}, {3.7057539387206078`*^9, 
   3.705753958775608*^9}, {3.7057540117866077`*^9, 3.705754012154608*^9}, {
   3.705754051713608*^9, 3.705754119707608*^9}, {3.705754151362608*^9, 
   3.705754187320608*^9}, {3.7058149327925653`*^9, 3.705814941287565*^9}, {
   3.7870544003286715`*^9, 3.7870544007406063`*^9}},
 CellLabel->
  "(Local2) In[354]:=",ExpressionUUID->"c60cc3f5-47a5-4f79-ac5e-a7886964be0d"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "MADWriteCommand", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MADWriteCommand", "[", "list__commandDefinition", "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"Quiet", "@", 
     RowBox[{"Block", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{"option", ",", "name"}], "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"option", "=", 
         RowBox[{"capitalRuleNames", "[", "#", "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", "option"}], ")"}], "<>", 
         "\"\<,\>\"", "<>", 
         RowBox[{"StringJoin", "@@", 
          RowBox[{"(", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"(", 
              RowBox[{"If", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{"param", "=", 
                   RowBox[{
                    RowBox[{"#", "/.", "option"}], "/.", 
                    RowBox[{"{", 
                    RowBox[{"#", "\[Rule]", "Null"}], "}"}]}]}], ")"}], "=!=",
                  "Null"}], ",", "\[IndentingNewLine]", 
                RowBox[{"(*", 
                 RowBox[{
                  RowBox[{"Print", "[", 
                   RowBox[{"#", ",", "\"\<  \>\"", ",", 
                    RowBox[{"Head", "[", "param", "]"}]}], "]"}], ";"}], 
                 "*)"}], "\[IndentingNewLine]", 
                RowBox[{"Switch", "[", "\[IndentingNewLine]", 
                 RowBox[{
                  RowBox[{"Head", "[", "param", "]"}], ",", 
                  "\[IndentingNewLine]", "List", ",", 
                  RowBox[{
                   RowBox[{"name", "=", "#"}], ";", "\[IndentingNewLine]", 
                   RowBox[{
                    RowBox[{"ToString", "[", "name", "]"}], "<>", "\"\<=\>\"",
                     "<>", 
                    RowBox[{"StringJoin", "@@", 
                    RowBox[{"Map", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{
                    RowBox[{"formatString", "[", "#", "]"}], "<>", 
                    "\"\<,\>\""}], "&"}], ",", "param"}], "]"}]}], "<>", 
                    "\"\<&\\n\>\""}]}], ",", "\[IndentingNewLine]", 
                  "HoldForm", ",", 
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", "param", "]"}], "<>", 
                   "\"\<,&\\n\>\""}], ",", "\[IndentingNewLine]", "Symbol", 
                  ",", 
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], "<>", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"formatString", "[", "param", "]"}], "=!=", 
                    "\"\<\>\""}], ",", 
                    RowBox[{"\"\<=\>\"", "<>", 
                    RowBox[{"formatString", "[", "param", "]"}]}], ",", 
                    "\"\<\>\""}], "]"}], "<>", "\"\<,&\\n\>\""}], ",", 
                  "\[IndentingNewLine]", "String", ",", 
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], "<>", 
                   RowBox[{"If", "[", 
                    RowBox[{
                    RowBox[{
                    RowBox[{"formatString", "[", "param", "]"}], "=!=", 
                    "\"\<\>\""}], ",", 
                    RowBox[{"\"\<=\>\"", "<>", 
                    RowBox[{"formatString", "[", "param", "]"}]}], ",", 
                    "\"\<\>\""}], "]"}], "<>", "\"\<,&\\n\>\""}], ",", 
                  "\[IndentingNewLine]", "Integer", ",", 
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", "param", "]"}], "]"}], "<>", 
                   "\"\<,&\\n\>\""}], ",", "\[IndentingNewLine]", "Real", ",", 
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", 
                    RowBox[{"ToString", "[", "param", "]"}], "]"}], "<>", 
                   "\"\<,&\\n\>\""}], ",", "\[IndentingNewLine]", "Nothing", 
                  ",", 
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], "<>", 
                   "\"\<,&\\n\>\""}], ",", "\[IndentingNewLine]", "Rule", ",", 
                  RowBox[{
                   RowBox[{"ToString", "[", 
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "2", 
                    "\[RightDoubleBracket]"}], "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", 
                    RowBox[{"Evaluate", "[", 
                    RowBox[{"(", 
                    RowBox[{
                    RowBox[{
                    "#", "\[LeftDoubleBracket]", "1", 
                    "\[RightDoubleBracket]"}], "/.", "option"}], ")"}], "]"}],
                     "]"}], "<>", "\"\<,&\\n\>\""}], ",", 
                  "\[IndentingNewLine]", "_", ",", 
                  RowBox[{
                   RowBox[{"ToString", "[", "#", "]"}], "<>", "\"\<=\>\"", "<>", 
                   RowBox[{"formatString", "[", "param", "]"}], "<>", 
                   "\"\<,&\\n\>\""}]}], "\[IndentingNewLine]", "]"}], ",", 
                "\"\<\>\""}], "]"}], ")"}], "&"}], "/@", 
            RowBox[{"MADRules", "[", 
             RowBox[{"ToLowerCase", "[", 
              RowBox[{"Evaluate", "[", 
               RowBox[{"\"\<command\>\"", "/.", "option"}], "]"}], "]"}], 
             "]"}]}], ")"}]}], "<>", "\"\<;\\n\>\""}]}]}], 
      "\[IndentingNewLine]", "]"}]}], "&"}], "/@", 
   RowBox[{"Union", "[", 
    RowBox[{
     RowBox[{"{", "list", "}"}], ",", 
     RowBox[{"SameTest", "\[Rule]", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", 
           RowBox[{"capitalRuleNames", "[", "#1", "]"}]}], ")"}], "\[Equal]", 
         RowBox[{"(", 
          RowBox[{"\"\<command\>\"", "/.", 
           RowBox[{"capitalRuleNames", "[", "#2", "]"}]}], ")"}]}], "&"}], 
       ")"}]}]}], "]"}]}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625310955594996*^9, 3.6253109566671033`*^9}, {
   3.6253110541108465`*^9, 3.6253110836067963`*^9}, {3.6253111205364885`*^9, 
   3.625311186579092*^9}, {3.62531122946038*^9, 3.625311251684602*^9}, {
   3.625311370017434*^9, 3.6253113727937117`*^9}, 3.6253115255749884`*^9, {
   3.6253115945068808`*^9, 3.625311642730703*^9}, {3.6253117573991685`*^9, 
   3.6253117585912876`*^9}, {3.6253120510495305`*^9, 
   3.6253120572021456`*^9}, {3.625312422905712*^9, 3.625312483376759*^9}, {
   3.625312527422163*^9, 3.625312531842605*^9}, 3.6253126097903996`*^9, {
   3.6253127036817875`*^9, 3.6253127060650253`*^9}, {3.625312845701988*^9, 
   3.6253128499584136`*^9}, {3.6253128946718845`*^9, 
   3.6253129047838955`*^9}, {3.6253129682582426`*^9, 
   3.6253130180362196`*^9}, {3.625397954992206*^9, 3.625397999471206*^9}, 
   3.688717710082176*^9, {3.705735386799608*^9, 3.705735571041608*^9}, {
   3.7057356197856083`*^9, 3.705735621967608*^9}, {3.705735675281608*^9, 
   3.705735676037608*^9}, {3.705735742453608*^9, 3.705735744512608*^9}, {
   3.705742587394608*^9, 3.7057427617526083`*^9}, {3.705752957302608*^9, 
   3.705752978716608*^9}, {3.705753018889608*^9, 3.7057530767746077`*^9}, {
   3.705753140532608*^9, 3.705753157210608*^9}, {3.705753197180608*^9, 
   3.7057532164696083`*^9}, {3.7057533123116083`*^9, 3.705753407088608*^9}, {
   3.7057534589586077`*^9, 3.705753492275608*^9}, {3.705753527098608*^9, 
   3.705753534457608*^9}, {3.705753857236608*^9, 3.705753869516608*^9}, {
   3.705753902074608*^9, 3.705753904034608*^9}, {3.7057539387206078`*^9, 
   3.705753958775608*^9}, {3.7057540117866077`*^9, 3.705754012154608*^9}, {
   3.705754051713608*^9, 3.705754119707608*^9}, {3.705754151362608*^9, 
   3.705754187320608*^9}, {3.7058149327925653`*^9, 3.705814941287565*^9}, {
   3.7870533641387377`*^9, 3.7870534405345583`*^9}, {3.7870544234012585`*^9, 
   3.7870544367744875`*^9}, {3.7870545843299904`*^9, 
   3.7870545960806103`*^9}, {3.7870552899990664`*^9, 
   3.7870553105909863`*^9}, {3.7870554092557583`*^9, 
   3.7870554537518167`*^9}, {3.787056211297612*^9, 3.7870562189685764`*^9}, {
   3.7870562841160097`*^9, 3.787056367088562*^9}, {3.787056400323051*^9, 
   3.7870564521883917`*^9}},
 CellLabel->
  "In[629]:=",ExpressionUUID->"921e3a7a-a129-4368-9be8-17f2cf9607a2"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"Head", "[", "Nothing", "]"}]], "Input",
 CellChangeTimes->{{3.7870546683819647`*^9, 3.787054670801613*^9}},
 CellLabel->
  "In[604]:=",ExpressionUUID->"e275eb3d-04f7-49fb-97b4-61c7f0f652fa"],

Cell[BoxData["Symbol"], "Output",
 CellChangeTimes->{3.787054671560583*^9},
 CellLabel->
  "Out[604]=",ExpressionUUID->"ce805416-b3cc-4ab6-9384-3d08dbffff2c"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "elegantWriteCommandStrings", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"elegantWriteCommandStrings", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elegantWriteCommandStrings", "[", "commands_", "]"}], "/;", 
   RowBox[{
    RowBox[{"Head", "[", 
     RowBox[{"Evaluate", "[", "commands", "]"}], "]"}], "\[Equal]", 
    "List"}]}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"elegantWriteCommand", "[", "#", "]"}], "&"}], ",", 
      "commands"}], "]"}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019763902419*^9, 3.57019764006419*^9}, {
   3.57019777415119*^9, 3.57019778797519*^9}, {3.5701978746571903`*^9, 
   3.57019789715219*^9}, {3.57019795106819*^9, 3.57019799565819*^9}, {
   3.57019808544419*^9, 3.57019813481719*^9}, {3.57019827800819*^9, 
   3.57019828042519*^9}, {3.57019836937819*^9, 3.5701983756501904`*^9}, {
   3.57019858629219*^9, 3.57019859259619*^9}, {3.57019864310419*^9, 
   3.57019864441719*^9}, {3.5703468137793407`*^9, 3.570346820394843*^9}, {
   3.570350264329013*^9, 3.5703503436269417`*^9}, {3.5703503745090294`*^9, 
   3.5703505545280294`*^9}, 3.570350691317707*^9, {3.5703507390154767`*^9, 
   3.5703508049220667`*^9}, {3.625300331901733*^9, 3.625300342845827*^9}, {
   3.6253007924457827`*^9, 3.6253008129428325`*^9}, 3.62530110414495*^9, {
   3.6253012738949227`*^9, 3.6253013553780704`*^9}, {3.6253101261400585`*^9, 
   3.6253101357160163`*^9}, {3.625312093738799*^9, 3.6253120997624016`*^9}, {
   3.6253122574401674`*^9, 3.625312292000623*^9}, {3.6253123451229353`*^9, 
   3.625312367331156*^9}, {3.625396921278206*^9, 3.6253969858502064`*^9}},
 CellLabel->
  "(Local2) In[356]:=",ExpressionUUID->"ace0ad2c-5426-4d92-8723-40f276f146dd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "MADWriteCommandStrings", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"MADWriteCommandStrings", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"MADWriteCommandStrings", "[", "commands_", "]"}], "/;", 
   RowBox[{
    RowBox[{"Head", "[", 
     RowBox[{"Evaluate", "[", "commands", "]"}], "]"}], "\[Equal]", 
    "List"}]}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{"Map", "[", 
     RowBox[{
      RowBox[{
       RowBox[{"MADWriteCommand", "[", "#", "]"}], "&"}], ",", "commands"}], 
     "]"}]}], "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.57019290533519*^9, 3.57019292844519*^9}, {
   3.57019305032519*^9, 3.5701930967231903`*^9}, {3.57019335382619*^9, 
   3.57019340415919*^9}, {3.57019347274719*^9, 3.5701934748111897`*^9}, {
   3.57019351394519*^9, 3.5701935157371902`*^9}, {3.5701975088081903`*^9, 
   3.57019760744219*^9}, {3.57019763902419*^9, 3.57019764006419*^9}, {
   3.57019777415119*^9, 3.57019778797519*^9}, {3.5701978746571903`*^9, 
   3.57019789715219*^9}, {3.57019795106819*^9, 3.57019799565819*^9}, {
   3.57019808544419*^9, 3.57019813481719*^9}, {3.57019827800819*^9, 
   3.57019828042519*^9}, {3.57019836937819*^9, 3.5701983756501904`*^9}, {
   3.57019858629219*^9, 3.57019859259619*^9}, {3.57019864310419*^9, 
   3.57019864441719*^9}, {3.5703468137793407`*^9, 3.570346820394843*^9}, {
   3.570350264329013*^9, 3.5703503436269417`*^9}, {3.5703503745090294`*^9, 
   3.5703505545280294`*^9}, 3.570350691317707*^9, {3.5703507390154767`*^9, 
   3.5703508049220667`*^9}, {3.625300331901733*^9, 3.625300342845827*^9}, {
   3.6253007924457827`*^9, 3.6253008129428325`*^9}, 3.62530110414495*^9, {
   3.6253012738949227`*^9, 3.6253013553780704`*^9}, {3.6253101261400585`*^9, 
   3.6253101357160163`*^9}, {3.625312093738799*^9, 3.6253120997624016`*^9}, {
   3.6253122574401674`*^9, 3.625312292000623*^9}, {3.6253123451229353`*^9, 
   3.625312367331156*^9}, {3.625396921278206*^9, 3.6253969858502064`*^9}, {
   3.787053459261424*^9, 
   3.7870534670805693`*^9}},ExpressionUUID->"f3793374-f3bc-43c5-bd2f-\
c3eab359c537"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "MADWriteLattice", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"MADWriteLattice", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"MADWriteLattice", "[", 
    RowBox[{"lattice_", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Quiet", "[", 
       RowBox[{"Close", "[", "filename", "]"}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"MADWriteElementStrings", "[", "lattice", "]"}]}], "]"}], ";",
       "\[IndentingNewLine]", 
      RowBox[{"generateLineDefinitionMAD", "[", 
       RowBox[{
        RowBox[{"Evaluate", "[", "lattice", "]"}], ",", "file"}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6253101422436695`*^9, 3.625310207966241*^9}, {
   3.6253102408555293`*^9, 3.625310245736017*^9}, {3.625310298682311*^9, 
   3.6253103005054936`*^9}, {3.6253103491483574`*^9, 
   3.6253104253659782`*^9}, {3.6253121020746326`*^9, 3.625312129131338*^9}, {
   3.6253232646327767`*^9, 3.625323268273141*^9}, {3.6253233057948923`*^9, 
   3.6253233136506777`*^9}, {3.625323347364049*^9, 3.6253233491482277`*^9}, {
   3.6979759646503944`*^9, 3.6979759668253946`*^9}, 3.6979762432253942`*^9, {
   3.787052159332121*^9, 3.787052167498659*^9}, {3.787052479475565*^9, 
   3.787052479795681*^9}, 
   3.7870531709176292`*^9},ExpressionUUID->"12a4d5f8-044e-48da-8dfe-\
60de21a567b8"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "ElegantWriteLattice", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ElegantWriteLattice", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ElegantWriteLattice", "[", 
    RowBox[{"lattice_", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"Quiet", "[", 
       RowBox[{"Close", "[", "filename", "]"}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"ElegantWriteElementStrings", "[", "lattice", "]"}]}], "]"}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"generateLineDefinition", "[", 
       RowBox[{
        RowBox[{"Evaluate", "[", "lattice", "]"}], ",", "file"}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6253101422436695`*^9, 3.625310207966241*^9}, {
   3.6253102408555293`*^9, 3.625310245736017*^9}, {3.625310298682311*^9, 
   3.6253103005054936`*^9}, {3.6253103491483574`*^9, 
   3.6253104253659782`*^9}, {3.6253121020746326`*^9, 3.625312129131338*^9}, {
   3.6253232646327767`*^9, 3.625323268273141*^9}, {3.6253233057948923`*^9, 
   3.6253233136506777`*^9}, {3.625323347364049*^9, 3.6253233491482277`*^9}, {
   3.6979759646503944`*^9, 3.6979759668253946`*^9}, 3.6979762432253942`*^9},
 CellLabel->
  "(Local2) In[359]:=",ExpressionUUID->"62cf476d-e345-4f48-87a3-bb771ac188e9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "ElegantWriteCommands", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ElegantWriteCommands", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ElegantWriteCommands", "[", 
    RowBox[{"commands_List", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"elegantWriteCommandStrings", "[", 
         RowBox[{"Select", "[", 
          RowBox[{"commands", ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Cases", "[", 
               RowBox[{
                RowBox[{"capitalRuleNames", "[", "#", "]"}], ",", 
                RowBox[{
                 RowBox[{"Rule", "[", 
                  RowBox[{"\"\<command\>\"", ",", "a_"}], "]"}], 
                 "\[RuleDelayed]", "a"}]}], "]"}], "]"}], ">", "0"}], "&"}]}],
           "]"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"ElegantWriteCommands", "[", 
    RowBox[{"commands_commandDefinition", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"elegantWriteCommandStrings", "[", 
         RowBox[{"Select", "[", 
          RowBox[{
           RowBox[{"{", "commands", "}"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Cases", "[", 
               RowBox[{
                RowBox[{"capitalRuleNames", "[", "#", "]"}], ",", 
                RowBox[{
                 RowBox[{"Rule", "[", 
                  RowBox[{"\"\<command\>\"", ",", "a_"}], "]"}], 
                 "\[RuleDelayed]", "a"}]}], "]"}], "]"}], ">", "0"}], "&"}]}],
           "]"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6253101422436695`*^9, 3.625310207966241*^9}, {
   3.6253102408555293`*^9, 3.625310245736017*^9}, {3.625310298682311*^9, 
   3.6253103005054936`*^9}, {3.6253103491483574`*^9, 
   3.6253104253659782`*^9}, {3.6253121020746326`*^9, 
   3.6253121793653607`*^9}, {3.6253122478872128`*^9, 3.625312248815305*^9}, {
   3.625397140537206*^9, 3.625397151528206*^9}, 3.6798505570481753`*^9, {
   3.679850777374732*^9, 3.6798508159844522`*^9}, {3.6979759740423946`*^9, 
   3.6979759817773943`*^9}, 3.6979761638693943`*^9, {3.6979762312743945`*^9, 
   3.6979762397383947`*^9}},
 CellLabel->
  "(Local2) In[362]:=",ExpressionUUID->"ee059f69-6a16-42d2-8a97-996aab4325d9"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "MADWriteCommands", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"MADWriteCommands", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"MADWriteCommands", "[", 
    RowBox[{"commands_List", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"MADWriteCommandStrings", "[", 
         RowBox[{"Select", "[", 
          RowBox[{"commands", ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Cases", "[", 
               RowBox[{
                RowBox[{"capitalRuleNames", "[", "#", "]"}], ",", 
                RowBox[{
                 RowBox[{"Rule", "[", 
                  RowBox[{"\"\<command\>\"", ",", "a_"}], "]"}], 
                 "\[RuleDelayed]", "a"}]}], "]"}], "]"}], ">", "0"}], "&"}]}],
           "]"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"MADWriteCommands", "[", 
    RowBox[{"commands_commandDefinition", ",", "filename_"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", "file", "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"file", "=", 
       RowBox[{"OpenWrite", "[", "filename", "]"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Map", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"WriteString", "[", 
          RowBox[{"file", ",", 
           RowBox[{"wrapString", "[", 
            RowBox[{"StringJoin", "@@", "#"}], "]"}]}], "]"}], "&"}], ",", 
        RowBox[{"MADWriteCommandStrings", "[", 
         RowBox[{"Select", "[", 
          RowBox[{
           RowBox[{"{", "commands", "}"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"Length", "[", 
              RowBox[{"Cases", "[", 
               RowBox[{
                RowBox[{"capitalRuleNames", "[", "#", "]"}], ",", 
                RowBox[{
                 RowBox[{"Rule", "[", 
                  RowBox[{"\"\<command\>\"", ",", "a_"}], "]"}], 
                 "\[RuleDelayed]", "a"}]}], "]"}], "]"}], ">", "0"}], "&"}]}],
           "]"}], "]"}]}], "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"Close", "[", "file", "]"}]}]}], "\[IndentingNewLine]", "]"}]}],
   ";"}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6253101422436695`*^9, 3.625310207966241*^9}, {
   3.6253102408555293`*^9, 3.625310245736017*^9}, {3.625310298682311*^9, 
   3.6253103005054936`*^9}, {3.6253103491483574`*^9, 
   3.6253104253659782`*^9}, {3.6253121020746326`*^9, 
   3.6253121793653607`*^9}, {3.6253122478872128`*^9, 3.625312248815305*^9}, {
   3.625397140537206*^9, 3.625397151528206*^9}, 3.6798505570481753`*^9, {
   3.679850777374732*^9, 3.6798508159844522`*^9}, {3.6979759740423946`*^9, 
   3.6979759817773943`*^9}, 3.6979761638693943`*^9, {3.6979762312743945`*^9, 
   3.6979762397383947`*^9}, {3.7870534774598274`*^9, 
   3.787053489927513*^9}},ExpressionUUID->"bbf7f220-555b-4349-8498-\
8da63c569b02"]
}, Closed]],

Cell[CellGroupData[{

Cell["Helper Functions", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6254668959845448`*^9, 
  3.6254668987765446`*^9}},ExpressionUUID->"24c9c6ae-019c-4d0b-86a2-\
9d004e02226b"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$MADPath", "=", "\"\<c:\\\\mad8dl\\\\\>\""}], ";"}]], "Code",
 InitializationCell->False,
 InitializationGroup->True,
 CellChangeTimes->{{3.7870555312359586`*^9, 3.787055531561082*^9}, {
  3.787055576086087*^9, 
  3.787055581767868*^9}},ExpressionUUID->"78653361-0172-4ade-80a3-\
f9f93ae5a122"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$MADFilename", "=", "\"\<mad8dl.bat\>\""}], ";"}]], "Code",
 InitializationCell->False,
 InitializationGroup->True,
 CellChangeTimes->{{3.787055537190071*^9, 
  3.7870555409749455`*^9}},ExpressionUUID->"001ecee2-1937-4f50-a6c4-\
df443c1e4cf1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"MADRun", "[", "filename_", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\n", 
    RowBox[{"ReadList", "[", 
     RowBox[{
      RowBox[{"\"\<!\>\"", "<>", "$MADPath", "<>", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"$MADPath", "=!=", "\"\<\>\""}], ",", "\"\<\\\\\>\"", ",", 
         "\"\<\>\""}], "]"}], "<>", "$MADFilename", "<>", "\"\< \>\"", "<>", 
       "filename"}], ",", "Record"}], "]"}]}], "\n", "]"}]}]], "Code",
 InitializationCell->False,
 InitializationGroup->True,
 CellChangeTimes->{{3.77528336977219*^9, 3.7752833940832615`*^9}, 
   3.77528342894215*^9, {3.787055544114575*^9, 
   3.7870555886963477`*^9}},ExpressionUUID->"dc539c1b-5e85-4130-83fb-\
afc48f8a6fcf"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$elegantPath", "=", "\"\<\>\""}], ";"}]], "Code",
 InitializationCell->False,
 InitializationGroup->True,
 CellLabel->
  "(Local2) In[366]:=",ExpressionUUID->"59835bef-f5e0-48e3-8ff0-504f721101d1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$sddsPath", "=", "\"\<\>\""}], ";"}]], "Code",
 InitializationCell->False,
 InitializationGroup->True,
 CellLabel->
  "(Local2) In[367]:=",ExpressionUUID->"37367a51-75d2-42a1-8094-6ae798fc738c"],

Cell[BoxData[
 RowBox[{
  RowBox[{"$elegantFilename", "=", "\"\<elegant\>\""}], ";"}]], "Code",
 InitializationCell->False,
 InitializationGroup->True,
 CellLabel->
  "(Local2) In[368]:=",ExpressionUUID->"b1466a1f-0b3a-4a43-96ca-e42be32b38e5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElegantRun", "[", "filename_", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\n", 
    RowBox[{"ReadList", "[", 
     RowBox[{
      RowBox[{"\"\<!\>\"", "<>", "$elegantPath", "<>", 
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"$elegantPath", "=!=", "\"\<\>\""}], ",", "\"\<\\\\\>\"", 
         ",", "\"\<\>\""}], "]"}], "<>", "$elegantFilename", "<>", 
       "\"\< \>\"", "<>", "filename", "<>", "\"\< > \>\"", "<>", 
       RowBox[{"StringReplace", "[", 
        RowBox[{"filename", ",", 
         RowBox[{"\"\<.ele\>\"", "\[Rule]", "\"\<.log\>\""}]}], "]"}]}], ",", 
      "Record"}], "]"}]}], "\n", "]"}]}]], "Code",
 InitializationCell->False,
 InitializationGroup->True,
 CellChangeTimes->{{3.77528336977219*^9, 3.7752833940832615`*^9}, 
   3.77528342894215*^9},
 CellLabel->
  "(Local2) In[369]:=",ExpressionUUID->"7ed210ef-2dba-423c-8631-38f960312a53"],

Cell[BoxData[
 RowBox[{
  RowBox[{"sddsCommand", "[", 
   RowBox[{
   "command_String", ",", " ", "filename_String", ",", "opts___Rule"}], "]"}],
   ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "createOutput", "}"}], ",", "\n", 
    RowBox[{
     RowBox[{"createOutput", "=", 
      RowBox[{
       RowBox[{"Global`CreateOutput", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`CreateOutput", "->", "False"}], "}"}]}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"createOutput", "==", "True"}], ",", "\n", 
       RowBox[{
        RowBox[{"ReadList", "[", 
         RowBox[{
          RowBox[{"\"\<!\>\"", "<>", "$sddsPath", "<>", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"$sddsPath", "=!=", "\"\<\>\""}], ",", "\"\<\\\\\>\"", 
             ",", "\"\<\>\""}], "]"}], "<>", "command", "<>", "\"\< \>\"", "<>",
            "filename", "<>", "\"\< \>\"", "<>", "filename", "<>", 
           "\"\<.\>\"", "<>", "command"}], ",", "Record"}], "]"}], ";", "\n", 
        RowBox[{"sddsBinaryInterpret", "[", 
         RowBox[{
          RowBox[{"filename", "<>", "\"\<.analysis\>\""}], ",", "opts"}], 
         "]"}]}], ",", "\n", 
       RowBox[{"sddsBinaryInterpret", "[", 
        RowBox[{
         RowBox[{"OpenRead", "[", 
          RowBox[{
           RowBox[{
           "\"\<!\>\"", "<>", "command", "<>", "\"\< -pipe=output \>\"", "<>",
             "filename"}], ",", 
           RowBox[{"BinaryFormat", "->", "True"}]}], "]"}], ",", "opts"}], 
        "]"}]}], "\n", "]"}]}]}], "\n", "]"}]}]], "Code",
 InitializationCell->False,
 InitializationGroup->True,
 CellChangeTimes->{{3.775202820950017*^9, 3.7752028209519825`*^9}, {
  3.775202940907484*^9, 3.7752029409104733`*^9}},
 CellLabel->
  "(Local2) In[370]:=",ExpressionUUID->"67467889-a95b-446b-9549-cb4d37f400bf"],

Cell[BoxData[
 RowBox[{
  RowBox[{"sddsAnalyzeBeam", "[", 
   RowBox[{"filename_", ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "createOutput", "}"}], ",", "\n", 
    RowBox[{
     RowBox[{"createOutput", "=", 
      RowBox[{
       RowBox[{"Global`CreateOutput", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`CreateOutput", "->", "False"}], "}"}]}]}], ";", "\n", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"createOutput", "==", "True"}], ",", "\n", 
       RowBox[{
        RowBox[{"ReadList", "[", 
         RowBox[{
          RowBox[{"\"\<!\>\"", "<>", "$elegantPath", "<>", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"$elegantPath", "=!=", "\"\<\>\""}], ",", "\"\<\\\\\>\"",
              ",", "\"\<\>\""}], "]"}], "<>", "\"\<sddsanalyzebeam \>\"", "<>",
            "filename", "<>", "\"\< \>\"", "<>", "filename", "<>", 
           "\"\<.analysis\>\""}], ",", "Record"}], "]"}], ";", "\n", 
        RowBox[{"sddsBinaryInterpret", "[", 
         RowBox[{
          RowBox[{"filename", "<>", "\"\<.analysis\>\""}], ",", "opts"}], 
         "]"}]}], ",", "\n", 
       RowBox[{"sddsBinaryInterpret", "[", 
        RowBox[{
         RowBox[{"OpenRead", "[", 
          RowBox[{
           RowBox[{"\"\<!\>\"", "<>", "$elegantPath", "<>", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"$elegantPath", "=!=", "\"\<\>\""}], ",", 
              "\"\<\\\\\>\"", ",", "\"\<\>\""}], "]"}], "<>", 
            "\"\<sddsanalyzebeam -pipe=output \>\"", "<>", "filename"}], ",", 
           RowBox[{"BinaryFormat", "->", "True"}]}], "]"}], ",", "opts"}], 
        "]"}]}], "\n", "]"}]}]}], "\n", "]"}]}]], "Code",
 InitializationCell->False,
 InitializationGroup->True,
 CellChangeTimes->{{3.775202821029803*^9, 3.7752028210308003`*^9}, {
  3.7752029409154606`*^9, 3.7752029409174504`*^9}},
 CellLabel->
  "(Local2) In[371]:=",ExpressionUUID->"3a28331c-0a45-4696-b8a9-67574ee59312"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Clear", "[", "MADTwiss", "]"}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.772871052276868*^9, 3.7728710538853865`*^9}, 
   3.77737327708492*^9, {3.7870520939727287`*^9, 
   3.7870520953876734`*^9}},ExpressionUUID->"df81e7f1-9093-4ad9-adc7-\
62934731061a"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"MADTwiss", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MADTwiss", "[", 
   RowBox[{
   "lattice_", ",", "commands___commandDefinition", ",", "opts___Rule"}], 
   "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "filename", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"filename", "=", "\"\<temp\>\""}], ";", "\[IndentingNewLine]", 
     RowBox[{"callfile", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<filename\>\"", "\[Rule]", 
         RowBox[{"filename", "<>", "\"\<.mff\>\""}]}], ",", 
        RowBox[{"\"\<command\>\"", "\[Rule]", "\"\<call\>\""}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"runsetup", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<PERIOD\>\"", "\[Rule]", 
         RowBox[{"HoldForm", "[", "lattice", "]"}]}], ",", 
        RowBox[{"\"\<command\>\"", "\[Rule]", "\"\<use\>\""}]}], "]"}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"selectcommand", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<full\>\"", "\[Rule]", "\"\<\>\""}], ",", 
        RowBox[{"\"\<flag\>\"", "\[Rule]", "\"\<optics\>\""}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<select\>\""}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"twissoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<filename\>\"", "\[Rule]", 
         RowBox[{"filename", "<>", "\"\<.twi\>\""}]}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<optics\>\""}], ",", 
        RowBox[{"\"\<columns\>\"", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
          "\"\<s\>\"", ",", "\"\<betx\>\"", ",", "\"\<bety\>\"", ",", 
           "\"\<alfx\>\"", ",", "\"\<alfy\>\"", ",", "\"\<dx\>\"", ",", 
           "\"\<dy\>\"", ",", "\"\<dpx\>\"", ",", "\"\<dpy\>\"", ",", 
           "\"\<name\>\""}], "}"}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"MADWriteCommands", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "callfile", ",", "runsetup", ",", "selectcommand", ",", "twissoutput",
          ",", "commands"}], "}"}], ",", 
       RowBox[{"filename", "<>", "\"\<.mad\>\""}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"MADWriteLattice", "[", 
      RowBox[{"lattice", ",", 
       RowBox[{"filename", "<>", "\"\<.mff\>\""}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"MADRun", "[", 
      RowBox[{"filename", "<>", "\"\<.mad\>\""}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"mfsInterpret", "[", 
      RowBox[{
       RowBox[{"filename", "<>", "\"\<.twi\>\""}], ",", 
       RowBox[{"mfsDrop", "\[Rule]", "False"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Global`s", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`S", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`betax", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`BETX", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`betay", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`BETY", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`alphax", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`ALFX", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`alphay", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`ALFY", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`etax", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`DX", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`etay", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`DY", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`etaxp", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`DPX", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`etayp", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`DPY", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`ElementName", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`NAME", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";"}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625467534242544*^9, 3.625467641230544*^9}, {
   3.625467806612544*^9, 3.625467942171544*^9}, {3.625468049532544*^9, 
   3.6254680524755445`*^9}, {3.625468089452544*^9, 3.6254680923705444`*^9}, {
   3.6254681641095448`*^9, 3.6254681773915443`*^9}, {3.6254865984205446`*^9, 
   3.625486622947544*^9}, {3.6255015681542735`*^9, 3.6255015721836767`*^9}, {
   3.6978968981744328`*^9, 3.697896900764833*^9}, {3.7058157885045652`*^9, 
   3.7058157902405653`*^9}, {3.7728699109359355`*^9, 
   3.7728699791268544`*^9}, {3.7752024898368616`*^9, 
   3.7752024905718994`*^9}, {3.7752028210367594`*^9, 
   3.7752028210407734`*^9}, {3.775202940921444*^9, 3.7752029409244075`*^9}, {
   3.7773732810540633`*^9, 3.777373284008733*^9}, {3.787052098349366*^9, 
   3.7870521250590515`*^9}, {3.7870535193165045`*^9, 
   3.7870535361185966`*^9}, {3.7870535863239417`*^9, 
   3.7870537449918156`*^9}, {3.787053801722705*^9, 3.787053900670149*^9}, {
   3.7870540884605308`*^9, 3.7870540886151047`*^9}, 3.7870541605373116`*^9, 
   3.7870543297593703`*^9, 3.7870565238578553`*^9, 3.7870565544606404`*^9, {
   3.7870566001012087`*^9, 3.787056702452612*^9}, {3.7870567756474943`*^9, 
   3.787056782463269*^9}, {3.787056836440056*^9, 3.787056841439871*^9}, 
   3.7870570700428505`*^9, {3.787057630481501*^9, 3.7870576903322086`*^9}, {
   3.787057738910376*^9, 3.787057787466127*^9}, {3.787058035000518*^9, 
   3.787058038687791*^9}, {3.796133984767532*^9, 3.7961339850906696`*^9}, {
   3.796134125555457*^9, 
   3.796134131206375*^9}},ExpressionUUID->"8a01f75a-ffab-4dd4-91bd-\
b01224f4eacb"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"MADTwiss", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"MADTwiss", "[", 
   RowBox[{"lattice_", ",", 
    RowBox[{"{", 
     RowBox[{
     "alphax_", ",", " ", "betax_", ",", "alphay_", ",", "betay_", ",", 
      RowBox[{"enx_:", 
       SuperscriptBox["10", 
        RowBox[{"-", "6"}]]}], ",", 
      RowBox[{"eny_:", 
       SuperscriptBox["10", 
        RowBox[{"-", "6"}]]}]}], "}"}], ",", "commands___commandDefinition", 
    ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "filename", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"filename", "=", "\"\<temp\>\""}], ";", "\[IndentingNewLine]", 
     RowBox[{"callfile", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<filename\>\"", "\[Rule]", 
         RowBox[{"filename", "<>", "\"\<.mff\>\""}]}], ",", 
        RowBox[{"\"\<command\>\"", "\[Rule]", "\"\<call\>\""}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"runsetup", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<PERIOD\>\"", "\[Rule]", 
         RowBox[{"HoldForm", "[", "lattice", "]"}]}], ",", 
        RowBox[{"\"\<command\>\"", "\[Rule]", "\"\<use\>\""}]}], "]"}]}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"selectcommand", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<full\>\"", "\[Rule]", "\"\<\>\""}], ",", 
        RowBox[{"\"\<flag\>\"", "\[Rule]", "\"\<optics\>\""}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<select\>\""}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"twissoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<filename\>\"", "\[Rule]", 
         RowBox[{"filename", "<>", "\"\<.twi\>\""}]}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<optics\>\""}], ",", 
        RowBox[{"\"\<betx\>\"", "\[Rule]", "betax"}], ",", 
        RowBox[{"\"\<bety\>\"", "\[Rule]", "betay"}], ",", 
        RowBox[{"\"\<alfx\>\"", "\[Rule]", "alphax"}], ",", 
        RowBox[{"\"\<alfy\>\"", "\[Rule]", "alphay"}], ",", 
        RowBox[{"\"\<columns\>\"", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{
          "\"\<s\>\"", ",", "\"\<betx\>\"", ",", "\"\<bety\>\"", ",", 
           "\"\<alfx\>\"", ",", "\"\<alfy\>\"", ",", "\"\<dx\>\"", ",", 
           "\"\<dy\>\"", ",", "\"\<dpx\>\"", ",", "\"\<dpy\>\"", ",", 
           "\"\<name\>\""}], "}"}]}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"MADWriteCommands", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "callfile", ",", "runsetup", ",", "selectcommand", ",", "twissoutput",
          ",", "commands"}], "}"}], ",", 
       RowBox[{"filename", "<>", "\"\<.mad\>\""}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"MADWriteLattice", "[", 
      RowBox[{"lattice", ",", 
       RowBox[{"filename", "<>", "\"\<.mff\>\""}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"MADRun", "[", 
      RowBox[{"filename", "<>", "\"\<.mad\>\""}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"mfsInterpret", "[", 
      RowBox[{
       RowBox[{"filename", "<>", "\"\<.twi\>\""}], ",", 
       RowBox[{"mfsDrop", "\[Rule]", "False"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Global`s", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`S", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`betax", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`BETX", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`betay", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`BETY", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`alphax", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`ALFX", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`alphay", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`ALFY", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`etax", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`DX", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`etay", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`DY", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`etaxp", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`DPX", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`etayp", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`DPY", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Global`ElementName", "=", 
      RowBox[{"Drop", "[", 
       RowBox[{"Global`NAME", ",", 
        RowBox[{"-", "1"}]}], "]"}]}], ";"}]}], "\[IndentingNewLine]", 
   "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625467534242544*^9, 3.625467641230544*^9}, {
   3.625467806612544*^9, 3.625467942171544*^9}, {3.625468049532544*^9, 
   3.6254680524755445`*^9}, {3.625468089452544*^9, 3.6254680923705444`*^9}, {
   3.6254681641095448`*^9, 3.6254681773915443`*^9}, {3.6254865984205446`*^9, 
   3.625486622947544*^9}, {3.6255015681542735`*^9, 3.6255015721836767`*^9}, {
   3.6978968981744328`*^9, 3.697896900764833*^9}, {3.7058157885045652`*^9, 
   3.7058157902405653`*^9}, {3.772866476883342*^9, 3.7728665317312365`*^9}, 
   3.772867142639058*^9, {3.7728697716890173`*^9, 3.7728697885357513`*^9}, {
   3.772869885656962*^9, 3.772869976063033*^9}, {3.7728700936368313`*^9, 
   3.7728701153318405`*^9}, {3.7752024912750225`*^9, 
   3.7752024916589704`*^9}, {3.77520282104576*^9, 3.7752028210497527`*^9}, {
   3.775202940928424*^9, 3.775202940933384*^9}, {3.777373287334811*^9, 
   3.7773732896430044`*^9}, {3.787054017880349*^9, 3.7870540918823442`*^9}, 
   3.78705413009767*^9, 3.787054161742091*^9, 3.787054328056896*^9, {
   3.7870545059103107`*^9, 3.7870545094468565`*^9}, {3.787054557647049*^9, 
   3.787054564128723*^9}, {3.7870553407655125`*^9, 3.78705534095401*^9}, {
   3.7870561313382044`*^9, 3.787056165242087*^9}, {3.7870565288415213`*^9, 
   3.7870565528359966`*^9}, {3.787056652646904*^9, 3.787056698649778*^9}, {
   3.787056786111663*^9, 3.7870567866701403`*^9}, {3.7870568449126115`*^9, 
   3.7870568452018414`*^9}, {3.7870570594821124`*^9, 3.787057063527269*^9}, {
   3.7870575794589205`*^9, 3.787057581751798*^9}, {3.7870576203084073`*^9, 
   3.787057626593827*^9}, 3.787057695009687*^9, {3.787057750133411*^9, 
   3.78705778912668*^9}, 
   3.7870580430500994`*^9},ExpressionUUID->"b1c67d02-a084-491d-b74e-\
b82e87c62933"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Clear", "[", "ElegantTwiss", "]"}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.772871052276868*^9, 3.7728710538853865`*^9}, 
   3.77737327708492*^9},
 CellLabel->
  "(Local2) In[372]:=",ExpressionUUID->"458ba926-2ef6-41b5-8005-be7fac313907"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ElegantTwiss", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ElegantTwiss", "[", 
   RowBox[{"lattice_", ",", 
    RowBox[{"momentum_:", "1000"}], ",", "commands___commandDefinition", ",", 
    RowBox[{"split_Integer:", "1"}], ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"ElegantTwiss", "[", 
   RowBox[{"lattice", ",", "momentum", ",", "commands", ",", 
    RowBox[{"Before", "[", "]"}], ",", "split", ",", "opts"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ElegantTwiss", "[", 
   RowBox[{"lattice_", ",", 
    RowBox[{"momentum_:", "1000"}], ",", "commands___commandDefinition", ",", 
    RowBox[{"Before", "[", "bcommands___commandDefinition", "]"}], ",", 
    RowBox[{"split_Integer:", "1"}], ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "filename", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"filename", "=", "\"\<temp\>\""}], ";", "\[IndentingNewLine]", 
     RowBox[{"runsetup", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<LATTICE\>\"", "\[Rule]", 
         RowBox[{
          RowBox[{"FileBaseName", "[", "filename", "]"}], "<>", 
          "\"\<.lte\>\""}]}], ",", 
        RowBox[{"\"\<command\>\"", "\[Rule]", "\"\<run_setup\>\""}], ",", 
        RowBox[{"\"\<use_beamline\>\"", "\[Rule]", 
         RowBox[{"HoldForm", "[", "lattice", "]"}]}], ",", 
        RowBox[{"\"\<p_central_mev\>\"", "\[Rule]", "momentum"}], ",", 
        RowBox[{"\"\<centroid\>\"", "\[Rule]", "\"\<%s.cen\>\""}], ",", 
        RowBox[{"\"\<sigma\>\"", " ", "\[Rule]", "\"\<%s.sig\>\""}], ",", 
        RowBox[{"\"\<default_order\>\"", "\[Rule]", "3"}], ",", 
        RowBox[{"\"\<parameters\>\"", "\[Rule]", "\"\<%s.param\>\""}], ",", 
        "\n", 
        RowBox[{"\"\<output\>\"", "\[Rule]", "\"\<%s.out\>\""}], ",", 
        RowBox[{"\"\<losses\>\"", "\[Rule]", "\"\<%s.lost\>\""}], ",", 
        RowBox[{"\"\<final\>\"", "\[Rule]", "\"\<%s.final\>\""}], ",", 
        RowBox[{"\"\<element_divisions\>\"", "\[Rule]", "split"}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"runcontrol", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<n_steps\>\"", "\[Rule]", "1"}], ",", 
        RowBox[{"\"\<n_passes\>\"", "\[Rule]", "1"}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<run_control\>\""}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"twissoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<filename\>\"", "\[Rule]", "\"\<%s.twi\>\""}], ",", 
        RowBox[{"\"\<matched\>\"", "\[Rule]", "1"}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<twiss_output\>\""}], ",", 
        RowBox[{"\"\<radiation_integrals\>\"", "\[Rule]", "1"}], ",", 
        RowBox[{"\"\<statistics\>\"", "\[Rule]", "1"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"matrixoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<SDDS_output\>\"", "\[Rule]", "\"\<%s.matrix\>\""}], ",", 
        RowBox[{"\"\<SDDS_output_order\>\"", "\[Rule]", "2"}], ",", 
        RowBox[{"\"\<individual_matrices\>\"", "\[Rule]", "0"}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<matrix_output\>\""}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"flooroutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<filename\>\"", "\[Rule]", "\"\<%s.flr\>\""}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<floor_coordinates\>\""}]}],
        "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"beamoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<bunched_beam\>\""}], ",", 
        RowBox[{"\"\<n_particles_per_bunch\>\"", "\[Rule]", 
         SuperscriptBox["2", "10"]}], ",", 
        RowBox[{"\"\<use_twiss_command_values\>\"", "\[Rule]", "1"}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"trackoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<track\>\""}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"ElegantWriteCommands", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "runsetup", ",", "runcontrol", ",", "bcommands", ",", "twissoutput", 
         ",", "matrixoutput", ",", "flooroutput", ",", "commands"}], 
        RowBox[{"(*", 
         RowBox[{",", "beamoutput", ",", "trackoutput"}], "*)"}], "}"}], ",", 
       RowBox[{"filename", "<>", "\"\<.ele\>\""}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ElegantWriteLattice", "[", 
      RowBox[{"lattice", ",", 
       RowBox[{"filename", "<>", "\"\<.lte\>\""}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ElegantRun", "[", 
      RowBox[{"filename", "<>", "\"\<.ele\>\""}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"FileExistsQ", "[", 
        RowBox[{"filename", "<>", "\"\<.sig\>\""}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"sddsBinaryInterpret", "[", 
        RowBox[{
         RowBox[{"filename", "<>", "\"\<.sig\>\""}], ",", 
         RowBox[{"Global`sddsPrefix", "\[Rule]", "\"\<sig$\>\""}]}], "]"}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"FileExistsQ", "[", 
        RowBox[{"filename", "<>", "\"\<.cen\>\""}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"sddsBinaryInterpret", "[", 
        RowBox[{
         RowBox[{"filename", "<>", "\"\<.cen\>\""}], ",", 
         RowBox[{"Global`sddsPrefix", "\[Rule]", "\"\<cen$\>\""}]}], "]"}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"sddsBinaryInterpret", "[", 
      RowBox[{"filename", "<>", "\"\<.twi\>\""}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625467534242544*^9, 3.625467641230544*^9}, {
   3.625467806612544*^9, 3.625467942171544*^9}, {3.625468049532544*^9, 
   3.6254680524755445`*^9}, {3.625468089452544*^9, 3.6254680923705444`*^9}, {
   3.6254681641095448`*^9, 3.6254681773915443`*^9}, {3.6254865984205446`*^9, 
   3.625486622947544*^9}, {3.6255015681542735`*^9, 3.6255015721836767`*^9}, {
   3.6978968981744328`*^9, 3.697896900764833*^9}, {3.7058157885045652`*^9, 
   3.7058157902405653`*^9}, {3.7728699109359355`*^9, 
   3.7728699791268544`*^9}, {3.7752024898368616`*^9, 
   3.7752024905718994`*^9}, {3.7752028210367594`*^9, 
   3.7752028210407734`*^9}, {3.775202940921444*^9, 3.7752029409244075`*^9}, {
   3.7773732810540633`*^9, 3.777373284008733*^9}, {3.788512098108076*^9, 
   3.7885121565626173`*^9}, {3.7885896442368317`*^9, 3.788589648625025*^9}, 
   3.7885897167115707`*^9, {3.788589779248492*^9, 3.7885897819803195`*^9}, 
   3.788589855259158*^9, 3.7885899083250866`*^9, {3.788616311856419*^9, 
   3.788616314889331*^9}, {3.7886163794601593`*^9, 3.7886164232290244`*^9}, {
   3.788616578297763*^9, 3.788616578565048*^9}, {3.788617811504951*^9, 
   3.7886178363296933`*^9}, {3.791891550607043*^9, 3.7918915704860754`*^9}, {
   3.7927341885140076`*^9, 3.792734188658622*^9}, 3.796133142008588*^9, {
   3.8032070387080183`*^9, 3.803207093925592*^9}, {3.8063250438236876`*^9, 
   3.806325088795362*^9}, {3.80632513246422*^9, 
   3.806325162440469*^9}},ExpressionUUID->"0a534fae-d557-4277-87e8-\
23964d296dfe"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"SetAttributes", "[", 
   RowBox[{"ElegantTwiss", ",", "HoldFirst"}], "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ElegantTwiss", "[", 
   RowBox[{"lattice_", ",", 
    RowBox[{"{", 
     RowBox[{
     "alphax_", ",", " ", "betax_", ",", "alphay_", ",", "betay_", ",", 
      RowBox[{"enx_:", 
       SuperscriptBox["10", 
        RowBox[{"-", "6"}]]}], ",", 
      RowBox[{"eny_:", 
       SuperscriptBox["10", 
        RowBox[{"-", "6"}]]}]}], "}"}], ",", 
    RowBox[{"momentum_:", "1000"}], ",", "commands___commandDefinition", ",", 
    RowBox[{"split_Integer:", "1"}], ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"ElegantTwiss", "[", 
   RowBox[{"lattice", ",", 
    RowBox[{"{", 
     RowBox[{
     "alphax", ",", " ", "betax", ",", "alphay", ",", "betay", ",", "enx", 
      ",", "eny"}], "}"}], ",", "momentum", ",", "commands", ",", 
    RowBox[{"Before", "[", "]"}], ",", "split", ",", "opts"}], 
   "]"}]}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"ElegantTwiss", "[", 
   RowBox[{"lattice_", ",", 
    RowBox[{"{", 
     RowBox[{
     "alphax_", ",", " ", "betax_", ",", "alphay_", ",", "betay_", ",", 
      RowBox[{"enx_:", 
       SuperscriptBox["10", 
        RowBox[{"-", "6"}]]}], ",", 
      RowBox[{"eny_:", 
       SuperscriptBox["10", 
        RowBox[{"-", "6"}]]}]}], "}"}], ",", 
    RowBox[{"momentum_:", "1000"}], ",", "commands___commandDefinition", ",", 
    RowBox[{"Before", "[", "bcommands___commandDefinition", "]"}], ",", 
    RowBox[{"split_Integer:", "1"}], ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "filename", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"filename", "=", "\"\<temp\>\""}], ";", "\[IndentingNewLine]", 
     RowBox[{"runsetup", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<LATTICE\>\"", "\[Rule]", 
         RowBox[{
          RowBox[{"FileBaseName", "[", "filename", "]"}], "<>", 
          "\"\<.lte\>\""}]}], ",", 
        RowBox[{"\"\<command\>\"", "\[Rule]", "\"\<run_setup\>\""}], ",", 
        RowBox[{"\"\<use_beamline\>\"", "\[Rule]", 
         RowBox[{"HoldForm", "[", "lattice", "]"}]}], ",", 
        RowBox[{"\"\<p_central_mev\>\"", "\[Rule]", "momentum"}], ",", 
        RowBox[{"\"\<centroid\>\"", "\[Rule]", "\"\<%s.cen\>\""}], ",", 
        RowBox[{"\"\<sigma\>\"", " ", "\[Rule]", "\"\<%s.sig\>\""}], ",", 
        RowBox[{"\"\<default_order\>\"", "\[Rule]", "3"}], ",", 
        RowBox[{"\"\<parameters\>\"", "\[Rule]", "\"\<%s.param\>\""}], ",", 
        "\n", 
        RowBox[{"\"\<output\>\"", "\[Rule]", "\"\<%s.out\>\""}], ",", 
        RowBox[{"\"\<losses\>\"", "\[Rule]", "\"\<%s.lost\>\""}], ",", 
        RowBox[{"\"\<final\>\"", "\[Rule]", "\"\<%s.final\>\""}], ",", 
        RowBox[{"\"\<element_divisions\>\"", "\[Rule]", "split"}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"runcontrol", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<n_steps\>\"", "\[Rule]", "1"}], ",", 
        RowBox[{"\"\<n_passes\>\"", "\[Rule]", "1"}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<run_control\>\""}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"twissoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<filename\>\"", "\[Rule]", "\"\<%s.twi\>\""}], ",", 
        RowBox[{"\"\<matched\>\"", "\[Rule]", "0"}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<twiss_output\>\""}], ",", 
        RowBox[{"\"\<beta_x\>\"", "\[Rule]", "betax"}], ",", 
        RowBox[{"\"\<beta_y\>\"", "\[Rule]", "betay"}], ",", 
        RowBox[{"\"\<alpha_x\>\"", "\[Rule]", "alphax"}], ",", 
        RowBox[{"\"\<alpha_y\>\"", "\[Rule]", "alphay"}], ",", 
        "\"\<enx\>\""}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"matrixoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<SDDS_output\>\"", "\[Rule]", "\"\<%s.matrix\>\""}], ",", 
        RowBox[{"\"\<SDDS_output_order\>\"", "\[Rule]", "2"}], ",", 
        RowBox[{"\"\<individual_matrices\>\"", "\[Rule]", "0"}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<matrix_output\>\""}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"flooroutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<filename\>\"", "\[Rule]", "\"\<%s.flr\>\""}], ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<floor_coordinates\>\""}]}],
        "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"beamoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<bunched_beam\>\""}], ",", 
        RowBox[{"\"\<n_particles_per_bunch\>\"", "\[Rule]", 
         SuperscriptBox["2", "10"]}], ",", 
        RowBox[{"\"\<use_twiss_command_values\>\"", "\[Rule]", "1"}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"trackoutput", "=", 
      RowBox[{"commandDefinition", "[", 
       RowBox[{"opts", ",", 
        RowBox[{"\"\<Command\>\"", "\[Rule]", "\"\<track\>\""}]}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"ElegantWriteCommands", "[", 
      RowBox[{
       RowBox[{"{", 
        RowBox[{
        "runsetup", ",", "runcontrol", ",", "bcommands", ",", "twissoutput", 
         ",", "matrixoutput", ",", "flooroutput", ",", "commands"}], 
        RowBox[{"(*", 
         RowBox[{",", "beamoutput", ",", "trackoutput"}], "*)"}], "}"}], ",", 
       RowBox[{"filename", "<>", "\"\<.ele\>\""}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ElegantWriteLattice", "[", 
      RowBox[{"lattice", ",", 
       RowBox[{"filename", "<>", "\"\<.lte\>\""}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"ElegantRun", "[", 
      RowBox[{"filename", "<>", "\"\<.ele\>\""}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"FileExistsQ", "[", 
        RowBox[{"filename", "<>", "\"\<.sig\>\""}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"sddsBinaryInterpret", "[", 
        RowBox[{
         RowBox[{"filename", "<>", "\"\<.sig\>\""}], ",", 
         RowBox[{"Global`sddsPrefix", "\[Rule]", "\"\<sig$\>\""}]}], "]"}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"FileExistsQ", "[", 
        RowBox[{"filename", "<>", "\"\<.cen\>\""}], "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{"sddsBinaryInterpret", "[", 
        RowBox[{
         RowBox[{"filename", "<>", "\"\<.cen\>\""}], ",", 
         RowBox[{"Global`sddsPrefix", "\[Rule]", "\"\<cen$\>\""}]}], "]"}]}], 
      "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"sddsBinaryInterpret", "[", 
      RowBox[{"filename", "<>", "\"\<.twi\>\""}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.625467534242544*^9, 3.625467641230544*^9}, {
   3.625467806612544*^9, 3.625467942171544*^9}, {3.625468049532544*^9, 
   3.6254680524755445`*^9}, {3.625468089452544*^9, 3.6254680923705444`*^9}, {
   3.6254681641095448`*^9, 3.6254681773915443`*^9}, {3.6254865984205446`*^9, 
   3.625486622947544*^9}, {3.6255015681542735`*^9, 3.6255015721836767`*^9}, {
   3.6978968981744328`*^9, 3.697896900764833*^9}, {3.7058157885045652`*^9, 
   3.7058157902405653`*^9}, {3.772866476883342*^9, 3.7728665317312365`*^9}, 
   3.772867142639058*^9, {3.7728697716890173`*^9, 3.7728697885357513`*^9}, {
   3.772869885656962*^9, 3.772869976063033*^9}, {3.7728700936368313`*^9, 
   3.7728701153318405`*^9}, {3.7752024912750225`*^9, 
   3.7752024916589704`*^9}, {3.77520282104576*^9, 3.7752028210497527`*^9}, {
   3.775202940928424*^9, 3.775202940933384*^9}, {3.777373287334811*^9, 
   3.7773732896430044`*^9}, 3.7885121042226725`*^9, {3.788512137383539*^9, 
   3.7885121518089933`*^9}, {3.7885896541924715`*^9, 3.7885897125739164`*^9}, 
   3.7885897852041664`*^9, {3.788589852892048*^9, 3.7885899011996555`*^9}, {
   3.788616332189192*^9, 3.788616366851736*^9}, {3.7886164000500183`*^9, 
   3.788616427194415*^9}, {3.788616576074692*^9, 3.7886165764277787`*^9}, {
   3.788617842265879*^9, 3.788617868833928*^9}, {3.788849483793804*^9, 
   3.7888494839523816`*^9}, 3.7924931980737333`*^9, {3.7927341871942577`*^9, 
   3.7927341873548*^9}, 3.7961331353692923`*^9, {3.803207106216818*^9, 
   3.8032071112553215`*^9}, {3.8063250945854588`*^9, 
   3.8063251048206544`*^9}, {3.80632516791133*^9, 
   3.806325175502716*^9}},ExpressionUUID->"2d95d910-f5e7-4e13-bcf9-\
a20fe5d8831e"]
}, Open  ]]
}, Open  ]],

Cell[CellGroupData[{

Cell["ElementDraw", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.688718389942676*^9, 3.6887183909986763`*^9}, {
  3.732606596081066*^9, 
  3.7326065968172655`*^9}},ExpressionUUID->"80791dfa-dd7f-4d84-8d37-\
f3a3d60f3770"],

Cell[BoxData[{
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<dipole\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CSBEND\>\"", ",", "\"\<CSRCSBend\>\"", ",", "\"\<KSBEND\>\"", ",", 
     "\"\<NIBEND\>\"", ",", "\"\<dipole\>\"", ",", "\"\<sbend\>\""}], "}"}]}],
   ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<quadrupole\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<KQUAD\>\"", ",", "\"\<QUAD\>\"", ",", "\"\<quadrupole\>\""}],
     "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<sextupole\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<KSEXT\>\"", ",", "\"\<SEXT\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<drift\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<CSRDRIFT\>\"", ",", "\"\<DRIF\>\"", ",", "\"\<EDRIFT\>\"", ",", 
     "\"\<LSCDRIFT\>\"", ",", "\"\<drift\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<octupole\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<KOCT\>\"", ",", "\"\<OCTU\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<rfc\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RFCA\>\"", ",", "\"\<RFCW\>\"", ",", "\"\<MODRF\>\"", ",", 
     "\"\<RFTMEZ0\>\"", ",", "\"\<LCAV\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<solenoid\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<MAPSOLENOID\>\"", ",", "\"\<SOLE\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<wiggler\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<WIGGLER\>\"", ",", "\"\<CWIGGLER\>\"", ",", "\"\<GFWIGGLER\>\""}], 
    "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<kicker\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<EHKICK\>\"", ",", "\"\<EKICKER\>\"", ",", "\"\<EVKICK\>\"", ",", 
     "\"\<HKICK\>\"", ",", "\"\<KICKER\>\"", ",", "\"\<UKICKMAP\>\"", ",", 
     "\"\<VKICK\>\"", ",", "\"\<kicker\>\"", ",", "\"\<hkicker\>\"", ",", 
     "\"\<vkicker\>\""}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<bpm\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<MONI\>\"", ",", "\"\<HMON\>\"", ",", "\"\<VMON\>\"", ",", 
     "\"\<MONITOR\>\"", ",", "\"\<beam_position_monitor\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<multipole\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<FMULT\>\"", ",", "\"\<MULT\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<collimator\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<ECOL\>\"", ",", "\"\<RCOL\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<marker\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{"\"\<MARK\>\"", ",", "\"\<WATCH\>\""}], "}"}]}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<cavity\>\"", "]"}], "=", 
   RowBox[{"{", 
    RowBox[{
    "\"\<RFC\>\"", ",", "\"\<cavity\>\"", ",", 
     "\"\<integrated_current_transformer\>\"", ",", "\"\<RFCW\>\"", ",", 
     "\"\<RFCA\>\""}], "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<screen\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<screen\>\"", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<shutter\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<shutter\>\"", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<valve\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<valve\>\"", "}"}]}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementClass", "[", "\"\<bellows\>\"", "]"}], "=", 
   RowBox[{"{", "\"\<bellows\>\"", "}"}]}], ";"}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6890771386362*^9, 3.6890772293282*^9}, {
   3.6890774770382*^9, 3.6890775058241997`*^9}, {3.6890779022630997`*^9, 
   3.6890779036389*^9}, {3.6890779455060997`*^9, 3.6890779488807*^9}, {
   3.6893151722491055`*^9, 3.6893152425413055`*^9}, {3.6893152756039057`*^9, 
   3.6893152779907055`*^9}, {3.6893153095109053`*^9, 
   3.6893153598390055`*^9}, {3.6893154708957057`*^9, 
   3.6893155339005055`*^9}, {3.6893155688755054`*^9, 
   3.6893156412574053`*^9}, {3.689315723574606*^9, 3.689315727209406*^9}, {
   3.689315757620206*^9, 3.6893158591457057`*^9}, {3.6893222120037055`*^9, 
   3.689322220715706*^9}, {3.697875358734726*^9, 3.6978753629910765`*^9}, {
   3.7655271361336203`*^9, 3.765527156094986*^9}, 3.7655272336860294`*^9, {
   3.765527330903204*^9, 3.765527331179435*^9}, {3.765527394979932*^9, 
   3.765527406916176*^9}, {3.7655338968286066`*^9, 3.7655339037012377`*^9}, {
   3.765535061687602*^9, 3.7655350635596027`*^9}, {3.765535761281663*^9, 
   3.765535762544329*^9}, {3.7655364206315117`*^9, 3.7655364268808146`*^9}, {
   3.7655364698649673`*^9, 3.765536494193059*^9}, {3.765538794774558*^9, 
   3.765538801630269*^9}, {3.7711517040191927`*^9, 3.771151705971011*^9}, 
   3.7711598234691052`*^9, {3.777373885305271*^9, 3.7773738883026996`*^9}, {
   3.7882738339295053`*^9, 3.7882738354424963`*^9}, {3.788511515081962*^9, 
   3.7885115169962215`*^9}, {3.796107743090351*^9, 3.7961077494603353`*^9}, {
   3.7961101697833815`*^9, 3.7961101763398294`*^9}, {3.8062281809321795`*^9, 
   3.8062281860172024`*^9}},ExpressionUUID->"68e00ac1-c1ff-47be-813f-\
0ed3fb019a66"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "findElementClass", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"findElementClass", "[", "a_elementDefinition", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"type", "=", 
      RowBox[{"a", "[", "\"\<TYPE\>\"", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"type", "===", "0"}], ",", 
       RowBox[{"elementClass", "[", "\"\<marker\>\"", "]"}], ",", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"class", "=", 
         RowBox[{"Select", "[", 
          RowBox[{
           RowBox[{"DownValues", "[", "elementClass", "]"}], ",", 
           RowBox[{
            RowBox[{"MemberQ", "[", 
             RowBox[{
              RowBox[{"ToUpperCase", "[", 
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}], "]"}], ",", 
              RowBox[{"ToUpperCase", "[", "type", "]"}]}], "]"}], "&"}]}], 
          "]"}]}], ";", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"class", "===", 
           RowBox[{"{", "}"}]}], ",", "\"\<marker\>\"", ",", 
          "\[IndentingNewLine]", 
          RowBox[{"class", "[", 
           RowBox[{"[", 
            RowBox[{"1", ",", "1", ",", "1", ",", "1"}], "]"}], "]"}]}], 
         "\[IndentingNewLine]", "]"}]}]}], "\[IndentingNewLine]", "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6893159011765056`*^9, 3.6893159977243056`*^9}, {
   3.6893160539485054`*^9, 3.6893160835637054`*^9}, {3.6893161284547057`*^9, 
   3.689316256737506*^9}, 3.6893222398383055`*^9, {3.6893222999063053`*^9, 
   3.6893223021783056`*^9}, {3.697875332189418*^9, 3.697875341413262*^9}, {
   3.6978755203260374`*^9, 3.6978755204645653`*^9}, {3.78827381476071*^9, 
   3.788273843706388*^9}},ExpressionUUID->"343dd9c4-6130-43e5-b344-\
04bc813ddbed"],

Cell[CellGroupData[{

Cell["Definitions", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6893196709129057`*^9, 
  3.6893196732841053`*^9}},ExpressionUUID->"9e2dd6b9-037b-43be-8cdb-\
bccceaa98ae4"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Clear", "[", "pelement", "]"}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6893212316857057`*^9, 3.6893212348067055`*^9}},
 CellLabel->
  "(Local2) In[395]:=",ExpressionUUID->"06aef446-d06e-4231-a38f-a631335bb3fd"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "elementDrawRotation", "]"}], 
  ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{
   RowBox[{"elementDrawRotation", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"x_", ",", "y_"}], "}"}], ",", "\[Theta]_"}], "]"}], ":=", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{
      RowBox[{"x", " ", 
       RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "-", 
      RowBox[{"y", " ", 
       RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}], ",", 
     RowBox[{
      RowBox[{"x", " ", 
       RowBox[{"Sin", "[", "\[Theta]", "]"}]}], "+", 
      RowBox[{"y", " ", 
       RowBox[{"Cos", "[", "\[Theta]", "]"}]}]}]}], "}"}]}], ";"}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6893209663995056`*^9, 3.6893209673345056`*^9}, {
  3.6893210127545056`*^9, 3.689321019666506*^9}, {3.689321167235306*^9, 
  3.6893211740209055`*^9}, {3.6893219133381057`*^9, 3.6893219139141054`*^9}, {
  3.6893233566177053`*^9, 3.6893233960175056`*^9}},
 CellLabel->
  "(Local2) In[396]:=",ExpressionUUID->"0a159fd8-9ba8-461d-811c-f6f415048566"],

Cell[BoxData[
 RowBox[{
  RowBox[{"TextOscillate", "[", "]"}], ":=", 
  RowBox[{"Switch", "[", 
   RowBox[{"TEXTOSCILLATE", ",", "1", ",", 
    RowBox[{"TEXTOSCILLATE", "=", 
     RowBox[{"-", "1"}]}], ",", 
    RowBox[{"-", "1"}], ",", 
    RowBox[{"TEXTOSCILLATE", "=", "1"}], ",", "_", ",", "1"}], 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978991091630783`*^9, 3.3978991147100244`*^9}, {
  3.3978992959154687`*^9, 3.3978993264471097`*^9}, {3.397899482636609*^9, 
  3.3978994829959884`*^9}, {3.397899578981592*^9, 3.3978995877785797`*^9}, {
  3.397899697873739*^9, 3.3978996989675026`*^9}},
 CellLabel->
  "(Local2) In[398]:=",ExpressionUUID->"355a14df-b045-4353-b935-8b7515fd27d7"],

Cell[BoxData[
 RowBox[{
  RowBox[{"TextDirection", "[", "]"}], ":=", 
  RowBox[{"Switch", "[", 
   RowBox[{"TEXTOSCILLATE", ",", 
    RowBox[{"-", "1"}], ",", "1", ",", "_", ",", 
    RowBox[{"-", "1"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978991235226374`*^9, 3.3978991303508496`*^9}, {
   3.3978993316659265`*^9, 3.397899339619153*^9}, {3.3978995926223917`*^9, 
   3.3978995985443425`*^9}, {3.3978997007644005`*^9, 3.397899701623787*^9}, 
   3.3979006494171686`*^9, {3.3979007301369514`*^9, 3.3979007351838913`*^9}},
 CellLabel->
  "(Local2) In[399]:=",ExpressionUUID->"a32d0310-0a15-432a-9b9f-6edcc21f40b6"]
}, Open  ]],

Cell[CellGroupData[{

Cell["Drift", "Subsubsection",
 InitializationGroup->
  True,ExpressionUUID->"6849c283-8c7f-420e-8998-b26e28ebac3b"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<drift\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "wdr", ",", "widthscale", ",", "text", ",", "driftlabels", ",", 
       "driftlengths"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"driftlabels", "=", 
       RowBox[{
        RowBox[{"Global`DriftLabels", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Global`DriftLabels", "\[Rule]", "False"}], "}"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"driftlengths", "=", 
       RowBox[{
        RowBox[{"Global`DriftLengths", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Global`DriftLengths", "\[Rule]", "False"}], "}"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"ElementDrawText", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wdr", "=", 
       RowBox[{"0.16", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"Line", "[", 
          RowBox[{"{", 
           RowBox[{"position", ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"length", "*", 
                RowBox[{"{", 
                 RowBox[{"1", ",", "0"}], "}"}]}], ",", "rotation"}], 
              "]"}]}]}], "}"}], "]"}], "}"}], ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{"driftlabels", "===", "True"}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{
             RowBox[{"If", "[", 
              RowBox[{
               RowBox[{"driftlengths", "===", "True"}], ",", 
               RowBox[{"label", "=", 
                RowBox[{"label", "<>", "\"\<\\n\>\"", "<>", 
                 RowBox[{"ToString", "[", 
                  RowBox[{"numberRight", "[", "length", "]"}], "]"}], "<>", 
                 "\"\<m\>\""}]}]}], "]"}], ";", "\[IndentingNewLine]", 
             RowBox[{"{", 
              RowBox[{"Text", "[", 
               RowBox[{"label", ",", 
                RowBox[{"position", "+", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    FractionBox["length", "2"], 
                    RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                   RowBox[{
                    FractionBox["length", "2"], 
                    RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
                 RowBox[{
                  RowBox[{"TextOscillate", "[", "]"}], 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{"0.5", "wdr", " ", 
                    RowBox[{"Sin", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}], ",", " ", 
                    RowBox[{"0.5", " ", "wdr", " ", 
                    RowBox[{"Cos", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"Sin", "[", 
                   RowBox[{"-", "rotation"}], "]"}], ",", 
                  RowBox[{"Cos", "[", 
                   RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], 
              "}"}]}], ",", "\[IndentingNewLine]", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{"driftlengths", "===", "True"}], ",", 
              RowBox[{"{", 
               RowBox[{"Text", "[", 
                RowBox[{
                 RowBox[{
                  RowBox[{"ToString", "[", 
                   RowBox[{"numberRight", "[", "length", "]"}], "]"}], "<>", 
                  "\"\<m\>\""}], ",", 
                 RowBox[{"position", "+", 
                  RowBox[{"{", 
                   RowBox[{
                    RowBox[{
                    FractionBox["length", "2"], 
                    RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                    RowBox[{
                    FractionBox["length", "2"], 
                    RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
                  RowBox[{
                   RowBox[{"TextOscillate", "[", "]"}], 
                   RowBox[{"{", 
                    RowBox[{
                    RowBox[{"1", "wdr", " ", 
                    RowBox[{"Sin", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}], ",", " ", 
                    RowBox[{"1", " ", "wdr", " ", 
                    RowBox[{"Cos", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], 
                 ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{"Sin", "[", 
                    RowBox[{"-", "rotation"}], "]"}], ",", 
                   RowBox[{"Cos", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], "}"}],
               ",", 
              RowBox[{"{", "}"}]}], "]"}]}], "]"}], "\[IndentingNewLine]", 
          ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "]"}]}]}], "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978120462759132`*^9, 3.397812046400915*^9}, {
   3.397814015467764*^9, 3.397814041499347*^9}, {3.397815283374618*^9, 
   3.3978153111093483`*^9}, {3.397815371281993*^9, 3.397815454829938*^9}, {
   3.3978154865647187`*^9, 3.3978155312215405`*^9}, {3.3978173373227835`*^9, 
   3.3978173391353064`*^9}, {3.3978174420428734`*^9, 
   3.3978175157938175`*^9}, {3.3979020616539946`*^9, 
   3.3979020747479124`*^9}, {3.397902464706029*^9, 3.3979024687373304`*^9}, 
   3.397971231505986*^9, {3.3979713356010685`*^9, 3.3979714042581973`*^9}, {
   3.3979714360086036`*^9, 3.397971494399976*^9}, {3.3979742537630043`*^9, 
   3.3979743724113665`*^9}, {3.3979744107056465`*^9, 
   3.3979744449747167`*^9}, {3.3979745256446085`*^9, 
   3.3979745425446386`*^9}, {3.3992712941436214`*^9, 
   3.3992712996280317`*^9}, {3.3992713383939047`*^9, 
   3.3992713391439095`*^9}, {3.4034262862088833`*^9, 
   3.4034263318500924`*^9}, {3.4034263819757338`*^9, 
   3.4034264015697346`*^9}, {3.4034264574610753`*^9, 3.403426474508168*^9}, {
   3.404473165303051*^9, 3.404473169849955*^9}, {3.4052368275672626`*^9, 
   3.405236834364225*^9}, 3.41734788961231*^9, 3.417351067898276*^9, {
   3.422166545938699*^9, 3.4221665466887035`*^9}, {3.4325513155027127`*^9, 
   3.4325513767218547`*^9}, 3.4632962568139114`*^9, 3.5018436473497763`*^9, 
   3.501843680224987*^9, {3.50184373777223*^9, 3.5018437391472387`*^9}, {
   3.6893196878071055`*^9, 3.6893196888679056`*^9}, {3.6893198856077056`*^9, 
   3.6893198879185057`*^9}, 3.6893199228523054`*^9, {3.6893200182815056`*^9, 
   3.689320025408106*^9}, 3.6893203685009055`*^9, {3.6893204519837055`*^9, 
   3.689320454138506*^9}, {3.6893204869083056`*^9, 3.689320519675706*^9}, {
   3.6893205656773057`*^9, 3.6893205962893057`*^9}, 3.6893220675019054`*^9, {
   3.6893232966277056`*^9, 3.6893233017447057`*^9}, 3.6893233785327053`*^9, {
   3.6893258716059055`*^9, 3.689325907233906*^9}, {3.7655270706778126`*^9, 
   3.765527070683797*^9}, {3.775202805029896*^9, 3.7752028050318594`*^9}, {
   3.775202915090773*^9, 3.77520291509379*^9}},
 CellLabel->
  "(Local2) In[400]:=",ExpressionUUID->"ff33ba9f-f88d-45f9-9e71-a7d5ed3baca7"]
}, Closed]],

Cell[CellGroupData[{

Cell["Dipole", "Subsubsection",
 InitializationCell->True,
 InitializationGroup->
  True,ExpressionUUID->"6d100a44-3d65-46d6-8521-2a3126bc0598"],

Cell[BoxData[
 RowBox[{
  RowBox[{"wd", ":=", 
   RowBox[{"0.1", "*", "widthscale"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{3.397812907020444*^9},
 CellLabel->
  "(Local2) In[401]:=",ExpressionUUID->"a6aa8640-80a0-42c0-844a-579a9960ed25"],

Cell[BoxData[
 RowBox[{
  RowBox[{"rho", "[", 
   RowBox[{"l_", ",", "\[Theta]_"}], "]"}], ":=", 
  RowBox[{"l", "/", "\[Theta]"}]}]], "Input",
 CellChangeTimes->{{3.7880120311953526`*^9, 3.7880120424602566`*^9}},
 CellLabel->"In[69]:=",ExpressionUUID->"16da9abb-95b5-4dcc-95ba-cf5ec23896e2"],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "arcPos", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"arcPos", "[", 
   RowBox[{"r_", ",", "\[Theta]_"}], "]"}], ":=", 
  RowBox[{"Reverse", "[", 
   RowBox[{"{", 
    RowBox[{
     RowBox[{"Limit", "[", 
      RowBox[{
       RowBox[{"r", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"Cos", "[", "\[Theta]1", "]"}], "-", "1"}], ")"}]}], ",", 
       RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}], ",", 
     RowBox[{"Limit", "[", 
      RowBox[{
       RowBox[{"r", " ", 
        RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], ",", 
       RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]}], "}"}], 
   "]"}]}]}], "Input",
 CellChangeTimes->{{3.7880122666295404`*^9, 3.7880123038745375`*^9}, {
  3.7880123864364877`*^9, 3.7880123867556353`*^9}, {3.7880129358484697`*^9, 
  3.7880129407912655`*^9}, {3.788762737499623*^9, 3.7887627446262016`*^9}, {
  3.7887629046877837`*^9, 
  3.788762906315447*^9}},ExpressionUUID->"b3e98ee6-b86a-4014-97d9-\
9897b78b735e"],

Cell[BoxData[
 RowBox[{
  RowBox[{"pelement", "[", 
   RowBox[{
   "\"\<dipole\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
    "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "elem", ",", "text", ",", "bends", ",", "thick", ",", "colour", ",", 
      "widthscale", ",", "e1", ",", "e2"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"elem", "=", 
      RowBox[{
       RowBox[{"Element", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"text", "=", 
      RowBox[{
       RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"bends", "=", 
      RowBox[{
       RowBox[{"Bends", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"thick", "=", 
      RowBox[{
       RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"colour", "=", 
      RowBox[{
       RowBox[{"Colour", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Colour", "\[Rule]", 
         RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"widthscale", "=", 
      RowBox[{
       RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"wd", "=", 
      RowBox[{"0.1", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"e1", "=", 
      RowBox[{
       RowBox[{"elem", "[", 
        RowBox[{"[", "6", "]"}], "]"}], "[", "\"\<E1\>\"", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"e2", "=", 
      RowBox[{
       RowBox[{"elem", "[", 
        RowBox[{"[", "6", "]"}], "]"}], "[", "\"\<E2\>\"", "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ArcMatrix", "[", "\[Theta]_", "]"}], ":=", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"1", ",", "0"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{"Sin", "[", "bend", "]"}], ",", 
          RowBox[{"(", 
           RowBox[{
            RowBox[{"Cos", "[", "bend", "]"}], "-", "1"}], ")"}]}], "}"}]}], 
       "}"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"bends", "&&", 
        RowBox[{
         RowBox[{"Abs", "[", "bend", "]"}], ">", "0.001"}], "&&", 
        RowBox[{"length", ">", "0"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"colour", ",", 
         RowBox[{"Thickness", "[", "thick", "]"}], ",", "\[IndentingNewLine]",
          "\[IndentingNewLine]", 
         RowBox[{"If", "[", 
          RowBox[{
           RowBox[{
            RowBox[{
             RowBox[{"Abs", "[", "e1", "]"}], ">", "0"}], "||", 
            RowBox[{
             RowBox[{"Abs", "[", "e2", "]"}], ">", "0"}]}], ",", 
           "\[IndentingNewLine]", 
           RowBox[{"If", "[", 
            RowBox[{
             RowBox[{"bend", "<", "0"}], ",", "\[IndentingNewLine]", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Line", "[", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"position", "+", 
                   RowBox[{
                    RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "wd"}], "}"}], ",", "rotation"}], "]"}],
                     ".", 
                    RowBox[{"RotationMatrix", "[", 
                    RowBox[{
                    RowBox[{"Sign", "[", "bend", "]"}], "e1"}], "]"}]}]}], 
                  ",", 
                  RowBox[{"position", "+", 
                   RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"arcPos", "[", 
                    RowBox[{
                    RowBox[{"rho", "[", 
                    RowBox[{"length", ",", 
                    RowBox[{"-", "bend"}]}], "]"}], ",", 
                    RowBox[{"-", "bend"}]}], "]"}], ",", "rotation"}], "]"}], 
                   "+", 
                   RowBox[{
                    RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "wd"}], "}"}], ",", 
                    RowBox[{"rotation", "+", "bend"}]}], "]"}], ".", 
                    RowBox[{"RotationMatrix", "[", 
                    RowBox[{
                    RowBox[{"-", 
                    RowBox[{"Sign", "[", "bend", "]"}]}], "e2"}], "]"}]}]}]}],
                  "}"}], "]"}], ",", "\[IndentingNewLine]", 
               RowBox[{"Line", "[", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"position", "+", 
                   RowBox[{
                    RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", 
                    RowBox[{"-", "wd"}]}], "}"}], ",", "rotation"}], "]"}], 
                    ".", 
                    RowBox[{"RotationMatrix", "[", 
                    RowBox[{
                    RowBox[{"Sign", "[", "bend", "]"}], "e1"}], "]"}]}]}], 
                  ",", 
                  RowBox[{"position", "+", 
                   RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"arcPos", "[", 
                    RowBox[{
                    RowBox[{"rho", "[", 
                    RowBox[{"length", ",", 
                    RowBox[{"-", "bend"}]}], "]"}], ",", 
                    RowBox[{"-", "bend"}]}], "]"}], ",", "rotation"}], "]"}], 
                   "+", 
                   RowBox[{
                    RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", 
                    RowBox[{"-", "wd"}]}], "}"}], ",", 
                    RowBox[{"rotation", "+", "bend"}]}], "]"}], ".", 
                    RowBox[{"RotationMatrix", "[", 
                    RowBox[{
                    RowBox[{"-", 
                    RowBox[{"Sign", "[", "bend", "]"}]}], "e1"}], "]"}]}]}]}],
                  "}"}], "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Line", "[", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"position", "+", 
                   RowBox[{
                    RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "wd"}], "}"}], ",", "rotation"}], "]"}],
                     ".", 
                    RowBox[{"RotationMatrix", "[", 
                    RowBox[{
                    RowBox[{"-", 
                    RowBox[{"Sign", "[", "bend", "]"}]}], "e1"}], "]"}]}]}], 
                  ",", 
                  RowBox[{"position", "+", 
                   RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"arcPos", "[", 
                    RowBox[{
                    RowBox[{"rho", "[", 
                    RowBox[{"length", ",", 
                    RowBox[{"-", "bend"}]}], "]"}], ",", 
                    RowBox[{"-", "bend"}]}], "]"}], ",", "rotation"}], "]"}], 
                   "+", 
                   RowBox[{
                    RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", "wd"}], "}"}], ",", 
                    RowBox[{"rotation", "+", "bend"}]}], "]"}], ".", 
                    RowBox[{"RotationMatrix", "[", 
                    RowBox[{
                    RowBox[{"Sign", "[", "bend", "]"}], "e2"}], "]"}]}]}]}], 
                 "}"}], "]"}], ",", "\[IndentingNewLine]", 
               RowBox[{"Line", "[", 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"position", "+", 
                   RowBox[{
                    RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", 
                    RowBox[{"-", "wd"}]}], "}"}], ",", "rotation"}], "]"}], 
                    ".", 
                    RowBox[{"RotationMatrix", "[", 
                    RowBox[{
                    RowBox[{"-", 
                    RowBox[{"Sign", "[", "bend", "]"}]}], "e1"}], "]"}]}]}], 
                  ",", 
                  RowBox[{"position", "+", 
                   RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"arcPos", "[", 
                    RowBox[{
                    RowBox[{"rho", "[", 
                    RowBox[{"length", ",", 
                    RowBox[{"-", "bend"}]}], "]"}], ",", 
                    RowBox[{"-", "bend"}]}], "]"}], ",", "rotation"}], "]"}], 
                   "+", 
                   RowBox[{
                    RowBox[{"elementDrawRotation", "[", 
                    RowBox[{
                    RowBox[{"{", 
                    RowBox[{"0", ",", 
                    RowBox[{"-", "wd"}]}], "}"}], ",", 
                    RowBox[{"rotation", "+", "bend"}]}], "]"}], ".", 
                    RowBox[{"RotationMatrix", "[", 
                    RowBox[{
                    RowBox[{"Sign", "[", "bend", "]"}], "e1"}], "]"}]}]}]}], 
                 "}"}], "]"}]}], "}"}]}], "]"}], ",", "\[IndentingNewLine]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"Circle", "[", 
              RowBox[{
               RowBox[{"position", "+", 
                RowBox[{"elementDrawRotation", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"0", ",", 
                    FractionBox["length", "bend"]}], "}"}], ",", "rotation"}],
                  "]"}]}], ",", 
               RowBox[{"Abs", "[", 
                RowBox[{
                 FractionBox["length", 
                  RowBox[{"Abs", "[", "bend", "]"}]], "-", "wd"}], "]"}], ",",
                "\[IndentingNewLine]", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"bend", "\[GreaterEqual]", "0"}], ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    FractionBox[
                    RowBox[{"3", "\[Pi]"}], "2"], "+", "rotation", "+", 
                    "e1"}], ",", 
                   RowBox[{
                    FractionBox[
                    RowBox[{"3", "\[Pi]"}], "2"], "+", "bend", "+", 
                    "rotation"}]}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    FractionBox[
                    RowBox[{
                    RowBox[{"-", "3"}], "\[Pi]"}], "2"], "+", "rotation", "+",
                     "bend"}], ",", 
                   RowBox[{
                    FractionBox[
                    RowBox[{
                    RowBox[{"-", "3"}], "\[Pi]"}], "2"], "+", "rotation"}]}], 
                  "}"}]}], "]"}]}], "]"}], ",", "\[IndentingNewLine]", 
             "\[IndentingNewLine]", 
             RowBox[{"Circle", "[", 
              RowBox[{
               RowBox[{"position", "+", 
                RowBox[{"elementDrawRotation", "[", 
                 RowBox[{
                  RowBox[{"{", 
                   RowBox[{"0", ",", 
                    FractionBox["length", "bend"]}], "}"}], ",", "rotation"}],
                  "]"}]}], ",", 
               RowBox[{"Abs", "[", 
                RowBox[{
                 FractionBox["length", 
                  RowBox[{"Abs", "[", "bend", "]"}]], "+", "wd"}], "  ", 
                "]"}], ",", "\[IndentingNewLine]", 
               RowBox[{"If", "[", 
                RowBox[{
                 RowBox[{"bend", "\[GreaterEqual]", "0"}], ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    FractionBox[
                    RowBox[{"3", "\[Pi]"}], "2"], "+", "rotation"}], ",", 
                   RowBox[{
                    FractionBox[
                    RowBox[{"3", "\[Pi]"}], "2"], "+", "bend", "+", 
                    "rotation"}]}], "}"}], ",", 
                 RowBox[{"{", 
                  RowBox[{
                   RowBox[{
                    FractionBox[
                    RowBox[{
                    RowBox[{"-", "3"}], "\[Pi]"}], "2"], "+", "rotation", "+",
                     "bend"}], ",", 
                   RowBox[{
                    FractionBox[
                    RowBox[{
                    RowBox[{"-", "3"}], "\[Pi]"}], "2"], "+", "rotation"}]}], 
                  "}"}]}], "]"}]}], "]"}]}], "}"}]}], "\[IndentingNewLine]", 
          "]"}], ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", 
         RowBox[{"Line", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"position", "+", 
             RowBox[{
              RowBox[{"elementDrawRotation", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", "wd"}], "}"}], ",", "rotation"}], "]"}], 
              ".", 
              RowBox[{"RotationMatrix", "[", 
               RowBox[{"-", "e1"}], "]"}]}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{
              RowBox[{"elementDrawRotation", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", 
                  RowBox[{"-", "wd"}]}], "}"}], ",", "rotation"}], "]"}], ".", 
              RowBox[{"RotationMatrix", "[", 
               RowBox[{"-", "e1"}], "]"}]}]}]}], "}"}], "]"}], ",", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"Line", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"arcPos", "[", 
                RowBox[{
                 RowBox[{"rho", "[", 
                  RowBox[{"length", ",", 
                   RowBox[{"-", "bend"}]}], "]"}], ",", 
                 RowBox[{"-", "bend"}]}], "]"}], ",", "rotation"}], "]"}], 
             "+", 
             RowBox[{
              RowBox[{"elementDrawRotation", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", "wd"}], "}"}], ",", 
                RowBox[{"rotation", "+", "bend"}]}], "]"}], ".", 
              RowBox[{"RotationMatrix", "[", "e2", "]"}]}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"arcPos", "[", 
                RowBox[{
                 RowBox[{"rho", "[", 
                  RowBox[{"length", ",", 
                   RowBox[{"-", "bend"}]}], "]"}], ",", 
                 RowBox[{"-", "bend"}]}], "]"}], ",", "rotation"}], "]"}], 
             "+", 
             RowBox[{
              RowBox[{"elementDrawRotation", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{"0", ",", 
                  RowBox[{"-", "wd"}]}], "}"}], ",", 
                RowBox[{"rotation", "+", "bend"}]}], "]"}], ".", 
              RowBox[{"RotationMatrix", "[", "e2", "]"}]}]}]}], "}"}], "]"}], 
         ",", "\[IndentingNewLine]", "\[IndentingNewLine]", 
         "\[IndentingNewLine]", "\[IndentingNewLine]", 
         RowBox[{"(*", 
          RowBox[{"Line", "[", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"position", "+", 
              RowBox[{"elementDrawRotation", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    FractionBox["length", "bend"], "-", "wd"}], " ", ")"}], 
                   RowBox[{"Sin", "[", "bend", "]"}]}], ",", 
                  RowBox[{
                   RowBox[{
                    FractionBox["length", "bend"], 
                    RowBox[{"(", 
                    RowBox[{"1", "-", 
                    RowBox[{"Cos", "[", "bend", "]"}]}], ")"}]}], "+", 
                   RowBox[{"wd", " ", 
                    RowBox[{"Cos", "[", "bend", "]"}]}]}]}], "}"}], ",", 
                "rotation"}], "]"}]}], ",", 
             RowBox[{"position", "+", 
              RowBox[{"elementDrawRotation", "[", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{
                   RowBox[{"(", 
                    RowBox[{
                    FractionBox["length", "bend"], "+", "wd"}], ")"}], 
                   RowBox[{"(", 
                    RowBox[{"Sin", "[", "bend", "]"}], ")"}]}], ",", 
                  RowBox[{
                   RowBox[{
                    FractionBox["length", "bend"], 
                    RowBox[{"(", 
                    RowBox[{"1", "-", 
                    RowBox[{"Cos", "[", "bend", "]"}]}], ")"}]}], "-", 
                   RowBox[{"wd", " ", 
                    RowBox[{"Cos", "[", "bend", "]"}]}]}]}], "}"}], ",", 
                "rotation"}], "]"}]}]}], "}"}], "]"}], "*)"}], 
         RowBox[{"If", "[", 
          RowBox[{"text", ",", 
           RowBox[{"Text", "[", 
            RowBox[{"label", ",", 
             RowBox[{"position", "+", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
              RowBox[{
               RowBox[{"TextOscillate", "[", "]"}], 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Sin", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", 
                    FractionBox["bend", "2"]}], "]"}]}], ",", 
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", 
                    FractionBox["bend", "2"]}], "]"}]}]}], "}"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Sin", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", 
                 FractionBox["bend", "2"]}], "]"}], ",", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", 
                 FractionBox["bend", "2"]}], "]"}]}], "}"}]}], "]"}], ",", 
           RowBox[{"{", "}"}]}], "]"}]}], "}"}], ",", "\[IndentingNewLine]", 
       RowBox[{"{", 
        RowBox[{"White", ",", "colour", ",", 
         RowBox[{"Thickness", "[", "thick", "]"}], ",", 
         RowBox[{"EdgeForm", "[", 
          RowBox[{"Thickness", "[", "Medium", "]"}], "]"}], ",", 
         "\[IndentingNewLine]", 
         RowBox[{"Polygon", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wd"}], "}"}], ",", "rotation"}], "]"}]}], 
            ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", "wd"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", 
                 RowBox[{"-", "wd"}]}], "}"}], ",", "rotation"}], "]"}]}], 
            ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", 
                 RowBox[{"-", "wd"}]}], "}"}], ",", "rotation"}], "]"}]}]}], 
           "}"}], "]"}], ",", "Black", ",", 
         RowBox[{"If", "[", 
          RowBox[{"text", ",", 
           RowBox[{"Text", "[", 
            RowBox[{"label", ",", 
             RowBox[{"position", "+", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                RowBox[{
                 FractionBox["length", "2"], 
                 RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
              RowBox[{
               RowBox[{"TextOscillate", "[", "]"}], 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Sin", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}], ",", 
                 RowBox[{"1.3", "wd", " ", 
                  RowBox[{"Cos", "[", 
                   RowBox[{
                    RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}]}], 
                "}"}]}]}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"Sin", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", "0"}], "]"}], ",", 
               RowBox[{"Cos", "[", 
                RowBox[{
                 RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}], "}"}]}], 
            "]"}], ",", 
           RowBox[{"{", "}"}]}], "]"}]}], "}"}]}], "]"}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.689321641402506*^9, 3.6893216742191057`*^9}, {
   3.689321712677106*^9, 3.6893217130051055`*^9}, {3.6893219068321056`*^9, 
   3.6893219070441055`*^9}, {3.6893219653481054`*^9, 
   3.6893219805811057`*^9}, {3.6893220420559053`*^9, 3.689322042646906*^9}, {
   3.6893223750611057`*^9, 3.6893223752201056`*^9}, {3.6893233795687056`*^9, 
   3.689323385119506*^9}, {3.689325246788706*^9, 3.6893253062313056`*^9}, {
   3.6893253717163057`*^9, 3.689325372108306*^9}, {3.689325402141306*^9, 
   3.6893254614253054`*^9}, {3.6893259243019056`*^9, 
   3.6893259343739057`*^9}, {3.7655270707087297`*^9, 3.765527070734661*^9}, {
   3.772804052798169*^9, 3.7728040534686623`*^9}, {3.7870368588946867`*^9, 
   3.787036878549178*^9}, {3.787037037315815*^9, 3.787037247766694*^9}, {
   3.7870372790479984`*^9, 3.787037279428978*^9}, {3.787037339418829*^9, 
   3.78703741949519*^9}, {3.7870374533191395`*^9, 3.78703746643915*^9}, {
   3.787037529288231*^9, 3.787037547046382*^9}, {3.7870375781731896`*^9, 
   3.7870375837034054`*^9}, {3.7886775371665*^9, 3.7886775426727858`*^9}, {
   3.788761662478648*^9, 3.7887616971762605`*^9}, {3.788761837177055*^9, 
   3.7887619123455544`*^9}, 3.788761999479858*^9, {3.788762039635008*^9, 
   3.7887620895634747`*^9}, {3.7887621275646086`*^9, 
   3.7887622878781013`*^9}, {3.7887623640630713`*^9, 3.78876249007465*^9}, {
   3.7887625433789463`*^9, 3.7887626532505045`*^9}, {3.7887627114499903`*^9, 
   3.788762716942359*^9}, {3.788762760674447*^9, 3.788762843534255*^9}, {
   3.788762877616906*^9, 3.7887628802209697`*^9}, {3.7887629125039587`*^9, 
   3.788762969635275*^9}, {3.7887630845414257`*^9, 3.788763363198471*^9}, {
   3.7887634375772505`*^9, 3.7887635158259983`*^9}, {3.7887635848817005`*^9, 
   3.7887636177060223`*^9}, {3.7887636487803154`*^9, 3.788763656064004*^9}, {
   3.7887636973191195`*^9, 3.788763711232217*^9}, {3.788783360357394*^9, 
   3.7887834060617943`*^9}, {3.788783440885098*^9, 3.788783443061283*^9}, {
   3.7887839074851775`*^9, 3.7887839105110903`*^9}, {3.7887839487833347`*^9, 
   3.7887839679019823`*^9}, {3.788784002748908*^9, 3.7887840259011717`*^9}, {
   3.788784133982334*^9, 3.7887841351412373`*^9}, {3.7887841736794786`*^9, 
   3.78878417593545*^9}, {3.7887842158378143`*^9, 3.788784224085859*^9}, {
   3.788788494100651*^9, 3.788788524844482*^9}, {3.788788555845316*^9, 
   3.7887886278594556`*^9}, {3.788788732469743*^9, 3.7887890382950287`*^9}, {
   3.7887890777402043`*^9, 3.788789158950699*^9}, {3.7887891922891335`*^9, 
   3.7887891945979643`*^9}, {3.788789267220147*^9, 3.788789408155181*^9}, {
   3.7887895677311497`*^9, 3.788789581120364*^9}, {3.788790472398899*^9, 
   3.7887904922863274`*^9}, {3.7887905252368994`*^9, 
   3.7887905770442643`*^9}, {3.7887907437739115`*^9, 
   3.7887907453506985`*^9}, {3.7887907983089447`*^9, 3.788790807463477*^9}, {
   3.7887908878608456`*^9, 3.788790931845289*^9}, {3.7887911073751974`*^9, 
   3.7887911092584686`*^9}, {3.7897137151819544`*^9, 3.78971372819878*^9}, {
   3.789713828747735*^9, 3.789713845926221*^9}, {3.7921329203729014`*^9, 
   3.7921329860344324`*^9}, {3.7961253689542665`*^9, 
   3.796125512007835*^9}},ExpressionUUID->"c80e847c-459b-4c81-a942-\
264cd5ff047e"],

Cell[BoxData[""], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.4034253716815524`*^9, 3.403425376494114*^9}},
 CellLabel->
  "(Local2) In[403]:=",ExpressionUUID->"8bd38a0b-e1d5-48af-afb7-873ef13c46d1"]
}, Closed]],

Cell[CellGroupData[{

Cell["Quadrupole", "Subsubsection",
 InitializationCell->True,
 InitializationGroup->
  True,ExpressionUUID->"0976abb1-2655-4ceb-8192-9b2ffc4446e4"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<quadrupole\>\"", ",", "position_", ",", "length_", ",", "bend_", ",",
      "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wq", "=", 
       RowBox[{"0.12", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"1", ",", "0", ",", "0"}], "]"}]}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", 
                RowBox[{"1.4", "wq"}]}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{"1.4", "wq"}]}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1.4"}], "wq"}]}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", 
                 RowBox[{"1.4", "wq"}]}], "}"}]}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", "position"}], 
          "}"}], "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wq"}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wq"}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{"-", "wq"}]}], "}"}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wq"}], "}"}]}], ",", 
              RowBox[{"ar", " ", "rotation"}]}], "]"}]}], ",", "position"}], 
          "}"}], "]"}], ",", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"{", 
           RowBox[{"Red", ",", 
            RowBox[{"Text", "[", 
             RowBox[{"label", ",", 
              RowBox[{"position", "+", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  FractionBox["length", "2"], 
                  RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                 RowBox[{
                  FractionBox["length", "2"], 
                  RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
               RowBox[{
                RowBox[{"TextOscillate", "[", "]"}], 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"1.5", "wq", " ", 
                   RowBox[{"Sin", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}], ",", " ", 
                  RowBox[{"1.5", " ", "wq", " ", 
                   RowBox[{"Cos", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Sin", "[", 
                 RowBox[{"-", "rotation"}], "]"}], ",", 
                RowBox[{"Cos", "[", 
                 RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}]}], "}"}], 
          ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "}"}]}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874324470914*^9, 3.6978743260387278`*^9}, {3.6978769871633043`*^9, 
   3.6978769873192263`*^9}, {3.765527070743636*^9, 3.7655270707486234`*^9}, {
   3.7655272611438203`*^9, 3.765527268757412*^9}, {3.7655273501052947`*^9, 
   3.7655273502538958`*^9}, 3.7728040657240744`*^9},
 CellLabel->
  "(Local2) In[404]:=",ExpressionUUID->"d4e88570-ef20-4095-9cbe-88c62e4c64ea"]
}, Closed]],

Cell[CellGroupData[{

Cell["Sextupole", "Subsubsection",
 InitializationCell->True,
 InitializationGroup->True,
 CellChangeTimes->{{3.6978757366207876`*^9, 3.697875738276619*^9}, 
   3.697898316201233*^9, {3.772804075399726*^9, 
   3.7728040756630216`*^9}},ExpressionUUID->"288aa5ef-adde-4ec8-8c1d-\
f97380450f24"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<sextupole\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale", ",", 
       "wq"}], "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"ws", "=", 
       RowBox[{"0.08", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{"0", ",", "0", ",", "1"}], "]"}]}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", 
                RowBox[{"1.4", "ws"}]}], "}"}], ",", "rotation"}], "]"}]}], 
           ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{"1.4", "ws"}]}], "}"}], ",", "rotation"}], "]"}]}], 
           ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1.4"}], "ws"}]}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", 
                 RowBox[{"1.4", "ws"}]}], "}"}]}], ",", "rotation"}], "]"}]}],
            ",", "position"}], "}"}], "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "ws"}], "}"}], ",", "rotation"}], "]"}]}], 
           ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "ws"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{"-", "ws"}]}], "}"}], ",", "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "ws"}], "}"}]}], ",", "rotation"}], "]"}]}],
            ",", "position"}], "}"}], "]"}], ",", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"{", 
           RowBox[{"Red", ",", 
            RowBox[{"Text", "[", 
             RowBox[{"label", ",", 
              RowBox[{"position", "+", 
               RowBox[{"{", 
                RowBox[{
                 RowBox[{
                  FractionBox["length", "2"], 
                  RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
                 RowBox[{
                  FractionBox["length", "2"], 
                  RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
               RowBox[{
                RowBox[{"TextOscillate", "[", "]"}], 
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"1.5", "wq", " ", 
                   RowBox[{"Sin", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}], ",", " ", 
                  RowBox[{"1.5", " ", "wq", " ", 
                   RowBox[{"Cos", "[", 
                    RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"Sin", "[", 
                 RowBox[{"-", "rotation"}], "]"}], ",", 
                RowBox[{"Cos", "[", 
                 RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}]}], "}"}], 
          ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "}"}]}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874324470914*^9, 3.6978743260387278`*^9}, {3.697875754466856*^9, 
   3.6978757797959213`*^9}, {3.697898317343033*^9, 3.6978983197998333`*^9}, 
   3.697898356491433*^9, {3.765527070756603*^9, 3.7655270707616177`*^9}, 
   3.7728040710065975`*^9},
 CellLabel->
  "(Local2) In[405]:=",ExpressionUUID->"b3c5449d-5faa-42f1-a3ba-b541c9bd0914"]
}, Closed]],

Cell[CellGroupData[{

Cell["Markers", "Subsubsection",
 InitializationCell->True,
 InitializationGroup->
  True,ExpressionUUID->"f9704d30-44d0-46ed-b222-5ddb7ca9a6d6"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<symmline\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"text", ",", 
       RowBox[{"wm", "=", "wkick"}], ",", "thick"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"Print", "[", "widthscale", "]"}], ";", "\[IndentingNewLine]", 
      RowBox[{"wm", "=", 
       RowBox[{"0.1", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Thickness", "[", "thick", "]"}], ",", 
        RowBox[{"Dashing", "[", 
         RowBox[{"{", 
          RowBox[{"0.01", ",", "0.01"}], "}"}], "]"}], ",", 
        RowBox[{"Line", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wm"}], "}"}], ",", "rotation"}], "]"}]}], 
           ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", 
                RowBox[{"-", "wm"}]}], "}"}], ",", "rotation"}], "]"}]}]}], 
          "}"}], "]"}], ",", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"wm", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"wm", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "}"}]}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.397814211001517*^9, 3.397814222736042*^9}, {
   3.3978151046223297`*^9, 3.397815107137987*^9}, 3.3978991977735877`*^9, 
   3.397899265633831*^9, {3.3979000552845635`*^9, 3.3979000625346565`*^9}, 
   3.397971238256072*^9, {3.442910861919755*^9, 3.44291088573256*^9}, {
   3.4541546877808676`*^9, 3.4541546912183676`*^9}, {3.4541547242652426`*^9, 
   3.4541547247652426`*^9}, {3.4632962709079323`*^9, 3.463296271111061*^9}, {
   3.689322146472706*^9, 3.6893221887317057`*^9}, {3.689323389402506*^9, 
   3.6893233898345056`*^9}, {3.6893259829717054`*^9, 3.689326071274706*^9}, {
   3.697898242644033*^9, 3.697898247027833*^9}, {3.7655270707695684`*^9, 
   3.765527070772588*^9}, {3.772802721365921*^9, 3.772802723249033*^9}, {
   3.7728027691672115`*^9, 3.7728027756912146`*^9}, 3.77280408006905*^9, {
   3.7969119167137127`*^9, 3.796911917609322*^9}, 
   3.796911973911057*^9},ExpressionUUID->"f1d91df2-ab8a-4394-9faa-\
1d2ef6307567"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<marker\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{"text", ",", "widthscale", ",", "thick"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wm", "=", 
       RowBox[{"0.1", "*", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Thickness", "[", "thick", "]"}], ",", 
        RowBox[{"RGBColor", "[", 
         RowBox[{"0", ",", "0.79", ",", "0.34"}], "]"}], ",", 
        RowBox[{"Line", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wm"}], "}"}], ",", "rotation"}], "]"}]}], 
           ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", 
                RowBox[{"-", "wm"}]}], "}"}], ",", "rotation"}], "]"}]}]}], 
          "}"}], "]"}], ",", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{"text", "&&", "False"}], ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"1.3", "wm", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{
                   RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}], ",", 
                RowBox[{"1.3", "wm", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{
                   RowBox[{"-", "rotation"}], "-", "0"}], "]"}]}]}], 
               "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "}"}]}]}], "\[IndentingNewLine]", 
    "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.397815111950549*^9, 3.397815120481908*^9}, 
   3.397899196695449*^9, 3.3978992669307227`*^9, {3.39790005695646*^9, 
   3.3979000698785005`*^9}, 3.3979712387248287`*^9, {3.442910892310769*^9, 
   3.44291092284241*^9}, {3.442910966530469*^9, 3.442910969874262*^9}, {
   3.4429110669223795`*^9, 3.442911069109907*^9}, {3.4541547349683676`*^9, 
   3.4541547379996176`*^9}, {3.463296271329815*^9, 3.4632962715016932`*^9}, {
   3.689322143064706*^9, 3.689322183274706*^9}, {3.6893233902905054`*^9, 
   3.6893233907945056`*^9}, {3.689326075097706*^9, 3.6893260986761055`*^9}, {
   3.697898271424633*^9, 3.697898275797833*^9}, {3.7655270707795672`*^9, 
   3.7655270707825336`*^9}, {3.772802690591119*^9, 3.7728026937586603`*^9}, {
   3.772802795286409*^9, 3.772802926697032*^9}, {3.7728030971905165`*^9, 
   3.77280310368394*^9}, 3.7728040818960266`*^9, 
   3.7969119411607075`*^9},ExpressionUUID->"2cc21840-0b57-4b6d-a4fa-\
a6a74655a3c6"]
}, Closed]],

Cell[CellGroupData[{

Cell["Kickers", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.697874160208068*^9, 
  3.697874161104247*^9}},ExpressionUUID->"20b92873-b0fd-4e70-88e3-\
0f73aca30a2f"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<kicker\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"text", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.07", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{".4", ",", ".4", ",", ".4"}], "]"}]}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], "]"}]}],
            ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
              "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
             "]"}]}], ",", "position"}], "}"}], "]"}], ",", 
        RowBox[{"RGBColor", "[", 
         RowBox[{".4", ",", ".4", ",", ".4"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.765527070791509*^9, 
   3.765527070796496*^9}, {3.7728039890495524`*^9, 3.7728040156271005`*^9}},
 CellLabel->
  "(Local2) In[408]:=",ExpressionUUID->"6ca4d14e-f74a-48f5-913f-0bd655657360"]
}, Closed]],

Cell[CellGroupData[{

Cell["Collimator", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.697874160208068*^9, 3.697874161104247*^9}, {
   3.732606695116066*^9, 3.732606696742466*^9}, 
   3.7326068330812654`*^9},ExpressionUUID->"e109ed00-3f75-4855-ba75-\
ab36e83ab6df"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<collimator\>\"", ",", "position_", ",", "length_", ",", "bend_", ",",
      "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.07", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{".4", ",", ".4", ",", ".4"}], "]"}]}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], "]"}]}],
            ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
              "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
             "]"}]}], ",", "position"}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, 3.732606705323466*^9, {
   3.765527070804475*^9, 3.7655270708094616`*^9}, 3.772804088564267*^9},
 CellLabel->
  "(Local2) In[409]:=",ExpressionUUID->"056563cd-bead-4b5c-922b-5b3fa24a137a"]
}, Closed]],

Cell[CellGroupData[{

Cell["Bpm", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978749050715113`*^9, 3.6978749059591885`*^9}, {
  3.7728036524064765`*^9, 
  3.7728036528644295`*^9}},ExpressionUUID->"9acee247-a986-4f47-8b3c-\
35cc4ebfa6b8"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<bpm\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.05", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{".8", ",", ".3", ",", ".8"}], "]"}]}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], "]"}]}],
            ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
              "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
             "]"}]}], ",", "position"}], "}"}], "]"}], ",", 
        RowBox[{"RGBColor", "[", 
         RowBox[{".8", ",", ".3", ",", ".8"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"1.3", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"1.3", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.6978749971764283`*^9, 
   3.6978750206981316`*^9}, 3.697875131696327*^9, {3.6978751780776014`*^9, 
   3.6978751887012253`*^9}, {3.6978752936367083`*^9, 3.69787529384375*^9}, 
   3.6978753736192017`*^9, {3.6978769276746635`*^9, 3.6978769295145435`*^9}, {
   3.7655270708184385`*^9, 3.765527070822426*^9}, {3.7655365067186236`*^9, 
   3.765536513059675*^9}, {3.7728036696159143`*^9, 3.7728037254982505`*^9}, {
   3.772803770924568*^9, 3.772803786648287*^9}, 3.7728038190252275`*^9, {
   3.772803849859248*^9, 3.7728038710077596`*^9}, {3.7728039399152203`*^9, 
   3.77280395773853*^9}, {3.772803992083681*^9, 3.7728040135325117`*^9}},
 CellLabel->
  "(Local2) In[410]:=",ExpressionUUID->"1ce0c7ad-a606-47ec-89b5-f7199519a8c4"]
}, Closed]],

Cell[CellGroupData[{

Cell["Screen", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978749050715113`*^9, 3.6978749059591885`*^9}, {
  3.7655364471526814`*^9, 
  3.7655364477390842`*^9}},ExpressionUUID->"9182149a-20d3-4c79-bc4f-\
48832757523f"],

Cell[BoxData[
 RowBox[{
  RowBox[{"screenWidth", "=", "0.1"}], ";"}]], "Input",
 CellChangeTimes->{{3.775383132080829*^9, 3.775383137712675*^9}, 
   3.796911991937976*^9},ExpressionUUID->"28651085-3971-4f4b-99d3-\
8060c953eb51"],

Cell[BoxData[
 RowBox[{
  RowBox[{"screenThickness", "=", "0.01"}], ";"}]], "Input",
 CellChangeTimes->{{3.7753837433656435`*^9, 3.7753837561585855`*^9}, 
   3.775383809834125*^9, {3.77538651081316*^9, 3.775386511088415*^9}},
 CellLabel->
  "(Local2) In[412]:=",ExpressionUUID->"ceb10627-f2b4-44c7-b2ed-99e1a220f791"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<screen\>\"", ",", "position_", ",", "lengthin_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale", ",", 
       RowBox[{"length", "=", "0.05"}], ",", "wscreen"}], "}"}], ",", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wscreen", "=", 
       RowBox[{"screenWidth", "*", "widthscale"}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"If", "[", 
       RowBox[{
        RowBox[{"lengthin", "<", "0.01"}], ",", 
        RowBox[{"length", "=", "screenThickness"}], ",", 
        RowBox[{"length", "=", "lengthin"}]}], "]"}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", 
        RowBox[{"RGBColor", "[", 
         RowBox[{".5", ",", ".3", ",", ".7"}], "]"}], ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", 
           RowBox[{"RGBColor", "[", 
            RowBox[{".5", ",", ".3", ",", ".7"}], "]"}]}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wscreen"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wscreen"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1"}], "*", "wscreen"}]}], "}"}], ",", 
              "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wscreen"}], "}"}]}], ",", "rotation"}], 
             "]"}]}], ",", "position"}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"0.05", " ", 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{"0.05", " ", 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"1.3", "wscreen", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"1.3", "wscreen", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.6978749971764283`*^9, 
   3.6978750206981316`*^9}, 3.697875131696327*^9, {3.6978751780776014`*^9, 
   3.6978751887012253`*^9}, {3.6978752936367083`*^9, 3.69787529384375*^9}, 
   3.6978753736192017`*^9, {3.6978769276746635`*^9, 3.6978769295145435`*^9}, {
   3.7655270708184385`*^9, 3.765527070822426*^9}, {3.7655364495542336`*^9, 
   3.7655364601988277`*^9}, 3.7655365223727965`*^9, {3.765536557708604*^9, 
   3.765536612926067*^9}, {3.772803198533837*^9, 3.7728034438695364`*^9}, {
   3.7728037387034717`*^9, 3.772803745854971*^9}, 3.7728038086653433`*^9, {
   3.775383109524039*^9, 3.775383167113703*^9}, 3.7753837602480226`*^9, {
   3.775383791099724*^9, 3.7753838055882654`*^9}, {3.775383852531141*^9, 
   3.7753838529550085`*^9}, {3.7753838877013597`*^9, 3.775383891947831*^9}},
 CellLabel->
  "(Local2) In[413]:=",ExpressionUUID->"040e917d-2433-4d59-9394-e71a6b9320ea"]
}, Closed]],

Cell[CellGroupData[{

Cell["shutter", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.697874160208068*^9, 3.697874161104247*^9}, {
  3.7655387733652477`*^9, 
  3.7655387743326635`*^9}},ExpressionUUID->"cb6ef754-32ab-483b-ad87-\
95451c2844a0"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<shutter\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"Darker", "[", "Gray", "]"}]}], "}"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.07", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "Black", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", "Black"}], "}"}], 
         "]"}], ",", "colour", ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], "]"}]}],
            ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
              "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
             "]"}]}], ",", "position"}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.765527070791509*^9, 
   3.765527070796496*^9}, {3.7655387797072716`*^9, 3.7655387908340864`*^9}, 
   3.772804094541477*^9, {3.7961078087890296`*^9, 3.796107812186985*^9}, 
   3.7961078575092163`*^9, {3.796110253319574*^9, 3.796110256856532*^9}, 
   3.7961102969935646`*^9},ExpressionUUID->"54c58f3f-3041-423f-a9eb-\
519aaae7af5e"]
}, Closed]],

Cell[CellGroupData[{

Cell["valve", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.697874160208068*^9, 3.697874161104247*^9}, {
  3.7655387733652477`*^9, 3.7655387743326635`*^9}, {3.796107771661073*^9, 
  3.7961077731929383`*^9}},ExpressionUUID->"4e4e3a6f-891e-481b-a340-\
4e742bc92b93"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<valve\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"Lighter", "[", "Green", "]"}]}], "}"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.07", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "Black", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", "Black"}], "}"}], 
         "]"}], ",", "colour", ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], "]"}]}],
            ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
              "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
             "]"}]}], ",", "position"}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.765527070791509*^9, 
   3.765527070796496*^9}, {3.7655387797072716`*^9, 3.7655387908340864`*^9}, 
   3.772804094541477*^9, {3.7961077759286594`*^9, 3.7961078031102004`*^9}, {
   3.796107851013544*^9, 3.796107852396877*^9}, {3.7961102489502745`*^9, 
   3.7961102494578915`*^9}, {3.79611028916704*^9, 
   3.7961102902395535`*^9}},ExpressionUUID->"c7d8b3e4-fcaf-47c9-ae15-\
2f9dc81a028d"]
}, Closed]],

Cell[CellGroupData[{

Cell["bellows", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.697874160208068*^9, 3.697874161104247*^9}, {
  3.7655387733652477`*^9, 3.7655387743326635`*^9}, {3.796107771661073*^9, 
  3.7961077731929383`*^9}, {3.7961101878780327`*^9, 
  3.7961101888793287`*^9}},ExpressionUUID->"8aba1daf-7943-45e7-bca6-\
f770779f0ffd"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<bellows\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"Lighter", "[", 
           RowBox[{"Green", ",", "0.7"}], "]"}]}], "}"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.07", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{"Thickness", "[", "thick", "]"}], ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Small", "]"}], ",", "Black"}], "}"}], 
         "]"}], ",", "colour", ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{"{", 
          RowBox[{"position", ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], "]"}]}],
            ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
             "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"{", 
               RowBox[{"length", ",", 
                RowBox[{
                 RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
              "rotation"}], "]"}]}], ",", 
           RowBox[{"position", "+", 
            RowBox[{"elementDrawRotation", "[", 
             RowBox[{
              RowBox[{"-", 
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
             "]"}]}], ",", "position"}], "}"}], "]"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"1.8", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.765527070791509*^9, 
   3.765527070796496*^9}, {3.7655387797072716`*^9, 3.7655387908340864`*^9}, 
   3.772804094541477*^9, {3.7961077759286594`*^9, 3.7961078031102004`*^9}, {
   3.796107851013544*^9, 3.796107852396877*^9}, {3.79611019142656*^9, 
   3.7961102444652305`*^9}, {3.796110294165118*^9, 
   3.796110310393737*^9}},ExpressionUUID->"704d2fcb-917b-4a8b-ae20-\
12bf1abba9bc"]
}, Closed]],

Cell[CellGroupData[{

Cell["Wiggler", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978749050715113`*^9, 3.6978749059591885`*^9}, {
  3.697875035456083*^9, 
  3.6978750366563225`*^9}},ExpressionUUID->"27ccf5a0-3453-4f0e-bebf-\
6784c1396712"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<wiggler\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.1", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", "Brown"}], "}"}], 
         "]"}], ",", 
        RowBox[{"FaceForm", "[", "Brown", "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"position", ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", 
                 RowBox[{
                  RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
               "rotation"}], "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
              "]"}]}], ",", "position"}], "}"}], ",", 
          RowBox[{"VertexTextureCoordinates", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"1", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"1", "/", "2"}], ",", "1"}], "}"}]}], "}"}]}]}], "]"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.6978749971764283`*^9, 
   3.6978750206981316`*^9}, {3.6978750573799667`*^9, 
   3.6978750786237144`*^9}, {3.6978751615733013`*^9, 
   3.6978751686687202`*^9}, {3.6978754827635264`*^9, 3.697875655481063*^9}, {
   3.697876912746931*^9, 3.6978769145304394`*^9}, {3.765527070829407*^9, 
   3.765527070833397*^9}, 3.772804097443166*^9},
 CellLabel->
  "(Local2) In[415]:=",ExpressionUUID->"b88b10c1-c220-427e-be4d-c42f5372a799"]
}, Closed]],

Cell[CellGroupData[{

Cell["Solenoid", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978749050715113`*^9, 3.6978749059591885`*^9}, {
  3.697875035456083*^9, 3.6978750366563225`*^9}, {3.69787570007498*^9, 
  3.697875701418749*^9}},ExpressionUUID->"35aa37c8-a5db-4f08-b942-\
90359edbf096"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<solenoid\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.12", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", "Pink"}], "}"}], 
         "]"}], ",", 
        RowBox[{"FaceForm", "[", "Pink", "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"position", ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", 
                 RowBox[{
                  RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
               "rotation"}], "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
              "]"}]}], ",", "position"}], "}"}], ",", 
          RowBox[{"VertexTextureCoordinates", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"1", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"1", "/", "2"}], ",", "1"}], "}"}]}], "}"}]}]}], "]"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.6978749971764283`*^9, 
   3.6978750206981316`*^9}, {3.6978750573799667`*^9, 
   3.6978750786237144`*^9}, {3.6978751615733013`*^9, 
   3.6978751686687202`*^9}, {3.6978754827635264`*^9, 3.697875655481063*^9}, {
   3.697875707687002*^9, 3.6978757257516146`*^9}, {3.697876895475771*^9, 
   3.6978768974865656`*^9}, {3.7655270708413754`*^9, 3.7655270708453646`*^9}, 
   3.772804101315923*^9},
 CellLabel->
  "(Local2) In[416]:=",ExpressionUUID->"1a5da750-ef7b-4206-ad92-a9ac93f572fc"]
}, Closed]],

Cell[CellGroupData[{

Cell["cavity", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978749050715113`*^9, 3.6978749059591885`*^9}, {
  3.697875035456083*^9, 3.6978750366563225`*^9}, {3.69787570007498*^9, 
  3.697875701418749*^9}, {3.7655338649713383`*^9, 
  3.7655338669799995`*^9}},ExpressionUUID->"a59d989e-c2a7-418e-9530-\
681300f028e4"],

Cell[BoxData[
 RowBox[{
  RowBox[{
   RowBox[{"pelement", "[", 
    RowBox[{
    "\"\<cavity\>\"", ",", "position_", ",", "length_", ",", "bend_", ",", 
     "rotation_", ",", "label_", ",", "opts___"}], "]"}], ":=", 
   RowBox[{"Block", "[", 
    RowBox[{
     RowBox[{"{", 
      RowBox[{
      "ar", ",", "thick", ",", "text", ",", "colour", ",", "widthscale"}], 
      "}"}], ",", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"ar", "=", " ", 
       RowBox[{"1", "+", 
        RowBox[{"0", 
         RowBox[{"(", 
          RowBox[{
           RowBox[{
            RowBox[{"1", "/", "AspectRatio"}], "/.", 
            RowBox[{"{", "opts", "}"}]}], "/.", 
           RowBox[{"{", 
            RowBox[{"AspectRatio", "\[Rule]", "1"}], "}"}]}], ")"}]}]}]}], 
      ";", "\[IndentingNewLine]", 
      RowBox[{"thick", "=", 
       RowBox[{
        RowBox[{"Thickness", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"text", "=", 
       RowBox[{
        RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"colour", "=", 
       RowBox[{
        RowBox[{"Colour", "/.", 
         RowBox[{"{", "opts", "}"}]}], "/.", 
        RowBox[{"{", 
         RowBox[{"Colour", "\[Rule]", 
          RowBox[{"{", "}"}]}], "}"}]}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"widthscale", "=", 
       RowBox[{
        RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
         RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
        RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
      "\[IndentingNewLine]", 
      RowBox[{"wkick", "=", 
       RowBox[{"0.12", "widthscale"}]}], ";", "\[IndentingNewLine]", 
      RowBox[{"{", 
       RowBox[{"colour", ",", 
        RowBox[{"Thickness", "[", "thick", "]"}], ",", "White", ",", 
        RowBox[{"EdgeForm", "[", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"Thickness", "[", "Medium", "]"}], ",", "Green"}], "}"}], 
         "]"}], ",", 
        RowBox[{"FaceForm", "[", "Green", "]"}], ",", "\[IndentingNewLine]", 
        RowBox[{"Polygon", "[", 
         RowBox[{
          RowBox[{"{", 
           RowBox[{"position", ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"0", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", "wkick"}], "}"}], ",", "rotation"}], 
              "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"{", 
                RowBox[{"length", ",", 
                 RowBox[{
                  RowBox[{"-", "1"}], "*", "wkick"}]}], "}"}], ",", 
               "rotation"}], "]"}]}], ",", 
            RowBox[{"position", "+", 
             RowBox[{"elementDrawRotation", "[", 
              RowBox[{
               RowBox[{"-", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "wkick"}], "}"}]}], ",", "rotation"}], 
              "]"}]}], ",", "position"}], "}"}], ",", 
          RowBox[{"VertexTextureCoordinates", "\[Rule]", 
           RowBox[{"{", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{"0", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{"1", ",", "0"}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"1", "/", "2"}], ",", "1"}], "}"}]}], "}"}]}]}], "]"}],
         ",", "\[IndentingNewLine]", 
        RowBox[{"If", "[", 
         RowBox[{"text", ",", 
          RowBox[{"Text", "[", 
           RowBox[{"label", ",", 
            RowBox[{"position", "+", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Cos", "[", "rotation", "]"}]}], ",", 
               RowBox[{
                FractionBox["length", "2"], 
                RowBox[{"Sin", "[", "rotation", "]"}]}]}], "}"}], "+", 
             RowBox[{
              RowBox[{"TextOscillate", "[", "]"}], 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Sin", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}], ",", 
                RowBox[{"2.3", "wkick", " ", 
                 RowBox[{"Cos", "[", 
                  RowBox[{"-", "rotation"}], "]"}]}]}], "}"}]}]}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"TextDirection", "[", "]"}], ",", "0"}], "}"}], ",", 
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Sin", "[", 
               RowBox[{"-", "rotation"}], "]"}], ",", 
              RowBox[{"Cos", "[", 
               RowBox[{"-", "rotation"}], "]"}]}], "}"}]}], "]"}], ",", 
          RowBox[{"{", "}"}]}], "]"}]}], "\[IndentingNewLine]", "}"}]}]}], 
    "\[IndentingNewLine]", "]"}]}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3978136974793186`*^9, 3.3978138085276155`*^9}, {
   3.397813884591089*^9, 3.397813884856717*^9}, {3.397813927013507*^9, 
   3.397813929716666*^9}, 3.3978991764139395`*^9, 3.397899237992852*^9, {
   3.3978996364198275`*^9, 3.3978996874829807`*^9}, {3.397899748421261*^9, 
   3.397899831625451*^9}, 3.397971232974755*^9, {3.399279787713605*^9, 
   3.3992797917292557`*^9}, {3.4034274335048184`*^9, 3.403427439629897*^9}, {
   3.4034274800054135`*^9, 3.4034275084276524`*^9}, {3.4034275886630545`*^9, 
   3.4034276417106085`*^9}, {3.403433411065175*^9, 3.403433412502693*^9}, 
   3.4034334934568543`*^9, {3.403433600301972*^9, 3.4034336033020105`*^9}, 
   3.403433711819024*^9, {3.403433747397605*^9, 3.403433843648837*^9}, {
   3.403434052760888*^9, 3.4034340556671753`*^9}, {3.4034357390637226`*^9, 
   3.4034357668453283`*^9}, 3.4044731445841684`*^9, {3.4044739812926483`*^9, 
   3.4044739936677275`*^9}, {3.4044741114341063`*^9, 3.404474113684121*^9}, 
   3.4044741519031153`*^9, {3.404474187653344*^9, 3.404474193544007*^9}, {
   3.404474961377046*^9, 3.4044749615020466`*^9}, {3.4044806784448853`*^9, 
   3.4044806838355446`*^9}, {3.4052363649675913`*^9, 3.4052363922804413`*^9}, 
   3.405236540141709*^9, 3.405236585642291*^9, {3.4105941341595745`*^9, 
   3.410594157456748*^9}, 3.4105942322077045`*^9, {3.4105942680362883`*^9, 
   3.410594278223919*^9}, 3.4173478950342197`*^9, 3.4173510688045316`*^9, 
   3.422166549766848*^9, {3.4550133082605925`*^9, 3.4550133485887175`*^9}, {
   3.4550143121043425`*^9, 3.4550143492137175`*^9}, {3.4550144301043425`*^9, 
   3.4550145325105925`*^9}, {3.4550145781355925`*^9, 
   3.4550145817293425`*^9}, {3.4550146376512175`*^9, 
   3.4550146556512175`*^9}, {3.4550146907762175`*^9, 
   3.4550147959480925`*^9}, {3.4550148309012175`*^9, 
   3.4550148830574675`*^9}, {3.4550149133074675`*^9, 
   3.4550149767293425`*^9}, {3.4550150188230925`*^9, 
   3.4550150206199675`*^9}, {3.4550150684637175`*^9, 
   3.4550151054480925`*^9}, {3.4550151573699675`*^9, 
   3.4550152056980925`*^9}, {3.4550152455574675`*^9, 
   3.4550152498855925`*^9}, {3.4550152819324675`*^9, 3.4550153070105925`*^9}, 
   3.4550159529168425`*^9, {3.463296260360854*^9, 3.463296261532752*^9}, {
   3.6893197218023057`*^9, 3.6893197249887056`*^9}, {3.689319903698106*^9, 
   3.6893199072891054`*^9}, {3.689319938854106*^9, 3.6893199391661053`*^9}, {
   3.6893200296221056`*^9, 3.6893200345693054`*^9}, {3.6893203746035056`*^9, 
   3.6893203754771056`*^9}, {3.6893220737499056`*^9, 
   3.6893220877259054`*^9}, {3.689322323780306*^9, 3.6893223295653057`*^9}, {
   3.6893233179647055`*^9, 3.6893233190417056`*^9}, {3.6893233857075057`*^9, 
   3.689323388843506*^9}, {3.689325949082906*^9, 3.6893259661397057`*^9}, {
   3.697874163901307*^9, 3.697874179324891*^9}, {3.697874253418707*^9, 
   3.697874389619441*^9}, {3.697874419622441*^9, 3.697874530187549*^9}, {
   3.6978745647179537`*^9, 3.6978748485272045`*^9}, {3.6978749971764283`*^9, 
   3.6978750206981316`*^9}, {3.6978750573799667`*^9, 
   3.6978750786237144`*^9}, {3.6978751615733013`*^9, 
   3.6978751686687202`*^9}, {3.6978754827635264`*^9, 3.697875655481063*^9}, {
   3.697875707687002*^9, 3.6978757257516146`*^9}, {3.697876895475771*^9, 
   3.6978768974865656`*^9}, {3.7655270708413754`*^9, 
   3.7655270708453646`*^9}, {3.7655338716335363`*^9, 3.7655338859506445`*^9}, 
   3.7728041044025345`*^9},
 CellLabel->
  "(Local2) In[417]:=",ExpressionUUID->"d5adbecf-5ec6-48b4-ab31-2d84aded412d"]
}, Closed]],

Cell[CellGroupData[{

Cell["Main Program", "Subsubsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.6893196673813057`*^9, 
  3.6893196693509054`*^9}},ExpressionUUID->"9aa2343e-614c-4795-86f3-\
d146387ad0b5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"Clear", "[", 
   RowBox[{"ElementDraw", ",", "ElementPositions"}], "]"}], ";"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6893213852835054`*^9, 3.6893213866795053`*^9}, 
   3.6893404582105055`*^9, 3.732606653526466*^9, {3.7655339610526657`*^9, 
   3.76553396801964*^9}},
 CellLabel->
  "(Local2) In[418]:=",ExpressionUUID->"f5303aec-8923-4cff-acbe-914322997f59"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementPositions", "[", 
   RowBox[{"data_", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "text", ",", "thick", ",", "bpms", ",", "lengths", ",", "filled", ",", 
      "widthscale", ",", "symms", ",", "bends", ",", "closed", ",", "offset", 
      ",", "optShow", ",", "elementList", ",", "lattice", ",", 
      "elementDrawRot", ",", " ", "roty", ",", "sinc2", ",", "xform", ",", 
      "localXYZ", ",", "x", ",", "graph", ",", "sinc", ",", "cosc", ",", 
      "sym", ",", " ", "tilt", ",", "findrotations", ",", "findrotationsv", 
      ",", 
      RowBox[{"anglesum", "=", "0"}], ",", "sum1", ",", "x1", ",", 
      "prepositions2", ",", "start", ",", "end", ",", "names", ",", 
      "vbends"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"text", "=", 
      RowBox[{
       RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"thick", "=", 
      RowBox[{
       RowBox[{"Thick", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"bpms", "=", 
      RowBox[{
       RowBox[{"Monitors", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"lengths", "=", 
      RowBox[{
       RowBox[{"Lengths", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"filled", "=", 
      RowBox[{
       RowBox[{"Filled", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"If", "[", 
      RowBox[{"filled", ",", 
       RowBox[{"shape", "=", "\"\<Polygon\>\""}], ",", 
       RowBox[{"shape", "=", "\"\<Line\>\""}]}], "]"}], ";", 
     RowBox[{"widthscale", "=", 
      RowBox[{
       RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"symms", "=", 
      RowBox[{
       RowBox[{"Symms", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"bends", "=", 
      RowBox[{
       RowBox[{"Bends", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"closed", "=", 
      RowBox[{
       RowBox[{"CheckClosed", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"offset", "=", 
      RowBox[{
       RowBox[{"Offset", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"{", 
        RowBox[{"Offset", "\[Rule]", 
         RowBox[{"{", 
          RowBox[{"0", ",", "0", ",", "0"}], "}"}]}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"names", "=", 
      RowBox[{
       RowBox[{"Global`ElementNames", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"{", 
        RowBox[{"Global`ElementNames", "\[Rule]", "False"}], "}"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vbends", "=", 
      RowBox[{
       RowBox[{"Global`VerticalBends", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`VerticalBends", "\[Rule]", "False"}], "}"}]}]}], ";", 
     RowBox[{"optShow", "=", 
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"Sequence", "@@", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"{", "opts", "}"}], "]"}], ",", 
            RowBox[{"Options", "[", "Graphics", "]"}]}], "]"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"Sequence", "@@", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"{", "opts", "}"}], "]"}], ",", 
            RowBox[{"Options", "[", "Show", "]"}]}], "]"}]}], "}"}]}], 
       "]"}]}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{"symms", ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"start", "=", 
         RowBox[{"elementDefinition", "[", 
          RowBox[{
           RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Mark\>\""}], ",", 
           RowBox[{"\"\<NAME\>\"", "\[Rule]", "\"\<START\>\""}], ",", 
           RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"end", "=", 
         RowBox[{"elementDefinition", "[", 
          RowBox[{
           RowBox[{"\"\<TYPE\>\"", "\[Rule]", "\"\<Mark\>\""}], ",", 
           RowBox[{"\"\<NAME\>\"", "\[Rule]", "\"\<END\>\""}], ",", 
           RowBox[{"\"\<LABEL\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}]}], ";", 
        "\[IndentingNewLine]", 
        RowBox[{"elementList", "=", 
         RowBox[{"Join", "[", 
          RowBox[{
           RowBox[{"{", "start", "}"}], ",", 
           RowBox[{"Flatten", "[", "data", "]"}], ",", 
           RowBox[{"{", "end", "}"}]}], "]"}]}], ";"}], "\[IndentingNewLine]",
        ",", 
       RowBox[{"elementList", "=", 
        RowBox[{"Flatten", "[", "data", "]"}]}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Not", "[", "bpms", "]"}], ",", 
         RowBox[{"elementList", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"elementList", ",", 
            RowBox[{
             RowBox[{
              RowBox[{
              "#1", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
              "=!=", "\"\<BPM\>\""}], "&"}]}], "]"}]}]}], "]"}], ";"}], 
      "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"tilt", "[", "element_", "]"}], ":=", 
      RowBox[{"Switch", "[", 
       RowBox[{
        RowBox[{"findElementClass", "[", "element", "]"}], ",", 
        "\[IndentingNewLine]", "\"\<adipole\>\"", ",", 
        RowBox[{"element", "[", "\"\<TILT\>\"", "]"}], " ", ",", 
        "\[IndentingNewLine]", "_", ",", "0"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"lattice", "=", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"findElementClass", "[", "#", "]"}], ",", 
           RowBox[{"#1", "[", "\"\<LENGTH\>\"", "]"}], ",", 
           RowBox[{"N", "[", 
            RowBox[{"#", "[", "\"\<BENDANGLE\>\"", "]"}], "]"}], ",", 
           "\"\<\>\"", ",", 
           RowBox[{"tilt", "[", "#1", "]"}], ",", "#"}], "}"}], "&"}], ")"}], 
       "/@", "elementList"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
        RowBox[{"roty", "[", 
         RowBox[{"line_", ",", "\[Theta]_"}], "]"}], ":=", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{
            "line", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
            " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}], "-", 
           RowBox[{
            RowBox[{
            "line", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
            " ", 
            RowBox[{"Cos", "[", "\[Theta]", "]"}]}]}], ",", 
          RowBox[{
           RowBox[{
            RowBox[{
            "line", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
            " ", 
            RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "+", 
           RowBox[{
            RowBox[{
            "line", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
            " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}]}], "}"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"sinc", "[", "\[Theta]_", "]"}], ":=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Abs", "[", "\[Theta]", "]"}], ">", "0"}], ",", 
          FractionBox[
           RowBox[{"Sin", "[", "\[Theta]", "]"}], "\[Theta]"], ",", "1"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"cosc", "[", "\[Theta]_", "]"}], ":=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Abs", "[", "\[Theta]", "]"}], ">", "0"}], ",", 
          FractionBox[
           RowBox[{"1", "-", 
            RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "\[Theta]"], ",", "0"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"sinc2", "[", "\[Theta]_", "]"}], ":=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Abs", "[", "\[Theta]", "]"}], ">", "0"}], ",", 
          FractionBox[
           RowBox[{"Sin", "[", "\[Theta]", "]"}], "\[Theta]"], ",", "0"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"sym", "=", 
        RowBox[{"{", 
         RowBox[{
         "\"\<symmline\>\"", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}], 
         "}"}]}], ";"}], "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"bends", "===", "True"}], ",", 
         RowBox[{"findrotations", "=", 
          RowBox[{"(", "\[IndentingNewLine]", 
           RowBox[{
            RowBox[{
             RowBox[{"Switch", "[", 
              RowBox[{
               RowBox[{
               "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
               ",", "\[IndentingNewLine]", "\"\<dipole\>\"", ",", 
               RowBox[{"anglesum", "+=", 
                RowBox[{
                 RowBox[{"Cos", "[", 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "5", "]"}], "]"}], "]"}], 
                 RowBox[{
                 "#1", "\[LeftDoubleBracket]", "3", 
                  "\[RightDoubleBracket]"}]}]}], ",", "\[IndentingNewLine]", 
               "_", ",", "anglesum"}], "]"}], "&"}], "/@", 
            RowBox[{"Drop", "[", 
             RowBox[{
              RowBox[{"Prepend", "[", 
               RowBox[{"lattice", ",", 
                RowBox[{"{", 
                 RowBox[{"0", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}],
                  "}"}]}], "]"}], ",", 
              RowBox[{"-", "1"}]}], "]"}]}], ")"}]}], ",", 
         RowBox[{"findrotations", "=", 
          RowBox[{"Table", "[", 
           RowBox[{"0.", ",", 
            RowBox[{"{", 
             RowBox[{"Length", "[", "lattice", "]"}], "}"}]}], "]"}]}]}], 
        "]"}], ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
       RowBox[{"findrotationsv", "=", 
        RowBox[{"(", 
         RowBox[{
          RowBox[{"sum1", "=", "0"}], ";", 
          RowBox[{
           RowBox[{"(", 
            RowBox[{
             RowBox[{"sum1", "+=", 
              RowBox[{
               RowBox[{"Sin", "[", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "5", "]"}], "]"}], "]"}], 
               RowBox[{
               "#1", "\[LeftDoubleBracket]", "3", 
                "\[RightDoubleBracket]"}]}]}], "&"}], ")"}], "/@", 
           RowBox[{"Drop", "[", 
            RowBox[{
             RowBox[{"Prepend", "[", 
              RowBox[{"lattice", ",", 
               RowBox[{"{", 
                RowBox[{"0", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}], 
                "}"}]}], "]"}], ",", 
             RowBox[{"-", "1"}]}], "]"}]}]}], ")"}]}], ";"}], 
      "\[IndentingNewLine]", "*)"}], "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"xform", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"angle_", ",", "tilt_", ",", "length_"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"x_", ",", "r_"}], "}"}]}], "]"}], ":=", 
      RowBox[{"Block", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dx", ",", "n", ",", "rt", ",", "rp"}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"end", "=", 
          RowBox[{"x", "+", 
           RowBox[{"Flatten", "[", 
            RowBox[{"If", "[", 
             RowBox[{
              RowBox[{
               RowBox[{"Abs", "[", "angle", "]"}], ">", "0"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 FractionBox[
                  RowBox[{"length", " ", 
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"-", 
                    RowBox[{"Cos", "[", "r", "]"}]}], "+", 
                    RowBox[{"Cos", "[", 
                    RowBox[{"angle", "+", "r"}], "]"}]}], ")"}]}], "angle"], 
                 "}"}], ",", 
                RowBox[{"{", "0", "}"}], ",", 
                RowBox[{"{", 
                 FractionBox[
                  RowBox[{"length", " ", 
                   RowBox[{"(", 
                    RowBox[{
                    RowBox[{"-", 
                    RowBox[{"Sin", "[", "r", "]"}]}], "+", 
                    RowBox[{"Sin", "[", 
                    RowBox[{"angle", "+", "r"}], "]"}]}], ")"}]}], "angle"], 
                 "}"}]}], "}"}], ",", 
              RowBox[{"{", 
               RowBox[{
                RowBox[{"{", 
                 RowBox[{
                  RowBox[{"-", "length"}], " ", 
                  RowBox[{"Sin", "[", "r", "]"}]}], "}"}], ",", 
                RowBox[{"{", "0", "}"}], ",", 
                RowBox[{"{", 
                 RowBox[{"length", " ", 
                  RowBox[{"Cos", "[", "r", "]"}]}], "}"}]}], "}"}]}], "]"}], 
            "]"}]}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{"end", ",", 
           RowBox[{"r", "+", "angle"}]}], "}"}]}]}], "\[IndentingNewLine]", 
       "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"x", "=", 
      RowBox[{"{", 
       RowBox[{
        RowBox[{
         RowBox[{"{", "#", "}"}], "&"}], "/@", "offset"}], "}"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"localXYZ", "=", "0"}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"{", 
            RowBox[{"x1", ",", "localXYZ"}], "}"}], "=", 
           RowBox[{"xform", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{"bends", ",", 
                 RowBox[{"-", 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "3", "]"}], "]"}]}], ",", "0"}], "]"}], ",", 
               RowBox[{"-", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "5", "]"}], "]"}]}], ",", 
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"x", "\[LeftDoubleBracket]", 
                RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], ",", 
               "localXYZ"}], "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"x", ",", "x1"}], "]"}]}]}], "]"}], "&"}], "/@", 
      "lattice"}], ";", "\[IndentingNewLine]", 
     RowBox[{"prepositions2", "=", 
      RowBox[{"Most", "[", 
       RowBox[{"x", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", "All", ",", "1"}], "]"}], "]"}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"names", "\[Equal]", "True"}], ",", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"prepositions2", "=", 
         RowBox[{"Transpose", "[", 
          RowBox[{"{", 
           RowBox[{
            RowBox[{
             RowBox[{
              RowBox[{
               RowBox[{"#", "[", 
                RowBox[{"[", 
                 RowBox[{"-", "1"}], "]"}], "]"}], "[", "\"\<NAME\>\"", "]"}],
               "&"}], "/@", "lattice"}], ",", "prepositions2"}], "}"}], 
          "]"}]}], ";"}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", "prepositions2"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3941768199282775`*^9, 3.3941768821480923`*^9}, {
   3.394176912445161*^9, 3.394176947164133*^9}, {3.39417698894565*^9, 
   3.394177003398868*^9}, {3.3941770406491065`*^9, 3.394177052805434*^9}, {
   3.394177089227542*^9, 3.3941770907119265`*^9}, {3.3941771708841066`*^9, 
   3.394177173212217*^9}, {3.3941772129307127`*^9, 3.3941772882093563`*^9}, {
   3.394178236979314*^9, 3.3941782389323635`*^9}, {3.394178803427348*^9, 
   3.3941788102553864`*^9}, {3.3941896522453585`*^9, 3.394189652510982*^9}, {
   3.394189721713664*^9, 3.394189721869913*^9}, {3.3942858988324637`*^9, 
   3.3942859068322587`*^9}, {3.394285970502504*^9, 3.394286178419056*^9}, {
   3.3997937382955713`*^9, 3.3997937603271036`*^9}, {3.5587783661331224`*^9, 
   3.558778367976955*^9}, {3.5587785271247096`*^9, 3.5587785272340894`*^9}, {
   3.5587785737517986`*^9, 3.5587786202695074`*^9}, {3.558778690897671*^9, 
   3.558778691225811*^9}, {3.5587787315088654`*^9, 3.55877873261829*^9}, {
   3.5587787890583186`*^9, 3.5587787892614527`*^9}, {3.5587789932393403`*^9, 
   3.5587790019428554`*^9}, {3.5587793639903245`*^9, 
   3.5587793646466036`*^9}, {3.558788017471733*^9, 3.558788051066988*^9}, 
   3.5587880904437523`*^9, {3.5587881372427235`*^9, 3.558788170478587*^9}, {
   3.5587882234073706`*^9, 3.558788341200367*^9}, {3.5587883777578917`*^9, 
   3.5587884023534064`*^9}, {3.5587884650524497`*^9, 3.558788655200384*^9}, {
   3.5587890539193573`*^9, 3.5587890814341993`*^9}, 3.5871953023242607`*^9, {
   3.627037928008376*^9, 3.6270379960423756`*^9}, 3.627038081650376*^9, 
   3.627038134975376*^9, {3.627038185291376*^9, 3.6270381878703756`*^9}, {
   3.627038250326376*^9, 3.627038377265376*^9}, {3.627038784959376*^9, 
   3.627038787614376*^9}, {3.627039082128376*^9, 3.6270391025733757`*^9}, {
   3.627039202143376*^9, 3.627039278590376*^9}, {3.627039339397376*^9, 
   3.6270393409283757`*^9}, {3.6270472299353757`*^9, 
   3.6270472304083757`*^9}, {3.6270472692543755`*^9, 3.627047294069376*^9}, {
   3.6551246374381638`*^9, 3.6551246390213223`*^9}, {3.6551246873831577`*^9, 
   3.6551246899764175`*^9}, {3.655124823372755*^9, 3.6551248248439026`*^9}, {
   3.65512485892531*^9, 3.655124860437462*^9}, {3.655124947352152*^9, 
   3.6551249489363103`*^9}, {3.6551249843298492`*^9, 
   3.6551250060910254`*^9}, {3.655125120079423*^9, 3.655125359231336*^9}, {
   3.655125418242236*^9, 3.655125439618374*^9}, {3.6551255133967505`*^9, 
   3.6551255255509663`*^9}, {3.655131632759626*^9, 3.655131647032053*^9}, {
   3.6551317438597345`*^9, 3.6551317446118097`*^9}, {3.6551319795483017`*^9, 
   3.6551321124175873`*^9}, {3.655132148411186*^9, 3.655132229318276*^9}, {
   3.6551322693352776`*^9, 3.655132314912834*^9}, {3.6551323467940226`*^9, 
   3.6551323540497475`*^9}, {3.6551879096626997`*^9, 
   3.6551879166737003`*^9}, {3.688718507910676*^9, 3.6887185434406757`*^9}, {
   3.6887185781566763`*^9, 3.688718649451676*^9}, {3.688718706450676*^9, 
   3.688718804693676*^9}, {3.6890752886558*^9, 3.6890754157928*^9}, {
   3.6893175275982056`*^9, 3.6893175412260056`*^9}, {3.689318581940406*^9, 
   3.6893186299504056`*^9}, {3.6893186712596054`*^9, 
   3.6893186736992054`*^9}, {3.6893187493532057`*^9, 
   3.6893188357816057`*^9}, {3.6893188970526056`*^9, 3.689318897863806*^9}, 
   3.6893196050553055`*^9, {3.6893197272517056`*^9, 3.6893197409813056`*^9}, {
   3.6893200560835056`*^9, 3.6893200688493056`*^9}, {3.689320100889906*^9, 
   3.6893201702107058`*^9}, {3.6893202041051054`*^9, 
   3.6893202057471056`*^9}, {3.689320275722706*^9, 3.689320285916506*^9}, 
   3.6893203472035055`*^9, {3.6893204031949053`*^9, 3.6893204600715055`*^9}, {
   3.6893205881879053`*^9, 3.6893205883595057`*^9}, {3.6893208966351056`*^9, 
   3.6893209334051056`*^9}, 3.6893209772165055`*^9, {3.6893210286115055`*^9, 
   3.6893210417005053`*^9}, 3.6893211112793055`*^9, 3.6893211437783055`*^9, {
   3.6893213284115057`*^9, 3.6893214124731054`*^9}, 3.6893214841527057`*^9, {
   3.689321737915106*^9, 3.689321777840706*^9}, {3.689321821163706*^9, 
   3.689321826427706*^9}, 3.6893218744217052`*^9, 3.689321935915106*^9, {
   3.6893220089419055`*^9, 3.689322012509906*^9}, {3.6893223439721055`*^9, 
   3.689322368613106*^9}, {3.6893224394091053`*^9, 3.6893224510541058`*^9}, {
   3.6893224913967056`*^9, 3.6893224952517056`*^9}, {3.689322532760706*^9, 
   3.6893225407667055`*^9}, {3.6893232348011055`*^9, 
   3.6893232460901055`*^9}, {3.689325225564706*^9, 3.6893252317797055`*^9}, {
   3.6893253392513056`*^9, 3.6893253598443055`*^9}, 3.689340457508506*^9, {
   3.697873071469864*^9, 3.697873172428052*^9}, {3.697873222260516*^9, 
   3.6978732289978633`*^9}, {3.697873299291419*^9, 3.6978733355341663`*^9}, {
   3.7326066480152655`*^9, 3.732606650376866*^9}, {3.7655270708882513`*^9, 
   3.765527070938117*^9}, {3.7655272888251066`*^9, 3.765527290591881*^9}, {
   3.7655273561383557`*^9, 3.7655273563208675`*^9}, {3.7655339742180767`*^9, 
   3.7655340256077285`*^9}, {3.7655340701721635`*^9, 3.765534105702978*^9}, {
   3.765534139706256*^9, 3.7655342085343976`*^9}, {3.765534556558922*^9, 
   3.7655345612473683`*^9}, {3.7655346238278613`*^9, 
   3.7655346350239525`*^9}, {3.7655346860357037`*^9, 
   3.7655347373209352`*^9}, {3.765534787700516*^9, 3.765534787880064*^9}, {
   3.8006052144523916`*^9, 3.800605222527822*^9}, 3.80060529410763*^9, {
   3.800605368812758*^9, 3.8006053791042695`*^9}, 3.8006055762437057`*^9, 
   3.800605617284086*^9, 3.800605665924168*^9, 3.8006057170974827`*^9, {
   3.8006057976223993`*^9, 3.8006058237725515`*^9}, {3.800605877471122*^9, 
   3.8006059323904314`*^9}, {3.800605976401876*^9, 3.800605979761942*^9}, {
   3.8006060258188825`*^9, 3.800606092321253*^9}, {3.8006061996934605`*^9, 
   3.8006062401234713`*^9}, 3.800606341070352*^9, {3.8062402811766353`*^9, 
   3.8062403652680745`*^9}, {3.806305095892312*^9, 3.8063051762920127`*^9}, {
   3.806305216014361*^9, 
   3.8063053463825045`*^9}},ExpressionUUID->"3197918b-c871-4192-94cb-\
1e6b4a095115"],

Cell[BoxData[
 RowBox[{
  RowBox[{"ElementDraw", "[", 
   RowBox[{"data_", ",", "opts___"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{
     "text", ",", "thick", ",", "bpms", ",", "lengths", ",", "filled", ",", 
      "widthscale", ",", "symms", ",", "bends", ",", "closed", ",", "offset", 
      ",", "optShow", ",", "elementList", ",", "lattice", ",", 
      "elementDrawRot", ",", " ", "roty", ",", "sinc2", ",", "xform", ",", 
      "localXYZ", ",", "x", ",", "graph", ",", "sinc", ",", "cosc", ",", 
      "sym", ",", " ", "tilt", ",", "findrotations", ",", "findrotationsv", 
      ",", 
      RowBox[{"anglesum", "=", "0"}], ",", "sum1", ",", "x1", ",", 
      "prepositions2"}], "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"text", "=", 
      RowBox[{
       RowBox[{"Labels", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"thick", "=", 
      RowBox[{
       RowBox[{"Thick", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"bpms", "=", 
      RowBox[{
       RowBox[{"Monitors", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"lengths", "=", 
      RowBox[{
       RowBox[{"Lengths", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"filled", "=", 
      RowBox[{
       RowBox[{"Filled", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"If", "[", 
      RowBox[{"filled", ",", 
       RowBox[{"shape", "=", "\"\<Polygon\>\""}], ",", 
       RowBox[{"shape", "=", "\"\<Line\>\""}]}], "]"}], ";", 
     RowBox[{"widthscale", "=", 
      RowBox[{
       RowBox[{"WidthScale", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"symms", "=", 
      RowBox[{
       RowBox[{"Symms", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"bends", "=", 
      RowBox[{
       RowBox[{"Bends", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"closed", "=", 
      RowBox[{
       RowBox[{"CheckClosed", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     RowBox[{"offset", "=", 
      RowBox[{
       RowBox[{"Offset", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"$BENDSIGN", "=", 
      RowBox[{
       RowBox[{"BendSign", "/.", "\[InvisibleSpace]", 
        RowBox[{"{", "opts", "}"}]}], "/.", "\[InvisibleSpace]", 
       RowBox[{"Options", "[", "ElementDraw", "]"}]}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"vbends", "=", 
      RowBox[{
       RowBox[{"Global`VerticalBends", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"{", 
        RowBox[{"Global`VerticalBends", "\[Rule]", "False"}], "}"}]}]}], ";", 
     RowBox[{"optShow", "=", 
      RowBox[{"Join", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"Sequence", "@@", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"{", "opts", "}"}], "]"}], ",", 
            RowBox[{"Options", "[", "Graphics", "]"}]}], "]"}]}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"Sequence", "@@", 
          RowBox[{"FilterRules", "[", 
           RowBox[{
            RowBox[{"Flatten", "[", 
             RowBox[{"{", "opts", "}"}], "]"}], ",", 
            RowBox[{"Options", "[", "Show", "]"}]}], "]"}]}], "}"}]}], 
       "]"}]}], ";", 
     RowBox[{"elementList", "=", 
      RowBox[{"Flatten", "[", "data", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{"If", "[", 
        RowBox[{
         RowBox[{"Not", "[", "bpms", "]"}], ",", 
         RowBox[{"elementList", "=", 
          RowBox[{"Select", "[", 
           RowBox[{"elementList", ",", 
            RowBox[{
             RowBox[{
              RowBox[{
              "#1", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
              "=!=", "\"\<BPM\>\""}], "&"}]}], "]"}]}]}], "]"}], ";"}], 
      "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"tilt", "[", "element_", "]"}], ":=", 
      RowBox[{"Switch", "[", 
       RowBox[{
        RowBox[{"findElementClass", "[", "element", "]"}], ",", 
        "\[IndentingNewLine]", "\"\<dipole\>\"", ",", 
        RowBox[{"element", "[", "\"\<TILT\>\"", "]"}], " ", ",", 
        "\[IndentingNewLine]", "_", ",", "0"}], "]"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"lattice", "=", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
         RowBox[{"{", 
          RowBox[{
           RowBox[{"findElementClass", "[", "#", "]"}], ",", 
           RowBox[{"#1", "[", "\"\<LENGTH\>\"", "]"}], ",", 
           RowBox[{"N", "[", 
            RowBox[{"#", "[", "\"\<BENDANGLE\>\"", "]"}], "]"}], ",", 
           "\"\<\>\"", ",", 
           RowBox[{"tilt", "[", "#1", "]"}], ",", "#"}], "}"}], "&"}], ")"}], 
       "/@", "elementList"}]}], ";", "\[IndentingNewLine]", 
     "\[IndentingNewLine]", 
     RowBox[{"(*", 
      RowBox[{
       RowBox[{
        RowBox[{"roty", "[", 
         RowBox[{"line_", ",", "\[Theta]_"}], "]"}], ":=", 
        RowBox[{"{", 
         RowBox[{
          RowBox[{
           RowBox[{
            RowBox[{
            "line", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
            " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}], "-", 
           RowBox[{
            RowBox[{
            "line", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
            " ", 
            RowBox[{"Cos", "[", "\[Theta]", "]"}]}]}], ",", 
          RowBox[{
           RowBox[{
            RowBox[{
            "line", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
            " ", 
            RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "+", 
           RowBox[{
            RowBox[{
            "line", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
            " ", 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}]}], "}"}]}], ";", 
       "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"sinc", "[", "\[Theta]_", "]"}], ":=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Abs", "[", "\[Theta]", "]"}], ">", "0"}], ",", 
          FractionBox[
           RowBox[{"Sin", "[", "\[Theta]", "]"}], "\[Theta]"], ",", "1"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"cosc", "[", "\[Theta]_", "]"}], ":=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Abs", "[", "\[Theta]", "]"}], ">", "0"}], ",", 
          FractionBox[
           RowBox[{"1", "-", 
            RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "\[Theta]"], ",", "0"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{
        RowBox[{"sinc2", "[", "\[Theta]_", "]"}], ":=", 
        RowBox[{"If", "[", 
         RowBox[{
          RowBox[{
           RowBox[{"Abs", "[", "\[Theta]", "]"}], ">", "0"}], ",", 
          FractionBox[
           RowBox[{"Sin", "[", "\[Theta]", "]"}], "\[Theta]"], ",", "0"}], 
         "]"}]}], ";", "\[IndentingNewLine]", 
       RowBox[{"sym", "=", 
        RowBox[{"{", 
         RowBox[{
         "\"\<symmline\>\"", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}], 
         "}"}]}], ";"}], "*)"}], "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"If", "[", 
      RowBox[{
       RowBox[{"bends", "===", "True"}], ",", 
       RowBox[{"findrotations", "=", 
        RowBox[{"(", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"Switch", "[", 
            RowBox[{
             RowBox[{
             "#", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], ",",
              "\[IndentingNewLine]", "\"\<dipole\>\"", ",", 
             RowBox[{"anglesum", "+=", 
              RowBox[{"$BENDSIGN", " ", 
               RowBox[{"Cos", "[", 
                RowBox[{"#", "[", 
                 RowBox[{"[", "5", "]"}], "]"}], "]"}], 
               RowBox[{
               "#1", "\[LeftDoubleBracket]", "3", 
                "\[RightDoubleBracket]"}]}]}], ",", "\[IndentingNewLine]", 
             "_", ",", "anglesum"}], "]"}], "&"}], "/@", 
          RowBox[{"Drop", "[", 
           RowBox[{
            RowBox[{"Prepend", "[", 
             RowBox[{"lattice", ",", 
              RowBox[{"{", 
               RowBox[{"0", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}], 
               "}"}]}], "]"}], ",", 
            RowBox[{"-", "1"}]}], "]"}]}], ")"}]}], ",", 
       RowBox[{"findrotations", "=", 
        RowBox[{"Table", "[", 
         RowBox[{"0.", ",", 
          RowBox[{"{", 
           RowBox[{"Length", "[", "lattice", "]"}], "}"}]}], "]"}]}]}], "]"}],
      ";", "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{"findrotationsv", "=", 
      RowBox[{"(", 
       RowBox[{
        RowBox[{"sum1", "=", "0"}], ";", 
        RowBox[{
         RowBox[{"(", 
          RowBox[{
           RowBox[{"sum1", "+=", 
            RowBox[{
             RowBox[{"Sin", "[", 
              RowBox[{"#", "[", 
               RowBox[{"[", "5", "]"}], "]"}], "]"}], 
             RowBox[{
             "#1", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}]}]}],
            "&"}], ")"}], "/@", 
         RowBox[{"Drop", "[", 
          RowBox[{
           RowBox[{"Prepend", "[", 
            RowBox[{"lattice", ",", 
             RowBox[{"{", 
              RowBox[{"0", ",", "0", ",", "0", ",", "\"\<\>\"", ",", "0"}], 
              "}"}]}], "]"}], ",", 
           RowBox[{"-", "1"}]}], "]"}]}]}], ")"}]}], ";", 
     "\[IndentingNewLine]", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"xform", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"\[Theta]_", ",", "tilt_", ",", "length_"}], "}"}], ",", 
        RowBox[{"{", 
         RowBox[{"x_", ",", "r_"}], "}"}]}], "]"}], ":=", 
      RowBox[{"Block", "[", 
       RowBox[{
        RowBox[{"{", 
         RowBox[{"dx", ",", "n", ",", "rt", ",", "rp"}], "}"}], ",", 
        "\[IndentingNewLine]", 
        RowBox[{
         RowBox[{"dx", "=", 
          RowBox[{"r", ".", 
           RowBox[{"(", GridBox[{
              {
               RowBox[{"Cos", "[", "tilt", "]"}], 
               RowBox[{"-", 
                RowBox[{"Sin", "[", "tilt", "]"}]}], "0"},
              {
               RowBox[{"Sin", "[", "tilt", "]"}], 
               RowBox[{"Cos", "[", "tilt", "]"}], "0"},
              {"0", "0", "1"}
             }], ")"}], ".", 
           RowBox[{"(", GridBox[{
              {
               RowBox[{"Limit", "[", 
                RowBox[{
                 RowBox[{
                  FractionBox["length", "\[Theta]1"], 
                  RowBox[{"(", 
                   RowBox[{
                    RowBox[{"Cos", "[", "\[Theta]1", "]"}], "-", "1"}], 
                   ")"}]}], ",", 
                 RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]},
              {"0"},
              {
               RowBox[{"Limit", "[", 
                RowBox[{
                 RowBox[{
                  FractionBox["length", "\[Theta]1"], 
                  RowBox[{"Sin", "[", "\[Theta]1", "]"}]}], ",", 
                 RowBox[{"\[Theta]1", "\[Rule]", "\[Theta]"}]}], "]"}]}
             }], ")"}]}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"rt", "=", 
          RowBox[{"Transpose", "[", "r", "]"}]}], ";", "\[IndentingNewLine]", 
         RowBox[{"n", "=", 
          RowBox[{
           RowBox[{
            RowBox[{
            "rt", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
            RowBox[{"Cos", "[", "tilt", "]"}]}], "-", 
           RowBox[{
            RowBox[{
            "rt", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
            RowBox[{"Sin", "[", "tilt", "]"}]}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"rp", "=", 
          RowBox[{
           RowBox[{
            RowBox[{"Outer", "[", 
             RowBox[{"Times", ",", 
              RowBox[{"rt", ".", "n"}], ",", "n"}], "]"}], 
            RowBox[{"(", 
             RowBox[{"1", "-", 
              RowBox[{"Cos", "[", "\[Theta]", "]"}]}], ")"}]}], "+", 
           RowBox[{"rt", " ", 
            RowBox[{"Cos", "[", "\[Theta]", "]"}]}], "+", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                "rt", "\[LeftDoubleBracket]", "1", "\[RightDoubleBracket]"}], 
                ",", "n"}], "]"}], ",", 
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                "rt", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], 
                ",", "n"}], "]"}], ",", 
              RowBox[{"Cross", "[", 
               RowBox[{
                RowBox[{
                "rt", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], 
                ",", "n"}], "]"}]}], "}"}], 
            RowBox[{"Sin", "[", "\[Theta]", "]"}]}]}]}], ";", 
         "\[IndentingNewLine]", 
         RowBox[{"{", 
          RowBox[{
           RowBox[{"x", "+", "dx"}], ",", 
           RowBox[{"Transpose", "[", "rp", "]"}]}], "}"}]}]}], 
       "\[IndentingNewLine]", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Which", "[", 
      RowBox[{
       RowBox[{"ListQ", "[", "offset", "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"x", "=", 
        RowBox[{"{", 
         RowBox[{"(", GridBox[{
            {
             RowBox[{"offset", "[", 
              RowBox[{"[", "2", "]"}], "]"}]},
            {"0"},
            {
             RowBox[{"offset", "[", 
              RowBox[{"[", "1", "]"}], "]"}]}
           }], ")"}], "}"}]}], ",", "\[IndentingNewLine]", 
       RowBox[{"NumberQ", "[", "offset", "]"}], ",", "\[IndentingNewLine]", 
       RowBox[{"x", "=", 
        RowBox[{"{", 
         RowBox[{"(", GridBox[{
            {"offset"},
            {"0"},
            {"0"}
           }], ")"}], "}"}]}], ",", "\[IndentingNewLine]", "True", ",", 
       "\[IndentingNewLine]", 
       RowBox[{"x", "=", 
        RowBox[{"{", 
         RowBox[{"(", GridBox[{
            {"0"},
            {"0"},
            {"0"}
           }], ")"}], "}"}]}]}], "\[IndentingNewLine]", "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"localXYZ", "=", 
      RowBox[{"IdentityMatrix", "[", "3", "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{
           RowBox[{"{", 
            RowBox[{"x1", ",", "localXYZ"}], "}"}], "=", 
           RowBox[{"xform", "[", 
            RowBox[{
             RowBox[{"{", 
              RowBox[{
               RowBox[{"If", "[", 
                RowBox[{"bends", ",", 
                 RowBox[{
                  RowBox[{"-", "$BENDSIGN"}], 
                  RowBox[{"#", "[", 
                   RowBox[{"[", "3", "]"}], "]"}]}], ",", "0"}], "]"}], ",", 
               RowBox[{
                RowBox[{"-", "$BENDSIGN"}], 
                RowBox[{"#", "[", 
                 RowBox[{"[", "5", "]"}], "]"}]}], ",", 
               RowBox[{"#", "[", 
                RowBox[{"[", "2", "]"}], "]"}]}], "}"}], ",", 
             RowBox[{"{", 
              RowBox[{
               RowBox[{"x", "\[LeftDoubleBracket]", 
                RowBox[{"-", "1"}], "\[RightDoubleBracket]"}], ",", 
               "localXYZ"}], "}"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
          RowBox[{"AppendTo", "[", 
           RowBox[{"x", ",", "x1"}], "]"}]}]}], "]"}], "&"}], "/@", 
      "lattice"}], ";", "\[IndentingNewLine]", 
     RowBox[{"prepositions2", "=", 
      RowBox[{"Most", "[", 
       RowBox[{"x", "[", 
        RowBox[{"[", 
         RowBox[{"All", ",", 
          RowBox[{"{", 
           RowBox[{"3", ",", "1"}], "}"}], ",", "1"}], "]"}], "]"}], "]"}]}], 
     ";", "\[IndentingNewLine]", 
     RowBox[{"Clear", "[", "TEXTOSCILLATE", "]"}], ";", "\[IndentingNewLine]", 
     RowBox[{"graph", "=", 
      RowBox[{"Graphics", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"pelement", "[", 
          RowBox[{
           RowBox[{"#1", "\[LeftDoubleBracket]", 
            RowBox[{"1", ",", "1"}], "\[RightDoubleBracket]"}], ",", 
           RowBox[{
           "#1", "\[LeftDoubleBracket]", "2", "\[RightDoubleBracket]"}], ",", 
           RowBox[{"#1", "\[LeftDoubleBracket]", 
            RowBox[{"1", ",", "2"}], "\[RightDoubleBracket]"}], " ", ",", 
           RowBox[{"If", "[", 
            RowBox[{"bends", ",", 
             RowBox[{"$BENDSIGN", " ", 
              RowBox[{"Cos", "[", 
               RowBox[{"#", "[", 
                RowBox[{"[", 
                 RowBox[{"1", ",", "5"}], "]"}], "]"}], "]"}], 
              RowBox[{"#1", "\[LeftDoubleBracket]", 
               RowBox[{"1", ",", "3"}], "\[RightDoubleBracket]"}]}], ",", 
             "0"}], "]"}], ",", 
           RowBox[{
           "#1", "\[LeftDoubleBracket]", "3", "\[RightDoubleBracket]"}], ",", 
           RowBox[{"StringReplace", "[", 
            RowBox[{
             RowBox[{
              RowBox[{"#", "[", 
               RowBox[{"[", 
                RowBox[{"1", ",", 
                 RowBox[{"-", "1"}]}], "]"}], "]"}], "[", "\"\<NAME\>\"", 
              "]"}], ",", 
             RowBox[{"{", 
              RowBox[{"\"\<$\>\"", "\[Rule]", "\"\<-\>\""}], "}"}]}], "]"}], 
           ",", 
           RowBox[{"Element", "\[Rule]", 
            RowBox[{"#", "[", 
             RowBox[{"[", "1", "]"}], "]"}]}], ",", "opts"}], "]"}], "&"}], "/@", 
        RowBox[{"Transpose", "[", 
         RowBox[{"{", 
          RowBox[{"lattice", ",", "prepositions2", ",", "findrotations"}], 
          "}"}], "]"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Show", "[", 
      RowBox[{"graph", ",", "optShow", ",", 
       RowBox[{"Sequence", "@@", 
        RowBox[{"FilterRules", "[", 
         RowBox[{
          RowBox[{"Flatten", "[", 
           RowBox[{"{", 
            RowBox[{"Options", "[", "ElementDraw", "]"}], "}"}], "]"}], ",", 
          RowBox[{"Options", "[", "Show", "]"}]}], "]"}]}], ",", 
       RowBox[{"Lighting", "\[Rule]", "Automatic"}]}], "]"}]}]}], 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.3941768199282775`*^9, 3.3941768821480923`*^9}, {
   3.394176912445161*^9, 3.394176947164133*^9}, {3.39417698894565*^9, 
   3.394177003398868*^9}, {3.3941770406491065`*^9, 3.394177052805434*^9}, {
   3.394177089227542*^9, 3.3941770907119265`*^9}, {3.3941771708841066`*^9, 
   3.394177173212217*^9}, {3.3941772129307127`*^9, 3.3941772882093563`*^9}, {
   3.394178236979314*^9, 3.3941782389323635`*^9}, {3.394178803427348*^9, 
   3.3941788102553864`*^9}, {3.3941896522453585`*^9, 3.394189652510982*^9}, {
   3.394189721713664*^9, 3.394189721869913*^9}, {3.3942858988324637`*^9, 
   3.3942859068322587`*^9}, {3.394285970502504*^9, 3.394286178419056*^9}, {
   3.3997937382955713`*^9, 3.3997937603271036`*^9}, {3.5587783661331224`*^9, 
   3.558778367976955*^9}, {3.5587785271247096`*^9, 3.5587785272340894`*^9}, {
   3.5587785737517986`*^9, 3.5587786202695074`*^9}, {3.558778690897671*^9, 
   3.558778691225811*^9}, {3.5587787315088654`*^9, 3.55877873261829*^9}, {
   3.5587787890583186`*^9, 3.5587787892614527`*^9}, {3.5587789932393403`*^9, 
   3.5587790019428554`*^9}, {3.5587793639903245`*^9, 
   3.5587793646466036`*^9}, {3.558788017471733*^9, 3.558788051066988*^9}, 
   3.5587880904437523`*^9, {3.5587881372427235`*^9, 3.558788170478587*^9}, {
   3.5587882234073706`*^9, 3.558788341200367*^9}, {3.5587883777578917`*^9, 
   3.5587884023534064`*^9}, {3.5587884650524497`*^9, 3.558788655200384*^9}, {
   3.5587890539193573`*^9, 3.5587890814341993`*^9}, 3.5871953023242607`*^9, {
   3.627037928008376*^9, 3.6270379960423756`*^9}, 3.627038081650376*^9, 
   3.627038134975376*^9, {3.627038185291376*^9, 3.6270381878703756`*^9}, {
   3.627038250326376*^9, 3.627038377265376*^9}, {3.627038784959376*^9, 
   3.627038787614376*^9}, {3.627039082128376*^9, 3.6270391025733757`*^9}, {
   3.627039202143376*^9, 3.627039278590376*^9}, {3.627039339397376*^9, 
   3.6270393409283757`*^9}, {3.6270472299353757`*^9, 
   3.6270472304083757`*^9}, {3.6270472692543755`*^9, 3.627047294069376*^9}, {
   3.6551246374381638`*^9, 3.6551246390213223`*^9}, {3.6551246873831577`*^9, 
   3.6551246899764175`*^9}, {3.655124823372755*^9, 3.6551248248439026`*^9}, {
   3.65512485892531*^9, 3.655124860437462*^9}, {3.655124947352152*^9, 
   3.6551249489363103`*^9}, {3.6551249843298492`*^9, 
   3.6551250060910254`*^9}, {3.655125120079423*^9, 3.655125359231336*^9}, {
   3.655125418242236*^9, 3.655125439618374*^9}, {3.6551255133967505`*^9, 
   3.6551255255509663`*^9}, {3.655131632759626*^9, 3.655131647032053*^9}, {
   3.6551317438597345`*^9, 3.6551317446118097`*^9}, {3.6551319795483017`*^9, 
   3.6551321124175873`*^9}, {3.655132148411186*^9, 3.655132229318276*^9}, {
   3.6551322693352776`*^9, 3.655132314912834*^9}, {3.6551323467940226`*^9, 
   3.6551323540497475`*^9}, {3.6551879096626997`*^9, 
   3.6551879166737003`*^9}, {3.688718507910676*^9, 3.6887185434406757`*^9}, {
   3.6887185781566763`*^9, 3.688718649451676*^9}, {3.688718706450676*^9, 
   3.688718804693676*^9}, {3.6890752886558*^9, 3.6890754157928*^9}, {
   3.6893175275982056`*^9, 3.6893175412260056`*^9}, {3.689318581940406*^9, 
   3.6893186299504056`*^9}, {3.6893186712596054`*^9, 
   3.6893186736992054`*^9}, {3.6893187493532057`*^9, 
   3.6893188357816057`*^9}, {3.6893188970526056`*^9, 3.689318897863806*^9}, 
   3.6893196050553055`*^9, {3.6893197272517056`*^9, 3.6893197409813056`*^9}, {
   3.6893200560835056`*^9, 3.6893200688493056`*^9}, {3.689320100889906*^9, 
   3.6893201702107058`*^9}, {3.6893202041051054`*^9, 
   3.6893202057471056`*^9}, {3.689320275722706*^9, 3.689320285916506*^9}, 
   3.6893203472035055`*^9, {3.6893204031949053`*^9, 3.6893204600715055`*^9}, {
   3.6893205881879053`*^9, 3.6893205883595057`*^9}, {3.6893208966351056`*^9, 
   3.6893209334051056`*^9}, 3.6893209772165055`*^9, {3.6893210286115055`*^9, 
   3.6893210417005053`*^9}, 3.6893211112793055`*^9, 3.6893211437783055`*^9, {
   3.6893213284115057`*^9, 3.6893214124731054`*^9}, 3.6893214841527057`*^9, {
   3.689321737915106*^9, 3.689321777840706*^9}, {3.689321821163706*^9, 
   3.689321826427706*^9}, 3.6893218744217052`*^9, 3.689321935915106*^9, {
   3.6893220089419055`*^9, 3.689322012509906*^9}, {3.6893223439721055`*^9, 
   3.689322368613106*^9}, {3.6893224394091053`*^9, 3.6893224510541058`*^9}, {
   3.6893224913967056`*^9, 3.6893224952517056`*^9}, {3.689322532760706*^9, 
   3.6893225407667055`*^9}, {3.6893232348011055`*^9, 
   3.6893232460901055`*^9}, {3.689325225564706*^9, 3.6893252317797055`*^9}, {
   3.6893253392513056`*^9, 3.6893253598443055`*^9}, 3.689340457508506*^9, {
   3.697873071469864*^9, 3.697873172428052*^9}, {3.697873222260516*^9, 
   3.6978732289978633`*^9}, {3.697873299291419*^9, 3.6978733355341663`*^9}, {
   3.7326066480152655`*^9, 3.732606650376866*^9}, {3.7655270708882513`*^9, 
   3.765527070938117*^9}, {3.7655272888251066`*^9, 3.765527290591881*^9}, {
   3.7655273561383557`*^9, 3.7655273563208675`*^9}, {3.7728029689444227`*^9, 
   3.772803063212369*^9}, {3.7728034512884183`*^9, 3.7728034659887867`*^9}, {
   3.77280350967758*^9, 3.7728035119864182`*^9}, {3.7728035656031833`*^9, 
   3.7728035689210877`*^9}, {3.787036843755162*^9, 3.7870368463322725`*^9}, {
   3.78703692607753*^9, 3.787036926556278*^9}, {3.806214552287178*^9, 
   3.806214609915861*^9}},ExpressionUUID->"0c147855-7ede-457c-aa07-\
ceeae0c09b74"]
}, Open  ]]
}, Closed]],

Cell[CellGroupData[{

Cell["elementInfo", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.697878194951925*^9, 
  3.697878225176511*^9}},ExpressionUUID->"9bfb7858-3914-4b37-9d17-\
0bbbea881305"],

Cell[BoxData[
 RowBox[{"Clear", "[", "elementSPositions", "]"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697878467743787*^9, 3.6978784726568565`*^9}, 
   3.6978798287606535`*^9},
 CellLabel->
  "(Local2) In[421]:=",ExpressionUUID->"5196a8f7-99af-4b6c-ac4a-5917b0a516ab"],

Cell[BoxData[
 RowBox[{
  RowBox[{"elementSPositions", "[", 
   RowBox[{"elementLine", "[", "list__", "]"}], "]"}], ":=", 
  RowBox[{"Rest", "[", 
   RowBox[{"FoldList", "[", 
    RowBox[{"Plus", ",", "0", ",", 
     RowBox[{"Map", "[", 
      RowBox[{
       RowBox[{
        RowBox[{"#", "[", "\"\<LENGTH\>\"", "]"}], "&"}], ",", 
       RowBox[{"Flatten", "[", 
        RowBox[{"elementLine", "[", "list", "]"}], "]"}]}], "]"}]}], "]"}], 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978784232781963`*^9, 3.6978784614169025`*^9}, {
  3.697879789165933*^9, 3.697879824775679*^9}, {3.699614952736141*^9, 
  3.699614963192232*^9}},
 CellLabel->
  "(Local2) In[422]:=",ExpressionUUID->"898c28a4-2ce7-49cd-b578-f683dd7b7de5"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{
  RowBox[{"Options", "[", "elementInfo", "]"}], "=", 
  RowBox[{"{", 
   RowBox[{"Headings", "\[Rule]", 
    RowBox[{"{", 
     RowBox[{
     "\"\<Name\>\"", ",", "\"\<Type\>\"", ",", "\"\<Length\>\"", ",", 
      "\"\<K1\>\"", ",", "\"\<Angle\>\"", ",", "\"\<Label\>\"", ",", 
      "\"\<Position\>\""}], "}"}]}], "}"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978782363320003`*^9, 3.697878301379691*^9}, {
   3.6978950625314236`*^9, 3.6978950633738127`*^9}, 3.6978951873127327`*^9},
 CellLabel->
  "(Local2) In[423]:=",ExpressionUUID->"96d69fcd-ff37-41e9-aa42-bbdebd57cf5d"],

Cell[BoxData[
 RowBox[{"{", 
  RowBox[{"Headings", "\[Rule]", 
   RowBox[{"{", 
    RowBox[{"\<\"Name\"\>", ",", "\<\"Type\"\>", ",", "\<\"Length\"\>", 
     ",", "\<\"K1\"\>", ",", "\<\"Angle\"\>", ",", "\<\"Label\"\>", 
     ",", "\<\"Position\"\>"}], "}"}]}], "}"}]], "Output",
 InitializationGroup->True,
 CellChangeTimes->{{3.697895187952333*^9, 3.6978952096315327`*^9}, 
   3.697897650565433*^9, 3.6979756670653944`*^9, {3.6995947035774217`*^9, 
   3.699594729845422*^9}, 3.6996149656492233`*^9, 3.7009956696067905`*^9, 
   3.7009957043542647`*^9, 3.704695786837306*^9, 3.704786742088702*^9, 
   3.7057592772912083`*^9, 3.705815244074565*^9, 3.7058171047555647`*^9, 
   3.705817161782565*^9, 3.705817725861565*^9, 3.732606517956866*^9, 
   3.7655253484684315`*^9, 3.7655270819029503`*^9, 3.771134737584873*^9, 
   3.7716517384576826`*^9, 3.771736858357443*^9, 3.771766322787158*^9, 
   3.772276011033722*^9, 3.772450240432726*^9, 3.772776300259111*^9, 
   3.772802711378542*^9, 3.7728027497369933`*^9, 3.7728598179243674`*^9, 
   3.7728611143340073`*^9, 3.7729694010046434`*^9, 3.7733985194748635`*^9, 
   3.7735734545364885`*^9, 3.775198570438237*^9, 3.775202366080163*^9, 
   3.7752025772527905`*^9, {3.775283140801056*^9, 3.775283164206777*^9}, 
   3.787036543583138*^9},
 CellLabel->
  "(Local2) Out[423]=",ExpressionUUID->"99605b66-e072-4050-8109-bea2e978a373"]
}, Open  ]],

Cell[BoxData[{
 RowBox[{
  RowBox[{"Clear", "[", "elementInfo", "]"}], ";"}], "\[IndentingNewLine]", 
 RowBox[{
  RowBox[{"elementInfo", "[", 
   RowBox[{"lattice_elementLine", ",", "opts___Rule"}], "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"headings", "=", 
      RowBox[{
       RowBox[{"Headings", "/.", 
        RowBox[{"{", "opts", "}"}]}], "/.", 
       RowBox[{"Options", "[", "elementInfo", "]"}]}]}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"TableForm", "[", 
     RowBox[{
      RowBox[{"Transpose", "[", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"Block", "[", 
           RowBox[{
            RowBox[{"{", 
             RowBox[{"heading", "=", "#"}], "}"}], ",", "\[IndentingNewLine]", 
            RowBox[{"Switch", "[", 
             RowBox[{
              RowBox[{"ToUpperCase", "[", "#", "]"}], ",", 
              "\[IndentingNewLine]", "\"\<POSITION\>\"", ",", 
              "\[IndentingNewLine]", 
              RowBox[{"elementSPositions", "[", "lattice", "]"}], ",", 
              "\[IndentingNewLine]", "\"\<LENGTH\>\"", ",", 
              "\[IndentingNewLine]", 
              RowBox[{"Map", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"#", "[", "\"\<LENGTH\>\"", "]"}], "&"}], ",", 
                RowBox[{"Flatten", "[", "lattice", "]"}]}], "]"}], ",", 
              "\[IndentingNewLine]", "_", ",", "\[IndentingNewLine]", 
              RowBox[{"Map", "[", 
               RowBox[{
                RowBox[{
                 RowBox[{"#", "[", 
                  RowBox[{"ToUpperCase", "[", "heading", "]"}], "]"}], "&"}], 
                ",", 
                RowBox[{"Flatten", "[", "lattice", "]"}]}], "]"}]}], "]"}]}], 
           "]"}], "&"}], ",", "headings"}], "]"}], "]"}], ",", 
      RowBox[{"TableHeadings", "\[Rule]", 
       RowBox[{"{", 
        RowBox[{"Automatic", ",", "headings"}], "}"}]}]}], "]"}]}], 
   "]"}]}]}], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6978945531791525`*^9, 3.697894709340952*^9}, {
  3.697894839350152*^9, 3.697895049821386*^9}, {3.697895085284935*^9, 
  3.6978950857217293`*^9}, {3.6978951211210775`*^9, 3.697895163614933*^9}, {
  3.6978951966081333`*^9, 3.697895205514933*^9}, {3.6978972871666327`*^9, 
  3.697897328794833*^9}, {3.697897394303433*^9, 3.6978974162228327`*^9}, {
  3.6996149313113575`*^9, 3.6996149355752096`*^9}, {3.699615038271245*^9, 
  3.699615097969682*^9}},
 CellLabel->
  "(Local2) In[424]:=",ExpressionUUID->"40697ce7-429f-461f-8594-ef2723d49d17"]
}, Closed]],

Cell[CellGroupData[{

Cell["elementInterpretLTE", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.697960481128064*^9, 
  3.697960492719944*^9}},ExpressionUUID->"50591227-2b1d-4bb7-b881-\
4f4452e5a3e5"],

Cell[BoxData[
 RowBox[{"allowedElegantCharacters", ":=", 
  RowBox[{"(", 
   RowBox[{
   "WordCharacter", "|", "DigitCharacter", "|", "\"\<~\>\"", "|", "\"\<@\>\"",
     "|", "\"\<$\>\"", "|", "\"\<%\>\"", "|", "\"\<^\>\"", "|", "\"\<&\>\"", 
    "|", "\"\<-\>\"", "|", "\"\<_\>\"", "|", "\"\<+\>\"", "|", "\"\<=\>\"", 
    "|", "\"\<{\>\"", "|", "\"\<}\>\"", "|", "\"\<[\>\"", "|", "\"\<]\>\"", 
    "|", "\"\<|\>\"", "|", "\"\<\\\\\>\"", "|", "\"\</\>\"", "|", "\"\<?\>\"",
     "|", "\"\<<\>\"", "|", "\"\<>\>\"", "|", "\"\<.\>\"", "|", 
    "\"\<\\\"\>\""}], ")"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697960720309874*^9, 3.697960840679262*^9}, {
   3.697960909675143*^9, 3.697960938257839*^9}, {3.697961034579894*^9, 
   3.6979610366877055`*^9}, 3.6979610786611576`*^9, {3.704716781704364*^9, 
   3.7047167839515886`*^9}},
 CellLabel->
  "(Local2) In[426]:=",ExpressionUUID->"30c8bc14-cf29-41ec-bf2c-fb7af72e6c57"],

Cell[BoxData[
 RowBox[{
  RowBox[{"joinSplitLines", "[", "records_", "]"}], ":=", 
  RowBox[{
   RowBox[{
    RowBox[{"StringReplace", "[", 
     RowBox[{
      RowBox[{"StringJoin", "[", "#", "]"}], ",", 
      RowBox[{"\"\<&\>\"", "\[Rule]", "\"\<\>\""}]}], "]"}], "&"}], "/@", 
   RowBox[{"Split", "[", 
    RowBox[{"records", ",", 
     RowBox[{
      RowBox[{
       RowBox[{"StringTake", "[", 
        RowBox[{
         RowBox[{"StringTrim", "[", "#1", "]"}], ",", 
         RowBox[{"-", "1"}]}], "]"}], "==", "\"\<&\>\""}], "&"}]}], 
    "]"}]}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697963368692103*^9, 3.6979634196965027`*^9}, {
  3.697963454120503*^9, 3.697963503332703*^9}, {3.697963539325903*^9, 
  3.697963580684703*^9}},
 CellLabel->
  "(Local2) In[427]:=",ExpressionUUID->"d77b8b3e-b562-435d-9d62-061287f2df1e"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"realNumberQ", "=", 
  RowBox[{
   RowBox[{"StringMatchQ", "[", 
    RowBox[{"#", ",", 
     RowBox[{"StringExpression", "[", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
        "DigitCharacter", "|", "\"\<+\>\"", "|", "\"\<-\>\"", "|", 
         "\"\<.\>\""}], ")"}], ".."}], "]"}]}], "]"}], "&"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697964095235303*^9, 3.697964106504703*^9}, {
   3.697964398889703*^9, 3.697964415978903*^9}, 3.697964463344103*^9},
 CellLabel->
  "(Local2) In[428]:=",ExpressionUUID->"e469bcfe-0f6a-452f-a377-eff1ca0e57c5"],

Cell[BoxData[
 RowBox[{
  RowBox[{"StringMatchQ", "[", 
   RowBox[{"#1", ",", 
    RowBox[{"StringExpression", "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
       "DigitCharacter", "|", "\<\"+\"\>", "|", "\<\"-\"\>", 
        "|", "\<\".\"\>"}], ")"}], ".."}], "]"}]}], "]"}], "&"}]], "Output",
 InitializationGroup->True,
 CellChangeTimes->{
  3.697964416587303*^9, 3.697964464092903*^9, 3.697965417248003*^9, 
   3.6979756671103945`*^9, 3.6995947299349213`*^9, 3.700995669691799*^9, 
   3.700995704437273*^9, 3.7046957869621058`*^9, 3.704716791206314*^9, 
   3.704786742151102*^9, 3.7057592773762083`*^9, 3.705815244172565*^9, 
   3.7058171050645647`*^9, 3.7058171619245653`*^9, 3.705817726013565*^9, 
   3.732606518019266*^9, 3.7655253486588964`*^9, 3.7655270819742513`*^9, 
   3.771134737671669*^9, 3.771651738591886*^9, 3.771736858493411*^9, 
   3.7717663228579707`*^9, 3.772276011132457*^9, 3.77245024065114*^9, 
   3.772776300319925*^9, 3.7728027114563336`*^9, 3.7728027498197722`*^9, 
   3.772859818158741*^9, 3.772861114423765*^9, 3.772969401146044*^9, 
   3.7733985195795813`*^9, 3.7735734546162744`*^9, 3.7751985710112586`*^9, 
   3.775202366206856*^9, 3.775202577425331*^9, {3.7752831408798466`*^9, 
   3.775283164293515*^9}, 3.7870365443391466`*^9},
 CellLabel->
  "(Local2) Out[428]=",ExpressionUUID->"a9e31fa3-df6d-4be9-93ad-38d3fd42675f"]
}, Open  ]],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"exponentNumberQ", "=", 
  RowBox[{
   RowBox[{"StringMatchQ", "[", 
    RowBox[{
     RowBox[{"ToUpperCase", "[", "#", "]"}], ",", 
     RowBox[{"StringExpression", "[", 
      RowBox[{
       RowBox[{"(", 
        RowBox[{
        "DigitCharacter", "|", "\"\<+\>\"", "|", "\"\<-\>\"", "|", 
         "\"\<.\>\"", "|", "\"\<E\>\""}], ")"}], ".."}], "]"}]}], "]"}], 
   "&"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697964095235303*^9, 3.697964106504703*^9}, {
  3.697964398889703*^9, 3.697964461345303*^9}},
 CellLabel->
  "(Local2) In[429]:=",ExpressionUUID->"d1459922-a455-4573-aca6-11886a2cb7d1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"StringMatchQ", "[", 
   RowBox[{
    RowBox[{"ToUpperCase", "[", "#1", "]"}], ",", 
    RowBox[{"StringExpression", "[", 
     RowBox[{
      RowBox[{"(", 
       RowBox[{
       "DigitCharacter", "|", "\<\"+\"\>", "|", "\<\"-\"\>", "|", "\<\".\"\>",
         "|", "\<\"E\"\>"}], ")"}], ".."}], "]"}]}], "]"}], "&"}]], "Output",
 InitializationGroup->True,
 CellChangeTimes->{
  3.697964466818303*^9, 3.697965417263603*^9, 3.6979756671283946`*^9, 
   3.699594729956422*^9, 3.700995669712801*^9, 3.700995704455275*^9, 
   3.704695786977706*^9, 3.7047167912403173`*^9, 3.704786742182302*^9, 
   3.705759277405208*^9, 3.705815244202565*^9, 3.7058171051045647`*^9, 
   3.705817161963565*^9, 3.705817726054565*^9, 3.732606518034866*^9, 
   3.7655253487346926`*^9, 3.7655270820031676`*^9, 3.771134737710538*^9, 
   3.7716517386397595`*^9, 3.771736858539403*^9, 3.771766322897891*^9, 
   3.772276011175372*^9, 3.7724502407379093`*^9, 3.772776300356827*^9, 
   3.772802711490243*^9, 3.772802749863654*^9, 3.772859818209605*^9, 
   3.7728611144796457`*^9, 3.7729694012108736`*^9, 3.773398519629447*^9, 
   3.7735734546392155`*^9, 3.7751985711369233`*^9, 3.775202366230824*^9, 
   3.775202577489185*^9, {3.7752831409197397`*^9, 3.7752831643404136`*^9}, 
   3.7870365444159117`*^9},
 CellLabel->
  "(Local2) Out[429]=",ExpressionUUID->"e1b34e1d-4fac-433e-b989-0c16a50aaeee"]
}, Open  ]],

Cell[BoxData[
 RowBox[{
  RowBox[{"convertNames", "[", "string_String", "]"}], ":=", 
  RowBox[{"StringReplace", "[", 
   RowBox[{"string", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"a", ":", "allowedElegantCharacters"}], "~~", 
        RowBox[{"(", 
         RowBox[{"\"\<_\>\"", "|", "\"\<-\>\""}], ")"}], "~~", 
        RowBox[{"b", ":", "allowedElegantCharacters"}]}], "\[RuleDelayed]", 
       RowBox[{"a", "~~", "\"\<$\>\"", "~~", "b"}]}], ",", 
      RowBox[{"\"\<\\\"\>\"", "\[Rule]", "\"\<\>\""}]}], "}"}]}], 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6979731743883944`*^9, 3.6979732178193946`*^9}, {
   3.7047168035125446`*^9, 3.7047168067998734`*^9}, 3.704786492331702*^9, 
   3.704786559325302*^9},
 CellLabel->
  "(Local2) In[430]:=",ExpressionUUID->"51d6c81f-7b47-47cb-9b13-7be1675bc331"],

Cell[BoxData[
 RowBox[{
  RowBox[{"convertRules", "[", "string_String", "]"}], ":=", 
  RowBox[{"StringReplace", "[", 
   RowBox[{"string", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{
       RowBox[{
        RowBox[{"a", ":", "allowedElegantCharacters"}], "~~", 
        RowBox[{"(", 
         RowBox[{"\"\<_\>\"", "|", "\"\<-\>\""}], ")"}], "~~", 
        RowBox[{"b", ":", "allowedElegantCharacters"}]}], "\[RuleDelayed]", 
       RowBox[{"a", "~~", "\"\<$\>\"", "~~", "b"}]}], ",", 
      RowBox[{"\"\<\\\"\>\"", "\[Rule]", "\"\<\>\""}]}], "}"}]}], 
   "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.6979731743883944`*^9, 3.6979732178193946`*^9}, {
   3.7047168035125446`*^9, 3.7047168067998734`*^9}, 3.704786492331702*^9, 
   3.704786559325302*^9, {3.788272147335188*^9, 
   3.788272148395355*^9}},ExpressionUUID->"197aec2b-10a0-4fb9-a7e5-\
d1ed91164a44"],

Cell[BoxData[
 RowBox[{
  RowBox[{"convertElementRules", "[", "string_String", "]"}], ":=", 
  RowBox[{"StringReplace", "[", 
   RowBox[{"string", ",", 
    RowBox[{"{", 
     RowBox[{
      RowBox[{"\"\<ANGLE\>\"", "\[Rule]", "\"\<BENDANGLE\>\""}], ",", 
      RowBox[{"\"\<ENTRANCE_EDGE_ANGLE\>\"", "\[Rule]", "\"\<E1\>\""}], ",", 
      RowBox[{"\"\<EXIT_EDGE_ANGLE\>\"", "\[Rule]", "\"\<E2\>\""}], ",", 
      RowBox[{"\"\<L\>\"", "\[Rule]", "\"\<LENGTH\>\""}]}], "}"}], ",", 
    RowBox[{"IgnoreCase", "\[Rule]", "True"}]}], "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.704709138047011*^9, 3.704709163812587*^9}, {
   3.7047093841816216`*^9, 3.704709421357339*^9}, 3.7882737148405943`*^9, {
   3.7882737564255085`*^9, 3.7882737577908916`*^9}, {3.7885038605801697`*^9, 
   3.7885038696735277`*^9}},ExpressionUUID->"3d4fa216-0c1d-4150-af63-\
f2de02cca129"],

Cell[BoxData[
 RowBox[{
  RowBox[{"interpretElegentValues", "[", "string_String", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", 
     RowBox[{"str", ",", "notword", ",", "newstr"}], "}"}], ",", 
    "\[IndentingNewLine]", 
    RowBox[{"Which", "[", "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{"realNumberQ", "[", "string", "]"}], ",", "\[IndentingNewLine]", 
      RowBox[{"Internal`StringToDouble", "[", "string", "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"exponentNumberQ", "[", "string", "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Internal`StringToDouble", "[", "string", "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Not", "[", 
       RowBox[{"StringMatchQ", "[", 
        RowBox[{"string", ",", 
         RowBox[{
          RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<\\\"\>\"", "~~", 
          "\"\<*\>\"", "~~", "\"\<\\\"\>\"", "~~", 
          RowBox[{"WhitespaceCharacter", "..."}]}]}], "]"}], "]"}], ",", 
      "\[IndentingNewLine]", 
      RowBox[{"Quiet", "@", 
       RowBox[{"Block", "[", 
        RowBox[{
         RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
         RowBox[{
          RowBox[{"str", "=", "string"}], ";", "\[IndentingNewLine]", 
          RowBox[{"notword", "=", 
           RowBox[{"StringTake", "[", 
            RowBox[{"str", ",", 
             RowBox[{
              RowBox[{
               RowBox[{"StringPosition", "[", 
                RowBox[{"str", ",", "WordCharacter"}], "]"}], "[", 
               RowBox[{"[", 
                RowBox[{"1", ",", "1"}], "]"}], "]"}], "-", "1"}]}], "]"}]}], 
          ";", "\[IndentingNewLine]", 
          RowBox[{"newstr", "=", 
           RowBox[{"StringDrop", "[", 
            RowBox[{"str", ",", 
             RowBox[{
              RowBox[{
               RowBox[{"StringPosition", "[", 
                RowBox[{"str", ",", "WordCharacter"}], "]"}], "[", 
               RowBox[{"[", 
                RowBox[{"1", ",", "1"}], "]"}], "]"}], "-", "1"}]}], "]"}]}], 
          ";", "\[IndentingNewLine]", 
          RowBox[{"If", "[", 
           RowBox[{
            RowBox[{
             RowBox[{"StringQ", "[", "notword", "]"}], "&&", 
             RowBox[{"Not", "[", 
              RowBox[{"notword", "\[Equal]", "\"\<\>\""}], "]"}]}], ",", 
            "\[IndentingNewLine]", 
            RowBox[{"Check", "[", 
             RowBox[{
              RowBox[{"Evaluate", "[", 
               RowBox[{
                RowBox[{"ToExpression", "[", 
                 RowBox[{"Evaluate", "[", 
                  RowBox[{"StringReplace", "[", 
                   RowBox[{"notword", ",", 
                    RowBox[{"{", 
                    RowBox[{"\"\<-\>\"", "\[Rule]", "\"\<-1\>\""}], "}"}]}], 
                   "]"}], "]"}], "]"}], "*", 
                RowBox[{"Symbol", "[", 
                 RowBox[{"Evaluate", "[", "newstr", "]"}], "]"}]}], "]"}], 
              ",", "string"}], "]"}], ",", "\[IndentingNewLine]", 
            RowBox[{"Check", "[", 
             RowBox[{
              RowBox[{"Evaluate", "[", 
               RowBox[{"Symbol", "[", 
                RowBox[{"Evaluate", "[", "newstr", "]"}], "]"}], "]"}], ",", 
              "string"}], "]"}]}], "\[IndentingNewLine]", "]"}]}]}], "]"}]}], 
      ",", "\[IndentingNewLine]", "True", ",", "\[IndentingNewLine]", 
      "string"}], "]"}]}], "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697964023771903*^9, 3.6979640536295033`*^9}, {
   3.6979641633655033`*^9, 3.697964211065503*^9}, {3.697964383142703*^9, 
   3.697964423427903*^9}, {3.697965382955803*^9, 3.697965399907803*^9}, {
   3.697965438497603*^9, 3.697965447140603*^9}, {3.697965495937603*^9, 
   3.697965503758403*^9}, {3.788271932356575*^9, 3.7882719464589367`*^9}, {
   3.788271977602751*^9, 3.788272049822418*^9}, 3.788272124469263*^9, 
   3.78827218176525*^9, {3.7882722186038275`*^9, 3.7882724503530483`*^9}, 
   3.788272480396782*^9, {3.7882725201725035`*^9, 3.7882725212359085`*^9}, {
   3.78827259043405*^9, 3.788272616508403*^9}, {3.7882726500872164`*^9, 
   3.7882726858191304`*^9}, {3.788272717637173*^9, 3.7882727202940755`*^9}, {
   3.7882727845495954`*^9, 3.7882728453980913`*^9}, {3.7882728957575307`*^9, 
   3.788272918374116*^9}, {3.78827295339257*^9, 3.788273028486021*^9}, {
   3.78827307520522*^9, 3.788273220539051*^9}, {3.7882732604464865`*^9, 
   3.788273264574459*^9}, {3.788273311632753*^9, 3.788273438881205*^9}, {
   3.7882734842500486`*^9, 3.788273662536315*^9}, {3.7964676994352565`*^9, 
   3.796467743433695*^9}, {3.796467850890834*^9, 3.796467851447318*^9}, {
   3.7964678887616405`*^9, 3.796467912893178*^9}, {3.7964754063725843`*^9, 
   3.7964754161055536`*^9}},ExpressionUUID->"8acc2d84-3a76-45c2-9c36-\
eb0cd3890389"],

Cell[BoxData[
 RowBox[{
  RowBox[{"interpretElegantRules", "[", "string_String", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"allrules", "=", 
      RowBox[{"StringSplit", "[", 
       RowBox[{"string", ",", 
        RowBox[{"{", 
         RowBox[{"\"\<,\>\"", ",", "\"\<;\>\"", ",", "\"\<\\n\>\""}], "}"}]}],
        "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Sequence", "@@", 
      RowBox[{"Flatten", "[", 
       RowBox[{
        RowBox[{
         RowBox[{"StringCases", "[", 
          RowBox[{
           RowBox[{"StringTrim", "[", "#", "]"}], ",", 
           RowBox[{
            RowBox[{
             RowBox[{"name", ":", 
              RowBox[{
               RowBox[{"(", 
                RowBox[{"WordCharacter", "|", "\"\<_\>\""}], ")"}], ".."}]}], 
             "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<=\>\"", "~~", 
             RowBox[{"WhitespaceCharacter", "..."}], "~~", 
             RowBox[{"value", ":", "__"}]}], "\[RuleDelayed]", 
            RowBox[{"Rule", "[", 
             RowBox[{
              RowBox[{"convertElementRules", "[", "name", "]"}], ",", 
              RowBox[{"interpretElegentValues", "[", "value", "]"}]}], 
             "]"}]}]}], "]"}], "&"}], "/@", "allrules"}], "]"}]}]}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697962903092903*^9, 3.697963014385503*^9}, {
   3.697963047570703*^9, 3.697963130282503*^9}, {3.6979632131267033`*^9, 
   3.697963214750103*^9}, {3.697963268591103*^9, 3.6979632913325033`*^9}, 
   3.6979635934757032`*^9, {3.6979640157763033`*^9, 3.697964015916703*^9}, {
   3.697965404522203*^9, 3.697965405910603*^9}, {3.6979756401363945`*^9, 
   3.6979756436643944`*^9}, {3.699614588664342*^9, 3.699614592649638*^9}, {
   3.7047091889431*^9, 3.704709191134319*^9}, {3.788271829478174*^9, 
   3.7882718632106843`*^9}, 
   3.7885037647458973`*^9},ExpressionUUID->"690b6169-247c-489b-bdf1-\
2f1469b672f1"],

Cell[BoxData[
 RowBox[{
  RowBox[{"interpretElegantLines", "[", "string_String", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"allelements", "=", 
      RowBox[{"StringSplit", "[", 
       RowBox[{"string", ",", 
        RowBox[{"{", "\"\<,\>\"", "}"}]}], "]"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{
      RowBox[{
       RowBox[{"ToExpression", "[", 
        RowBox[{"convertNames", "[", "#", "]"}], "]"}], "&"}], "/@", 
      "allelements"}]}]}], "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697962903092903*^9, 3.697963014385503*^9}, {
   3.697963047570703*^9, 3.697963130282503*^9}, {3.6979632131267033`*^9, 
   3.697963214750103*^9}, {3.697963268591103*^9, 3.6979632913325033`*^9}, 
   3.6979635934757032`*^9, {3.6979640157763033`*^9, 3.697964015916703*^9}, {
   3.697965404522203*^9, 3.697965405910603*^9}, {3.6979734240463943`*^9, 
   3.697973424677395*^9}, {3.6979734756663947`*^9, 3.697973497953395*^9}, {
   3.697973561243395*^9, 3.6979735831953945`*^9}, {3.6979736461673946`*^9, 
   3.697973679125395*^9}, {3.6979746290233946`*^9, 3.6979746300033946`*^9}, {
   3.7047007869646454`*^9, 3.704700809290539*^9}, 3.7047008856497416`*^9, {
   3.7047009372358203`*^9, 3.7047009861206627`*^9}, 3.704714370784802*^9, {
   3.7047781848376694`*^9, 3.7047781850216694`*^9}},
 CellLabel->
  "(Local2) In[434]:=",ExpressionUUID->"480d5ac1-73c5-4767-8abf-a250237cb944"],

Cell[BoxData[
 RowBox[{
  RowBox[{"elementInterpretLTE", "[", "filename_", "]"}], ":=", 
  RowBox[{"Block", "[", 
   RowBox[{
    RowBox[{"{", "records", "}"}], ",", "\[IndentingNewLine]", 
    RowBox[{
     RowBox[{"records", "=", 
      RowBox[{"Select", "[", 
       RowBox[{
        RowBox[{"joinSplitLines", "[", 
         RowBox[{"ReadList", "[", 
          RowBox[{"filename", ",", "Record", ",", 
           RowBox[{"RecordSeparators", "\[Rule]", "\"\<\\n\>\""}]}], "]"}], 
         "]"}], ",", 
        RowBox[{
         RowBox[{"Not", "[", 
          RowBox[{"StringMatchQ", "[", 
           RowBox[{"#", ",", 
            RowBox[{
             RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<!*\>\""}]}], 
           "]"}], "]"}], "&"}]}], "]"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"elements", "=", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"StringCases", "[", 
         RowBox[{"#", ",", 
          RowBox[{
           RowBox[{
            RowBox[{"elementName", ":", 
             RowBox[{"allowedElegantCharacters", ".."}]}], "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<:\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", 
            RowBox[{"elementType", ":", 
             RowBox[{
              RowBox[{"(", "LetterCharacter", ")"}], ".."}]}], "~~", 
            RowBox[{
             RowBox[{"(", 
              RowBox[{"(", 
               RowBox[{"\"\<,\>\"", "~~", 
                RowBox[{"rest", ":", "___"}]}], ")"}], ")"}], "..."}]}], 
           "\[RuleDelayed]", 
           RowBox[{"element", "[", 
            RowBox[{
             RowBox[{"\"\<NAME\>\"", "\[Rule]", 
              RowBox[{"Evaluate", "[", 
               RowBox[{"convertNames", "[", "elementName", "]"}], "]"}]}], 
             ",", 
             RowBox[{"\"\<TYPE\>\"", "\[Rule]", "elementType"}], ",", 
             RowBox[{"interpretElegantRules", "[", "rest", "]"}]}], "]"}]}], 
          ",", 
          RowBox[{"IgnoreCase", "\[Rule]", "True"}]}], "]"}], "&"}], "/@", 
       "records"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"params", "=", "\[IndentingNewLine]", 
      RowBox[{
       RowBox[{
        RowBox[{"StringCases", "[", 
         RowBox[{"#", ",", 
          RowBox[{
           RowBox[{"StartOfString", "~~", 
            RowBox[{"elementName", ":", 
             RowBox[{
              RowBox[{"(", 
               RowBox[{"LetterCharacter", "~~", 
                RowBox[{
                 RowBox[{"(", 
                  RowBox[{
                  "LetterCharacter", "|", "DigitCharacter", "|", 
                   "\"\<_\>\""}], ")"}], ".."}]}], ")"}], ".."}]}], "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", 
            RowBox[{"\"\<:\>\"", "..."}], "~~", "\"\<=\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", 
            RowBox[{"value", ":", 
             RowBox[{
              RowBox[{"(", "allowedElegantCharacters", ")"}], ".."}]}]}], 
           "\[RuleDelayed]", 
           RowBox[{"(", 
            RowBox[{"(*", 
             RowBox[{
              RowBox[{"Print", "[", 
               RowBox[{"\"\<Clear[\>\"", "~~", 
                RowBox[{"convertNames", "[", "elementName", "]"}], "~~", 
                "\"\<];\>\"", "~~", 
                RowBox[{"convertNames", "[", "elementName", "]"}], "~~", 
                "\"\<=\>\"", "~~", "value"}], "]"}], ";"}], "*)"}], 
            RowBox[{
             RowBox[{"ToExpression", "[", 
              RowBox[{"\"\<Clear[\>\"", "~~", 
               RowBox[{"convertNames", "[", "elementName", "]"}], "~~", 
               "\"\<];\>\"", "~~", 
               RowBox[{"convertNames", "[", "elementName", "]"}], "~~", 
               "\"\<=\>\"", "~~", "value"}], "]"}], ";", 
             RowBox[{"convertNames", "[", "elementName", "]"}]}], ")"}]}], 
          ",", "1"}], "]"}], "&"}], "/@", "records"}]}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"lines", "=", 
      RowBox[{
       RowBox[{
        RowBox[{"StringCases", "[", 
         RowBox[{"#", ",", 
          RowBox[{
           RowBox[{
            RowBox[{"elementName", ":", 
             RowBox[{"allowedElegantCharacters", ".."}]}], "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<:\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<Line\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<=\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", "\"\<(\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}], "~~", 
            RowBox[{"rest", ":", "__"}], "~~", "\"\<)\>\"", "~~", 
            RowBox[{"WhitespaceCharacter", "..."}]}], "\[RuleDelayed]", 
           RowBox[{"line", "[", 
            RowBox[{
             RowBox[{"Evaluate", "[", 
              RowBox[{"convertNames", "[", "elementName", "]"}], "]"}], ",", 
             RowBox[{"Evaluate", "[", 
              RowBox[{"interpretElegantLines", "[", "rest", "]"}], "]"}]}], 
            "]"}]}], ",", "1", ",", 
          RowBox[{"IgnoreCase", "\[Rule]", "True"}]}], "]"}], "&"}], "/@", 
       "records"}]}], ";", "\[IndentingNewLine]", 
     RowBox[{"Print", "[", 
      RowBox[{"\"\<New Elements:\>\"", ",", 
       RowBox[{"Map", "[", 
        RowBox[{
         RowBox[{
          RowBox[{"#", "[", "\"\<NAME\>\"", "]"}], "&"}], ",", 
         RowBox[{"Flatten", "[", "elements", "]"}]}], "]"}]}], "]"}], ";", 
     "\[IndentingNewLine]", 
     RowBox[{"Print", "[", 
      RowBox[{"\"\<New Parameters:\>\"", ",", 
       RowBox[{"Flatten", "[", 
        RowBox[{"Select", "[", 
         RowBox[{"params", ",", 
          RowBox[{
           RowBox[{"Not", "[", 
            RowBox[{"#", "\[Equal]", 
             RowBox[{"{", "}"}]}], "]"}], "&"}]}], "]"}], "]"}]}], "]"}], ";",
      "\[IndentingNewLine]", 
     RowBox[{"Print", "[", 
      RowBox[{"\"\<New Lines:\>\"", ",", 
       RowBox[{"Flatten", "[", "lines", "]"}]}], "]"}], ";"}]}], 
   "\[IndentingNewLine]", "]"}]}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.697960496258466*^9, 3.697960611605666*^9}, {
   3.6979608197445607`*^9, 3.6979608210390205`*^9}, {3.6979609171569777`*^9, 
   3.697961000122592*^9}, {3.697962604197703*^9, 3.697962617091703*^9}, {
   3.697962696756303*^9, 3.697962782945903*^9}, {3.697962845733103*^9, 
   3.6979628764191027`*^9}, {3.6979630842861032`*^9, 
   3.6979630860509033`*^9}, {3.697963596982503*^9, 3.6979636001211033`*^9}, {
   3.6979637450961027`*^9, 3.6979637841675034`*^9}, {3.697963970293303*^9, 
   3.697963973101103*^9}, {3.6979730804353943`*^9, 3.6979730812003946`*^9}, {
   3.6979732041083946`*^9, 3.697973205611395*^9}, {3.697973247130395*^9, 
   3.6979733631473947`*^9}, {3.6979733951143947`*^9, 
   3.6979734310313945`*^9}, {3.6979735054093943`*^9, 3.697973524368395*^9}, {
   3.697973578486395*^9, 3.697973598540395*^9}, {3.6979736867263947`*^9, 
   3.6979737807753944`*^9}, {3.6979738132383947`*^9, 
   3.6979738571143947`*^9}, {3.6979745791403947`*^9, 3.6979746009613943`*^9}, 
   3.6979746604233947`*^9, {3.6995949511739216`*^9, 3.6995949669939213`*^9}, {
   3.6995949989774218`*^9, 3.6995950433599215`*^9}, {3.699603925834922*^9, 
   3.6996039410819216`*^9}, {3.6996040363599215`*^9, 3.6996040687924213`*^9}, 
   3.6996041855704217`*^9, 3.6996042962899218`*^9, {3.699614528029217*^9, 
   3.699614547982207*^9}, {3.699615239974578*^9, 3.6996154006712103`*^9}, {
   3.704700857279169*^9, 3.7047008595269995`*^9}, {3.7047087612403336`*^9, 
   3.704708761544364*^9}, {3.704708828122021*^9, 3.7047088497871876`*^9}, {
   3.7047088894291515`*^9, 3.704708988392047*^9}, {3.7882656531547594`*^9, 
   3.788265702229819*^9}, {3.7882738813119335`*^9, 3.7882741691632776`*^9}, {
   3.7882742292178535`*^9, 3.7882742295599403`*^9}, {3.788274307259694*^9, 
   3.788274309370056*^9}, {3.788274359490196*^9, 3.788274392945801*^9}, 
   3.788274536130496*^9, 3.788274714075183*^9, {3.7882747606380715`*^9, 
   3.788274874500945*^9}, {3.788274934780978*^9, 3.788274953717368*^9}, {
   3.788503362505374*^9, 3.7885033629773703`*^9}, {3.788503393202077*^9, 
   3.7885034381685996`*^9}, {3.788503490482745*^9, 3.7885035174974103`*^9}, {
   3.7885035828006196`*^9, 3.7885036058905697`*^9}, {3.7885038031059465`*^9, 
   3.788503804158591*^9}, {3.7885039066196227`*^9, 3.7885039826786923`*^9}, 
   3.7885044068835692`*^9, 3.7885044413456116`*^9, {3.7885047323177576`*^9, 
   3.7885047602729917`*^9}, 
   3.7885053012609234`*^9},ExpressionUUID->"0f15a25e-3b27-4ca1-85ab-\
1ac74baa7a83"]
}, Closed]],

Cell[CellGroupData[{

Cell["End Package", "Subsection",
 InitializationGroup->True,
 CellChangeTimes->{{3.775198398736349*^9, 
  3.775198403283225*^9}},ExpressionUUID->"b9daa13e-0767-4574-9723-\
94dcde1acc53"],

Cell[CellGroupData[{

Cell[BoxData[
 RowBox[{"End", "[", "]"}]], "Input",
 CellChangeTimes->{{3.7773724604868193`*^9, 3.777372461577908*^9}},
 CellLabel->
  "(Local2) In[436]:=",ExpressionUUID->"c8f2954d-56c6-49a6-b108-303bd070be08"],

Cell[BoxData["\<\"ElementInput`Private`\"\>"], "Output",
 CellChangeTimes->{3.7870365447420683`*^9},
 CellLabel->
  "(Local2) Out[436]=",ExpressionUUID->"cd95336d-f4fd-4f3b-a80b-9b4b55cc0366"]
}, Open  ]],

Cell[BoxData[
 RowBox[{"EndPackage", "[", "]"}]], "Input",
 InitializationGroup->True,
 CellChangeTimes->{{3.7751984040940576`*^9, 3.775198407671192*^9}},
 CellLabel->
  "(Local2) In[437]:=",ExpressionUUID->"eab40af2-b464-4301-bf83-2ef5a975aee2"]
}, Open  ]]
}, Open  ]]
},
AutoGeneratedPackage->Automatic,
WindowSize->{1904, 1117},
WindowMargins->{{1912, Automatic}, {Automatic, 0}},
ShowSelection->True,
Magnification:>0.9 Inherited,
FrontEndVersion->"12.0 for Microsoft Windows (64-bit) (April 8, 2019)",
StyleDefinitions->"Default.nb"
]
(* End of Notebook Content *)

(* Internal cache information *)
(*CellTagsOutline
CellTagsIndex->{}
*)
(*CellTagsIndex
CellTagsIndex->{}
*)
(*NotebookFileOutline
Notebook[{
Cell[557, 20, 341, 8, 41, "Text",ExpressionUUID->"2e4a2ecc-0362-4633-857d-b0d9dd96fd0e"],
Cell[901, 30, 222, 4, 26, "Input",ExpressionUUID->"27fbb507-36af-42d2-96a2-881ab4bb2721"],
Cell[1126, 36, 214, 4, 26, "Input",ExpressionUUID->"f0a796ec-dd7b-4880-9aea-966c7da89768"],
Cell[CellGroupData[{
Cell[1365, 44, 187, 4, 60, "Section",ExpressionUUID->"06b581f3-613a-4c8c-829a-df377dbbe98d",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[1577, 52, 739, 15, 26, "Input",ExpressionUUID->"b2ee49d5-37e1-4c7c-94b8-35e7bcee8b73",
 InitializationGroup->True],
Cell[2319, 69, 357, 7, 30, "Output",ExpressionUUID->"629246bf-f4a1-4b4c-9cd1-8619247c4f4d",
 InitializationGroup->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[2713, 81, 273, 5, 26, "Input",ExpressionUUID->"7417d36b-225a-4788-9ebd-ef3f50b0103d"],
Cell[2989, 88, 701, 14, 20, "Message",ExpressionUUID->"27189b29-5b89-4896-bde4-c96951e0ac82"],
Cell[3693, 104, 717, 14, 20, "Message",ExpressionUUID->"058318aa-2821-4d5c-81ef-1b3009b5e460"]
}, Open  ]],
Cell[4425, 121, 265, 5, 26, "Input",ExpressionUUID->"8cf1dcfe-aed4-409c-8be3-90252b87f3af"],
Cell[4693, 128, 270, 6, 26, "Input",ExpressionUUID->"c3421ea9-4697-4213-9325-3939fe4819ad"],
Cell[4966, 136, 432, 8, 26, "Input",ExpressionUUID->"831a1dd5-db2c-4dad-b905-baf81f760418",
 InitializationGroup->True],
Cell[5401, 146, 267, 6, 26, "Input",ExpressionUUID->"8b19f0da-c16d-4257-812b-577f3b5576d5"],
Cell[5671, 154, 262, 6, 26, "Input",ExpressionUUID->"13d266f9-d3ef-4034-a049-67c6170452ca"],
Cell[5936, 162, 222, 5, 26, "Input",ExpressionUUID->"03d7ec4b-826d-48ca-b11f-9a57e08f41f5"],
Cell[6161, 169, 271, 6, 26, "Input",ExpressionUUID->"96b55454-8ac3-4035-8a1e-cc042651d761"],
Cell[6435, 177, 299, 7, 26, "Input",ExpressionUUID->"ff4f9ab3-cbad-4a88-b7a5-ea2af8b4cffe"],
Cell[6737, 186, 311, 7, 26, "Input",ExpressionUUID->"d08fd01a-ea07-45e9-810a-cb664ec0b7f8"],
Cell[7051, 195, 246, 7, 26, "Input",ExpressionUUID->"85411f1a-147a-4c48-a0b2-a8192695b3ae"],
Cell[7300, 204, 256, 7, 26, "Input",ExpressionUUID->"4d941f3f-8616-4a20-8d6a-65da88b4c41d"],
Cell[7559, 213, 282, 7, 26, "Input",ExpressionUUID->"04877357-9f8f-4bfd-9387-35099f9c0d18"],
Cell[7844, 222, 318, 8, 26, "Input",ExpressionUUID->"23175369-122a-4290-abb2-d3c1f647139a"],
Cell[8165, 232, 1618, 33, 45, "Input",ExpressionUUID->"9aeedd2e-a52c-425c-8b85-b966610bde49",
 Evaluatable->True,
 InitializationGroup->True],
Cell[9786, 267, 335, 7, 26, "Input",ExpressionUUID->"6da57ed1-0ae4-4471-b8e4-0b722d01898d"],
Cell[10124, 276, 333, 7, 26, "Input",ExpressionUUID->"16ab32f9-c71d-410b-90e7-f1caf0fd0ac4"],
Cell[10460, 285, 334, 7, 26, "Input",ExpressionUUID->"9020d18d-4014-4311-89ad-07380fbf1035"],
Cell[10797, 294, 336, 7, 26, "Input",ExpressionUUID->"d3faaa0c-c7c4-4157-8fd4-c53b3db5d090"],
Cell[11136, 303, 336, 7, 26, "Input",ExpressionUUID->"2b18337b-3557-44b7-8287-066d3d771fac"],
Cell[11475, 312, 334, 7, 26, "Input",ExpressionUUID->"00a8715c-562c-43ed-8cf4-b90dced0bb8b"],
Cell[11812, 321, 390, 8, 26, "Input",ExpressionUUID->"4ff10a8b-9afa-45e2-b247-351709996287"],
Cell[12205, 331, 385, 8, 26, "Input",ExpressionUUID->"73c0aeca-f46d-4501-a1cc-72bd16e51ddb"],
Cell[12593, 341, 386, 8, 26, "Input",ExpressionUUID->"c1486102-4eec-4155-9fa2-329576eedb31"],
Cell[12982, 351, 414, 8, 26, "Input",ExpressionUUID->"b96beb3f-8f6b-4c27-87bb-b0c812d70a40"],
Cell[13399, 361, 414, 8, 26, "Input",ExpressionUUID->"9f5a0334-02cc-4255-9a18-3478ee2686e3"],
Cell[13816, 371, 236, 6, 26, "Input",ExpressionUUID->"2ecab18a-73b8-4556-9656-5487389de326"],
Cell[14055, 379, 252, 7, 26, "Input",ExpressionUUID->"4e5420f8-8c21-4307-a899-445a6bd873e9"],
Cell[14310, 388, 240, 6, 26, "Input",ExpressionUUID->"81abc280-0a65-4a0c-b88b-9258e0130412"],
Cell[14553, 396, 248, 7, 26, "Input",ExpressionUUID->"42034cd5-882b-4f72-bb24-549a97583338"],
Cell[14804, 405, 253, 7, 26, "Input",ExpressionUUID->"ef1d7259-c849-4d33-91cc-8e78555a10b1"],
Cell[15060, 414, 251, 5, 26, "Input",ExpressionUUID->"06188929-d286-451b-9f94-fe3126859d31"],
Cell[CellGroupData[{
Cell[15336, 423, 171, 4, 48, "Subsection",ExpressionUUID->"3484acfa-19b0-4bc2-8fd5-22f306588c9a",
 InitializationGroup->True],
Cell[15510, 429, 282, 7, 25, "Input",ExpressionUUID->"c61067f0-64c4-41e1-bc20-d21ccd819e6f",
 InitializationGroup->True],
Cell[15795, 438, 1045, 26, 77, "Input",ExpressionUUID->"dbc417f9-e264-4df8-80c0-404d68c6f0c8",
 InitializationGroup->True],
Cell[16843, 466, 1721, 40, 111, "Input",ExpressionUUID->"a4050181-9476-4550-b4c3-fe2966f14655",
 InitializationGroup->True],
Cell[18567, 508, 615, 13, 25, "Input",ExpressionUUID->"ebef5ee7-fcba-4f32-b63c-80da42490c22",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[19219, 526, 198, 4, 34, "Subsection",ExpressionUUID->"9218acda-3981-499c-9b86-4ac71367d91c",
 InitializationGroup->True],
Cell[19420, 532, 735, 17, 77, "Input",ExpressionUUID->"55f88eac-7e50-4d06-ad53-1727308d8568",
 InitializationGroup->True],
Cell[20158, 551, 322, 7, 25, "Input",ExpressionUUID->"4bff1404-7568-4ca3-b84d-43c3ad962975",
 InitializationGroup->True],
Cell[20483, 560, 1145, 25, 25, "Input",ExpressionUUID->"43b60bca-a238-4221-8ccb-897382b8a694",
 InitializationGroup->True],
Cell[21631, 587, 1138, 24, 25, "Input",ExpressionUUID->"1c8b8232-ef0a-43d7-8b3b-6ce37669dbe8",
 InitializationGroup->True],
Cell[22772, 613, 454, 10, 25, "Input",ExpressionUUID->"40499830-6521-4ef5-8127-1b2b609b4b47",
 InitializationGroup->True],
Cell[23229, 625, 2082, 48, 128, "Input",ExpressionUUID->"0e792dba-89ea-4508-8c3d-d14576728249",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[25348, 678, 188, 4, 34, "Subsection",ExpressionUUID->"0a239995-dc48-4949-b2d9-a3992e94de25",
 InitializationGroup->True],
Cell[25539, 684, 2063, 47, 81, "Input",ExpressionUUID->"8f9c92e6-1445-462d-b2d4-c857346bc27f",
 InitializationGroup->True],
Cell[27605, 733, 2184, 49, 81, "Input",ExpressionUUID->"0abe48ba-0915-4d0c-88ff-1e6366e3c905",
 InitializationGroup->True],
Cell[29792, 784, 1144, 24, 26, "Input",ExpressionUUID->"78c3b840-7eb2-482b-b6e8-d6b5d12c58ec",
 InitializationGroup->True],
Cell[30939, 810, 976, 16, 31, "Text",ExpressionUUID->"97ac2441-516a-4f2c-aa13-98b4432d2529",
 InitializationGroup->True],
Cell[31918, 828, 1208, 24, 26, "Input",ExpressionUUID->"871956f3-e9ad-44c7-8844-9721174cb57c",
 InitializationGroup->True],
Cell[33129, 854, 1648, 33, 26, "Input",ExpressionUUID->"8e923f3f-fa86-4feb-b52e-b2c9b9e1df18",
 InitializationGroup->True],
Cell[34780, 889, 588, 11, 31, "Text",ExpressionUUID->"77198642-a8b5-4910-853a-ecd27ff94d1f",
 InitializationGroup->True],
Cell[35371, 902, 695, 18, 26, "Input",ExpressionUUID->"909d9d52-1a92-4dd2-8a72-31b05ff2366d",
 InitializationGroup->True],
Cell[36069, 922, 410, 9, 31, "Text",ExpressionUUID->"9f476184-52e9-4d06-9019-53f877cef310",
 InitializationGroup->True],
Cell[36482, 933, 1062, 26, 26, "Input",ExpressionUUID->"fce60726-0e19-4011-8efa-8fac0bff736d",
 InitializationGroup->True],
Cell[37547, 961, 1168, 27, 26, "Input",ExpressionUUID->"3f216b75-57d0-4c4c-8cb1-cb75c8926d56",
 InitializationGroup->True],
Cell[38718, 990, 1465, 36, 26, "Input",ExpressionUUID->"ac22ea63-4196-4a42-852f-5e157aee1412",
 InitializationGroup->True],
Cell[40186, 1028, 671, 15, 28, "Input",ExpressionUUID->"c7c836ed-1b3a-4202-8292-609e191aa13b",
 InitializationGroup->True],
Cell[40860, 1045, 723, 16, 28, "Input",ExpressionUUID->"6760efcb-5bca-4143-938c-3a5dfa20e9e7",
 InitializationGroup->True],
Cell[41586, 1063, 684, 16, 26, "Input",ExpressionUUID->"81148b1e-44d2-475c-be6a-3bc2ff92d814",
 InitializationGroup->True],
Cell[42273, 1081, 738, 17, 26, "Input",ExpressionUUID->"5a43dcdb-be71-4969-b9b5-5f8d0fcda50a",
 InitializationGroup->True],
Cell[43014, 1100, 864, 21, 26, "Input",ExpressionUUID->"0ac53347-5404-4679-a753-b296ad3c748a",
 InitializationGroup->True],
Cell[43881, 1123, 1104, 25, 26, "Input",ExpressionUUID->"8ee4eed9-bbd0-43ba-bd7e-d4bc5ab2a95c",
 InitializationGroup->True],
Cell[44988, 1150, 899, 22, 26, "Input",ExpressionUUID->"2b350736-4b5f-4ba2-b3e5-5d876f353ab8",
 InitializationGroup->True],
Cell[45890, 1174, 801, 18, 26, "Input",ExpressionUUID->"8275efc7-d66f-4b59-b890-66f3cfabdc85",
 InitializationGroup->True],
Cell[46694, 1194, 484, 10, 31, "Text",ExpressionUUID->"692f0640-314f-4978-8a48-7977f9ad3862",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[47203, 1208, 402, 10, 26, "Input",ExpressionUUID->"89b4011f-7858-4735-95d9-c79623af7ee8",
 InitializationGroup->True],
Cell[47608, 1220, 466, 10, 30, "Output",ExpressionUUID->"6a9efae6-3631-4fc2-8b7c-5360ca6d67c3",
 InitializationGroup->True]
}, Open  ]],
Cell[48089, 1233, 1386, 31, 26, "Input",ExpressionUUID->"cbf100b4-9fd0-4b7b-b1ad-4c8941bb4443",
 InitializationGroup->True],
Cell[49478, 1266, 1556, 26, 94, "Text",ExpressionUUID->"4f31dbeb-acfc-4c3e-a73b-66b67cf16982",
 InitializationGroup->True],
Cell[51037, 1294, 1562, 24, 31, "Text",ExpressionUUID->"b2ba8561-19df-426a-9fba-c8416031d593",
 InitializationGroup->True],
Cell[52602, 1320, 2111, 37, 26, "Input",ExpressionUUID->"a9f9a8e0-c3e7-4c1c-adea-e0576ea7365c",
 InitializationGroup->True],
Cell[54716, 1359, 2231, 39, 26, "Input",ExpressionUUID->"f078485b-8f2d-4a61-9d0f-eb6db67a6e59",
 InitializationGroup->True],
Cell[56950, 1400, 1249, 20, 31, "Text",ExpressionUUID->"8f45ab65-e0a2-402b-b816-5c29aa3b979d",
 InitializationGroup->True],
Cell[58202, 1422, 1815, 36, 45, "Input",ExpressionUUID->"fd9c6510-639e-451c-9e4b-e6a618782dee",
 InitializationGroup->True],
Cell[60020, 1460, 1778, 36, 45, "Input",ExpressionUUID->"8b56c788-3ed0-4049-b466-ab1f1a658cd0",
 InitializationGroup->True],
Cell[61801, 1498, 1644, 25, 31, "Text",ExpressionUUID->"7e2ec45e-4f27-4101-b7d1-50a6b496fcbf",
 InitializationGroup->True],
Cell[63448, 1525, 1736, 26, 31, "Text",ExpressionUUID->"d65fc2d7-a436-4ec2-beed-ebe1bfe26836",
 InitializationGroup->True],
Cell[65187, 1553, 2807, 42, 73, "Text",ExpressionUUID->"09c36257-76e0-48e2-ab0f-3f961d2f4a30",
 InitializationGroup->True],
Cell[67997, 1597, 4535, 92, 99, "Input",ExpressionUUID->"2165f751-d587-4241-967a-f8810b4e7774",
 InitializationGroup->True],
Cell[72535, 1691, 3307, 64, 28, "Input",ExpressionUUID->"7355f7d5-e481-40b0-a331-c0c8bc5b7057",
 InitializationGroup->True],
Cell[75845, 1757, 3216, 62, 26, "Input",ExpressionUUID->"0adde27f-45f8-4d6d-9df1-d702e2f9ca88",
 InitializationGroup->True],
Cell[79064, 1821, 2825, 58, 26, "Input",ExpressionUUID->"ad2ac8dd-a2a4-4b00-b078-2a4f0726be65",
 InitializationGroup->True],
Cell[81892, 1881, 2875, 59, 26, "Input",ExpressionUUID->"063613e1-d759-4197-9bc5-45a13896b31e",
 InitializationGroup->True],
Cell[84770, 1942, 2190, 36, 26, "Input",ExpressionUUID->"0a2fa101-a99e-40d3-aead-d734432ca522",
 InitializationGroup->True],
Cell[86963, 1980, 937, 20, 28, "Input",ExpressionUUID->"1d3ea552-d4b8-447e-bb28-8337e9a7ae8b",
 InitializationGroup->True],
Cell[87903, 2002, 466, 11, 26, "Input",ExpressionUUID->"457268c9-0028-4840-ad3e-b1c5827888ef",
 InitializationGroup->True],
Cell[88372, 2015, 552, 14, 26, "Input",ExpressionUUID->"17d68e71-0abf-4b8e-b4c6-1d8241426451",
 InitializationGroup->True],
Cell[88927, 2031, 611, 13, 26, "Input",ExpressionUUID->"8e23bb75-7e7b-400f-b543-22f1c771dde7",
 InitializationGroup->True],
Cell[89541, 2046, 489, 12, 26, "Input",ExpressionUUID->"4167d7de-b1d8-4483-9b14-eeb4149bf9e6",
 InitializationGroup->True],
Cell[90033, 2060, 642, 17, 26, "Input",ExpressionUUID->"f7876c4f-d6fc-4ee9-a402-a14783887f6a",
 InitializationGroup->True],
Cell[90678, 2079, 237, 4, 31, "Text",ExpressionUUID->"641ea09b-e15b-4e0a-862d-150520245832",
 InitializationGroup->True],
Cell[90918, 2085, 818, 19, 63, "Input",ExpressionUUID->"d0f27bef-7aa0-406d-a8f9-153c2da16793",
 InitializationGroup->True],
Cell[91739, 2106, 554, 8, 31, "Text",ExpressionUUID->"cdd225b1-3dc2-4530-81e2-449e4a2bd155",
 InitializationGroup->True],
Cell[92296, 2116, 942, 26, 26, "Input",ExpressionUUID->"39449819-3108-44f6-95bb-2a06c1c18cbf",
 InitializationGroup->True],
Cell[93241, 2144, 807, 20, 26, "Input",ExpressionUUID->"74ada242-ffbc-4c42-9830-f04433dc71b2",
 InitializationGroup->True],
Cell[94051, 2166, 903, 20, 26, "Input",ExpressionUUID->"37d75d7c-fba8-469a-8452-8ca1e9938d23",
 InitializationGroup->True],
Cell[94957, 2188, 1148, 26, 26, "Input",ExpressionUUID->"b2dcbc06-5b75-41e3-a2ce-ecb868d513ec",
 InitializationGroup->True],
Cell[96108, 2216, 1366, 30, 26, "Input",ExpressionUUID->"f20d9c07-76e1-406f-ac79-2aa78d598023",
 InitializationGroup->True],
Cell[97477, 2248, 1524, 33, 26, "Input",ExpressionUUID->"c51cc57a-d73d-4a9c-9d9f-a4c5866df871",
 InitializationGroup->True],
Cell[99004, 2283, 822, 14, 31, "Text",ExpressionUUID->"c7251893-cead-4a68-8ca6-320eb6ebf47b",
 InitializationGroup->True],
Cell[99829, 2299, 574, 11, 26, "Input",ExpressionUUID->"6eeb39a1-e2b3-4732-aff5-f6e15b6e3e97",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[100440, 2315, 191, 4, 34, "Subsection",ExpressionUUID->"633b4ed6-9a31-4c77-a991-8ba272be8145",
 InitializationGroup->True],
Cell[100634, 2321, 1815, 31, 149, "Text",ExpressionUUID->"ef0d04d9-e47e-4537-85b2-f8b6f9d9318d",
 InitializationGroup->True],
Cell[102452, 2354, 3290, 65, 145, "Input",ExpressionUUID->"93cc81de-b725-41f6-a269-070e8ca0279a",
 InitializationGroup->True],
Cell[105745, 2421, 5531, 103, 248, "Input",ExpressionUUID->"cae3a935-d612-426b-8f7a-39fc32af4482",
 InitializationGroup->True],
Cell[111279, 2526, 5560, 103, 248, "Input",ExpressionUUID->"cb2dc241-7376-4a8d-b44c-15b79f5a5ba8",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[116876, 2634, 202, 4, 34, "Subsection",ExpressionUUID->"6c31029b-60a5-4ce5-a116-e5246231bb98",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[117103, 2642, 372, 8, 25, "Input",ExpressionUUID->"4bdf931d-626a-4b51-a433-e5bca3c634ae",
 InitializationGroup->True],
Cell[117478, 2652, 1570, 24, 41, "Output",ExpressionUUID->"c75aa035-d991-4732-a283-7571fd3a7bf4",
 InitializationGroup->True]
}, Open  ]],
Cell[119063, 2679, 719, 13, 25, "Input",ExpressionUUID->"eea750cf-de7f-4874-a7ff-ba8e6047b343",
 InitializationGroup->True],
Cell[119785, 2694, 3142, 68, 128, "Input",ExpressionUUID->"b5143ccd-5e4a-456f-ab1b-6337c53b7786",
 InitializationGroup->True],
Cell[122930, 2764, 904, 17, 43, "Input",ExpressionUUID->"ad3cbbaf-3bdc-4d2d-b4f2-801b941f72b3",
 InitializationGroup->True],
Cell[123837, 2783, 1777, 36, 77, "Input",ExpressionUUID->"267bad92-6e96-437f-be63-c6e81c68410d",
 InitializationGroup->True],
Cell[125617, 2821, 1749, 36, 77, "Input",ExpressionUUID->"50bf5d2f-4b10-4d79-9251-055e810e5efb",
 InitializationGroup->True],
Cell[127369, 2859, 1823, 36, 77, "Input",ExpressionUUID->"4a5eb579-d7f9-431e-b3c2-88ddfa0d4be4",
 InitializationGroup->True],
Cell[129195, 2897, 580, 13, 60, "Input",ExpressionUUID->"e4565606-339d-4ea4-9874-316bca2bd531",
 InitializationGroup->True],
Cell[129778, 2912, 1798, 37, 77, "Input",ExpressionUUID->"464c3f38-a8cb-400c-85a6-f7e9728bf842",
 InitializationGroup->True],
Cell[131579, 2951, 1774, 36, 77, "Input",ExpressionUUID->"28fbc324-da45-4fec-ac35-eee62651272a",
 InitializationGroup->True],
Cell[133356, 2989, 871, 16, 43, "Input",ExpressionUUID->"89f367bb-ad31-4892-84dd-c722616475db",
 InitializationGroup->True],
Cell[134230, 3007, 975, 18, 43, "Input",ExpressionUUID->"b5dcd337-889b-44ba-b775-4e402f8885f9",
 InitializationGroup->True],
Cell[135208, 3027, 1766, 35, 77, "Input",ExpressionUUID->"ce82d79c-01e8-4b6f-9b4a-ffdbbd708acf",
 InitializationGroup->True],
Cell[136977, 3064, 2013, 43, 128, "Input",ExpressionUUID->"fe7c4e08-3669-4656-968e-7731bb412863",
 InitializationGroup->True],
Cell[138993, 3109, 1773, 35, 77, "Input",ExpressionUUID->"c8891bab-ae5f-4995-80f0-d843e9fbbff3",
 InitializationGroup->True],
Cell[140769, 3146, 1584, 33, 77, "Input",ExpressionUUID->"373c5ff6-56bb-43f9-b2fa-8b405ac23232",
 InitializationGroup->True],
Cell[142356, 3181, 1625, 33, 77, "Input",ExpressionUUID->"d8583562-2e36-47fe-86bc-d193cc95fcb9",
 InitializationGroup->True],
Cell[143984, 3216, 943, 17, 43, "Input",ExpressionUUID->"5f6d7599-0aa6-4f4b-b845-2e2d963e7140",
 InitializationGroup->True],
Cell[144930, 3235, 1024, 18, 43, "Input",ExpressionUUID->"c7097a89-efed-40e5-a229-8e6cf46999da",
 InitializationGroup->True],
Cell[145957, 3255, 1024, 18, 43, "Input",ExpressionUUID->"219301f1-c971-40c3-b193-135fd1fb1250",
 InitializationGroup->True],
Cell[146984, 3275, 1868, 37, 77, "Input",ExpressionUUID->"970f1b84-414b-438f-8b79-23493cf3b240",
 InitializationGroup->True],
Cell[148855, 3314, 1838, 36, 77, "Input",ExpressionUUID->"eddc8007-6395-45dc-a539-12c875088c55",
 InitializationGroup->True],
Cell[150696, 3352, 1856, 37, 77, "Input",ExpressionUUID->"59e41d79-c78c-4806-bee5-2c459bc7b198",
 InitializationGroup->True],
Cell[152555, 3391, 2167, 41, 77, "Input",ExpressionUUID->"c73fd047-2292-4a32-ad7a-2d8f094f37ab",
 InitializationGroup->True],
Cell[154725, 3434, 2131, 40, 77, "Input",ExpressionUUID->"6db7b4b2-e263-4260-a44c-86c630cc76d0",
 InitializationGroup->True],
Cell[156859, 3476, 2138, 41, 77, "Input",ExpressionUUID->"36fcd260-fdae-4207-9e60-10dc4eda3601",
 InitializationGroup->True],
Cell[159000, 3519, 2481, 51, 106, "Input",ExpressionUUID->"749df081-5359-4ae5-abe4-fe3159d6963c",
 InitializationGroup->True],
Cell[161484, 3572, 2049, 41, 77, "Input",ExpressionUUID->"01d496ad-61c7-4f96-9d12-63fa847b3658",
 InitializationGroup->True],
Cell[163536, 3615, 1452, 26, 43, "Input",ExpressionUUID->"af87c782-40e0-4b51-9ffd-e33d6496abd5",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[165025, 3646, 193, 4, 34, "Subsection",ExpressionUUID->"15e9b705-2cb0-4bb0-a4b7-3d93b378f6b4",
 InitializationGroup->True],
Cell[165221, 3652, 2194, 54, 128, "Input",ExpressionUUID->"44fd1918-269f-48df-a452-6b747826e12d",
 InitializationGroup->True],
Cell[167418, 3708, 3648, 81, 214, "Input",ExpressionUUID->"e38b9b95-35bc-4a86-a3e8-361a3287a2a0",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[171103, 3794, 186, 4, 34, "Subsection",ExpressionUUID->"f0d4f2fb-ba2c-4c2a-aea6-a5d6b581dc15",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[171314, 3802, 1100, 21, 26, "Input",ExpressionUUID->"0a888e57-2e9b-4afc-9050-3b14cd0cb986",
 InitializationGroup->True],
Cell[172417, 3825, 2015, 32, 30, "Output",ExpressionUUID->"28435e1c-6372-4da5-989d-a3a241ae9e0c",
 InitializationGroup->True]
}, Open  ]],
Cell[174447, 3860, 1099, 21, 26, "Input",ExpressionUUID->"e5dd2976-0702-4571-bd12-c799ccce08da",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[175571, 3885, 764, 16, 26, "Input",ExpressionUUID->"5d933b57-2357-4cc0-894b-b358f815d030",
 InitializationGroup->True],
Cell[176338, 3903, 1852, 29, 30, "Output",ExpressionUUID->"fa106259-d354-473f-999c-7c4dc281dd98",
 InitializationGroup->True]
}, Open  ]],
Cell[178205, 3935, 870, 16, 26, "Input",ExpressionUUID->"1b853435-d8f5-4a14-9179-a2b8e4875e25",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[179100, 3955, 825, 16, 26, "Input",ExpressionUUID->"d824bf4a-fd3c-4f2a-8621-3791018226ec",
 InitializationGroup->True],
Cell[179928, 3973, 1835, 29, 30, "Output",ExpressionUUID->"7a58b408-b24a-4c69-942c-5c40345f4ce3",
 InitializationGroup->True]
}, Open  ]],
Cell[181778, 4005, 873, 16, 26, "Input",ExpressionUUID->"c64c9467-52e5-4aa0-8811-20068437886c",
 InitializationGroup->True],
Cell[182654, 4023, 819, 16, 26, "Input",ExpressionUUID->"f2e90c71-cfda-468c-aff9-40171d03ea09",
 InitializationGroup->True],
Cell[183476, 4041, 816, 16, 26, "Input",ExpressionUUID->"de82f336-d071-42cb-9e59-7951fd2bccd7",
 InitializationGroup->True],
Cell[184295, 4059, 869, 16, 26, "Input",ExpressionUUID->"f1e3b8a4-6df9-4ef9-b777-6ffc28bfcbb6",
 InitializationGroup->True],
Cell[185167, 4077, 820, 16, 26, "Input",ExpressionUUID->"34bf1d09-720b-4bfb-8a88-e81f0f66286c",
 InitializationGroup->True],
Cell[185990, 4095, 867, 16, 26, "Input",ExpressionUUID->"c924cd7d-bd1a-496e-9a0e-2e3dfe9f26f5",
 InitializationGroup->True],
Cell[186860, 4113, 923, 17, 26, "Input",ExpressionUUID->"c935c2b4-1391-443e-8582-16ea31c7aca0",
 InitializationGroup->True],
Cell[187786, 4132, 871, 16, 26, "Input",ExpressionUUID->"a2202568-3a4d-4b6b-8bb0-ebb8e945bd9b",
 InitializationGroup->True],
Cell[188660, 4150, 357, 9, 26, "Input",ExpressionUUID->"6b169f1b-21ec-409e-b80b-6cfb0f15063b",
 InitializationGroup->True],
Cell[189020, 4161, 354, 9, 26, "Input",ExpressionUUID->"6edaad64-5b3e-4a7a-9066-79db0d152d01",
 InitializationGroup->True],
Cell[189377, 4172, 473, 12, 26, "Input",ExpressionUUID->"e4e09f6f-a9d3-4b6d-9ecf-c039d60d6322",
 InitializationGroup->True],
Cell[189853, 4186, 702, 16, 26, "Input",ExpressionUUID->"870b896a-363f-4ff7-9605-9ca28723565f",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[190592, 4207, 215, 4, 34, "Subsection",ExpressionUUID->"e749a4a5-d5c4-44f1-8ed4-1babd3cbc179",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[190832, 4215, 197, 4, 40, "Subsubsection",ExpressionUUID->"5e358711-3ad6-4d79-8b9f-f6a2ec59802b",
 InitializationGroup->True],
Cell[191032, 4221, 925, 19, 25, "Input",ExpressionUUID->"32bf4f4e-2ea4-4ea9-add2-707fc5242d50",
 InitializationGroup->True],
Cell[191960, 4242, 873, 18, 25, "Input",ExpressionUUID->"7721d728-15df-482e-8261-6aa9edef1dff",
 InitializationGroup->True],
Cell[192836, 4262, 742, 16, 25, "Input",ExpressionUUID->"4565f86c-bf0f-45e0-9150-09ca71d7d3da",
 InitializationGroup->True],
Cell[193581, 4280, 721, 16, 25, "Input",ExpressionUUID->"95a666f5-2d65-4b7d-b72c-f28daf27fd59",
 InitializationGroup->True],
Cell[194305, 4298, 1050, 20, 25, "Input",ExpressionUUID->"e450a35b-7b0b-48eb-bf91-68c26d906dd0",
 InitializationGroup->True],
Cell[195358, 4320, 974, 19, 25, "Input",ExpressionUUID->"ebea9307-b6da-4840-9e3d-d60e3775a4a7",
 InitializationGroup->True],
Cell[196335, 4341, 811, 17, 25, "Input",ExpressionUUID->"15f3f105-92af-497e-aa25-6ec1c8223673",
 InitializationGroup->True],
Cell[197149, 4360, 1040, 21, 25, "Input",ExpressionUUID->"da001cbe-c587-4244-91cc-dde8cee34c10",
 InitializationGroup->True],
Cell[198192, 4383, 673, 15, 25, "Input",ExpressionUUID->"ae8133e1-49ae-4f93-aeb4-9daccba54c9f",
 InitializationGroup->True],
Cell[198868, 4400, 783, 17, 25, "Input",ExpressionUUID->"bbf815a0-b9f6-41d9-a1ef-ebf3a0ab4aa9",
 InitializationGroup->True],
Cell[199654, 4419, 1017, 20, 25, "Input",ExpressionUUID->"591fd31b-492f-4ffc-af4b-f394ec8b8b72",
 InitializationGroup->True],
Cell[200674, 4441, 2415, 39, 77, "Input",ExpressionUUID->"79ef1014-0311-4a8d-82d9-00919342c282",
 InitializationGroup->True],
Cell[203092, 4482, 2909, 48, 94, "Input",ExpressionUUID->"df47acab-ba57-4b7e-ba90-a44efd4bb63f",
 InitializationGroup->True],
Cell[206004, 4532, 1675, 30, 60, "Input",ExpressionUUID->"2adedc10-6636-46a3-88d8-b71975b5e763",
 InitializationGroup->True],
Cell[207682, 4564, 1322, 24, 43, "Input",ExpressionUUID->"b1cd54fd-c484-433b-b417-f159e7ec6c41",
 InitializationGroup->True],
Cell[209007, 4590, 584, 13, 25, "Input",ExpressionUUID->"4d49d046-d7aa-4ab0-b532-2cffea132950",
 InitializationGroup->True],
Cell[209594, 4605, 1043, 21, 43, "Input",ExpressionUUID->"f80304cd-af99-4a84-9173-d44d806a9451",
 InitializationGroup->True],
Cell[210640, 4628, 806, 17, 25, "Input",ExpressionUUID->"c939955a-3a2d-4778-8354-e9dba3afa7b3",
 InitializationGroup->True],
Cell[211449, 4647, 557, 13, 25, "Input",ExpressionUUID->"a2f21bf6-88ee-4394-9db6-af07441c9898",
 InitializationGroup->True],
Cell[212009, 4662, 774, 16, 25, "Input",ExpressionUUID->"ccfb8555-e7f0-44d1-ab7e-a8e3dca8ddb6",
 InitializationGroup->True],
Cell[212786, 4680, 842, 17, 25, "Input",ExpressionUUID->"0e68abfd-5656-4ad7-a9aa-e6d352d85d9e",
 InitializationGroup->True],
Cell[213631, 4699, 557, 13, 25, "Input",ExpressionUUID->"3de81f71-ab9d-4872-a495-cde98435082e",
 InitializationGroup->True],
Cell[214191, 4714, 5517, 80, 128, "Input",ExpressionUUID->"97d5f53d-b315-4526-9dee-e67cb8ad9a82",
 InitializationGroup->True],
Cell[219711, 4796, 685, 15, 25, "Input",ExpressionUUID->"0551c11d-ae5d-4f94-9c0f-db0fa1ef2997",
 InitializationGroup->True],
Cell[220399, 4813, 725, 16, 25, "Input",ExpressionUUID->"dd7062f8-83cb-40ef-ade9-3cd0cfc75319",
 InitializationGroup->True],
Cell[221127, 4831, 772, 16, 25, "Input",ExpressionUUID->"badf49a4-857d-4a76-8957-be5e549bd038",
 InitializationGroup->True],
Cell[221902, 4849, 727, 16, 25, "Input",ExpressionUUID->"ea15a630-1c92-4e0a-896b-5f4e5a520daf",
 InitializationGroup->True],
Cell[222632, 4867, 824, 17, 25, "Input",ExpressionUUID->"97db34ff-6aa7-4635-9abe-b37013f3b23a",
 InitializationGroup->True],
Cell[223459, 4886, 1077, 21, 43, "Input",ExpressionUUID->"038453f4-cb57-4df3-a613-01dd2dbab5fe",
 InitializationGroup->True],
Cell[224539, 4909, 1008, 20, 43, "Input",ExpressionUUID->"675cd46e-3f20-486f-8867-7d03e3751f50",
 InitializationGroup->True],
Cell[225550, 4931, 1158, 22, 43, "Input",ExpressionUUID->"dfe0d4f7-cc22-4e62-8645-2d2d560c169f",
 InitializationGroup->True],
Cell[226711, 4955, 1299, 24, 43, "Input",ExpressionUUID->"0eb9e461-d871-4b84-b80d-e4672d2a6ae3",
 InitializationGroup->True],
Cell[228013, 4981, 999, 20, 43, "Input",ExpressionUUID->"2669e609-afdc-4977-ad44-63c5d7650416",
 InitializationGroup->True],
Cell[229015, 5003, 870, 18, 25, "Input",ExpressionUUID->"3b359e3f-6592-4ce9-8823-334c1bde93d9",
 InitializationGroup->True],
Cell[229888, 5023, 838, 18, 25, "Input",ExpressionUUID->"c2503ac1-cc73-43ab-ada8-8596a474efcc",
 InitializationGroup->True],
Cell[230729, 5043, 954, 19, 43, "Input",ExpressionUUID->"54d4035d-2a11-47f3-ab8d-aee8912fff80",
 InitializationGroup->True],
Cell[231686, 5064, 1942, 33, 60, "Input",ExpressionUUID->"f8ce70b4-1dc9-45db-959f-971b540599ff",
 InitializationGroup->True],
Cell[233631, 5099, 940, 19, 25, "Input",ExpressionUUID->"27e65019-482b-4c9c-a888-ee292115cdbe",
 InitializationGroup->True],
Cell[234574, 5120, 1070, 21, 43, "Input",ExpressionUUID->"f72244b8-d88e-4277-88c4-d99944b5faa7",
 InitializationGroup->True],
Cell[235647, 5143, 792, 17, 25, "Input",ExpressionUUID->"758eeacc-75c8-4eca-9160-6d44610db4ec",
 InitializationGroup->True],
Cell[236442, 5162, 1949, 33, 77, "Input",ExpressionUUID->"ae74d2c6-f1f4-4751-a3d7-55da3755b126",
 InitializationGroup->True],
Cell[238394, 5197, 984, 19, 43, "Input",ExpressionUUID->"16703368-7d50-40ec-95ff-430050f19142",
 InitializationGroup->True],
Cell[239381, 5218, 1325, 24, 43, "Input",ExpressionUUID->"ded0310e-ca93-4414-8754-74cdf1092882",
 InitializationGroup->True],
Cell[240709, 5244, 1353, 25, 43, "Input",ExpressionUUID->"f21445a7-dca6-4242-acba-beed1da7268e",
 InitializationGroup->True],
Cell[242065, 5271, 810, 17, 25, "Input",ExpressionUUID->"676091fc-6100-4802-83bb-c3567b7e1765",
 InitializationGroup->True],
Cell[242878, 5290, 1109, 22, 43, "Input",ExpressionUUID->"e25e1cdc-f62d-46a1-82e7-e2b05e8b3b71",
 InitializationGroup->True],
Cell[243990, 5314, 1030, 21, 43, "Input",ExpressionUUID->"9059fdcd-1744-48fe-80ab-6f492ca9bed7",
 InitializationGroup->True],
Cell[245023, 5337, 1386, 25, 60, "Input",ExpressionUUID->"11f9a54a-493f-4b0f-8f2d-a5d504597759",
 InitializationGroup->True],
Cell[246412, 5364, 783, 17, 25, "Input",ExpressionUUID->"ba49ccab-8451-44c7-b7f7-9068292d1e95",
 InitializationGroup->True],
Cell[247198, 5383, 726, 16, 25, "Input",ExpressionUUID->"7dda487f-dbc6-4e40-8863-663fb006a024",
 InitializationGroup->True],
Cell[247927, 5401, 916, 18, 25, "Input",ExpressionUUID->"5eb4a544-67c9-4fee-af8c-2dd692f86343",
 InitializationGroup->True],
Cell[248846, 5421, 1104, 22, 43, "Input",ExpressionUUID->"20714319-4502-485d-b223-d294c0672428",
 InitializationGroup->True],
Cell[249953, 5445, 648, 15, 25, "Input",ExpressionUUID->"70ae8b81-9fed-403c-9f0b-b53ea7a13e75",
 InitializationGroup->True],
Cell[250604, 5462, 582, 13, 25, "Input",ExpressionUUID->"daecc5a9-e6a6-4817-9406-85146829811e",
 InitializationGroup->True],
Cell[251189, 5477, 1050, 20, 43, "Input",ExpressionUUID->"8cfd5dd2-4dc7-4161-b845-fe21b9b5c98b",
 InitializationGroup->True],
Cell[252242, 5499, 764, 17, 25, "Input",ExpressionUUID->"393415c5-471a-40ba-b0c4-d3a86c1b1cf5",
 InitializationGroup->True],
Cell[253009, 5518, 945, 19, 43, "Input",ExpressionUUID->"04c74958-7e2d-4e90-bff6-29d67f5e3ec2",
 InitializationGroup->True],
Cell[253957, 5539, 955, 20, 43, "Input",ExpressionUUID->"c794599b-5d5f-4786-b079-a2b6dad39350",
 InitializationGroup->True],
Cell[254915, 5561, 994, 20, 43, "Input",ExpressionUUID->"f34bad4f-933e-42d9-bdb4-e217059dcc11",
 InitializationGroup->True],
Cell[255912, 5583, 948, 19, 43, "Input",ExpressionUUID->"099b2a81-b4f3-4aeb-84aa-3664027dd2e6",
 InitializationGroup->True],
Cell[256863, 5604, 1252, 23, 43, "Input",ExpressionUUID->"11bea02b-f043-42c2-9e67-958e24b6e3c1",
 InitializationGroup->True],
Cell[258118, 5629, 877, 18, 25, "Input",ExpressionUUID->"fb32cf9a-1811-4209-942d-12af2073b6e2",
 InitializationGroup->True],
Cell[258998, 5649, 1314, 24, 43, "Input",ExpressionUUID->"51edca4f-2c13-4dde-b61c-e24f5392112e",
 InitializationGroup->True],
Cell[260315, 5675, 795, 17, 25, "Input",ExpressionUUID->"bc7e9bc1-e0ee-4c58-940b-b3f671ef705a",
 InitializationGroup->True],
Cell[261113, 5694, 746, 16, 25, "Input",ExpressionUUID->"4763315a-5650-4019-8032-b13e4b59c58d",
 InitializationGroup->True],
Cell[261862, 5712, 725, 16, 25, "Input",ExpressionUUID->"06194d2d-3051-47f7-9796-355bb2f971d4",
 InitializationGroup->True],
Cell[262590, 5730, 779, 17, 25, "Input",ExpressionUUID->"5e2e866f-b873-4b66-b4ae-ef33f153b9b7",
 InitializationGroup->True],
Cell[263372, 5749, 1446, 26, 43, "Input",ExpressionUUID->"a2f320d9-781f-4dd8-93e8-3b381bb7fd0b",
 InitializationGroup->True],
Cell[264821, 5777, 791, 17, 25, "Input",ExpressionUUID->"5c351f48-5379-4ecb-b678-e2885c94d21a",
 InitializationGroup->True],
Cell[265615, 5796, 588, 13, 25, "Input",ExpressionUUID->"a77f7a13-5baa-4474-9a32-63ae124d0341",
 InitializationGroup->True],
Cell[266206, 5811, 832, 17, 25, "Input",ExpressionUUID->"0cae4046-16bc-4011-a38b-8dc6633f07c9",
 InitializationGroup->True],
Cell[267041, 5830, 1227, 23, 43, "Input",ExpressionUUID->"124b0de6-e2fc-4502-9bc5-9ee68187544a",
 InitializationGroup->True],
Cell[268271, 5855, 739, 16, 25, "Input",ExpressionUUID->"e5e7df91-157e-4f02-9c51-a47dc7b9b24a",
 InitializationGroup->True],
Cell[269013, 5873, 561, 13, 25, "Input",ExpressionUUID->"c21a6838-bd19-4f4a-a7d0-189d5af6735a",
 InitializationGroup->True],
Cell[269577, 5888, 562, 13, 25, "Input",ExpressionUUID->"5fd53d38-8742-4153-802c-2f5f2c47e552",
 InitializationGroup->True],
Cell[270142, 5903, 729, 16, 25, "Input",ExpressionUUID->"de619a3d-fb5f-41a4-8fc1-dd0de3e53615",
 InitializationGroup->True],
Cell[270874, 5921, 1109, 21, 43, "Input",ExpressionUUID->"d36cb609-fec2-425e-a611-6b25d7b3f017",
 InitializationGroup->True],
Cell[271986, 5944, 1937, 34, 77, "Input",ExpressionUUID->"eb005ec9-cbb3-4488-a975-281cb05c3cac",
 InitializationGroup->True],
Cell[273926, 5980, 1482, 26, 60, "Input",ExpressionUUID->"98795177-c018-4039-83ef-b4c0ea8ef496",
 InitializationGroup->True],
Cell[275411, 6008, 2088, 34, 77, "Input",ExpressionUUID->"859c0f40-e3fd-4194-9a14-3da2d6404e09",
 InitializationGroup->True],
Cell[277502, 6044, 1168, 22, 43, "Input",ExpressionUUID->"4b1b9f5b-2dcc-4dd2-a3c6-2e50db33d6db",
 InitializationGroup->True],
Cell[278673, 6068, 1785, 31, 60, "Input",ExpressionUUID->"b188c137-cd68-4bdb-85d7-318c7681f028",
 InitializationGroup->True],
Cell[280461, 6101, 587, 13, 25, "Input",ExpressionUUID->"389e0836-c55c-4b04-ba20-042fa0b33253",
 InitializationGroup->True],
Cell[281051, 6116, 845, 18, 25, "Input",ExpressionUUID->"fab21c0b-377c-4dc3-968d-158954f897b5",
 InitializationGroup->True],
Cell[281899, 6136, 585, 13, 25, "Input",ExpressionUUID->"d70e4ee1-478f-4910-9c58-3d6814882092",
 InitializationGroup->True],
Cell[282487, 6151, 628, 15, 25, "Input",ExpressionUUID->"57e2037a-7e41-4c85-8f6c-b1a4f3caa753",
 InitializationGroup->True],
Cell[283118, 6168, 1225, 23, 43, "Input",ExpressionUUID->"714a08bf-16c4-458b-ad7c-369c2711a51e",
 InitializationGroup->True],
Cell[284346, 6193, 277, 6, 25, "Input",ExpressionUUID->"eccc4e5c-d214-434d-83a9-7ce410d54b75"],
Cell[284626, 6201, 798, 17, 25, "Input",ExpressionUUID->"dc2f98e0-9bbf-4b50-91a5-2d1e012092c5",
 InitializationGroup->True],
Cell[285427, 6220, 559, 13, 25, "Input",ExpressionUUID->"07d61cf0-c678-40e0-b8de-e8d16136adc0",
 InitializationGroup->True],
Cell[285989, 6235, 1022, 20, 43, "Input",ExpressionUUID->"4646c207-ea00-47c5-97b9-7fbf9ee4f156",
 InitializationGroup->True],
Cell[287014, 6257, 1696, 30, 60, "Input",ExpressionUUID->"4d2416ba-f13b-4c99-99f0-dc950228db94",
 InitializationGroup->True],
Cell[288713, 6289, 785, 17, 25, "Input",ExpressionUUID->"dbc348d1-3fdf-431f-b42f-50b45208993a",
 InitializationGroup->True],
Cell[289501, 6308, 724, 16, 25, "Input",ExpressionUUID->"506320d7-f9b6-4566-b807-72403158617b",
 InitializationGroup->True],
Cell[290228, 6326, 1098, 22, 43, "Input",ExpressionUUID->"f2e231de-e69b-41ce-8541-b720e305838d",
 InitializationGroup->True],
Cell[291329, 6350, 725, 16, 25, "Input",ExpressionUUID->"d378fb31-e155-471f-a08f-4f62b07ae97e",
 InitializationGroup->True],
Cell[292057, 6368, 1285, 24, 43, "Input",ExpressionUUID->"cd1ec410-3b13-4d75-8495-831d6d6b900d",
 InitializationGroup->True],
Cell[293345, 6394, 1231, 23, 43, "Input",ExpressionUUID->"dc23d376-4010-45a0-87b7-f8ef2bd8e530",
 InitializationGroup->True],
Cell[294579, 6419, 1090, 21, 43, "Input",ExpressionUUID->"c3203971-6797-4921-9606-886b6f97135d",
 InitializationGroup->True],
Cell[295672, 6442, 562, 13, 25, "Input",ExpressionUUID->"094fc10c-8de7-4ad6-905f-88c38d867594",
 InitializationGroup->True],
Cell[296237, 6457, 1394, 25, 60, "Input",ExpressionUUID->"b777e3c1-84f0-43d8-bffe-50e22e1e2d6e",
 InitializationGroup->True],
Cell[297634, 6484, 1316, 24, 43, "Input",ExpressionUUID->"0e0f0286-011a-4914-bae3-db15f5ed9011",
 InitializationGroup->True],
Cell[298953, 6510, 563, 13, 25, "Input",ExpressionUUID->"57254ddb-9178-48b3-b6d2-4710c072abc1",
 InitializationGroup->True],
Cell[299519, 6525, 722, 16, 25, "Input",ExpressionUUID->"8708c79b-6669-4abd-a305-7c365d8d0e64",
 InitializationGroup->True],
Cell[300244, 6543, 1246, 23, 43, "Input",ExpressionUUID->"8eeadaf3-50f6-41c3-bad8-fe46dfc6e71f",
 InitializationGroup->True],
Cell[301493, 6568, 1168, 23, 43, "Input",ExpressionUUID->"22146d41-dc03-4f3e-88f3-4a1785f0a3c0",
 InitializationGroup->True],
Cell[302664, 6593, 1053, 21, 43, "Input",ExpressionUUID->"efbe9182-89ff-49d6-bf71-cad788611f67",
 InitializationGroup->True],
Cell[303720, 6616, 1038, 21, 25, "Input",ExpressionUUID->"16d4cccc-7567-4ccd-b3b0-e867069d56ba",
 InitializationGroup->True],
Cell[304761, 6639, 1001, 20, 25, "Input",ExpressionUUID->"2396f770-dc4d-44ad-8840-de348e0b2c43",
 InitializationGroup->True],
Cell[305765, 6661, 870, 18, 25, "Input",ExpressionUUID->"55bf2f99-f2ef-42c9-96fa-6a813672e951",
 InitializationGroup->True],
Cell[306638, 6681, 840, 18, 25, "Input",ExpressionUUID->"e0989313-dd67-459e-adb2-d291bd33438b",
 InitializationGroup->True],
Cell[307481, 6701, 1043, 21, 43, "Input",ExpressionUUID->"ce1fde76-b0e7-4c72-b957-f274870b8d37",
 InitializationGroup->True],
Cell[308527, 6724, 1136, 22, 43, "Input",ExpressionUUID->"215332e1-f934-4f66-acc4-3271a390369d",
 InitializationGroup->True],
Cell[309666, 6748, 812, 17, 25, "Input",ExpressionUUID->"a77540a7-ee87-4b37-9bc2-e761b1bfc095",
 InitializationGroup->True],
Cell[310481, 6767, 1490, 27, 43, "Input",ExpressionUUID->"85833a55-0ea0-43ae-b924-2ff71217028b",
 InitializationGroup->True],
Cell[311974, 6796, 1804, 31, 60, "Input",ExpressionUUID->"87b526c5-dc43-425b-ac44-aa489c9978f0",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[313815, 6832, 195, 4, 33, "Subsubsection",ExpressionUUID->"e8419cdf-3928-4b57-bf51-98a649a143ec",
 InitializationGroup->True],
Cell[314013, 6838, 1603, 28, 45, "Input",ExpressionUUID->"5c8088e7-a7b6-4ab0-aa89-e3c3aacf65d7",
 InitializationGroup->True],
Cell[315619, 6868, 2544, 42, 63, "Input",ExpressionUUID->"2ed8e948-1769-49d6-b2d6-ffb0ec495262",
 InitializationGroup->True],
Cell[318166, 6912, 3158, 51, 99, "Input",ExpressionUUID->"a7aa7993-4023-4b2f-8299-3d32575aabe2",
 InitializationGroup->True],
Cell[321327, 6965, 2052, 34, 45, "Input",ExpressionUUID->"32d0a985-470f-48ce-a85a-8fddda234dff",
 InitializationGroup->True],
Cell[323382, 7001, 1784, 30, 45, "Input",ExpressionUUID->"c399bc84-04dd-463b-b3e7-cf86a2d20407",
 InitializationGroup->True],
Cell[325169, 7033, 1452, 25, 26, "Input",ExpressionUUID->"b544a6a8-1caa-4685-8d2d-64b7db21901a",
 InitializationGroup->True],
Cell[326624, 7060, 1693, 28, 26, "Input",ExpressionUUID->"b2183c29-8855-4aba-8b47-32f58b2d32de",
 InitializationGroup->True],
Cell[328320, 7090, 975, 19, 26, "Input",ExpressionUUID->"052be298-07e9-4788-a51a-5cb0b71878df",
 InitializationGroup->True],
Cell[329298, 7111, 977, 19, 26, "Input",ExpressionUUID->"cc5bb0f9-6343-49c2-a62d-cc38ca3709fd",
 InitializationGroup->True],
Cell[330278, 7132, 1907, 35, 63, "Input",ExpressionUUID->"4cbff6af-9893-43f1-9d95-8ee675419ede",
 InitializationGroup->True],
Cell[332188, 7169, 1079, 20, 26, "Input",ExpressionUUID->"f8c8fc3a-fda5-42c1-8307-f507d223b920",
 InitializationGroup->True],
Cell[333270, 7191, 1278, 23, 26, "Input",ExpressionUUID->"b6088bf3-32a8-4781-9ecf-9a2091400a9b",
 InitializationGroup->True],
Cell[334551, 7216, 1377, 24, 26, "Input",ExpressionUUID->"681499d8-2b0e-40d8-89e4-99a71f5247de",
 InitializationGroup->True],
Cell[335931, 7242, 1377, 24, 26, "Input",ExpressionUUID->"b755fabc-564d-476d-9e13-7e03cf0d296b",
 InitializationGroup->True],
Cell[337311, 7268, 1440, 25, 26, "Input",ExpressionUUID->"6f3ea4db-6815-4d16-99e3-69469916b93f",
 InitializationGroup->True],
Cell[338754, 7295, 1704, 30, 45, "Input",ExpressionUUID->"9de54d0d-76de-4872-b781-8fbd6bc0c744",
 InitializationGroup->True],
Cell[340461, 7327, 970, 17, 26, "Input",ExpressionUUID->"8cb99599-aab8-4f3d-bff4-a5450d398a83",
 InitializationGroup->True],
Cell[341434, 7346, 919, 16, 26, "Input",ExpressionUUID->"619d7692-3331-44ea-a1e5-41aafeda3a93",
 InitializationGroup->True],
Cell[342356, 7364, 932, 16, 26, "Input",ExpressionUUID->"0e82cda4-4b2e-46b8-906a-df8d9bb1d0f8",
 InitializationGroup->True],
Cell[343291, 7382, 934, 16, 26, "Input",ExpressionUUID->"415f8549-d887-464d-9651-b8bf1fbf1080",
 InitializationGroup->True],
Cell[344228, 7400, 984, 17, 26, "Input",ExpressionUUID->"1953812c-3bbf-4a30-b3b5-675dc7ccf28d",
 InitializationGroup->True]
}, Closed]],
Cell[345227, 7420, 251, 5, 33, "Subsubsection",ExpressionUUID->"43ed55fc-9813-46fb-9238-93ea1ed19e25",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[345503, 7429, 194, 4, 33, "Subsubsection",ExpressionUUID->"51e4b231-cc86-4f44-9a20-3cd4f33e1e1e",
 InitializationGroup->True],
Cell[345700, 7435, 929, 18, 45, "Input",ExpressionUUID->"7c5ce697-9c81-4db2-9c9c-dc62450dfc26",
 InitializationGroup->True],
Cell[346632, 7455, 735, 15, 26, "Input",ExpressionUUID->"fea9da47-aaa6-4bc1-989f-f23a47481fee",
 InitializationGroup->True],
Cell[347370, 7472, 1069, 20, 45, "Input",ExpressionUUID->"ad1d91fd-c423-4c1e-8d1a-9b4e078d9f14",
 InitializationGroup->True],
Cell[348442, 7494, 467, 12, 26, "Input",ExpressionUUID->"4ffcd1a2-8402-4a2f-8cb3-891a6718aaa8",
 InitializationGroup->True],
Cell[348912, 7508, 1765, 30, 63, "Input",ExpressionUUID->"e5dfab91-8741-4baf-bc3b-f3ee9c062ca8",
 InitializationGroup->True],
Cell[350680, 7540, 440, 11, 26, "Input",ExpressionUUID->"775cc0ad-0649-480c-94ec-5c213ba84943",
 InitializationGroup->True],
Cell[351123, 7553, 871, 17, 45, "Input",ExpressionUUID->"cbd95d79-02a3-408e-bf96-3c67b92ed9aa",
 InitializationGroup->True],
Cell[351997, 7572, 806, 17, 45, "Input",ExpressionUUID->"e312ceb4-49b8-468a-a008-f70769eda431",
 InitializationGroup->True],
Cell[352806, 7591, 1890, 32, 81, "Input",ExpressionUUID->"99c0b9f8-ac62-48a3-a61c-16bbffe5a52f",
 InitializationGroup->True],
Cell[354699, 7625, 719, 17, 26, "Input",ExpressionUUID->"0504b3ef-d276-4aef-a123-1e44afb8e722",
 InitializationGroup->True],
Cell[355421, 7644, 859, 17, 45, "Input",ExpressionUUID->"02b6737a-3a0e-4599-835b-1c164e864ce7",
 InitializationGroup->True],
Cell[356283, 7663, 696, 14, 26, "Input",ExpressionUUID->"faac74c4-edf7-4617-af3b-8a59ae447218",
 InitializationGroup->True],
Cell[356982, 7679, 529, 12, 26, "Input",ExpressionUUID->"bfb74be7-4bdf-41d0-91d8-fcf44d350072",
 InitializationGroup->True],
Cell[357514, 7693, 865, 18, 26, "Input",ExpressionUUID->"9cd01b5d-b61d-4364-b18c-691743381518",
 InitializationGroup->True],
Cell[358382, 7713, 557, 13, 26, "Input",ExpressionUUID->"d6121bd5-e2f2-4e1d-a6fc-de754e894453",
 InitializationGroup->True],
Cell[358942, 7728, 940, 18, 45, "Input",ExpressionUUID->"e53ec809-5186-48c3-8580-8b0006ee9778",
 InitializationGroup->True],
Cell[359885, 7748, 613, 13, 26, "Input",ExpressionUUID->"121c34cc-0066-4437-983b-f63ca8c2463b",
 InitializationGroup->True],
Cell[360501, 7763, 790, 16, 26, "Input",ExpressionUUID->"254622e7-261c-4f23-b06d-efecc9fe1f2f",
 InitializationGroup->True],
Cell[361294, 7781, 631, 14, 26, "Input",ExpressionUUID->"591ff7d8-477a-424d-9843-eedf69a18cca",
 InitializationGroup->True],
Cell[361928, 7797, 734, 15, 26, "Input",ExpressionUUID->"03a77da3-0a56-4771-8215-b29c08aef642",
 InitializationGroup->True],
Cell[362665, 7814, 738, 15, 26, "Input",ExpressionUUID->"72f6eda2-7a45-49a3-9fe5-b18f5a8926dc",
 InitializationGroup->True],
Cell[363406, 7831, 681, 15, 26, "Input",ExpressionUUID->"b81b5440-b915-4dc2-bd64-6cda49d92834",
 InitializationGroup->True],
Cell[364090, 7848, 446, 11, 26, "Input",ExpressionUUID->"a5c52b9e-c3fb-4494-bdb8-8ad0f2b125a5",
 InitializationGroup->True],
Cell[364539, 7861, 661, 14, 26, "Input",ExpressionUUID->"bcb5b6de-52bf-48b7-a4df-649ce805809e",
 InitializationGroup->True],
Cell[365203, 7877, 1108, 21, 45, "Input",ExpressionUUID->"276f9c3c-21e2-459c-863d-5819a57dceea",
 InitializationGroup->True],
Cell[366314, 7900, 742, 15, 26, "Input",ExpressionUUID->"46d87c50-095f-433c-a915-bd70a1d86378",
 InitializationGroup->True],
Cell[367059, 7917, 1025, 19, 45, "Input",ExpressionUUID->"01a32e79-2079-4e61-9a8e-d95a89a36ad7",
 InitializationGroup->True],
Cell[368087, 7938, 1116, 20, 45, "Input",ExpressionUUID->"956059b7-9f46-4c7a-8bee-2805c32cc1d5",
 InitializationGroup->True],
Cell[369206, 7960, 1200, 21, 45, "Input",ExpressionUUID->"7df0383f-52d8-46bf-98db-11f6083c2119",
 InitializationGroup->True],
Cell[370409, 7983, 356, 8, 26, "Input",ExpressionUUID->"a7671ff0-ecc0-4dfd-a806-baae9f00aae6",
 InitializationGroup->True],
Cell[370768, 7993, 440, 11, 26, "Input",ExpressionUUID->"089e8149-b9e1-42ae-8a13-d0846759d27d",
 InitializationGroup->True],
Cell[371211, 8006, 467, 11, 26, "Input",ExpressionUUID->"ffcf8cda-1990-409d-b60c-d127e0d21c88",
 InitializationGroup->True],
Cell[371681, 8019, 1375, 25, 63, "Input",ExpressionUUID->"e93fe700-5100-4513-a767-b7615fee3444",
 InitializationGroup->True],
Cell[373059, 8046, 710, 16, 26, "Input",ExpressionUUID->"98ca7b10-c230-407c-a9c3-5bc9f9c8d41b",
 InitializationGroup->True],
Cell[373772, 8064, 667, 14, 26, "Input",ExpressionUUID->"e08026c1-413f-45b4-a078-eb19e74c30b0",
 InitializationGroup->True],
Cell[374442, 8080, 575, 13, 26, "Input",ExpressionUUID->"10a383d1-1201-4fe3-8684-0fec7121874e",
 InitializationGroup->True],
Cell[375020, 8095, 404, 10, 26, "Input",ExpressionUUID->"71cbdc89-ab0e-4f1d-a4e5-b7794110cfdb",
 InitializationGroup->True],
Cell[375427, 8107, 929, 18, 26, "Input",ExpressionUUID->"f5260bf8-d5b6-44ee-a280-e3580610ec15",
 InitializationGroup->True],
Cell[376359, 8127, 768, 16, 26, "Input",ExpressionUUID->"5f9cdcca-5940-4133-a6ee-1b932b7e3b8d",
 InitializationGroup->True],
Cell[377130, 8145, 601, 13, 26, "Input",ExpressionUUID->"97b2ceeb-4580-4dc4-a72f-54641b1ea832",
 InitializationGroup->True],
Cell[377734, 8160, 353, 8, 26, "Input",ExpressionUUID->"63a91887-5274-40c3-93dc-c9123e4fc4d9",
 InitializationGroup->True],
Cell[378090, 8170, 710, 15, 26, "Input",ExpressionUUID->"2422f628-effc-48b6-b43a-4ed1114a27f1",
 InitializationGroup->True],
Cell[378803, 8187, 659, 14, 26, "Input",ExpressionUUID->"db980222-001a-4ea4-b7b0-546afa571667",
 InitializationGroup->True],
Cell[379465, 8203, 1491, 25, 63, "Input",ExpressionUUID->"9a267b9f-024d-4edf-9bb2-caade6875df3",
 InitializationGroup->True],
Cell[380959, 8230, 569, 13, 26, "Input",ExpressionUUID->"dc5f9bf3-562c-4722-a86c-4ef225752512",
 InitializationGroup->True],
Cell[381531, 8245, 401, 10, 26, "Input",ExpressionUUID->"593492f4-0623-4099-ad57-00b5ca27e026",
 InitializationGroup->True],
Cell[381935, 8257, 1212, 22, 45, "Input",ExpressionUUID->"5744fd0c-4fb6-42ee-abba-ff5a43154a24",
 InitializationGroup->True],
Cell[383150, 8281, 329, 8, 26, "Input",ExpressionUUID->"50565d9d-b833-48cf-a1fa-dab61df69f15",
 InitializationGroup->True],
Cell[383482, 8291, 508, 12, 26, "Input",ExpressionUUID->"05eff8c5-8bc0-4c53-901a-f5c5c3d271b3",
 InitializationGroup->True],
Cell[383993, 8305, 346, 8, 26, "Input",ExpressionUUID->"1984e521-ef46-4143-94b4-5e11217f41da",
 InitializationGroup->True],
Cell[384342, 8315, 524, 12, 25, "Input",ExpressionUUID->"64308e7b-649b-48d9-9770-7e53b2c09502",
 InitializationGroup->True],
Cell[384869, 8329, 1397, 25, 43, "Input",ExpressionUUID->"d5c89718-a67f-4b97-ad8a-ead0e19ba143",
 InitializationGroup->True],
Cell[386269, 8356, 524, 12, 25, "Input",ExpressionUUID->"66c402d0-822a-48a3-a708-31db3123d263",
 InitializationGroup->True],
Cell[386796, 8370, 1030, 19, 43, "Input",ExpressionUUID->"8421034f-3265-454e-be47-d13ecbc2692a",
 InitializationGroup->True],
Cell[387829, 8391, 592, 13, 25, "Input",ExpressionUUID->"fb8d622e-5c10-4c64-8a73-d35e53574ee9",
 InitializationGroup->True],
Cell[388424, 8406, 1659, 31, 77, "Input",ExpressionUUID->"1f0a9278-47ba-4728-8cdf-98db3f5c1a85",
 InitializationGroup->True],
Cell[390086, 8439, 699, 15, 25, "Input",ExpressionUUID->"c1e39dc7-766d-46dc-96a9-c637bed38275",
 InitializationGroup->True],
Cell[390788, 8456, 1050, 20, 43, "Input",ExpressionUUID->"70100201-e6c7-4aa5-b8ed-b192b791f0e8",
 InitializationGroup->True],
Cell[391841, 8478, 724, 15, 25, "Input",ExpressionUUID->"5ffaa14c-b1d4-42ab-90c9-064ec3af32ee",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[392602, 8498, 189, 4, 33, "Subsubsection",ExpressionUUID->"a8bdf572-6f18-490c-9fb5-ce1c767e809f",
 InitializationGroup->True],
Cell[392794, 8504, 1077, 17, 52, "Text",ExpressionUUID->"91bb8e99-801e-44f6-9a72-ee96981d322d",
 InitializationGroup->True],
Cell[393874, 8523, 867, 15, 31, "Text",ExpressionUUID->"506a0571-c69f-4d30-bed1-8928754f8be2",
 InitializationGroup->True],
Cell[394744, 8540, 1564, 25, 73, "Text",ExpressionUUID->"fa22f813-5cf6-44a9-b801-2e0cfda08c4e",
 InitializationGroup->True],
Cell[396311, 8567, 1194, 20, 31, "Text",ExpressionUUID->"f4f4f946-b226-4cb0-bd72-e8bb59d517d9",
 InitializationGroup->True],
Cell[397508, 8589, 1187, 19, 31, "Text",ExpressionUUID->"5142ae95-bafc-4570-a035-1c3df05dc518",
 InitializationGroup->True],
Cell[398698, 8610, 1148, 19, 31, "Text",ExpressionUUID->"0a749c01-bad9-43f7-af77-2044899e6b6f",
 InitializationGroup->True],
Cell[399849, 8631, 1851, 28, 73, "Text",ExpressionUUID->"033de6b1-3942-4115-b708-61a611007b7a",
 InitializationGroup->True],
Cell[401703, 8661, 1425, 23, 31, "Text",ExpressionUUID->"09a441a3-3e67-4a3f-a52e-6b532b2065db",
 InitializationGroup->True],
Cell[403131, 8686, 1655, 25, 52, "Text",ExpressionUUID->"6ea9fc82-d353-415d-8372-ad575cee1309",
 InitializationGroup->True],
Cell[404789, 8713, 2134, 32, 73, "Text",ExpressionUUID->"52eea0f6-6e91-49da-a1ac-837c0530e1b2",
 InitializationGroup->True],
Cell[406926, 8747, 1607, 25, 31, "Text",ExpressionUUID->"5fcb39d1-435e-4f76-83e4-532c6ef99bbc",
 InitializationGroup->True],
Cell[408536, 8774, 1606, 25, 52, "Text",ExpressionUUID->"ad85881f-a9ef-4bc7-957b-dd25d84c7e5a",
 InitializationGroup->True],
Cell[410145, 8801, 1662, 26, 31, "Text",ExpressionUUID->"bb6b6d43-4339-4900-af57-22bd2c0e720a",
 InitializationGroup->True],
Cell[411810, 8829, 3009, 71, 171, "Input",ExpressionUUID->"bd5bd88e-155a-490d-8c5e-97d8cced3d8c",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[414856, 8905, 195, 4, 33, "Subsubsection",ExpressionUUID->"9308bd34-e394-48cf-abd7-3d6db5788e1f",
 InitializationGroup->True],
Cell[415054, 8911, 1879, 42, 189, "Input",ExpressionUUID->"a751db80-8a14-42d4-ac00-32ef29100ef8",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[416958, 8957, 355, 8, 26, "Input",ExpressionUUID->"47c5b784-984c-463a-a0a6-246ba4910b46"],
Cell[417316, 8967, 288, 7, 30, "Output",ExpressionUUID->"77394671-a8e1-42d4-9f7c-c4d1563b32e9"]
}, Open  ]],
Cell[417619, 8977, 3874, 80, 117, "Input",ExpressionUUID->"602abb21-61d6-49f8-9f7d-5ee421c7615b",
 InitializationGroup->True],
Cell[421496, 9059, 6644, 147, 225, "Input",ExpressionUUID->"d56cafe4-6dcf-40d1-9c8f-c7b65bd9a730",
 InitializationGroup->True],
Cell[428143, 9208, 7225, 149, 225, "Input",ExpressionUUID->"fbdbf797-eaa6-4ec0-911f-44bb0de22ca0",
 InitializationGroup->True],
Cell[435371, 9359, 7344, 152, 225, "Input",ExpressionUUID->"ff79a171-1628-4ffa-bf9c-7821cbaf906f",
 InitializationGroup->True],
Cell[442718, 9513, 2997, 57, 171, "Input",ExpressionUUID->"e9cfeb0f-c743-4d58-a381-1c0874f942e9",
 InitializationGroup->True],
Cell[445718, 9572, 6475, 148, 225, "Input",ExpressionUUID->"22b1ab32-4a40-486c-8aed-bf4ba36ec913",
 InitializationGroup->True],
Cell[452196, 9722, 3006, 57, 171, "Input",ExpressionUUID->"b2ebf276-04c4-409e-931d-61fe664213f7",
 InitializationGroup->True],
Cell[455205, 9781, 7818, 151, 351, "Input",ExpressionUUID->"c60cc3f5-47a5-4f79-ac5e-a7886964be0d",
 InitializationGroup->True],
Cell[463026, 9934, 8693, 174, 369, "Input",ExpressionUUID->"921e3a7a-a129-4368-9be8-17f2cf9607a2",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[471744, 10112, 214, 4, 26, "Input",ExpressionUUID->"e275eb3d-04f7-49fb-97b4-61c7f0f652fa"],
Cell[471961, 10118, 158, 3, 30, "Output",ExpressionUUID->"ce805416-b3cc-4ab6-9384-3d08dbffff2c"]
}, Open  ]],
Cell[472134, 10124, 2289, 44, 99, "Input",ExpressionUUID->"ace0ad2c-5426-4d92-8723-40f276f146dd",
 InitializationGroup->True],
Cell[474426, 10170, 2293, 45, 99, "Input",ExpressionUUID->"f3793374-f3bc-43c5-bd2f-c3eab359c537",
 InitializationGroup->True],
Cell[476722, 10217, 2058, 48, 171, "Input",ExpressionUUID->"12a4d5f8-044e-48da-8dfe-60de21a567b8",
 InitializationGroup->True],
Cell[478783, 10267, 1978, 46, 171, "Input",ExpressionUUID->"62cf476d-e345-4f48-87a3-bb771ac188e9",
 InitializationGroup->True],
Cell[480764, 10315, 3620, 88, 225, "Input",ExpressionUUID->"ee059f69-6a16-42d2-8a97-996aab4325d9",
 InitializationGroup->True],
Cell[484387, 10405, 3613, 88, 225, "Input",ExpressionUUID->"bbf7f220-555b-4349-8498-8da63c569b02",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[488037, 10498, 199, 4, 33, "Subsubsection",ExpressionUUID->"24c9c6ae-019c-4d0b-86a2-9d004e02226b",
 InitializationGroup->True],
Cell[488239, 10504, 329, 8, 31, "Code",ExpressionUUID->"78653361-0172-4ade-80a3-f9f93ae5a122",
 InitializationCell->False,
 InitializationGroup->True],
Cell[488571, 10514, 278, 7, 31, "Code",ExpressionUUID->"001ecee2-1937-4f50-a6c4-df443c1e4cf1",
 InitializationCell->False,
 InitializationGroup->True],
Cell[488852, 10523, 771, 19, 66, "Code",ExpressionUUID->"dc539c1b-5e85-4130-83fb-afc48f8a6fcf",
 InitializationCell->False,
 InitializationGroup->True],
Cell[489626, 10544, 232, 6, 31, "Code",ExpressionUUID->"59835bef-f5e0-48e3-8ff0-504f721101d1",
 InitializationCell->False,
 InitializationGroup->True],
Cell[489861, 10552, 229, 6, 31, "Code",ExpressionUUID->"37367a51-75d2-42a1-8094-6ae798fc738c",
 InitializationCell->False,
 InitializationGroup->True],
Cell[490093, 10560, 243, 6, 31, "Code",ExpressionUUID->"b1466a1f-0b3a-4a43-96ca-e42be32b38e5",
 InitializationCell->False,
 InitializationGroup->True],
Cell[490339, 10568, 948, 23, 66, "Code",ExpressionUUID->"7ed210ef-2dba-423c-8631-38f960312a53",
 InitializationCell->False,
 InitializationGroup->True],
Cell[491290, 10593, 1894, 47, 151, "Code",ExpressionUUID->"67467889-a95b-446b-9549-cb4d37f400bf",
 InitializationCell->False,
 InitializationGroup->True],
Cell[493187, 10642, 2044, 48, 151, "Code",ExpressionUUID->"3a28331c-0a45-4696-b8a9-67574ee59312",
 InitializationCell->False,
 InitializationGroup->True],
Cell[495234, 10692, 315, 7, 26, "Input",ExpressionUUID->"df81e7f1-9093-4ad9-adc7-62934731061a",
 InitializationGroup->True],
Cell[495552, 10701, 6223, 134, 405, "Input",ExpressionUUID->"8a01f75a-ffab-4dd4-91bd-b01224f4eacb",
 InitializationGroup->True],
Cell[501778, 10837, 6914, 147, 409, "Input",ExpressionUUID->"b1c67d02-a084-491d-b74e-b82e87c62933",
 InitializationGroup->True],
Cell[508695, 10986, 300, 7, 26, "Input",ExpressionUUID->"458ba926-2ef6-41b5-8005-be7fac313907",
 InitializationGroup->True],
Cell[508998, 10995, 7641, 151, 417, "Input",ExpressionUUID->"0a534fae-d557-4277-87e8-23964d296dfe",
 InitializationGroup->True],
Cell[516642, 11148, 8685, 177, 439, "Input",ExpressionUUID->"2d95d910-f5e7-4e13-bcf9-a20fe5d8831e",
 InitializationGroup->True]
}, Open  ]]
}, Open  ]],
Cell[CellGroupData[{
Cell[525376, 11331, 240, 5, 48, "Subsection",ExpressionUUID->"80791dfa-dd7f-4d84-8d37-f3a3d60f3770",
 InitializationGroup->True],
Cell[525619, 11338, 5765, 138, 333, "Input",ExpressionUUID->"68e00ac1-c1ff-47be-813f-0ed3fb019a66",
 InitializationGroup->True],
Cell[531387, 11478, 2008, 47, 189, "Input",ExpressionUUID->"343dd9c4-6130-43e5-b344-04bc813ddbed",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[533420, 11529, 194, 4, 40, "Subsubsection",ExpressionUUID->"9e2dd6b9-037b-43be-8cdb-bccceaa98ae4",
 InitializationGroup->True],
Cell[533617, 11535, 273, 6, 26, "Input",ExpressionUUID->"06aef446-d06e-4231-a38f-a631335bb3fd",
 InitializationGroup->True],
Cell[533893, 11543, 1075, 28, 45, "Input",ExpressionUUID->"0a159fd8-9ba8-461d-811c-f6f415048566",
 InitializationGroup->True],
Cell[534971, 11573, 716, 16, 26, "Input",ExpressionUUID->"355a14df-b045-4353-b935-8b7515fd27d7",
 InitializationGroup->True],
Cell[535690, 11591, 646, 13, 26, "Input",ExpressionUUID->"a32d0310-0a15-432a-9b9f-6edcc21f40b6",
 InitializationGroup->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[536373, 11609, 116, 2, 40, "Subsubsection",ExpressionUUID->"6849c283-8c7f-420e-8998-b26e28ebac3b",
 InitializationGroup->True],
Cell[536492, 11613, 8251, 177, 335, "Input",ExpressionUUID->"ff33ba9f-f88d-45f9-9e71-a7d5ed3baca7",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[544780, 11795, 144, 3, 33, "Subsubsection",ExpressionUUID->"6d100a44-3d65-46d6-8521-2a3126bc0598",
 InitializationCell->True,
 InitializationGroup->True],
Cell[544927, 11800, 266, 7, 26, "Input",ExpressionUUID->"a6aa8640-80a0-42c0-844a-579a9960ed25",
 InitializationGroup->True],
Cell[545196, 11809, 292, 6, 26, "Input",ExpressionUUID->"16da9abb-95b5-4dcc-95ba-cf5ec23896e2"],
Cell[545491, 11817, 1044, 27, 45, "Input",ExpressionUUID->"b3e98ee6-b86a-4014-97d9-9897b78b735e"],
Cell[546538, 11846, 25800, 592, 940, "Input",ExpressionUUID->"c80e847c-459b-4c81-a942-264cd5ff047e",
 InitializationGroup->True],
Cell[572341, 12440, 214, 4, 26, "Input",ExpressionUUID->"8bd38a0b-e1d5-48af-afb7-873ef13c46d1",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[572592, 12449, 148, 3, 33, "Subsubsection",ExpressionUUID->"0976abb1-2655-4ceb-8192-9b2ffc4446e4",
 InitializationCell->True,
 InitializationGroup->True],
Cell[572743, 12454, 9646, 208, 274, "Input",ExpressionUUID->"d4e88570-ef20-4095-9cbe-88c62e4c64ea",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[582426, 12667, 292, 6, 33, "Subsubsection",ExpressionUUID->"288aa5ef-adde-4ec8-8c1d-f97380450f24",
 InitializationCell->True,
 InitializationGroup->True],
Cell[582721, 12675, 9405, 205, 274, "Input",ExpressionUUID->"b3c5449d-5faa-42f1-a3ba-b541c9bd0914",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[592163, 12885, 145, 3, 33, "Subsubsection",ExpressionUUID->"f9704d30-44d0-46ed-b222-5ddb7ca9a6d6",
 InitializationCell->True,
 InitializationGroup->True],
Cell[592311, 12890, 4523, 105, 220, "Input",ExpressionUUID->"f1d91df2-ab8a-4394-9faa-1d2ef6307567",
 InitializationGroup->True],
Cell[596837, 12997, 4544, 106, 202, "Input",ExpressionUUID->"2cc21840-0b57-4b6d-a4fa-a6a74655a3c6",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[601418, 13108, 186, 4, 33, "Subsubsection",ExpressionUUID->"20b92873-b0fd-4e70-88e3-0f73aca30a2f",
 InitializationGroup->True],
Cell[601607, 13114, 8229, 174, 283, "Input",ExpressionUUID->"6ca4d14e-f74a-48f5-913f-0bd655657360",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[609873, 13293, 264, 5, 33, "Subsubsection",ExpressionUUID->"e109ed00-3f75-4855-ba75-ab36e83ab6df",
 InitializationGroup->True],
Cell[610140, 13300, 8137, 172, 303, "Input",ExpressionUUID->"056563cd-bead-4b5c-922b-5b3fa24a137a",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[618314, 13477, 239, 5, 33, "Subsubsection",ExpressionUUID->"9acee247-a986-4f47-8b3c-35cc4ebfa6b8",
 InitializationGroup->True],
Cell[618556, 13484, 8762, 181, 303, "Input",ExpressionUUID->"1ce0c7ad-a606-47ec-89b5-f7199519a8c4",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[627355, 13670, 242, 5, 33, "Subsubsection",ExpressionUUID->"9182149a-20d3-4c79-bc4f-48832757523f",
 InitializationGroup->True],
Cell[627600, 13677, 228, 5, 26, "Input",ExpressionUUID->"28651085-3971-4f4b-99d3-8060c953eb51"],
Cell[627831, 13684, 317, 6, 26, "Input",ExpressionUUID->"ceb10627-f2b4-44c7-b2ed-99e1a220f791"],
Cell[628151, 13692, 9175, 189, 261, "Input",ExpressionUUID->"040e917d-2433-4d59-9394-e71a6b9320ea",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[637363, 13886, 239, 5, 33, "Subsubsection",ExpressionUUID->"cb6ef754-32ab-483b-ad87-95451c2844a0",
 InitializationGroup->True],
Cell[637605, 13893, 8234, 173, 303, "Input",ExpressionUUID->"54c58f3f-3041-423f-a9eb-519aaae7af5e",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[645876, 14071, 285, 5, 33, "Subsubsection",ExpressionUUID->"4e4e3a6f-891e-481b-a340-4e742bc92b93",
 InitializationGroup->True],
Cell[646164, 14078, 8274, 174, 303, "Input",ExpressionUUID->"c7d8b3e4-fcaf-47c9-ae15-2f9dc81a028d",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[654475, 14257, 340, 6, 33, "Subsubsection",ExpressionUUID->"8aba1daf-7943-45e7-bca6-f770779f0ffd",
 InitializationGroup->True],
Cell[654818, 14265, 8291, 175, 303, "Input",ExpressionUUID->"704d2fcb-917b-4a8b-ae20-12bf1abba9bc",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[663146, 14445, 241, 5, 33, "Subsubsection",ExpressionUUID->"27ccf5a0-3453-4f0e-bebf-6784c1396712",
 InitializationGroup->True],
Cell[663390, 14452, 8780, 186, 283, "Input",ExpressionUUID->"b88b10c1-c220-427e-be4d-c42f5372a799",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[672207, 14643, 287, 5, 33, "Subsubsection",ExpressionUUID->"35aa37c8-a5db-4f08-b942-90359edbf096",
 InitializationGroup->True],
Cell[672497, 14650, 8836, 187, 283, "Input",ExpressionUUID->"1a5da750-ef7b-4206-ad92-a9ac93f572fc",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[681370, 14842, 338, 6, 33, "Subsubsection",ExpressionUUID->"a59d989e-c2a7-418e-9530-681300f028e4",
 InitializationGroup->True],
Cell[681711, 14850, 8892, 188, 283, "Input",ExpressionUUID->"d5adbecf-5ec6-48b4-ab31-2d84aded412d",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[690640, 15043, 195, 4, 33, "Subsubsection",ExpressionUUID->"9aa2343e-614c-4795-86f3-d146387ad0b5",
 InitializationGroup->True],
Cell[690838, 15049, 416, 9, 26, "Input",ExpressionUUID->"f5303aec-8923-4cff-acbe-914322997f59",
 InitializationGroup->True],
Cell[691257, 15060, 22659, 498, 1121, "Input",ExpressionUUID->"3197918b-c871-4192-94cb-1e6b4a095115",
 InitializationGroup->True],
Cell[713919, 15560, 24593, 559, 1355, "Input",ExpressionUUID->"0c147855-7ede-457c-aa07-ceeae0c09b74",
 InitializationGroup->True]
}, Open  ]]
}, Closed]],
Cell[CellGroupData[{
Cell[738561, 16125, 187, 4, 34, "Subsection",ExpressionUUID->"9bfb7858-3914-4b37-9d17-0bbbea881305",
 InitializationGroup->True],
Cell[738751, 16131, 290, 6, 25, "Input",ExpressionUUID->"5196a8f7-99af-4b6c-ac4a-5917b0a516ab",
 InitializationGroup->True],
Cell[739044, 16139, 751, 19, 25, "Input",ExpressionUUID->"898c28a4-2ce7-49cd-b578-f683dd7b7de5",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[739820, 16162, 623, 14, 25, "Input",ExpressionUUID->"96d69fcd-ff37-41e9-aa42-bbdebd57cf5d",
 InitializationGroup->True],
Cell[740446, 16178, 1372, 23, 41, "Output",ExpressionUUID->"99605b66-e072-4050-8109-bea2e978a373",
 InitializationGroup->True]
}, Open  ]],
Cell[741833, 16204, 2589, 60, 180, "Input",ExpressionUUID->"40697ce7-429f-461f-8594-ef2723d49d17",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[744459, 16269, 195, 4, 34, "Subsection",ExpressionUUID->"50591227-2b1d-4bb7-b881-4f4452e5a3e5",
 InitializationGroup->True],
Cell[744657, 16275, 945, 17, 28, "Input",ExpressionUUID->"30c8bc14-cf29-41ec-bf2c-fb7af72e6c57",
 InitializationGroup->True],
Cell[745605, 16294, 851, 23, 26, "Input",ExpressionUUID->"d77b8b3e-b562-435d-9d62-061287f2df1e",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[746481, 16321, 602, 15, 28, "Input",ExpressionUUID->"e469bcfe-0f6a-452f-a377-eff1ca0e57c5",
 InitializationGroup->True],
Cell[747086, 16338, 1365, 26, 32, "Output",ExpressionUUID->"a9e31fa3-df6d-4be9-93ad-38d3fd42675f",
 InitializationGroup->True]
}, Open  ]],
Cell[CellGroupData[{
Cell[748488, 16369, 646, 17, 28, "Input",ExpressionUUID->"d1459922-a455-4573-aca6-11886a2cb7d1",
 InitializationGroup->True],
Cell[749137, 16388, 1398, 27, 32, "Output",ExpressionUUID->"e1b34e1d-4fac-433e-b989-0c16a50aaeee",
 InitializationGroup->True]
}, Open  ]],
Cell[750550, 16418, 875, 21, 28, "Input",ExpressionUUID->"51d6c81f-7b47-47cb-9b13-7be1675bc331",
 InitializationGroup->True],
Cell[751428, 16441, 890, 21, 28, "Input",ExpressionUUID->"197aec2b-10a0-4fb9-a7e5-d1ed91164a44",
 InitializationGroup->True],
Cell[752321, 16464, 883, 17, 26, "Input",ExpressionUUID->"3d4fa216-0c1d-4150-af63-f2de02cca129",
 InitializationGroup->True],
Cell[753207, 16483, 4807, 99, 333, "Input",ExpressionUUID->"8acc2d84-3a76-45c2-9c36-eb0cd3890389",
 InitializationGroup->True],
Cell[758017, 16584, 2051, 46, 82, "Input",ExpressionUUID->"690b6169-247c-489b-bdf1-2f1469b672f1",
 InitializationGroup->True],
Cell[760071, 16632, 1511, 30, 81, "Input",ExpressionUUID->"480d5ac1-73c5-4767-8abf-a250237cb944",
 InitializationGroup->True],
Cell[761585, 16664, 8561, 177, 298, "Input",ExpressionUUID->"0f15a25e-3b27-4ca1-85ab-1ac74baa7a83",
 InitializationGroup->True]
}, Closed]],
Cell[CellGroupData[{
Cell[770183, 16846, 187, 4, 34, "Subsection",ExpressionUUID->"b9daa13e-0767-4574-9723-94dcde1acc53",
 InitializationGroup->True],
Cell[CellGroupData[{
Cell[770395, 16854, 211, 4, 26, "Input",ExpressionUUID->"c8f2954d-56c6-49a6-b108-303bd070be08"],
Cell[770609, 16860, 192, 3, 30, "Output",ExpressionUUID->"cd95336d-f4fd-4f3b-a80b-9b4b55cc0366"]
}, Open  ]],
Cell[770816, 16866, 246, 5, 26, "Input",ExpressionUUID->"eab40af2-b464-4301-bf83-2ef5a975aee2",
 InitializationGroup->True]
}, Open  ]]
}, Open  ]]
}
]
*)

